var shadow$provide = {};
(function(){
shadow$provide[0]=function(La,Ha,Hb,t){function Ia(B){Ia="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(q){return typeof q}:function(q){return q&&"function"===typeof Symbol&&q.constructor===Symbol&&q!==Symbol.prototype?"symbol":typeof q};return Ia(B)}function Fa(B,q){if(q&&("object"===Ia(q)||"function"===typeof q))return q;if(void 0===B)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return B}function ja(B,q,u){ja="undefined"!==typeof Reflect&&
Reflect.get?Reflect.get:function(x,F,S){for(;!Object.prototype.hasOwnProperty.call(x,F)&&(x=Ja(x),null!==x););if(x)return F=Object.getOwnPropertyDescriptor(x,F),F.get?F.get.call(S):F.value};return ja(B,q,u||B)}function Ja(B){Ja=Object.setPrototypeOf?Object.getPrototypeOf:function(q){return q.__proto__||Object.getPrototypeOf(q)};return Ja(B)}function da(B,q){if("function"!==typeof q&&null!==q)throw new TypeError("Super expression must either be null or a function");B.prototype=Object.create(q&&q.prototype,
{constructor:{value:B,writable:!0,configurable:!0}});q&&pa(B,q)}function pa(B,q){pa=Object.setPrototypeOf||function(u,x){u.__proto__=x;return u};return pa(B,q)}function ta(B,q){if(!(B instanceof q))throw new TypeError("Cannot call a class as a function");}function va(B,q){for(var u=0;u<q.length;u++){var x=q[u];x.enumerable=x.enumerable||!1;x.configurable=!0;"value"in x&&(x.writable=!0);Object.defineProperty(B,x.key,x)}}function W(B,q,u){q&&va(B.prototype,q);u&&va(B,u);return B}function lb(B){return 127462<=
B&&127487>=B}function Y(B,q){if(q==B.length)return q;var u;if(u=q)u=B.charCodeAt(q),u=56320<=u&&57344>u;u&&(u=B.charCodeAt(q-1),u=55296<=u&&56320>u);u&&q--;u=gb(B,q);for(q+=cb(u);q<B.length;){var x=gb(B,q),F;if(!(F=u==pb||x==pb))a:{for(F=1;F<Ma.length;F+=2)if(Ma[F]>x){F=Ma[F-1]<=x;break a}F=!1}if(F)q+=cb(x),u=x;else if(lb(x)){x=0;for(F=q-2;0<=F&&lb(gb(B,F));)x++,F-=2;if(0==x%2)break;else q+=2}else break}return q}function Ca(B,q){for(;0<q;){var u=Y(B,q-2);if(u<q)return u;q--}return 0}function gb(B,
q){var u=B.charCodeAt(q);if(!(55296<=u&&56320>u)||q+1==B.length)return u;B=B.charCodeAt(q+1);return 56320<=B&&57344>B?(u-55296<<10)+(B-56320)+65536:u}function cb(B){return 65536>B?1:2}function hb(B,q){Da=(Da+2)%Ga;ia[Da]=B;return ia[Da+1]=q}function Va(B){var q=-1,u=!0,x=!1,F=void 0;try{for(var S=B[Symbol.iterator](),X;!(u=(X=S.next()).done);u=!0)q+=X.value.length+1}catch(Z){x=!0,F=Z}finally{try{if(!u&&null!=S["return"])S["return"]()}finally{if(x)throw F;}}return q}function ya(B,q){for(var u=2<arguments.length&&
void 0!==arguments[2]?arguments[2]:0,x=3<arguments.length&&void 0!==arguments[3]?arguments[3]:1E9,F=0,S=0,X=!0;S<B.length&&F<=x;S++){var Z=B[S],fa=F+Z.length;fa>=u&&(fa>x&&(Z=Z.slice(0,x-F)),F<u&&(Z=Z.slice(u-F)),X?(q[q.length-1]+=Z,X=!1):q.push(Z));F=fa+1}return q}function rb(B,q){if(B.length!=q.length||B.lines!=q.lines)return!1;B=new K(B);q=new K(q);for(var u=0,x=0;;){if(B.lineBreak!=q.lineBreak||B.done!=q.done)return!1;if(B.done)return!0;if(B.lineBreak)B.next(),q.next(),u=x=0;else{var F=B.value.slice(u),
S=q.value.slice(x);if(F.length==S.length){if(F!=S)return!1;B.next();q.next();u=x=0}else if(F.length>S.length){if(F.slice(0,S.length)!=S)return!1;u+=S.length;q.next();x=0}else{if(S.slice(0,F.length)!=F)return!1;x+=F.length;B.next();u=0}}}}Object.defineProperty(t,"__esModule",{value:!0});t.codePointAt=gb;t.codePointSize=cb;t.countColumn=function(B,q,u){for(var x=0;x<B.length;)9==B.charCodeAt(x)?(q+=u-q%u,x++):(q++,x=Y(B,x));return q};t.findColumn=function(B,q,u,x){for(var F=0;F<B.length;){if(q>=u)return{offset:F,
leftOver:0};q+=9==B.charCodeAt(F)?x-q%x:1;F=Y(B,F)}return{offset:B.length,leftOver:u-q}};t.fromCodePoint=function(B){if(65535>=B)return String.fromCharCode(B);B-=65536;return String.fromCharCode((B>>10)+55296,(B&1023)+56320)};t.nextClusterBreak=Y;t.prevClusterBreak=Ca;t.Text=t.Line=void 0;var Ma="lc 34 7n 7 7b 19    2  2   20 b 1c l g  2t 7 2 6 2 2  4 z  u r 2j b 1m 9 9  o 4  9  3  5 17 3 3b f  w 1j    4 8 4  3 7 a 2 t  1m    2 4 8  9  a 2 q  2 2 1l  4 2 4 2 2 3 3  u 2 3  b 2 1l  4 5  2 4  k 2 m 6   1m   2  4 8  7 3 a 2 u  1n    c  9  14  3  1l 3 5 3  4 7 2 b 2 t  1m  2  2  3  5 2 7 2 b 2 s 2 1l 2   2 4 8  9  a 2 t  20  4  2 3   8  29  2 7 c 8 2q  2 9 b 6 22 2 r      1j e  5  2 5 b  10 9  2u 4  6  2 2 2 p 2 4 3 g 4 d  2 2 6  f  jj 3 qa 3 t 3 t 2 u 2 1s 2  7 8  2 b 9  19 3 3b 2 y  3a 3 4 2 9  6 3 63 2 2  1m   7     2 8 6 a 2  1c h 1r 4 1c 7   5  14 9 c 2 w 4 2 2  3 1k   2 3   3 1m 8 2 2 48 3  d  7 4  6  3 2 5i 1m  5 ek  5f x 2da 3 3x  2o w fe 6 2x 2 n9w 4  a w 2 28 2 7k  3  4  p 2 5  47 2 q i d  12 8 p b 1a 3 1c  2 4 2 2 13  1v 6 2 2 2 2 c  8  1b  1f   3 2 2 5 2   16 2 8  6m  2  4  fn4  kh g g g a6 2 gt  6a  45 5 1ae 3  2 5 4 14 3 4  4l 2 fx 4 ar 2 49 b 4w  1i f 1k 3 1d 4 2 2 1x 3 10 5  8 1q  c 2 1g 9 a 4 2  2n 3 2   2 6  4g  3 8 l 2 1l 2     m  e 7 3 5 5f 8 2 3   n  29  2 6   2   2  2 6j  2 4 6 2  2 r 2 2d 8 2   2 2y    2 6   2t 3 2 4  5 77 9  2 6t  a 2   4  40 4 2 2 4  w a 14 6 2 4 8  9 6 2 3 1a d  2 ba 7  6   2a m 2 7  2  2 3e 6 3   2  7   20 2 3    9n 2 f0b 5 1n 7 t4  1r 4 29  f5k 2 43q   3 4 5 8 8 2 7 u 4 44 3 1iz 1j 4 1e 8  e  m 5  f 11s 7  h 2 7  2  5 79 7 c5 4 15s 7 31 7 240 5 gx7k 2o 3k 6o".split(" ").map(function(B){return B?
parseInt(B,36):1});for(La=1;La<Ma.length;La++)Ma[La]+=Ma[La-1];var pb=8205,Wa=function(){function B(){ta(this,B)}W(B,[{key:"lineAt",value:function(q){if(0>q||q>this.length)throw new RangeError("Invalid position ".concat(q," in document of length ").concat(this.length));for(var u=0;u<ia.length;u+=2)if(ia[u]==this){var x=ia[u+1];if(x.start<=q&&x.end>=q)return x}return hb(this,this.lineInner(q,!1,1,0).finish(this))}},{key:"line",value:function(q){if(1>q||q>this.lines)throw new RangeError("Invalid line number ".concat(q,
" in ").concat(this.lines,"-line document"));for(var u=0;u<ia.length;u+=2)if(ia[u]==this){var x=ia[u+1];if(x.number==q)return x}return hb(this,this.lineInner(q,!0,1,0).finish(this))}},{key:"replace",value:function(q,u,x){var F=[];this.decompose(0,q,F);F.push(x);this.decompose(u,this.length,F);return ib.from(F,this.length-(u-q)+x.length)}},{key:"append",value:function(q){return 0==this.length?q:0==q.length?this:ib.from([this,q],this.length+q.length)}},{key:"slice",value:function(q){var u=1<arguments.length&&
void 0!==arguments[1]?arguments[1]:this.length,x=[];this.decompose(q,u,x);return ib.from(x,u-q)}},{key:"eq",value:function(q){return this==q||rb(this,q)}},{key:"iter",value:function(){return new K(this,0<arguments.length&&void 0!==arguments[0]?arguments[0]:1)}},{key:"iterRange",value:function(q){return new E(this,q,1<arguments.length&&void 0!==arguments[1]?arguments[1]:this.length)}},{key:"iterLines",value:function(){return new M(this,0<arguments.length&&void 0!==arguments[0]?arguments[0]:0)}},{key:"toString",
value:function(){return this.sliceString(0)}}],[{key:"of",value:function(q){if(0==q.length)throw new RangeError("A document must have at least one line");if(1==q.length&&!q[0]&&B.empty)return B.empty;var u=Va(q);return 1024>u?new Ea(q,u):ib.from(Ea.split(q,[]),u)}}]);return B}();t.Text=Wa;"undefined"!=typeof Symbol&&(Wa.prototype[Symbol.iterator]=function(){return this.iter()});var ia=[],Da=-2,Ga=12,Ea=function(B){function q(u){var x=1<arguments.length&&void 0!==arguments[1]?arguments[1]:Va(u);ta(this,
q);var F=Fa(this,Ja(q).call(this));F.text=u;F.length=x;return F}da(q,B);W(q,[{key:"lineInner",value:function(u,x,F,S){for(var X=0;;X++){var Z=this.text[X],fa=S+Z.length;if((x?F:fa)>=u)return new P(S,fa,F,Z);S=fa+1;F++}}},{key:"decompose",value:function(u,x,F){F.push(new q(ya(this.text,[""],u,x),Math.min(x,this.length)-Math.max(0,u)))}},{key:"lastLineLength",value:function(){return this.text[this.text.length-1].length}},{key:"firstLineLength",value:function(){return this.text[0].length}},{key:"replace",
value:function(u,x,F){var S=this.length+F.length-(x-u);return 1024<=S||!(F instanceof q)?ja(Ja(q.prototype),"replace",this).call(this,u,x,F):new q(ya(this.text,ya(F.text,ya(this.text,[""],0,u)),x),S)}},{key:"sliceString",value:function(u){for(var x=1<arguments.length&&void 0!==arguments[1]?arguments[1]:this.length,F=2<arguments.length&&void 0!==arguments[2]?arguments[2]:"\n",S="",X=0,Z=0;X<=x&&Z<this.text.length;Z++){var fa=this.text[Z],ra=X+fa.length;X>u&&Z&&(S+=F);u<ra&&x>X&&(S+=fa.slice(Math.max(0,
u-X),x-X));X=ra+1}return S}},{key:"flatten",value:function(u){u[u.length-1]+=this.text[0];for(var x=1;x<this.text.length;x++)u.push(this.text[x])}},{key:"lines",get:function(){return this.text.length}},{key:"children",get:function(){return null}}],[{key:"split",value:function(u,x){var F=[],S=-1,X=!0,Z=!1,fa=void 0;try{for(var ra=u[Symbol.iterator](),Qa;!(X=(Qa=ra.next()).done);X=!0)for(var Na=Qa.value;;){var mb=S+Na.length+1;if(512>mb){S=mb;F.push(Na);break}u=512-S-1;var sb=Na.charCodeAt(u);56320<=
sb&&57344>sb&&u++;F.push(Na.slice(0,u));x.push(new q(F,512));Na=Na.slice(u);S=-1;F=[]}}catch(nb){Z=!0,fa=nb}finally{try{if(!X&&null!=ra["return"])ra["return"]()}finally{if(Z)throw fa;}}-1!=S&&x.push(new q(F,S));return x}}]);return q}(Wa),ib=function(B){function q(u,x){ta(this,q);var F=Fa(this,Ja(q).call(this));F.children=u;F.length=x;F.lines=1;x=!0;var S=!1,X=void 0;try{for(var Z=u[Symbol.iterator](),fa;!(x=(fa=Z.next()).done);x=!0)F.lines+=fa.value.lines-1}catch(ra){S=!0,X=ra}finally{try{if(!x&&
null!=Z["return"])Z["return"]()}finally{if(S)throw X;}}return F}da(q,B);W(q,[{key:"lineInner",value:function(u,x,F,S){for(var X=0;;X++){var Z=this.children[X],fa=S+Z.length,ra=F+Z.lines-1;if((x?ra:fa)>=u)return u=Z.lineInner(u,x,F,S),x=void 0,u.from==S&&(x=this.lineLengthTo(X))&&(u.from-=x,u.content=null),u.to==fa&&(x=this.lineLengthFrom(X+1))&&(u.to+=x,u.content=null),u;S=fa;F=ra}}},{key:"decompose",value:function(u,x,F){for(var S=0,X=0;X<x&&S<this.children.length;S++){var Z=this.children[S],fa=
X+Z.length;u<fa&&x>X&&(X>=u&&fa<=x?F.push(Z):Z.decompose(u-X,x-X,F));X=fa}}},{key:"lineLengthTo",value:function(u){var x=0;for(--u;0<=u;u--){var F=this.children[u];if(1<F.lines)return x+F.lastLineLength();x+=F.length}return x}},{key:"lastLineLength",value:function(){return this.lineLengthTo(this.children.length)}},{key:"lineLengthFrom",value:function(u){for(var x=0;u<this.children.length;u++){var F=this.children[u];if(1<F.lines)return x+F.firstLineLength();x+=F.length}return x}},{key:"firstLineLength",
value:function(){return this.lineLengthFrom(0)}},{key:"replace",value:function(u,x,F){if(512>F.length&&512>x-u)for(var S=F.length-(x-u),X=0,Z=0;X<this.children.length;X++){var fa=this.children[X],ra=Z+fa.length;if(u>=Z&&x<=ra&&fa.length+S<this.length+S>>2&&0<fa.length+S)return ra=this.children.slice(),ra[X]=fa.replace(u-Z,x-Z,F),new q(ra,this.length+S);Z=ra}return ja(Ja(q.prototype),"replace",this).call(this,u,x,F)}},{key:"sliceString",value:function(u){for(var x=1<arguments.length&&void 0!==arguments[1]?
arguments[1]:this.length,F=2<arguments.length&&void 0!==arguments[2]?arguments[2]:"\n",S="",X=0,Z=0;Z<x&&X<this.children.length;X++){var fa=this.children[X],ra=Z+fa.length;if(u<ra&&x>Z){fa=fa.sliceString(u-Z,x-Z,F);if(u>=Z&&x<=ra)return fa;S+=fa}Z=ra}return S}},{key:"flatten",value:function(u){var x=!0,F=!1,S=void 0;try{for(var X=this.children[Symbol.iterator](),Z;!(x=(Z=X.next()).done);x=!0)Z.value.flatten(u)}catch(fa){F=!0,S=fa}finally{try{if(!x&&null!=X["return"])X["return"]()}finally{if(F)throw S;
}}}}],[{key:"from",value:function(u,x){function F(wa){var Ra=wa.length;if(Ra)if(Ra>sb&&wa instanceof q){Ra=!0;var Ka=!1;var wb=void 0;try{for(var db=wa.children[Symbol.iterator](),tb;!(Ra=(tb=db.next()).done);Ra=!0)F(tb.value)}catch(xb){Ka=!0,wb=xb}finally{try{if(!Ra&&null!=db["return"])db["return"]()}finally{if(Ka)throw wb;}}}else Ra>nb&&(Oa>nb||0==Oa)?(S(),ob.push(wa)):wa instanceof Ea&&0<Oa&&(Ka=Sa[Sa.length-1])instanceof Ea&&512>=wa.length+Ka.length?(Oa+=Ra,Sa[Sa.length-1]=new Ea(ya(wa.text,Ka.text.slice()),
wa.length+Ka.length)):(Oa+Ra>mb&&S(),Oa+=Ra,Sa.push(wa))}function S(){0!=Oa&&(ob.push(1==Sa.length?Sa[0]:q.from(Sa,Oa)),Oa=0,Sa.length=0)}if(!u.every(function(wa){return wa instanceof Wa}))throw Error("NOP");if(1024>x){var X=[""],Z=!0,fa=!1,ra=void 0;try{for(var Qa=u[Symbol.iterator](),Na;!(Z=(Na=Qa.next()).done);Z=!0)Na.value.flatten(X)}catch(wa){fa=!0,ra=wa}finally{try{if(!Z&&null!=Qa["return"])Qa["return"]()}finally{if(fa)throw ra;}}return new Ea(X,x)}var mb=Math.max(512,x>>3),sb=mb<<1,nb=mb>>
1,ob=[],Oa=0,Sa=[];Qa=!0;Na=!1;fa=void 0;try{for(X=u[Symbol.iterator]();!(Qa=(Z=X.next()).done);Qa=!0)F(Z.value)}catch(wa){Na=!0,fa=wa}finally{try{if(!Qa&&null!=X["return"])X["return"]()}finally{if(Na)throw fa;}}S();return 1==ob.length?ob[0]:new q(ob,x)}}]);return q}(Wa);Wa.empty=Wa.of([""]);var K=function(){function B(q){var u=1<arguments.length&&void 0!==arguments[1]?arguments[1]:1;ta(this,B);this.dir=u;this.lineBreak=this.done=!1;this.value="";this.nodes=[q];this.offsets=[0<u?0:q instanceof Ea?
q.text.length:q.children.length]}W(B,[{key:"next",value:function(){for(var q=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0;;){var u=this.nodes.length-1;if(0>u)return this.done=!0,this.value="",this.lineBreak=!1,this;var x=this.nodes[u],F=this.offsets[u];if(x instanceof Ea)if(F==(0<this.dir?0:x.text.length)||this.lineBreak){var S=x.text[F-(0>this.dir?1:0)];this.offsets[u]=F+=this.dir;F==(0<this.dir?x.text.length:0)&&(this.nodes.pop(),this.offsets.pop());this.lineBreak=!1;if(S.length>Math.max(0,
q))return this.value=0==q?S:0<this.dir?S.slice(q):S.slice(0,S.length-q),this;q-=S.length}else{this.lineBreak=!0;if(0==q)return this.value="\n",this;q--}else F==(0<this.dir?x.children.length:0)?(this.nodes.pop(),this.offsets.pop()):(x=x.children[0<this.dir?F:F-1],S=x.length,this.offsets[u]=F+this.dir,q>S?q-=S:(this.nodes.push(x),this.offsets.push(0<this.dir?0:x instanceof Ea?x.text.length:x.children.length)))}}}]);return B}(),E=function(){function B(q,u,x){ta(this,B);this.value="";this.cursor=new K(q,
u>x?-1:1);u>x?(this.skip=q.length-u,this.limit=u-x):(this.skip=u,this.limit=x-u)}W(B,[{key:"next",value:function(){if(0>=this.limit)this.limit=-1;else{var q=this.cursor.next(this.skip),u=q.value,x=q.lineBreak;q=q.done;this.skip=0;this.value=u;x=x?1:u.length;x>this.limit&&(this.value=0<this.cursor.dir?u.slice(0,this.limit):u.slice(x-this.limit));this.limit=q||0==this.value.length?-1:this.limit-this.value.length}return this}},{key:"lineBreak",get:function(){return this.cursor.lineBreak}},{key:"done",
get:function(){return 0>this.limit}}]);return B}(),M=function(){function B(q){var u=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0;ta(this,B);this.value="";this.done=!1;this.cursor=q.iter();this.skip=u}W(B,[{key:"next",value:function(){if(this.cursor.done)return this.done=!0,this.value="",this;for(this.value="";;){var q=this.cursor.next(this.skip),u=q.value,x=q.lineBreak;q=q.done;this.skip=0;if(q||x)return this;this.value+=u}}},{key:"lineBreak",get:function(){return!1}}]);return B}(),P=
function(){function B(q,u,x,F){ta(this,B);this.from=q;this.to=u;this.number=x;this.content=F}W(B,[{key:"slice",value:function(){var q=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0,u=1<arguments.length&&void 0!==arguments[1]?arguments[1]:this.length;if("string"==typeof this.content)return u==q+1?this.content.charAt(q):this.content.slice(q,u);if(q==u)return"";var x=this.content.slice(q,u);0==q&&u==this.length&&(this.content=x);return x}},{key:"finish",value:function(q){null==this.content&&
(this.content=new V(q,this.from));return this}},{key:"findClusterBreak",value:function(q,u){if(0>q||q>this.length)throw new RangeError("Invalid position given to Line.findClusterBreak");if("string"==this.content){var x=this.from;var F=this.content}else x=Math.max(0,q-256),F=this.slice(x,Math.min(this.length,x+512));return(u?Y:Ca)(F,q-x)+x}},{key:"length",get:function(){return this.to-this.from}}]);return B}();t.Line=P;var V=function(){function B(q,u){ta(this,B);this.doc=q;this.start=u;this.strings=
this.cursor=null}W(B,[{key:"slice",value:function(q,u){this.cursor||(this.cursor=this.doc.iter(),this.strings=[this.cursor.next(this.start).value]);for(var x="",F=0,S=0;;S++){S==this.strings.length&&this.strings.push(this.cursor.next().value);var X=this.strings[S],Z=F;F+=X.length;if(!(F<=q)&&(x+=X.slice(Math.max(0,q-Z),Math.min(X.length,u-Z)),F>=u))return x}}}]);return B}()};
shadow$provide[1]=function(G,J,M,L){function X(D){function v(r,C,F,K,R){var T=q.id,Q=q.start,Z=q.end,U=q.size,Oa=Q-r;if(0>U)F.push(k[T]),K.push(Oa),q.next();else{var Ua=t[T],Va;if(Va=Z-Q<=g){var Wa=q.pos-C;var ka=q.fork();var qb=Va=C=0,wb=ka.end-g;Wa=ka.pos-Wa;a:for(;ka.pos>Wa;){var ib=ka.size,jb=ka.pos-ib;if(0>ib||jb<Wa||ka.start<wb)break;var Xa=ka.id>=m?4:0,wa=ka.start;for(ka.next();ka.pos>jb;){if(0>ka.size)break a;ka.id>=m&&(Xa+=4);ka.next()}Va=wa;C+=ib;qb+=Xa}Va=ka=4<C?{size:C,start:Va,skip:qb}:
null}if(Va){Oa=new Uint16Array(ka.size-ka.skip);U=q.pos-ka.size;for(Q=Oa.length;q.pos>U;)Q=p(ka.start,Oa,Q);Z=new Ga(Oa,Z-ka.start,x,R);Oa=ka.start-r}else{U=q.pos-U;q.next();r=[];R=[];T=T>=x.types.length?T-(x.types.length-m):-1;if(-1<T)for(Ua=t[T];q.pos>U;)v(Q,U,r,R,q.id==T?Ua:na.none);else for(;q.pos>U;)v(Q,U,r,R,na.none);r.reverse();R.reverse();Z=-1<T&&r.length>bb?ja(Ua,Ua,r,R,0,r.length,0,g,Z-Q):new oa(Ua,r,R,Z-Q)}F.push(Z);K.push(Oa)}}function p(r,C,F){var K=q.id,R=q.start,T=q.end,Q=q.size;q.next();
var Z=F;if(4<Q)for(Q=q.pos-(Q-4);q.pos>Q;)F=p(r,C,F);K<m&&(C[--F]=Z,C[--F]=T-r,C[--F]=R-r,C[--F]=K);return F}var z=D.buffer,x=D.group,E=D.topID;E=void 0===E?0:E;var n=D.maxBufferLength,g=void 0===n?L.DefaultBufferLength:n;n=D.reused;var k=void 0===n?[]:n;D=D.minRepeatType;var m=void 0===D?x.types.length:D,q=Array.isArray(z)?new cb(z,z.length):z,t=x.types;z=[];for(D=[];0<q.pos;)v(0,0,z,D,na.none);n=z.length?D[0]+z[0].length:0;return new oa(x.types[E],z.reverse(),D.reverse(),n)}function ja(D,v,p,z,
x,E,n,g,k){var m=[],q=[];if(k<=g)for(;x<E;x++)m.push(p[x]),q.push(z[x]-n);else for(var t=Math.max(g,Math.ceil(1.5*k/bb));x<E;){var r=x,C=z[x];for(x++;x<E&&!(z[x]+p[x].length-C>t);x++);if(x==r+1){r=p[r];if(r instanceof oa&&r.type==v&&r.length>t<<1){for(var F=0;F<r.children.length;F++)m.push(r.children[F]),q.push(r.positions[F]+C-n);continue}m.push(r)}else if(x==r+1)m.push(p[r]);else{r=ja(v,v,p,z,r,x,C,g,z[x-1]+p[x-1].length-C);if(F=v!=na.none){a:{F=0;for(var K=r.children;F<K.length;F++)if(K[F].type==
v){F=!0;break a}F=!1}F=!F}F&&(r=new oa(na.none,r.children,r.positions,r.length));m.push(r)}q.push(C-n)}return new oa(D,m,q,k)}var va=this&&this.__extends||function(){var D=function(v,p){D=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(z,x){z.__proto__=x}||function(z,x){for(var E in x)x.hasOwnProperty(E)&&(z[E]=x[E])};return D(v,p)};return function(v,p){function z(){this.constructor=v}D(v,p);v.prototype=null===p?Object.create(p):(z.prototype=p.prototype,new z)}}();Object.defineProperty(L,
"__esModule",{value:!0});L.DefaultBufferLength=1024;var Ha=function(){function D(v,p){this.enter=v;this.leave=p;this.result=void 0}Object.defineProperty(D.prototype,"done",{get:function(){return void 0!==this.result},enumerable:!0,configurable:!0});D.prototype.doEnter=function(v,p,z){v=this.enter(v,p,z);if(void 0===v)return!0;!1!==v&&(this.result=v);return!1};return D}(),Ya=0,da=function(){function D(v){v=(void 0===v?{}:v).deserialize;this.id=Ya++;this.deserialize=v||function(){throw Error("This node type doesn't define a deserialize function");
}}D.string=function(){return new D({deserialize:function(v){return v}})};D.number=function(){return new D({deserialize:Number})};D.flag=function(){return new D({deserialize:function(){return!0}})};D.prototype.set=function(v,p){v[this.id]=p;return v};D.prototype.add=function(v){return new Pa(this,"function"==typeof v?v:na.match(v))};D.error=D.flag();D.skipped=D.flag();D.closedBy=new D({deserialize:function(v){return v.split(" ")}});D.openedBy=new D({deserialize:function(v){return v.split(" ")}});D.top=
D.flag();return D}();L.NodeProp=da;var Pa=function(){return function(D,v){this.prop=D;this.f=v}}();L.NodePropSource=Pa;var na=function(){function D(v,p,z){this.name=v;this.props=p;this.id=z}D.prototype.prop=function(v){return this.props[v.id]};D.match=function(v){var p=Object.create(null),z;for(z in v)for(var x=0,E=z.split(" ");x<E.length;x++)p[E[x]]=v[z];return function(n){return p[n.name]}};D.none=new D("",Object.create(null),0);return D}();L.NodeType=na;G=function(){function D(v){this.types=v;
for(var p=0;p<v.length;p++)if(v[p].id!=p)throw new RangeError("Node type ids should correspond to array positions when creating a node group");}D.prototype.extend=function(){for(var v=[],p=0;p<arguments.length;p++)v[p]=arguments[p];p=[];for(var z=0,x=this.types;z<x.length;z++){for(var E=x[z],n=null,g=0,k=v;g<k.length;g++){var m=k[g],q=m.f(E);if(void 0!==q){if(!n){n=Object.create(null);for(var t in E.props)n[t]=E.props[t]}n[m.prop.id]=q}}p.push(n?new na(E.name,n,E.id):E)}return new D(p)};return D}();
L.NodeGroup=G;G=function(){function D(){}Object.defineProperty(D.prototype,"name",{get:function(){return this.type.name},enumerable:!0,configurable:!0});Object.defineProperty(D.prototype,"depth",{get:function(){for(var v=0,p=this.parent;p;p=p.parent)v++;return v},enumerable:!0,configurable:!0});Object.defineProperty(D.prototype,"root",{get:function(){for(var v=this;v.parent;)v=v.parent;return v},enumerable:!0,configurable:!0});D.prototype.resolve=function(v,p){void 0===p&&(p=0);var z=this.resolveAt(v);
if(0!=p)for(;;){var x=0>p?z.childBefore(v):z.childAfter(v);if(!x||(0>p?x.end:x.start)!=v)break;z=x}return z};Object.defineProperty(D.prototype,"firstChild",{get:function(){return this.childAfter(this.start-1)},enumerable:!0,configurable:!0});Object.defineProperty(D.prototype,"lastChild",{get:function(){return this.childBefore(this.end+1)},enumerable:!0,configurable:!0});return D}();L.Subtree=G;var oa=function(D){function v(p,z,x,E){var n=D.call(this)||this;n.type=p;n.children=z;n.positions=x;n.length=
E;return n}va(v,D);Object.defineProperty(v.prototype,"start",{get:function(){return 0},enumerable:!0,configurable:!0});Object.defineProperty(v.prototype,"end",{get:function(){return this.length},enumerable:!0,configurable:!0});v.prototype.toString=function(){var p=this.children.map(function(z){return z.toString()}).join();return this.name?(/\W/.test(this.name)&&!this.type.prop(da.error)?JSON.stringify(this.name):this.name)+(p.length?"("+p+")":""):p};v.prototype.partial=function(p,z,x,E,n){for(var g=
0;g<this.children.length;g++){var k=this.positions[g];if(k>z)break;var m=this.children[g],q=k+m.length;q<p||(p<=k&&z>=q?(E.push(m),n.push(k+x)):m instanceof v&&m.partial(p-k,z-k,x+k,E,n))}};v.prototype.applyChanges=function(p){function z(t,r,C){var F=-1;t.iterate({from:r,to:0>C?0:t.length,enter:function(){return 0>F?void 0:!1},leave:function(K,R,T){0>F&&(0>C?T<=r:R>=r)&&!K.prop(da.error)&&(F=0>C?Math.min(r,T-1):Math.max(r,R+1))}});return-1<F?F:0>C?0:t.length}if(0==p.length)return this;for(var x=[],
E=[],n=0,g=0,k=0;;g++){var m=g==p.length?null:p[g],q=m?z(this,m.fromA,-1):this.length;q>k&&this.partial(k,q,n,x,E);if(!m)break;k=z(this,m.toA,1);n+=m.toB-m.fromB-(m.toA-m.fromA)}return new v(na.none,x,E,this.length+n)};v.prototype.cut=function(p){if(p>=this.length)return this;for(var z=[],x=[],E=0;E<this.children.length;E++){var n=this.positions[E];if(n>=p)break;var g=this.children[E];z.push(n+g.length<=p?g:g.cut(p-n));x.push(n)}return new v(this.type,z,x,p)};v.prototype.iterate=function(p){var z=
p.from;z=void 0===z?this.start:z;var x=p.to;x=void 0===x?this.end:x;p=new Ha(p.enter,p.leave);this.iterInner(z,x,0,p);return p.result};v.prototype.iterInner=function(p,z,x,E){if(!this.type.name||E.doEnter(this.type,x,x+this.length)){if(p<=z)for(var n=0;n<this.children.length&&!E.done;n++){var g=this.children[n],k=this.positions[n]+x,m=k+g.length;if(k>z)break;m<p||g.iterInner(p,z,k,E)}else for(n=this.children.length-1;0<=n&&!E.done;n--){g=this.children[n];k=this.positions[n]+x;m=k+g.length;if(m<z)break;
k>p||g.iterInner(p,z,k,E)}E.leave&&this.type.name&&E.leave(this.type,x,x+this.length)}};v.prototype.resolveAt=function(p){if(db==this)for(var z=Ia;;){var x=z.parent;if(!x)break;if(z.start<p&&z.end>p)return z.resolve(p);z=x}db=this;return Ia=this.resolveInner(p,0,this)};v.prototype.childBefore=function(p){return this.findChild(p,-1,0,this)};v.prototype.childAfter=function(p){return this.findChild(p,1,0,this)};v.prototype.findChild=function(p,z,x,E){for(var n=0;n<this.children.length;n++){var g=this.positions[n]+
x,k=-1;if(g>=p)if(0>z&&0<n)k=n-1;else if(0<z)k=n;else break;0>k&&(g+this.children[n].length>p||0>z&&n==this.children.length-1)&&(k=n);if(0<=k&&(g=this.children[k],k=this.positions[k]+x,0!=g.length||k!=p)){if(g instanceof v)return g.type.name?new Qa(g,k,E):g.findChild(p,z,k,E);var m=g.findIndex(p,z,k,0,g.buffer.length);if(-1<m)return new qa(g,k,m,E)}}return null};v.prototype.resolveInner=function(p,z,x){return(z=this.findChild(p,0,z,x))?z.resolveAt(p):x};v.prototype.append=function(p){if(p.children.length&&
p.positions[0]<this.length)throw Error("Can't append overlapping trees");return new v(this.type,this.children.concat(p.children),this.positions.concat(p.positions),p.length)};v.prototype.balance=function(p){void 0===p&&(p=L.DefaultBufferLength);return this.children.length<=bb?this:ja(this.type,na.none,this.children,this.positions,0,this.children.length,0,p,this.length)};v.build=function(p){return X(p)};v.empty=new v(na.none,[],[],0);return v}(G);L.Tree=oa;oa.prototype.parent=null;var db=oa.empty,
Ia=oa.empty,Ga=function(){function D(v,p,z,x){void 0===x&&(x=na.none);this.buffer=v;this.length=p;this.group=z;this.type=x}D.prototype.toString=function(){for(var v=[],p=0;p<this.buffer.length;)p=this.childToString(p,v);return v.join(",")};D.prototype.childToString=function(v,p){var z=this.buffer[v+3],x=this.group.types[this.buffer[v]],E=x.name;/\W/.test(E)&&!x.prop(da.error)&&(E=JSON.stringify(E));v+=4;if(z>v){for(x=[];v<z;)v=this.childToString(v,x);E+="("+x.join(",")+")"}p.push(E);return v};D.prototype.cut=
function(v){for(var p=0;p<this.buffer.length&&this.buffer[p+1]<v;)p+=4;for(var z=new Uint16Array(p),x=0;x<p;x+=4)z[x]=this.buffer[x],z[x+1]=this.buffer[x+1],z[x+2]=Math.min(v,this.buffer[x+2]),z[x+3]=Math.min(this.buffer[x+3],p);return new D(z,Math.min(v,this.length),this.group)};D.prototype.iterate=function(v){var p=v.from;p=void 0===p?0:p;var z=v.to;z=void 0===z?this.length:z;v=new Ha(v.enter,v.leave);this.iterInner(p,z,0,v);return v.result};D.prototype.iterInner=function(v,p,z,x){if(v<=p)for(var E=
0;E<this.buffer.length;)E=this.iterChild(v,p,z,E,x);else this.iterRev(v,p,z,0,this.buffer.length,x)};D.prototype.iterChild=function(v,p,z,x,E){var n=this.group.types[this.buffer[x++]],g=this.buffer[x++]+z,k=this.buffer[x++]+z,m=this.buffer[x++];if(g>p)return this.buffer.length;if(k>=v&&E.doEnter(n,g,k)){for(;x<m&&!E.done;)x=this.iterChild(v,p,z,x,E);E.leave&&E.leave(n,g,k)}return m};D.prototype.parentNodesByEnd=function(v,p){for(var z=this,x=[],E=function(n){var g=z.buffer[n+3];if(g==n+4)return g;
for(var k=n+4;k<g;)k=E(k);x.push(n);return g};v<p;)v=E(v);return x};D.prototype.iterRev=function(v,p,z,x,E,n){var g=this,k=this.parentNodesByEnd(x,E),m=-1,q=-1,t=function(){0<k.length?(m=k.pop(),q=g.buffer[m+3]):q=-1};t();a:for(;E>x&&!n.done;){for(;q==E;){var r=m,C=this.buffer[r],F=this.buffer[r+1]+z,K=this.buffer[r+2]+z;t();if(F<=v&&K>=p&&!n.doEnter(this.group.types[C],F,K)){for(E=r;q>r;)t();continue a}}r=this.buffer[--E];C=this.buffer[--E]+z;F=this.buffer[--E]+z;K=this.buffer[--E];F>v||C<p||(r!=
E+4||n.doEnter(this.group.types[K],F,C))&&n.leave&&n.leave(this.group.types[K],F,C)}};D.prototype.findIndex=function(v,p,z,x,E){for(var n=-1,g=this.buffer;x<E;){var k=g[x+1]+z,m=g[x+2]+z,q=k==m&&k==v;if(k>=v){if(0<p&&!q)return x;break}if(m>v)return x;q||(n=x);x=g[x+3]}return 0>p?n:-1};return D}();L.TreeBuffer=Ga;var Qa=function(D){function v(p,z,x){var E=D.call(this)||this;E.node=p;E.start=z;E.parent=x;return E}va(v,D);Object.defineProperty(v.prototype,"type",{get:function(){return this.node.type},
enumerable:!0,configurable:!0});Object.defineProperty(v.prototype,"end",{get:function(){return this.start+this.node.length},enumerable:!0,configurable:!0});v.prototype.resolveAt=function(p){return p<=this.start||p>=this.end?this.parent.resolveAt(p):this.node.resolveInner(p,this.start,this)};v.prototype.childBefore=function(p){return this.node.findChild(p,-1,this.start,this)};v.prototype.childAfter=function(p){return this.node.findChild(p,1,this.start,this)};v.prototype.toString=function(){return this.node.toString()};
v.prototype.iterate=function(p){var z=p.from;z=void 0===z?this.start:z;var x=p.to;x=void 0===x?this.end:x;p=new Ha(p.enter,p.leave);this.node.iterInner(z,x,this.start,p);return p.result};return v}(G),qa=function(D){function v(p,z,x,E){var n=D.call(this)||this;n.buffer=p;n.bufferStart=z;n.index=x;n.parent=E;return n}va(v,D);Object.defineProperty(v.prototype,"type",{get:function(){return this.buffer.group.types[this.buffer.buffer[this.index]]},enumerable:!0,configurable:!0});Object.defineProperty(v.prototype,
"start",{get:function(){return this.buffer.buffer[this.index+1]+this.bufferStart},enumerable:!0,configurable:!0});Object.defineProperty(v.prototype,"end",{get:function(){return this.buffer.buffer[this.index+2]+this.bufferStart},enumerable:!0,configurable:!0});Object.defineProperty(v.prototype,"endIndex",{get:function(){return this.buffer.buffer[this.index+3]},enumerable:!0,configurable:!0});v.prototype.childBefore=function(p){p=this.buffer.findIndex(p,-1,this.bufferStart,this.index+4,this.endIndex);
return 0>p?null:new v(this.buffer,this.bufferStart,p,this)};v.prototype.childAfter=function(p){p=this.buffer.findIndex(p,1,this.bufferStart,this.index+4,this.endIndex);return 0>p?null:new v(this.buffer,this.bufferStart,p,this)};v.prototype.iterate=function(p){var z=p.from;z=void 0===z?this.start:z;var x=p.to;x=void 0===x?this.end:x;p=new Ha(p.enter,p.leave);z<=x?this.buffer.iterChild(z,x,this.bufferStart,this.index,p):this.buffer.iterRev(z,x,this.bufferStart,this.index,this.endIndex,p);return p.result};
v.prototype.resolveAt=function(p){if(p<=this.start||p>=this.end)return this.parent.resolveAt(p);var z=this.buffer.findIndex(p,0,this.bufferStart,this.index+4,this.endIndex);return 0>z?this:(new v(this.buffer,this.bufferStart,z,this)).resolveAt(p)};v.prototype.toString=function(){var p=[];this.buffer.childToString(this.index,p);return p.join("")};return v}(G),cb=function(){function D(v,p){this.buffer=v;this.index=p}Object.defineProperty(D.prototype,"id",{get:function(){return this.buffer[this.index-
4]},enumerable:!0,configurable:!0});Object.defineProperty(D.prototype,"start",{get:function(){return this.buffer[this.index-3]},enumerable:!0,configurable:!0});Object.defineProperty(D.prototype,"end",{get:function(){return this.buffer[this.index-2]},enumerable:!0,configurable:!0});Object.defineProperty(D.prototype,"size",{get:function(){return this.buffer[this.index-1]},enumerable:!0,configurable:!0});Object.defineProperty(D.prototype,"pos",{get:function(){return this.index},enumerable:!0,configurable:!0});
D.prototype.next=function(){this.index-=4};D.prototype.fork=function(){return new D(this.buffer,this.index)};return D}(),bb=8};
shadow$provide[2]=function(La,Ha,Hb,t){function Ia(y){Ia="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(l){return typeof l}:function(l){return l&&"function"===typeof Symbol&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":typeof l};return Ia(y)}function Fa(y){Fa=Object.setPrototypeOf?Object.getPrototypeOf:function(l){return l.__proto__||Object.getPrototypeOf(l)};return Fa(y)}function ja(y,l){if("function"!==typeof l&&null!==l)throw new TypeError("Super expression must either be null or a function");
y.prototype=Object.create(l&&l.prototype,{constructor:{value:y,writable:!0,configurable:!0}});l&&Ja(y,l)}function Ja(y,l){Ja=Object.setPrototypeOf||function(m,k){m.__proto__=k;return m};return Ja(y,l)}function da(y,l){if(!(y instanceof l))throw new TypeError("Cannot call a class as a function");}function pa(y,l){for(var m=0;m<l.length;m++){var k=l[m];k.enumerable=k.enumerable||!1;k.configurable=!0;"value"in k&&(k.writable=!0);Object.defineProperty(y,k.key,k)}}function ta(y,l,m){l&&pa(y.prototype,
l);m&&pa(y,m);return y}function va(y,l,m){var k=3<arguments.length&&void 0!==arguments[3]?arguments[3]:!1;if(!(0==l&&0>=m)){var r=y.length-2;0<=r&&0>=m&&m==y[r+1]?y[r]+=l:0==l&&0==y[r]?y[r+1]+=m:k?(y[r]+=l,y[r+1]+=m):y.push(l,m)}}function W(y,l,m){if(0!=m.length)if(l=l.length-2>>1,l<y.length)y[y.length-1]=y[y.length-1].append(m);else{for(;y.length<l;)y.push(K.Text.empty);y.push(m)}}function lb(y,l,m){for(var k=y.inserted,r=0,w=0,D=0;D<y.sections.length;){var G=y.sections[D++],Q=y.sections[D++];if(0>
Q)r+=G,w+=G;else{for(var R=r,T=w,O=K.Text.empty;;){R+=G;T+=Q;Q&&k&&(O=O.append(k[D-2>>1]));if(m||D==y.sections.length||0>y.sections[D+1])break;G=y.sections[D++];Q=y.sections[D++]}l(r,R,w,T,O);r=R;w=T}}}function Y(y,l,m){for(var k=[],r=3<arguments.length&&void 0!==arguments[3]&&arguments[3]?[]:null,w=new q(y),D=new q(l),G=0,Q=0;;)if(-1==w.ins)G+=w.len,w.next();else if(-1==D.ins&&Q<G){var R=Math.min(D.len,G-Q);D.forward(R);va(k,R,-1);Q+=R}else if(0<=D.ins&&(w.done||Q<G||Q==G&&(D.len<w.len||D.len==w.len&&
!m))){for(va(k,D.ins,-1);G>Q&&!w.done&&G+w.len<Q+D.len;)G+=w.len,w.next();Q+=D.len;D.next()}else if(0<=w.ins){R=0;for(var T=G+w.len;;)if(0<=D.ins&&Q>G&&Q+D.len<T)R+=D.ins,Q+=D.len,D.next();else if(-1==D.ins&&Q<T){var O=Math.min(D.len,T-Q);R+=O;D.forward(O);Q+=O}else break;va(k,R,w.ins);r&&W(r,k,w.text);G=T;w.next()}else{if(w.done&&D.done)return r?new B(k,r):new V(k);throw Error("Mismatched change set lengths");}}function Ca(y,l){for(var m=[],k=2<arguments.length&&void 0!==arguments[2]&&arguments[2]?
[]:null,r=new q(y),w=new q(l),D=!1;;){if(r.done&&w.done)return k?new B(m,k):new V(m);if(0==r.ins)va(m,r.len,0,D),r.next();else if(0!=w.len||w.done){if(r.done||w.done)throw Error("Mismatched change set lengths");var G=Math.min(r.len2,w.len),Q=m.length;if(-1==r.ins){var R=-1==w.ins?-1:w.off?0:w.ins;va(m,G,R,D);k&&R&&W(k,m,w.text)}else-1==w.ins?(va(m,r.off?0:r.len,G,D),k&&W(k,m,r.textBit(G))):(va(m,r.off?0:r.len,w.off?0:w.ins,D),k&&!w.off&&W(k,m,w.text));D=(r.ins>G||0<=w.ins&&w.len>G)&&(D||m.length>
Q);r.forward2(G);w.forward(G)}else va(m,0,w.ins,D),k&&W(k,m,w.text),w.next()}}function gb(y){var l=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0;l=y[l];y.sort(function(D,G){return D.from-G.from});l=y.indexOf(l);for(var m=1;m<y.length;m++){var k=y[m],r=y[m-1];if(k.empty?k.from<=r.to:k.from<r.to){var w=r.from;r=Math.max(k.to,r.to);m<=l&&l--;y.splice(--m,2,k.anchor>k.head?x.range(r,w):x.range(w,r))}}return new x(y,l)}function cb(y,l){var m=!0,k=!1,r=void 0;try{for(var w=y.ranges[Symbol.iterator](),
D;!(m=(D=w.next()).done);m=!0)if(D.value.to>l)throw new RangeError("Selection points outside of document");}catch(G){k=!0,r=G}finally{try{if(!m&&null!=w["return"])w["return"]()}finally{if(k)throw r;}}}function hb(y,l){return y==l||y.length==l.length&&y.every(function(m,k){return m===l[k]})}function Va(y,l,m){if(y.length!=l.length)return!1;for(var k=0;k<y.length;k++)if(!m(y[k],l[k]))return!1;return!0}function ya(y,l,m){var k=m.map(function(G){return y[G.id]}),r=m.map(function(G){return G.type}),w=
k.filter(function(G){return!(G&1)}),D=y[l.id]>>1;return function(G,Q){var R=Q?Q.reconfigure?Q.startState.config.address[l.id]:D<<1:null,T=null==R,O=!0,aa=!1,ha=void 0;try{for(var ka=w[Symbol.iterator](),la;!(O=(la=ka.next()).done);O=!0)ia(G,la.value)&1&&(T=!0)}catch(Ya){aa=!0,ha=Ya}finally{try{if(!O&&null!=ka["return"])ka["return"]()}finally{if(aa)throw ha;}}if(!T)return 0;T=[];for(O=0;O<k.length;O++)if(aa=Da(G,k[O]),2==r[O]){ha=!0;ka=!1;la=void 0;try{for(var na=aa[Symbol.iterator](),za;!(ha=(za=
na.next()).done);ha=!0)T.push(za.value)}catch(Ya){ka=!0,la=Ya}finally{try{if(!ha&&null!=na["return"])na["return"]()}finally{if(ka)throw la;}}}else T.push(aa);na=l.combine(T);if(null!=R&&l.compare(na,Da(Q.startState,R)))return 0;G.values[D]=na;return 1}}function rb(y,l){if(!fa.hasOwnProperty(l))throw new RangeError("Invalid precedence: ".concat(l));return new ra(y,fa[l])}function Ma(y,l){return y?rb(l,y):l}function pb(y){return(Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(y):[]).concat(Object.keys(y))}
function Wa(y,l){function m(O,aa){var ha=r.get(O);if(null!=ha){if(ha>=aa)return;var ka=k[ha].indexOf(O);-1<ka&&k[ha].splice(ka,1)}r.set(O,aa);if(Array.isArray(O)){ha=!0;ka=!1;var la=void 0;try{for(var na=O[Symbol.iterator](),za;!(ha=(za=na.next()).done);ha=!0)m(za.value,aa)}catch(Ya){ka=!0,la=Ya}finally{try{if(!ha&&null!=na["return"])na["return"]()}finally{if(ka)throw la;}}}else if(O instanceof Qa){if(O.tag in w)throw new RangeError("Duplicate use of tag '".concat(String(O.tag),"' in extensions"));
w[O.tag]=!0;m(l[O.tag]||O.extension,aa)}else O.extension?m(O.extension,aa):O instanceof ra?m(O.e,O.prec):(k[aa].push(O),O instanceof Z&&m(O.facets,aa))}var k=[[],[],[],[]],r=new Map,w=Object.create(null);m(y,fa["default"]);y=!0;var D=!1,G=void 0;try{for(var Q=pb(l)[Symbol.iterator](),R;!(y=(R=Q.next()).done);y=!0){var T=R.value;T in w||"full"==T||!l[T]||(w[T]=!0,m(l[T],fa["default"]))}}catch(O){D=!0,G=O}finally{try{if(!y&&null!=Q["return"])Q["return"]()}finally{if(D)throw G;}}return k.reduce(function(O,
aa){return O.concat(aa)})}function ia(y,l){if(l&1)return 2;l>>=1;var m=y.status[l];if(4==m)throw Error("Cyclic dependency between fields and/or facets");if(m&2)return m;y.status[l]=4;m=y.config.dynamicSlots[l](y,y.applying);return y.status[l]=2|m}function Da(y,l){return l&1?y.config.staticValues[l>>1]:y.values[l>>1]}function Ga(y,l,m){var k=l.reconfigure;if(k&&k.append){k=Object.assign({},k);var r="undefined"==typeof Symbol?"__append"+Math.floor(4294967295*Math.random()):Symbol("appendConf");k[r]=
k.append;k.append=void 0}r=l.selection;return{changes:l.changes instanceof B?l.changes:B.of(l.changes||[],m,y.facet(Pa.lineSeparator)),selection:r&&(r instanceof x?r:x.single(r.anchor,r.head)),effects:l.effects?Array.isArray(l.effects)?l.effects:[l.effects]:wb,annotations:l.annotations?Array.isArray(l.annotations)?l.annotations:[l.annotations]:wb,scrollIntoView:!!l.scrollIntoView,reconfigure:k}}function Ea(y,l,m){var k=Ga(y,l.length?l[0]:{},y.doc.length);l.length&&!1===l[0].filter&&(m=!1);for(var r=
1;r<l.length;r++){!1===l[r].filter&&(m=!1);var w=!!l[r].sequential,D=void 0,G=k;k=Ga(y,l[r],w?k.changes.newLength:y.doc.length);if(w){var Q=k.changes;var R=B.empty(k.changes.length);w=G.changes.compose(k.changes)}else Q=k.changes.map(G.changes),R=G.changes.mapDesc(k.changes,!0),w=G.changes.compose(Q);k={changes:w,selection:k.selection?k.selection.map(R):null===(D=G.selection)||void 0===D?void 0:D.map(Q),effects:wa.mapEffects(G.effects,Q).concat(wa.mapEffects(k.effects,R)),annotations:G.annotations.length?
G.annotations.concat(k.annotations):k.annotations,scrollIntoView:G.scrollIntoView||k.scrollIntoView,reconfigure:k.reconfigure?k.reconfigure.full||!G.reconfigure?k.reconfigure:Object.assign({},G.reconfigure,k.reconfigure):G.reconfigure}}y=new Ka(y,k.changes,k.selection,k.effects,k.annotations,k.reconfigure,k.scrollIntoView);if(m){m=y.startState;r=l=!0;D=!1;G=void 0;try{var T=m.facet(sb)[Symbol.iterator]();for(var O;!(r=(O=T.next()).done);r=!0){var aa=O.value,ha=aa(y);if(!1===ha){l=!1;break}if(Array.isArray(ha)){if(!0===
l)var ka=ha;else a:{k=l;w=ha;R=[];for(var la=Q=0;;){if(Q<k.length&&(la==w.length||w[la]>=k[Q])){var na=k[Q++];var za=k[Q++]}else if(la<w.length)na=w[la++],za=w[la++];else{ka=R;break a}!R.length||R[R.length-1]<na?R.push(na,za):R[R.length-1]<za&&(R[R.length-1]=za)}}l=ka}}}catch(Ya){D=!0,G=Ya}finally{try{if(!r&&null!=T["return"])T["return"]()}finally{if(D)throw G;}}!0!==l&&(!1===l?(O=y.changes.invertedDesc,T=B.empty(m.doc.length)):(O=y.changes.filter(l),T=O.changes,O=O.filtered.invertedDesc),y=new Ka(m,
T,y.selection&&y.selection.map(O),wa.mapEffects(y.effects,O),y.annotations,y.reconfigure,y.scrollIntoView));T=m.facet(nb);for(O=T.length-1;0<=O;O--)aa=T[O](y),y=aa instanceof Ka?aa:Array.isArray(aa)&&1==aa.length&&aa[0]instanceof Ka?aa[0]:Ea(m,Array.isArray(aa)?aa:[aa],!1);T=y}else T=y;return T}function ib(y){return function(l){if(!/\S/.test(l))return db.Space;a:if(xb)var m=xb.test(l);else{for(m=0;m<l.length;m++){var k=l[m];if(/\w/.test(k)||"Â€"<k&&(k.toUpperCase()!=k.toLowerCase()||tb.test(k))){m=
!0;break a}}m=!1}if(m)return db.Word;for(m=0;m<y.length;m++)if(-1<l.indexOf(y[m]))return db.Word;return db.Other}}Object.defineProperty(t,"__esModule",{value:!0});t.combineConfig=function(y,l){var m=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{},k={},r=!0,w=!1,D=void 0;try{for(var G=y[Symbol.iterator](),Q;!(r=(Q=G.next()).done);r=!0)for(var R=Q.value,T=0,O=Object.keys(R);T<O.length;T++){var aa=O[T],ha=R[aa],ka=k[aa];if(void 0===ka)k[aa]=ha;else if(ka!==ha&&void 0!==ha)if(Object.hasOwnProperty.call(m,
aa))k[aa]=m[aa](ka,ha);else throw Error("Config merge conflict for field "+aa);}}catch(na){w=!0,D=na}finally{try{if(!r&&null!=G["return"])G["return"]()}finally{if(w)throw D;}}for(var la in l)void 0===k[la]&&(k[la]=l[la]);return k};t.precedence=rb;t.tagExtension=function(y,l){return new Qa(y,l)};Object.defineProperty(t,"Text",{enumerable:!0,get:function(){return K.Text}});t.languageDataProp=t.Transaction=t.StateField=t.StateEffectType=t.StateEffect=t.SelectionRange=t.MapMode=t.IndentContext=t.Facet=
t.EditorState=t.EditorSelection=t.CharCategory=t.ChangeSet=t.ChangeDesc=t.AnnotationType=t.Annotation=void 0;var K=Ha(0),E=Ha(1),M=/\r\n?|\n/,P;t.MapMode=P;(function(y){y[y.Simple=0]="Simple";y[y.TrackDel=1]="TrackDel";y[y.TrackBefore=2]="TrackBefore";y[y.TrackAfter=3]="TrackAfter"})(P||(t.MapMode=P={}));var V=function(){function y(l){da(this,y);this.sections=l}ta(y,[{key:"iterGaps",value:function(l){for(var m=0,k=0,r=0;m<this.sections.length;){var w=this.sections[m++],D=this.sections[m++];0>D?(l(k,
r,w),r+=w):r+=D;k+=w}}},{key:"iterChangedRanges",value:function(l){lb(this,l,1<arguments.length&&void 0!==arguments[1]?arguments[1]:!1)}},{key:"composeDesc",value:function(l){return this.empty?l:l.empty?this:Ca(this,l)}},{key:"mapDesc",value:function(l){var m=1<arguments.length&&void 0!==arguments[1]?arguments[1]:!1;return l.empty?this:Y(this,l,m)}},{key:"mapPos",value:function(l){for(var m=1<arguments.length&&void 0!==arguments[1]?arguments[1]:-1,k=2<arguments.length&&void 0!==arguments[2]?arguments[2]:
P.Simple,r=0,w=0,D=0;D<this.sections.length;){var G=this.sections[D++],Q=this.sections[D++],R=r+G;if(0>Q){if(R>l)return w+(l-r);w+=G}else{if(k!=P.Simple&&R>=l&&(k==P.TrackDel&&r<l&&R>l||k==P.TrackBefore&&r<l||k==P.TrackAfter&&R>l))return-1;if(R>l||R==l&&0>m&&!G)return l==r||0>m?w:w+Q;w+=Q}r=R}if(l>r)throw new RangeError("Position ".concat(l," is out of range for changeset of length ").concat(r));return w}},{key:"mapPosStable",value:function(l){for(var m=1<arguments.length&&void 0!==arguments[1]?arguments[1]:
-1,k=0,r=0,w=0,D=0;D<this.sections.length;){var G=this.sections[D++],Q=this.sections[D++],R=k+G;if(0>Q){if(R>l)return r+Math.max(0,l-k);w=r+=G}else{if(0>=m&&R>=l)return w;r+=Q}k=R}return r}},{key:"touchesRange",value:function(l){for(var m=1<arguments.length&&void 0!==arguments[1]?arguments[1]:l,k=0,r=0;k<this.sections.length&&r<=m;){var w=this.sections[k++],D=this.sections[k++];w=r+w;if(0<=D&&r<=m&&w>=l)return r<l&&w>m?"cover":!0;r=w}return!1}},{key:"toString",value:function(){for(var l="",m=0;m<
this.sections.length;){var k=this.sections[m++],r=this.sections[m++];l+=(l?" ":"")+k+(0<=r?":"+r:"")}return l}},{key:"length",get:function(){for(var l=0,m=0;m<this.sections.length;m+=2)l+=this.sections[m];return l}},{key:"newLength",get:function(){for(var l=0,m=0;m<this.sections.length;m+=2){var k=this.sections[m+1];l+=0>k?this.sections[m]:k}return l}},{key:"empty",get:function(){return 0==this.sections.length||2==this.sections.length&&0>this.sections[1]}},{key:"invertedDesc",get:function(){for(var l=
[],m=0;m<this.sections.length;){var k=this.sections[m++],r=this.sections[m++];0>r?l.push(k,r):l.push(r,k)}return new y(l)}}]);return y}();t.ChangeDesc=V;var B=function(y){function l(m,k){da(this,l);m=Fa(l).call(this,m);if(!m||"object"!==Ia(m)&&"function"!==typeof m){if(void 0===this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");m=this}m.inserted=k;return m}ja(l,y);ta(l,[{key:"apply",value:function(m){if(this.length!=m.length)throw new RangeError("Applying change set to a document with the wrong length");
lb(this,function(k,r,w,D,G){return m=m.replace(w,w+(r-k),G)},!1);return m}},{key:"mapDesc",value:function(m){return Y(this,m,1<arguments.length&&void 0!==arguments[1]?arguments[1]:!1,!0)}},{key:"invert",value:function(m){for(var k=this.sections.slice(),r=[],w=0,D=0;w<k.length;w+=2){var G=k[w],Q=k[w+1];if(0<=Q){k[w]=Q;k[w+1]=G;for(Q=w>>1;r.length<Q;)r.push(K.Text.empty);r.push(G?m.slice(D,D+G):K.Text.empty)}D+=G}return new l(k,r)}},{key:"compose",value:function(m){return this.empty?m:m.empty?this:
Ca(this,m,!0)}},{key:"map",value:function(m){var k=1<arguments.length&&void 0!==arguments[1]?arguments[1]:!1;return m.empty?this:Y(this,m,k,!0)}},{key:"iterChanges",value:function(m){lb(this,m,1<arguments.length&&void 0!==arguments[1]?arguments[1]:!1)}},{key:"filter",value:function(m){var k=[],r=[],w=[],D=new q(this),G=0,Q=0;a:for(;;){for(var R=G==m.length?1E9:m[G++];Q<R||Q==R&&0==D.len;){if(D.done)break a;var T=Math.min(D.len,R-Q);va(w,T,-1);var O=-1==D.ins?-1:0==D.off?D.ins:0;va(k,T,O);0<O&&W(r,
k,D.text);D.forward(T);Q+=T}for(R=m[G++];Q<R;){if(D.done)break a;T=Math.min(D.len,R-Q);va(k,T,-1);va(w,T,-1==D.ins?-1:0==D.off?D.ins:0);D.forward(T);Q+=T}}return{changes:new l(k,r),filtered:new V(w)}}},{key:"desc",get:function(){return new V(this.sections)}}],[{key:"of",value:function(m,k,r){function w(){if(0<arguments.length&&void 0!==arguments[0]&&arguments[0]||G.length){R<k&&va(G,k-R,-1);var O=new l(G,Q);T=T?T.compose(O.map(T)):O;G=[];Q=[];R=0}}function D(O){if(Array.isArray(O)){var aa=!0,ha=!1,
ka=void 0;try{for(var la=O[Symbol.iterator](),na;!(aa=(na=la.next()).done);aa=!0)D(na.value)}catch(za){ha=!0,ka=za}finally{try{if(!aa&&null!=la["return"])la["return"]()}finally{if(ha)throw ka;}}}else if(O instanceof l){if(O.length!=k)throw new RangeError("Mismatched change set length (got ".concat(O.length,", expected ").concat(k,")"));w();T=T?T.compose(O.map(T)):O}else{aa=O.from;ha=O.to;ha=void 0===ha?aa:ha;O=O.insert;if(aa>ha||0>aa||ha>k)throw new RangeError("Invalid change range ".concat(aa," to ").concat(ha,
" (in doc of length ").concat(k,")"));O=O?"string"==typeof O?K.Text.of(O.split(r||M)):O:K.Text.empty;ka=O.length;if(aa!=ha||0!=ka)aa<R&&w(),aa>R&&va(G,aa-R,-1),va(G,ha-aa,ka),W(Q,G,O),R=ha}}var G=[],Q=[],R=0,T=null;D(m);w(!T);return T}},{key:"empty",value:function(m){return new l(m?[m,-1]:[],[])}}]);return l}(V);t.ChangeSet=B;var q=function(){function y(l){da(this,y);this.set=l;this.i=0;this.next()}ta(y,[{key:"next",value:function(){var l=this.set.sections;this.i<l.length?(this.len=l[this.i++],this.ins=
l[this.i++]):(this.len=0,this.ins=-2);this.off=0}},{key:"textBit",value:function(l){var m=this.set.inserted,k=this.i-2>>1;return k>=m.length&&!l?K.Text.empty:m[k].slice(this.off,null==l?void 0:this.off+l)}},{key:"forward",value:function(l){l==this.len?this.next():(this.len-=l,this.off+=l)}},{key:"forward2",value:function(l){-1==this.ins?this.forward(l):l==this.ins?this.next():(this.ins-=l,this.off+=l)}},{key:"done",get:function(){return-2==this.ins}},{key:"len2",get:function(){return 0>this.ins?this.len:
this.ins}},{key:"text",get:function(){var l=this.set.inserted,m=this.i-2>>1;return m>=l.length?K.Text.empty:l[m]}}]);return y}(),u=function(){function y(l,m,k){da(this,y);this.from=l;this.to=m;this.flags=k}ta(y,[{key:"map",value:function(l){var m=l.mapPos(this.from);l=l.mapPos(this.to);return m==this.from&&l==this.to?this:new y(m,l,this.flags)}},{key:"extend",value:function(l){var m=1<arguments.length&&void 0!==arguments[1]?arguments[1]:l;return l<=this.anchor&&m>=this.anchor?x.range(l,m):x.range(this.anchor,
Math.abs(l-this.anchor)>Math.abs(m-this.anchor)?l:m)}},{key:"eq",value:function(l){return this.anchor==l.anchor&&this.head==l.head}},{key:"toJSON",value:function(){return{anchor:this.anchor,head:this.head}}},{key:"anchor",get:function(){return this.flags&16?this.to:this.from}},{key:"head",get:function(){return this.flags&16?this.from:this.to}},{key:"empty",get:function(){return this.from==this.to}},{key:"assoc",get:function(){return this.flags&4?-1:this.flags&8?1:0}},{key:"bidiLevel",get:function(){var l=
this.flags&3;return 3==l?null:l}},{key:"goalColumn",get:function(){var l=this.flags>>5;return 33554431==l?void 0:l}}],[{key:"fromJSON",value:function(l){if(!l||"number"!=typeof l.anchor||"number"!=typeof l.head)throw new RangeError("Invalid JSON representation for SelectionRange");return x.range(l.anchor,l.head)}}]);return y}();t.SelectionRange=u;var x=function(){function y(l){var m=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0;da(this,y);this.ranges=l;this.primaryIndex=m}ta(y,[{key:"map",
value:function(l){return l.empty?this:y.create(this.ranges.map(function(m){return m.map(l)}),this.primaryIndex)}},{key:"eq",value:function(l){if(this.ranges.length!=l.ranges.length||this.primaryIndex!=l.primaryIndex)return!1;for(var m=0;m<this.ranges.length;m++)if(!this.ranges[m].eq(l.ranges[m]))return!1;return!0}},{key:"asSingle",value:function(){return 1==this.ranges.length?this:new y([this.primary])}},{key:"addRange",value:function(l){var m=1<arguments.length&&void 0!==arguments[1]?arguments[1]:
!0;return y.create([l].concat(this.ranges),m?0:this.primaryIndex+1)}},{key:"replaceRange",value:function(l){var m=1<arguments.length&&void 0!==arguments[1]?arguments[1]:this.primaryIndex,k=this.ranges.slice();k[m]=l;return y.create(k,this.primaryIndex)}},{key:"toJSON",value:function(){return{ranges:this.ranges.map(function(l){return l.toJSON()}),primaryIndex:this.primaryIndex}}},{key:"primary",get:function(){return this.ranges[this.primaryIndex]}}],[{key:"fromJSON",value:function(l){if(!l||!Array.isArray(l.ranges)||
"number"!=typeof l.primaryIndex||l.primaryIndex>=l.ranges.length)throw new RangeError("Invalid JSON representation for EditorSelection");return new y(l.ranges.map(function(m){return u.fromJSON(m)}),l.primaryIndex)}},{key:"single",value:function(l){return new y([y.range(l,1<arguments.length&&void 0!==arguments[1]?arguments[1]:l)],0)}},{key:"create",value:function(l){var m=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0;if(0==l.length)throw new RangeError("A selection needs at least one range");
for(var k=0,r=0;r<l.length;r++){var w=l[r];if(w.empty?w.from<=k:w.from<k)return gb(l.slice(),m);k=w.to}return new y(l,m)}},{key:"cursor",value:function(l){var m=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,k=2<arguments.length?arguments[2]:void 0,r=3<arguments.length?arguments[3]:void 0;return new u(l,l,(0==m?0:0>m?4:8)|(null==k?3:Math.min(2,k))|(null!==r&&void 0!==r?r:33554431)<<5)}},{key:"range",value:function(l,m,k){k=(null!==k&&void 0!==k?k:33554431)<<5;return m<l?new u(m,l,16|k):
new u(l,m,k)}}]);return y}();t.EditorSelection=x;var F=0,S=function(){function y(l,m,k,r){da(this,y);this.combine=l;this.compareInput=m;this.compare=k;this.isStatic=r;this.id=F++;this["default"]=l([])}ta(y,[{key:"of",value:function(l){return new X([],this,0,l)}},{key:"compute",value:function(l,m){if(this.isStatic)throw Error("Can't compute a static facet");return new X(l,this,1,m)}},{key:"computeN",value:function(l,m){if(this.isStatic)throw Error("Can't compute a static facet");return new X(l,this,
2,m)}},{key:"from",value:function(l,m){var k=this;return function(r){return Ma(m,k.compute([r],function(w){return l(w.field(r))}))}}},{key:"nFrom",value:function(l,m){var k=this;return function(r){return Ma(m,k.computeN([r],function(w){return l(w.field(r))}))}}}],[{key:"define",value:function(){var l=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return new y(l.combine||function(m){return m},l.compareInput||function(m,k){return m===k},l.compare||(l.combine?function(m,k){return m===k}:hb),
!!l["static"])}}]);return y}();t.Facet=S;var X=function(){function y(l,m,k,r){da(this,y);this.dependencies=l;this.facet=m;this.type=k;this.value=r;this.id=F++}ta(y,[{key:"dynamicSlot",value:function(l){var m=this.value,k=this.facet.compareInput,r=l[this.id]>>1,w=2==this.type,D=!1,G=!1,Q=[],R=!0,T=!1,O=void 0;try{for(var aa=this.dependencies[Symbol.iterator](),ha;!(R=(ha=aa.next()).done);R=!0){var ka=ha.value;"doc"==ka?D=!0:"selection"==ka?G=!0:0==(l[ka.id]&1)&&Q.push(l[ka.id])}}catch(la){T=!0,O=la}finally{try{if(!R&&
null!=aa["return"])aa["return"]()}finally{if(T)throw O;}}return function(la,na){if(!na||na.reconfigure)la.values[r]=m(la);else{if(!(D&&na.docChanged||G&&(na.docChanged||na.selection)||Q.some(function(Ya){return 0<(ia(la,Ya)&1)})))return 0;var za=m(la);na=na.startState.values[r];if(w?Va(za,na,k):k(za,na))return 0;la.values[r]=za}return 1}}}]);return y}(),Z=function(){function y(l,m,k,r,w){da(this,y);this.id=l;this.createF=m;this.updateF=k;this.compareF=r;this.facets=w}ta(y,[{key:"slot",value:function(l){var m=
this,k=l[this.id]>>1;return function(r,w){if(!w)return r.values[k]=m.createF(r),1;var D=0;if(w.reconfigure){var G=w.startState.config.address[m.id];G=null==G?null:G>>1;G=null==G?m.createF(w.startState):w.startState.values[G];D=1}else G=w.startState.values[k];w=m.updateF(G,w);D||m.compareF(G,w)||(D=1);D&&(r.values[k]=w);return D}}}],[{key:"define",value:function(l){var m=[],k=new y(F++,l.create,l.update,l.compare||function(T,O){return T===O},m);if(l.provide){var r=!0,w=!1,D=void 0;try{for(var G=l.provide[Symbol.iterator](),
Q;!(r=(Q=G.next()).done);r=!0){var R=Q.value;R instanceof S?m.push(R.compute([k],function(T){return T.field(k)})):m.push(R(k))}}catch(T){w=!0,D=T}finally{try{if(!r&&null!=G["return"])G["return"]()}finally{if(w)throw D;}}}return k}}]);return y}();t.StateField=Z;var fa={fallback:3,"default":2,extend:1,override:0},ra=function k(l,m){da(this,k);this.e=l;this.prec=m},Qa=function r(m,k){da(this,r);this.tag=m;this.extension=k},Na=function(){function m(k,r,w,D,G){da(this,m);this.source=k;this.replacements=
r;this.dynamicSlots=w;this.address=D;this.staticValues=G;for(this.statusTemplate=[];this.statusTemplate.length<G.length;)this.statusTemplate.push(0)}ta(m,[{key:"staticFacet",value:function(k){var r=this.address[k.id];return null==r?k["default"]:this.staticValues[r>>1]}}],[{key:"resolve",value:function(k){var r=1<arguments.length&&void 0!==arguments[1]?arguments[1]:Object.create(null),w=2<arguments.length?arguments[2]:void 0,D=[],G=Object.create(null),Q=!0,R=!1,T=void 0;try{for(var O=Wa(k,r)[Symbol.iterator](),
aa;!(Q=(aa=O.next()).done);Q=!0){var ha=aa.value;ha instanceof Z?D.push(ha):(G[ha.facet.id]||(G[ha.facet.id]=[])).push(ha)}}catch(U){R=!0,T=U}finally{try{if(!Q&&null!=O["return"])O["return"]()}finally{if(R)throw T;}}var ka=Object.create(null),la=[],na=[];Q=function(){var U=Ya[za];ka[U.id]=na.length<<1;na.push(function(Za){return U.slot(Za)})};for(var za=0,Ya=D;za<Ya.length;za++)Q();D=function(U){var Za=G[U],Ta=Za[0].facet;if(Za.every(function(H){return 0==H.type})){ka[Ta.id]=la.length<<1|1;var Xa=
Ta.combine(Za.map(function(H){return H.value}));U=w?w.config.address[Ta.id]:null;null!=U&&(U=Da(w,U),Ta.compare(Xa,U)&&(Xa=U));la.push(Xa)}else{U=!0;var Cb=!1,n=void 0;try{var z=function(){var H=J.value;0==H.type?(ka[H.id]=la.length<<1|1,la.push(H.value)):(ka[H.id]=na.length<<1,na.push(function(I){return H.dynamicSlot(I)}))};Xa=Za[Symbol.iterator]();for(var J;!(U=(J=Xa.next()).done);U=!0)z()}catch(H){Cb=!0,n=H}finally{try{if(!U&&null!=Xa["return"])Xa["return"]()}finally{if(Cb)throw n;}}ka[Ta.id]=
na.length<<1;na.push(function(H){return ya(H,Ta,Za)})}};for(var Ib in G)D(Ib);return new m(k,r,na.map(function(U){return U(ka)}),ka,la)}}]);return m}(),mb=S.define({combine:function(m){return m.some(function(k){return k})},"static":!0}),sb=S.define(),nb=S.define();La=new E.NodeProp;t.languageDataProp=La;var ob=S.define();La=function(){function m(k){var r=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};da(this,m);this.state=k;this.options=r}ta(m,[{key:"textAfterPos",value:function(k){var r,
w,D=null===(r=this.options)||void 0===r?void 0:r.simulateBreak;return k==D&&(null===(w=this.options)||void 0===w?0:w.simulateDoubleBreak)?"":this.state.sliceDoc(k,Math.min(k+100,null!=D&&D>k?D:1E9,this.state.doc.lineAt(k).to))}},{key:"countColumn",value:function(k,r){return(0,K.countColumn)(0>r?k:k.slice(0,r),0,this.state.tabSize)}},{key:"lineIndent",value:function(k){var r,w=null===(r=this.options)||void 0===r?void 0:r.overrideIndentation;if(w&&(r=w(k.from),-1<r))return r;k=k.slice(0,Math.min(100,
k.length));return this.countColumn(k,k.search(/\S/))}},{key:"column",value:function(k){var r,w=this.state.doc.lineAt(k),D=w.slice(0,k-w.from);k=this.countColumn(D,k-w.from);w=(null===(r=this.options)||void 0===r?0:r.overrideIndentation)?this.options.overrideIndentation(w.from):-1;-1<w&&(k+=w-this.countColumn(D,D.search(/\S/)));return k}},{key:"unit",get:function(){return this.state.indentUnit}}]);return m}();t.IndentContext=La;var Oa=function(){function m(k,r){da(this,m);this.type=k;this.value=r}
ta(m,null,[{key:"define",value:function(){return new Sa}}]);return m}();t.Annotation=Oa;var Sa=function(){function m(){da(this,m)}ta(m,[{key:"of",value:function(k){return new Oa(this,k)}}]);return m}();t.AnnotationType=Sa;var wa=function(){function m(k,r){da(this,m);this.type=k;this.value=r}ta(m,[{key:"map",value:function(k){k=this.type.map(this.value,k);return void 0===k?void 0:k==this.value?this:new m(this.type,k)}},{key:"is",value:function(k){return this.type==k}}],[{key:"define",value:function(){return new Ra((0<
arguments.length&&void 0!==arguments[0]?arguments[0]:{}).map||function(k){return k})}},{key:"mapEffects",value:function(k,r){if(!k.length)return k;var w=[],D=!0,G=!1,Q=void 0;try{for(var R=k[Symbol.iterator](),T;!(D=(T=R.next()).done);D=!0){var O=T.value.map(r);O&&w.push(O)}}catch(aa){G=!0,Q=aa}finally{try{if(!D&&null!=R["return"])R["return"]()}finally{if(G)throw Q;}}return w}}]);return m}();t.StateEffect=wa;var Ra=function(){function m(k){da(this,m);this.map=k}ta(m,[{key:"of",value:function(k){return new wa(this,
k)}}]);return m}();t.StateEffectType=Ra;var Ka=function(){function m(k,r,w,D,G,Q,R){da(this,m);this.startState=k;this.changes=r;this.selection=w;this.effects=D;this.annotations=G;this.reconfigure=Q;this.scrollIntoView=R;this._state=this._doc=null;w&&cb(w,r.newLength);G.some(function(T){return T.type==m.time})||(this.annotations=G.concat(m.time.of(Date.now())))}ta(m,[{key:"annotation",value:function(k){var r=!0,w=!1,D=void 0;try{for(var G=this.annotations[Symbol.iterator](),Q;!(r=(Q=G.next()).done);r=
!0){var R=Q.value;if(R.type==k)return R.value}}catch(T){w=!0,D=T}finally{try{if(!r&&null!=G["return"])G["return"]()}finally{if(w)throw D;}}}},{key:"newDoc",get:function(){return this._doc||(this._doc=this.changes.apply(this.startState.doc))}},{key:"newSelection",get:function(){return this.selection||this.startState.selection.map(this.changes)}},{key:"state",get:function(){this._state||this.startState.applyTransaction(this);return this._state}},{key:"docChanged",get:function(){return!this.changes.empty}}]);
return m}();t.Transaction=Ka;Ka.time=Oa.define();Ka.userEvent=Oa.define();Ka.addToHistory=Oa.define();var wb=[],db;t.CharCategory=db;(function(m){m[m.Word=0]="Word";m[m.Space=1]="Space";m[m.Other=2]="Other"})(db||(t.CharCategory=db={}));var tb=/[\u00df\u0587\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/;try{var xb=RegExp("[\\p{Alphabetic}\\p{Number}_]","u")}catch(m){}var Pa=function(){function m(k,r,w){var D=3<arguments.length&&void 0!==arguments[3]?
arguments[3]:null;da(this,m);this.config=k;this.doc=r;this.selection=w;this.applying=null;this.status=k.statusTemplate.slice();if(D&&!D.reconfigure)this.values=D.startState.values.slice();else if(this.values=k.dynamicSlots.map(function(T){return null}),D)for(var G in k.address){var Q=k.address[G],R=D.startState.config.address[G];null!=R&&0==(Q&1)&&(this.values[Q>>1]=Da(D.startState,R))}if(this.applying=D)D._state=this;for(D=0;D<this.config.dynamicSlots.length;D++)ia(this,D<<1);this.applying=null}
ta(m,[{key:"field",value:function(k){var r=1<arguments.length&&void 0!==arguments[1]?arguments[1]:!0,w=this.config.address[k.id];if(null==w){if(r)throw new RangeError("Field is not present in this state");}else return ia(this,w),Da(this,w)}},{key:"update",value:function(){for(var k=arguments.length,r=Array(k),w=0;w<k;w++)r[w]=arguments[w];return Ea(this,r,!0)}},{key:"applyTransaction",value:function(k){var r=this.config;k.reconfigure&&(r=Na.resolve(k.reconfigure.full||r.source,Object.assign(r.replacements,
k.reconfigure,{full:void 0}),this));new m(r,k.newDoc,k.newSelection,k)}},{key:"replaceSelection",value:function(k){"string"==typeof k&&(k=this.toText(k));return this.changeByRange(function(r){return{changes:{from:r.from,to:r.to,insert:k},range:x.cursor(r.from+k.length)}})}},{key:"changeByRange",value:function(k){var r=this.selection,w=k(r.ranges[0]),D=this.changes(w.changes);w=[w.range];for(var G=1;G<r.ranges.length;G++){for(var Q=k(r.ranges[G]),R=this.changes(Q.changes),T=R.map(D),O=0;O<G;O++)w[O]=
w[O].map(T);w.push(Q.range.map(D.mapDesc(R,!0)));D=D.compose(T)}return{changes:D,selection:x.create(w,r.primaryIndex)}}},{key:"changes",value:function(){var k=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[];return k instanceof B?k:B.of(k,this.doc.length,this.facet(m.lineSeparator))}},{key:"toText",value:function(k){return K.Text.of(k.split(this.facet(m.lineSeparator)||M))}},{key:"sliceDoc",value:function(){return this.doc.sliceString(0<arguments.length&&void 0!==arguments[0]?arguments[0]:
0,1<arguments.length&&void 0!==arguments[1]?arguments[1]:this.doc.length,this.lineBreak)}},{key:"facet",value:function(k){var r=this.config.address[k.id];if(null==r)return k["default"];ia(this,r);return Da(this,r)}},{key:"toJSON",value:function(){return{doc:this.sliceDoc(),selection:this.selection.toJSON()}}},{key:"indentString",value:function(k){var r="";if(9==this.facet(m.indentUnit).charCodeAt(0))for(;k>=this.tabSize;)r+="\t",k-=this.tabSize;for(var w=0;w<k;w++)r+=" ";return r}},{key:"phrase",
value:function(k){var r=!0,w=!1,D=void 0;try{for(var G=this.facet(m.phrases)[Symbol.iterator](),Q;!(r=(Q=G.next()).done);r=!0){var R=Q.value;if(Object.prototype.hasOwnProperty.call(R,k))return R[k]}}catch(T){w=!0,D=T}finally{try{if(!r&&null!=G["return"])G["return"]()}finally{if(w)throw D;}}return k}},{key:"charCategorizer",value:function(k){return ib(this.languageDataAt("wordChars",k).join(""))}},{key:"languageDataAt",value:function(k,r){for(var w=[],D=this.facet(m.syntax),G=D.length?0:1;2>G;G++){var Q=
this.facet(G?ob:D[0].languageDataFacetAt(this,r)),R=!0,T=!1,O=void 0;try{for(var aa=Q[Symbol.iterator](),ha;!(R=(ha=aa.next()).done);R=!0){var ka=ha.value;Object.prototype.hasOwnProperty.call(ka,k)&&w.push(ka[k])}}catch(la){T=!0,O=la}finally{try{if(!R&&null!=aa["return"])aa["return"]()}finally{if(T)throw O;}}}return w}},{key:"tabSize",get:function(){return this.facet(m.tabSize)}},{key:"lineBreak",get:function(){return this.facet(m.lineSeparator)||"\n"}},{key:"indentUnit",get:function(){var k=this.facet(m.indentUnit);
return 9==k.charCodeAt(0)?this.tabSize*k.length:k.length}},{key:"tree",get:function(){var k=this.facet(m.syntax);return k.length?k[0].getTree(this):E.Tree.empty}}],[{key:"fromJSON",value:function(k){var r=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};if(!k||"string"!=typeof k.doc)throw new RangeError("Invalid JSON representation for EditorState");return m.create({doc:k.doc,selection:x.fromJSON(k.selection),extensions:r.extensions})}},{key:"create",value:function(){var k=0<arguments.length&&
void 0!==arguments[0]?arguments[0]:{},r=Na.resolve(k.extensions||[]),w=k.doc instanceof K.Text?k.doc:K.Text.of((k.doc||"").split(r.staticFacet(m.lineSeparator)||M));k=k.selection?k.selection instanceof x?k.selection:x.single(k.selection.anchor,k.selection.head):x.single(0);cb(k,w.length);r.staticFacet(mb)||(k=k.asSingle());return new m(r,w,k)}}]);return m}();t.EditorState=Pa;Pa.allowMultipleSelections=mb;Pa.indentation=S.define();Pa.tabSize=S.define({combine:function(m){return m.length?m[0]:4}});
Pa.lineSeparator=S.define({combine:function(m){return m.length?m[0]:void 0},"static":!0});Pa.indentUnit=S.define({combine:function(m){if(!m.length)return"  ";if(!/^(?: +|\t+)$/.test(m[0]))throw Error("Invalid indent unit: "+JSON.stringify(m[0]));return m[0]}});Pa.phrases=S.define();Pa.syntax=S.define();Pa.globalLanguageData=ob;Pa.foldable=S.define();Pa.changeFilter=sb;Pa.transactionFilter=nb};
shadow$provide[3]=function(ca,qa,Ma,D){function ya(Aa,ka){return"undefined"==typeof Symbol?"__"+Aa+(ka?Math.floor(1E8*Math.random()):""):ka?Symbol(Aa):Symbol.for(Aa)}function La(Aa,ka,Qa){if("object"!=typeof ka)throw new RangeError("Expected style object, got "+JSON.stringify(ka));var Ga=[],ma=function(T){if(/^@/.test(T)){var J=[];La(Aa,ka[T],J);Qa.push(T+" {"+J.join(" ")+"}")}else if(/&/.test(T))La(Aa.split(/\s*,\s*/).map(function(t){return T.replace(/&/g,t)}).join(", "),ka[T],Qa);else if("specificity"!=
T){if("object"==typeof ka[T])throw new RangeError("The value of a property ("+T+") should be a primitive value.");Ga.push(T.replace(/_.*/,"").replace(/[A-Z]/g,function(t){return"-"+t.toLowerCase()})+": "+ka[T])}},aa;for(aa in ka)ma(aa);Ga.length&&Qa.push(Aa+" {"+Ga.join("; ")+"}")}var Ea=ya("Í¼"),Xa=ya("styleSet",1),xa=ya("rules",1),Ka="undefined"==typeof ca?window:ca,va=D.StyleModule=function(Aa,ka){this[xa]=[];for(var Qa in Aa){var Ga=Aa[Qa].specificity||0,ma=va.newName(),aa=Qa;if(!1!==(ka&&ka.generateClasses)){var T=
ma;aa="."+ma;for(ma=0;ma<Ga;ma++){var J="Í¼_"+(ma?ma.toString(36):"");aa+="."+J;T+=" "+J}this[Qa]=T}La(aa,Aa[Qa],this[xa])}};va.newName=function(){var Aa=Ka[Ea]||1;Ka[Ea]=Aa+1;return"Í¼"+Aa.toString(36)};va.prototype=Object.create(null);va.mount=function(Aa,ka){(Aa[Xa]||new ra(Aa)).mount(Array.isArray(ka)?ka:[ka])};var Na=null,ra=function(Aa){if(Aa.adoptedStyleSheets&&"undefined"!=typeof CSSStyleSheet){if(Na)return Aa.adoptedStyleSheets=[Na.sheet].concat(Aa.adoptedStyleSheets),Aa[Xa]=Na;this.sheet=
new CSSStyleSheet;Aa.adoptedStyleSheets=[this.sheet].concat(Aa.adoptedStyleSheets);Na=this}else this.styleTag=(Aa.ownerDocument||Aa).createElement("style"),Aa=Aa.head||Aa,Aa.insertBefore(this.styleTag,Aa.firstChild);this.modules=[]};ra.prototype.mount=function(Aa){for(var ka=this.sheet,Qa=0,Ga=0,ma=0;ma<Aa.length;ma++){var aa=Aa[ma],T=this.modules.indexOf(aa);T<Ga&&-1<T&&(this.modules.splice(T,1),Ga--,T=-1);if(-1==T){if(this.modules.splice(Ga++,0,aa),ka)for(T=0;T<aa[xa].length;T++)ka.insertRule(aa[xa][T],
Qa++)}else{for(;Ga<T;)Qa+=this.modules[Ga++][xa].length;Qa+=aa[xa].length;Ga++}}if(!ka){Aa="";for(ka=0;ka<this.modules.length;ka++)Aa+=this.modules[ka][xa].join("\n")+"\n";this.styleTag.textContent=Aa}}};
shadow$provide[4]=function(ca,qa,Ma,D){function ya(T,J){if(!(T instanceof J))throw new TypeError("Cannot call a class as a function");}function La(T,J){for(var t=0;t<J.length;t++){var q=J[t];q.enumerable=q.enumerable||!1;q.configurable=!0;"value"in q&&(q.writable=!0);Object.defineProperty(T,q.key,q)}}function Ea(T,J,t){J&&La(T.prototype,J);t&&La(T,t);return T}function Xa(T,J){return T.from-J.from||T.value.startSide-J.value.startSide}function xa(T,J){var t=new Map,q=!0,B=!1,I=void 0;try{for(var S=
T[Symbol.iterator](),x;!(q=(x=S.next()).done);q=!0){var n=x.value;for(T=0;T<n.chunk.length;T++)500>n.chunk[T].maxPoint&&t.set(n.chunk[T],n.chunkPos[T])}}catch(v){B=!0,I=v}finally{try{if(!q&&null!=S["return"])S["return"]()}finally{if(B)throw I;}}q=new Set;B=!0;I=!1;S=void 0;try{for(var y=J[Symbol.iterator](),w;!(B=(w=y.next()).done);B=!0){var p=w.value;for(J=0;J<p.chunk.length;J++)t.get(p.chunk[J])==p.chunkPos[J]&&q.add(p.chunk[J])}}catch(v){I=!0,S=v}finally{try{if(!B&&null!=y["return"])y["return"]()}finally{if(I)throw S;
}}return q}function Ka(T,J){for(var t=T[J];;){var q=(J<<1)+1;if(q>=T.length)break;var B=T[q];q+1<T.length&&0<=B.compare(T[q+1])&&(B=T[q+1],q++);if(0>t.compare(B))break;T[q]=t;T[J]=B;J=q}}function va(T,J,t,q,B,I){T["goto"](J);t["goto"](q);B=q+B;var S=q;for(J=q-J;;){q=T.to+J-t.to||T.endSide-t.endSide;var x=0>q?T.to+J:t.to,n=Math.min(x,B);if(T.point||t.point)T.point&&t.point&&(T.point==t.point||T.point.eq(t.point))||I.comparePoint(S,n,T.point,t.point);else{var y;if(y=n>S){a:{y=T.active;var w=t.active;
if(y.length!=w.length)y=!1;else{var p=0;b:for(;p<y.length;p++){for(var v=0;v<w.length;v++)if(y[p]==w[p]||y[p].eq(w[v]))continue b;y=!1;break a}y=!0}}y=!y}y&&I.compareRange(S,n,T.active,t.active)}if(x>B)break;S=x;0>=q&&T.next();0<=q&&t.next()}}function Na(T,J){for(var t=-1,q=1E9,B=0;B<J.length;B++)0>(J[B]-q||T[B].endSide-T[t].endSide)&&(t=B,q=J[B]);return t}Object.defineProperty(D,"__esModule",{value:!0});D.RangeValue=D.RangeSetBuilder=D.RangeSet=D.Range=void 0;ca=qa(2);qa=function(){function T(){ya(this,
T)}Ea(T,[{key:"eq",value:function(J){return this==J}},{key:"range",value:function(J){return new ra(J,1<arguments.length&&void 0!==arguments[1]?arguments[1]:J,this)}}]);return T}();D.RangeValue=qa;qa.prototype.startSide=qa.prototype.endSide=0;qa.prototype.point=!1;qa.prototype.mapMode=ca.MapMode.TrackDel;var ra=function B(J,t,q){ya(this,B);this.from=J;this.to=t;this.value=q};D.Range=ra;var Aa=function(){function J(t,q,B,I){ya(this,J);this.from=t;this.to=q;this.value=B;this.maxPoint=I}Ea(J,[{key:"findIndex",
value:function(t,q){var B=2<arguments.length&&void 0!==arguments[2]?arguments[2]:1E9*q,I=3<arguments.length&&void 0!==arguments[3]?arguments[3]:0;if(0>=t)return I;for(var S=0>q?this.to:this.from,x=S.length;;){if(I==x)return I;var n=I+x>>1,y=S[n]-t||(0>q?this.value[n].startSide:this.value[n].endSide)-B;if(n==I)return 0<=y?I:x;0<=y?x=n:I=n+1}}},{key:"between",value:function(t,q,B,I){q=this.findIndex(q,-1);for(B=this.findIndex(B,1,void 0,q);q<B;q++)if(!1===I(this.from[q]+t,this.to[q]+t,this.value[q]))return!1}},
{key:"map",value:function(t,q){for(var B=[],I=[],S=[],x=-1,n=-1,y=0;y<this.value.length;y++){var w=this.value[y],p=this.from[y]+t,v=this.to[y]+t;if(p==v){v=q.mapPos(p,w.startSide,w.mapMode);if(0>v)continue;p=v}else if(p=q.mapPos(p,w.startSide),v=q.mapPos(v,w.endSide),p>v||p==v&&0<w.startSide&&0>=w.endSide)continue;0>(v-p||w.endSide-w.startSide)||(0>x&&(x=p),w.point&&(n=Math.max(n,v-p)),B.push(w),I.push(p-x),S.push(v-x))}return{mapped:B.length?new J(I,S,B,n):null,pos:x}}},{key:"length",get:function(){return this.to[this.to.length-
1]}}]);return J}(),ka=function(){function J(t,q){var B=2<arguments.length&&void 0!==arguments[2]?arguments[2]:J.empty,I=3<arguments.length?arguments[3]:void 0;ya(this,J);this.chunkPos=t;this.chunk=q;this.nextLayer=B;this.maxPoint=I}Ea(J,[{key:"chunkEnd",value:function(t){return this.chunkPos[t]+this.chunk[t].length}},{key:"update",value:function(t){var q=t.add;q=void 0===q?[]:q;var B=t.sort,I=t.filter,S=t.filterFrom;S=void 0===S?0:S;t=t.filterTo;t=void 0===t?this.length:t;if(0==q.length&&!I)return this;
(void 0===B?0:B)&&q.slice().sort(Xa);if(this==J.empty)return q.length?J.of(q):this;B=(new Ga(this,null,-1))["goto"](0);for(var x=0,n=[],y=new Qa;B.value||x<q.length;)if(x<q.length&&0<=(B.from-q[x].from||B.startSide-q[x].value.startSide)){var w=q[x++];y.addInner(w.from,w.to,w.value)||n.push(w)}else if(1==B.rangeIndex&&B.chunkIndex<this.chunk.length&&(x==q.length||this.chunkEnd(B.chunkIndex)<q[x].from)&&(!I||S>this.chunkEnd(B.chunkIndex)||t<this.chunkPos[B.chunkIndex])&&y.addChunk(this.chunkPos[B.chunkIndex],
this.chunk[B.chunkIndex]))B.nextChunk();else{if(!I||S>B.to||t<B.from||I(B.from,B.to,B.value))y.addInner(B.from,B.to,B.value)||n.push(new ra(B.from,B.to,B.value));B.next()}return y.finishInner(this.nextLayer!=J.empty||n.length?this.nextLayer.update({add:n,filter:I,filterFrom:S,filterTo:t}):J.empty)}},{key:"map",value:function(t){if(0==t.length||this==J.empty)return this;for(var q=[],B=[],I=-1,S=0;S<this.chunk.length;S++){var x=this.chunkPos[S],n=this.chunk[S],y=t.touchesRange(x,x+n.length);!1===y?
(I=Math.max(I,n.maxPoint),q.push(n),B.push(t.mapPos(x))):!0===y&&(n=n.map(x,t),x=n.mapped,n=n.pos,x&&(I=Math.max(I,x.maxPoint),q.push(x),B.push(n)))}t=this.nextLayer.map(t);return 0==q.length?t:new J(B,q,t,I)}},{key:"between",value:function(t,q,B){if(this!=J.empty){for(var I=0;I<this.chunk.length;I++){var S=this.chunkPos[I],x=this.chunk[I];if(q>=S&&t<=S+x.length&&!1===x.between(S,t-S,q-S,B))return}this.nextLayer.between(t,q,B)}}},{key:"iter",value:function(){var t=0<arguments.length&&void 0!==arguments[0]?
arguments[0]:0;return ma.from([this])["goto"](t)}},{key:"length",get:function(){var t=this.chunk.length-1;return 0>t?0:Math.max(this.chunkEnd(t),this.nextLayer.length)}},{key:"size",get:function(){if(this==J.empty)return 0;var t=this.nextLayer.size,q=!0,B=!1,I=void 0;try{for(var S=this.chunk[Symbol.iterator](),x;!(q=(x=S.next()).done);q=!0)t+=x.value.value.length}catch(n){B=!0,I=n}finally{try{if(!q&&null!=S["return"])S["return"]()}finally{if(B)throw I;}}return t}}],[{key:"iter",value:function(t){var q=
1<arguments.length&&void 0!==arguments[1]?arguments[1]:0;return ma.from(t)["goto"](q)}},{key:"compare",value:function(t,q,B,I){var S,x=null!==(S=I.minPointSize)&&void 0!==S?S:-1;S=t.filter(function(v){return 500<=v.maxPoint||v!=J.empty&&0>q.indexOf(v)&&v.maxPoint>=x});var n=q.filter(function(v){return 500<=v.maxPoint||v!=J.empty&&0>t.indexOf(v)&&v.maxPoint>=x}),y=xa(S,n),w=new aa(S,y,x),p=new aa(n,y,x);B.iterGaps(function(v,C,N){return va(w,v,p,C,N,I)});B.empty&&0==B.length&&va(w,0,p,0,0,I)}},{key:"spans",
value:function(t,q,B,I){var S;t=(new aa(t,null,null!==(S=I.minPointSize)&&void 0!==S?S:-1))["goto"](q);for(S=q;;){var x=Math.min(t.to,B);t.point?I.point(S,x,t.point,t.pointFrom<q,t.to>B):x>S&&I.span(S,x,t.active);if(t.to>B)break;S=t.to;t.next()}}},{key:"of",value:function(t){var q=1<arguments.length&&void 0!==arguments[1]?arguments[1]:!1,B=new Qa,I=!0,S=!1,x=void 0;try{for(var n=(t instanceof ra?[t]:q?t.slice().sort(Xa):t)[Symbol.iterator](),y;!(I=(y=n.next()).done);I=!0){var w=y.value;B.add(w.from,
w.to,w.value)}}catch(p){S=!0,x=p}finally{try{if(!I&&null!=n["return"])n["return"]()}finally{if(S)throw x;}}return B.finish()}}]);return J}();D.RangeSet=ka;ka.empty=new ka([],[],null,-1);ka.empty.nextLayer=ka.empty;var Qa=function(){function J(){ya(this,J);this.chunks=[];this.chunkPos=[];this.chunkStart=-1;this.last=null;this.lastTo=this.lastFrom=-1E9;this.from=[];this.to=[];this.value=[];this.setMaxPoint=this.maxPoint=-1;this.nextLayer=null}Ea(J,[{key:"finishChunk",value:function(t){this.chunks.push(new Aa(this.from,
this.to,this.value,this.maxPoint));this.chunkPos.push(this.chunkStart);this.chunkStart=-1;this.setMaxPoint=Math.max(this.setMaxPoint,this.maxPoint);this.maxPoint=-1;t&&(this.from=[],this.to=[],this.value=[])}},{key:"add",value:function(t,q,B){this.addInner(t,q,B)||(this.nextLayer||(this.nextLayer=new J)).add(t,q,B)}},{key:"addInner",value:function(t,q,B){var I=t-this.lastTo||B.startSide-this.last.endSide;if(0>=I&&0>(t-this.lastFrom||B.startSide-this.last.startSide))throw Error("Ranges must be added sorted by `from` position and `startSide`");
if(0>I)return!1;250==this.from.length&&this.finishChunk(!0);0>this.chunkStart&&(this.chunkStart=t);this.from.push(t-this.chunkStart);this.to.push(q-this.chunkStart);this.last=B;this.lastFrom=t;this.lastTo=q;this.value.push(B);B.point&&(this.maxPoint=Math.max(this.maxPoint,q-t));return!0}},{key:"addChunk",value:function(t,q){if(0>(t-this.lastTo||q.value[0].startSide-this.last.endSide))return!1;this.from.length&&this.finishChunk(!0);this.setMaxPoint=Math.max(this.setMaxPoint,q.maxPoint);this.chunks.push(q);
this.chunkPos.push(t);var B=q.value.length-1;this.last=q.value[B];this.lastFrom=q.from[B]+t;this.lastTo=q.to[B]+t;return!0}},{key:"finish",value:function(){return this.finishInner(ka.empty)}},{key:"finishInner",value:function(t){this.from.length&&this.finishChunk(!1);if(0==this.chunks.length)return t;t=new ka(this.chunkPos,this.chunks,this.nextLayer?this.nextLayer.finishInner(t):t,this.setMaxPoint);this.from=null;return t}}]);return J}();D.RangeSetBuilder=Qa;var Ga=function(){function J(t,q,B){ya(this,
J);this.layer=t;this.skip=q;this.minPoint=B}Ea(J,[{key:"goto",value:function(t){var q=1<arguments.length&&void 0!==arguments[1]?arguments[1]:-1E9;this.chunkIndex=this.rangeIndex=0;this.gotoInner(t,q,!1);return this}},{key:"gotoInner",value:function(t,q,B){for(;this.chunkIndex<this.layer.chunk.length;){var I=this.layer.chunk[this.chunkIndex];if(!(this.skip&&this.skip.has(I)||this.layer.chunkEnd(this.chunkIndex)<t||I.maxPoint<this.minPoint))break;this.chunkIndex++;B=!1}t=this.chunkIndex==this.layer.chunk.length?
0:this.layer.chunk[this.chunkIndex].findIndex(t-this.layer.chunkPos[this.chunkIndex],-1,q);if(!B||this.rangeIndex<t)this.rangeIndex=t;this.next()}},{key:"forward",value:function(t,q){0>(this.to-t||this.endSide-q)&&this.gotoInner(t,q,!0)}},{key:"next",value:function(){for(;;)if(this.chunkIndex==this.layer.chunk.length){this.from=this.to=1E9;this.value=null;break}else{var t=this.layer.chunkPos[this.chunkIndex],q=this.layer.chunk[this.chunkIndex];this.from=t+q.from[this.rangeIndex];this.to=t+q.to[this.rangeIndex];
this.value=q.value[this.rangeIndex];if(++this.rangeIndex==q.value.length){this.chunkIndex++;if(this.skip)for(;this.chunkIndex<this.layer.chunk.length&&this.skip.has(this.layer.chunk[this.chunkIndex]);)this.chunkIndex++;this.rangeIndex=0}if(0>this.minPoint||this.value.point&&this.to-this.from>=this.minPoint)break}}},{key:"nextChunk",value:function(){this.chunkIndex++;this.rangeIndex=0;this.next()}},{key:"compare",value:function(t){return this.from-t.from||this.startSide-t.startSide||this.to-t.to||
this.endSide-t.endSide}},{key:"startSide",get:function(){return this.value?this.value.startSide:0}},{key:"endSide",get:function(){return this.value?this.value.endSide:0}}]);return J}(),ma=function(){function J(t){ya(this,J);this.heap=t}Ea(J,[{key:"goto",value:function(t){var q=1<arguments.length&&void 0!==arguments[1]?arguments[1]:-1E9,B=!0,I=!1,S=void 0;try{for(var x=this.heap[Symbol.iterator](),n;!(B=(n=x.next()).done);B=!0)n.value["goto"](t,q)}catch(y){I=!0,S=y}finally{try{if(!B&&null!=x["return"])x["return"]()}finally{if(I)throw S;
}}for(q=this.heap.length>>1;0<=q;q--)Ka(this.heap,q);this.next();return this}},{key:"forward",value:function(t,q){var B=!0,I=!1,S=void 0;try{for(var x=this.heap[Symbol.iterator](),n;!(B=(n=x.next()).done);B=!0)n.value.forward(t,q)}catch(y){I=!0,S=y}finally{try{if(!B&&null!=x["return"])x["return"]()}finally{if(I)throw S;}}for(B=this.heap.length>>1;0<=B;B--)Ka(this.heap,B);0>(this.to-t||this.value.endSide-q)&&this.next()}},{key:"next",value:function(){if(0==this.heap.length)this.from=this.to=1E9,this.value=
null;else{var t=this.heap[0];this.from=t.from;this.to=t.to;(this.value=t.value)&&t.next();Ka(this.heap,0)}}},{key:"startSide",get:function(){return this.value?this.value.startSide:0}}],[{key:"from",value:function(t){var q=1<arguments.length&&void 0!==arguments[1]?arguments[1]:null,B=2<arguments.length&&void 0!==arguments[2]?arguments[2]:-1,I=[],S=!0,x=!1,n=void 0;try{for(var y=t[Symbol.iterator](),w;!(S=(w=y.next()).done);S=!0)for(var p=w.value;p!=ka.empty;p=p.nextLayer)p.maxPoint>=B&&I.push(new Ga(p,
q,B))}catch(v){x=!0,n=v}finally{try{if(!S&&null!=y["return"])y["return"]()}finally{if(x)throw n;}}return 1==I.length?I[0]:new J(I)}}]);return J}(),aa=function(){function J(t,q,B){ya(this,J);this.minPoint=B;this.active=[];this.activeTo=[];this.minActive=-1;this.point=null;this.pointFrom=0;this.to=-1E9;this.endSide=0;this.cursor=ma.from(t,q,B)}Ea(J,[{key:"goto",value:function(t){var q=1<arguments.length&&void 0!==arguments[1]?arguments[1]:-1E9;this.cursor["goto"](t,q);this.active.length=this.activeTo.length=
0;this.minActive=-1;this.to=t;this.endSide=q;this.next();return this}},{key:"forward",value:function(t,q){for(;-1<this.minActive&&0>(this.activeTo[this.minActive]-t||this.active[this.minActive].endSide-q);)this.removeActive(this.minActive);this.cursor.forward(t,q)}},{key:"removeActive",value:function(t){var q=this.active,B=q.pop();t!=q.length&&(q[t]=B);q=this.activeTo;B=q.pop();t!=q.length&&(q[t]=B);this.minActive=Na(this.active,this.activeTo)}},{key:"next",value:function(){var t=this.to;for(this.point=
null;;){var q=this.minActive;if(-1<q&&0>(this.activeTo[q]-this.cursor.from||this.active[q].endSide-this.cursor.startSide)){if(this.activeTo[q]>t){this.to=this.activeTo[q];this.endSide=this.active[q].endSide;break}this.removeActive(q)}else if(this.cursor.value)if(this.cursor.from>t){this.to=this.cursor.from;this.endSide=this.cursor.startSide;break}else if(q=this.cursor.value,q.point){this.point=q;this.pointFrom=this.cursor.from;this.to=this.cursor.to;this.endSide=q.endSide;this.cursor.next();this.to>
t&&this.forward(this.to,this.endSide);break}else this.active.push(q),this.activeTo.push(this.cursor.to),this.minActive=Na(this.active,this.activeTo),this.cursor.next();else{this.to=this.endSide=1E9;break}}}}]);return J}()};
shadow$provide[5]=function(ca,qa,Ma,D){Object.defineProperty(D,"__esModule",{value:!0});var ya={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"\x3d",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",
162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"\x3d",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",229:"q"},La={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"\x26",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"\x3c",189:"_",190:"\x3e",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"',229:"Q"};ca="undefined"!=typeof navigator&&/Chrome\/(\d+)/.exec(navigator.userAgent);var Ea="undefined"!=typeof navigator&&/Apple Computer/.test(navigator.vendor);
qa="undefined"!=typeof navigator&&/Gecko\/\d+/.test(navigator.userAgent);Ma="undefined"!=typeof navigator&&/Mac/.test(navigator.platform);var Xa="undefined"!=typeof navigator&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent),xa=ca&&(Ma||57>+ca[1])||qa&&Ma;for(ca=0;10>ca;ca++)ya[48+ca]=ya[96+ca]=String(ca);for(ca=1;24>=ca;ca++)ya[ca+111]="F"+ca;for(ca=65;90>=ca;ca++)ya[ca]=String.fromCharCode(ca+32),La[ca]=String.fromCharCode(ca);for(var Ka in ya)La.hasOwnProperty(Ka)||(La[Ka]=
ya[Ka]);D.base=ya;D.keyName=function(va){va=!(xa&&(va.ctrlKey||va.altKey||va.metaKey)||(Ea||Xa)&&va.shiftKey&&va.key&&1==va.key.length)&&va.key||(va.shiftKey?La:ya)[va.keyCode]||va.key||"Unidentified";"Esc"==va&&(va="Escape");"Del"==va&&(va="Delete");"Left"==va&&(va="ArrowLeft");"Up"==va&&(va="ArrowUp");"Right"==va&&(va="ArrowRight");"Down"==va&&(va="ArrowDown");return va};D.shift=La};
shadow$provide[6]=function(La,Ha,Hb,t){function Ia(e,b,a){Ia="undefined"!==typeof Reflect&&Reflect.get?Reflect.get:function(c,d,f){for(;!Object.prototype.hasOwnProperty.call(c,d)&&(c=da(c),null!==c););if(c)return d=Object.getOwnPropertyDescriptor(c,d),d.get?d.get.call(f):d.value};return Ia(e,b,a||e)}function Fa(e){Fa="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(b){return typeof b}:function(b){return b&&"function"===typeof Symbol&&b.constructor===Symbol&&b!==Symbol.prototype?
"symbol":typeof b};return Fa(e)}function ja(e,b){return!b||"object"!==Fa(b)&&"function"!==typeof b?Ja(e):b}function Ja(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function da(e){da=Object.setPrototypeOf?Object.getPrototypeOf:function(b){return b.__proto__||Object.getPrototypeOf(b)};return da(e)}function pa(e,b){if("function"!==typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function");e.prototype=
Object.create(b&&b.prototype,{constructor:{value:e,writable:!0,configurable:!0}});b&&ta(e,b)}function ta(e,b){ta=Object.setPrototypeOf||function(a,c){a.__proto__=c;return a};return ta(e,b)}function va(e){if(Array.isArray(e)){var b=0;for(var a=Array(e.length);b<e.length;b++)a[b]=e[b];b=a}else b=void 0;b||(b=Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)?Array.from(e):void 0);if(!(e=b))throw new TypeError("Invalid attempt to spread non-iterable instance");return e}
function W(e,b){if(!(e instanceof b))throw new TypeError("Cannot call a class as a function");}function lb(e,b){for(var a=0;a<b.length;a++){var c=b[a];c.enumerable=c.enumerable||!1;c.configurable=!0;"value"in c&&(c.writable=!0);Object.defineProperty(e,c.key,c)}}function Y(e,b,a){b&&lb(e.prototype,b);a&&lb(e,a);return e}function Ca(e){return e.getSelection?e.getSelection():document.getSelection()}function gb(e){var b=e.isCollapsed;b&&ma.chrome&&e.rangeCount&&!e.getRangeAt(0).collapsed&&(b=!1);return b}
function cb(e,b){if(!b.anchorNode)return!1;try{return e.contains(3==b.anchorNode.nodeType?b.anchorNode.parentNode:b.anchorNode)}catch(a){return!1}}function hb(e){if(3==e.nodeType){var b=document.createRange();b.setEnd(e,e.nodeValue.length);b.setStart(e,0);return b.getClientRects()}return 1==e.nodeType?e.getClientRects():[]}function Va(e,b,a,c){return a?rb(e,b,a,c,-1)||rb(e,b,a,c,1):!1}function ya(e){for(var b=0;;b++)if(e=e.previousSibling,!e)return b}function rb(e,b,a,c,d){for(;;){if(e==a&&b==c)return!0;
if(b==(0>d?0:Ma(e))){if("DIV"==e.nodeName)return!1;var f=e.parentNode;if(!f||1!=f.nodeType)return!1;b=ya(e)+(0>d?0:1);e=f}else if(1==e.nodeType)e=e.childNodes[b+(0>d?-1:0)],b=0>d?Ma(e):0;else return!1}}function Ma(e){return 3==e.nodeType?e.nodeValue.length:e.childNodes.length}function pb(e,b){b=b?e.left:e.right;return{left:b,right:b,top:e.top,bottom:e.bottom}}function Wa(e){if(e.setActive)return e.setActive();if(Kb)return e.focus(Kb);for(var b=[],a=e;a&&(b.push(a,a.scrollTop,a.scrollLeft),a!=a.ownerDocument);a=
a.parentNode);e.focus(null==Kb?{get preventScroll(){Kb={preventScroll:!0};return!0}}:void 0);if(!Kb)for(Kb=!1,e=0;e<b.length;){a=b[e++];var c=b[e++],d=b[e++];a.scrollTop!=c&&(a.scrollTop=c);a.scrollLeft!=d&&(a.scrollLeft=d)}}function ia(e){var b=e.nextSibling;e.parentNode.removeChild(e);return b}function Da(e,b){for(var a in e)"class"==a&&b["class"]?b["class"]+=" "+e["class"]:"style"==a&&b.style?b.style+=";"+e.style:b[a]=e[a];return b}function Ga(e,b){if(e==b)return!0;if(!e||!b)return!1;var a=Object.keys(e),
c=Object.keys(b);if(a.length!=c.length)return!1;for(var d=0;d<a.length;d++){var f=a[d];if(-1==c.indexOf(f)||e[f]!==b[f])return!1}return!0}function Ea(e,b,a){if(b)for(var c in b)a&&c in a||e.removeAttribute(c);if(a)for(var d in a)b&&b[d]==a[d]||e.setAttribute(d,a[d])}function ib(e,b,a,c){var d=b,f=b,g=0;0==b&&0>a||b==c&&0<=a?ma.chrome||ma.gecko||(b?(d--,g=1):(f++,g=-1)):0>a?d--:f++;b=document.createRange();b.setEnd(e,f);b.setStart(e,d);e=b.getBoundingClientRect();return g?pb(e,0>g):e}function K(e){var b=
e.inclusiveStart,a=e.inclusiveEnd;null==b&&(b=e.inclusive);null==a&&(a=e.inclusive);return{start:b||!1,end:a||!1}}function E(e,b,a){var c=a.length-1;0<=c&&a[c]+4>e?a[c]=Math.max(a[c],b):a.push(e,b)}function M(e,b){var a=Object.create(null),c;for(c in b){var d=c.split(/\s*,\s*/).map(function(f){var g=e,h;g==Xb&&(h=/^(.*?)@(light|dark)$/.exec(f))&&(g="dark"==h[2]?tc:uc,f=h[1]);f=f.split(".");g="."+g+("wrap"==f[0]?"":" ");for(h=1;h<=f.length;h++)g+=".cm-"+f.slice(0,h).join("-");return g}).join(", ");
a[d]=b[c]}return new Za.StyleModule(a,{generateClasses:!1})}function P(e){e=e.split(".");for(var b="",a=1;a<=e.length;a++)b+=(b?" ":"")+"cm-"+e.slice(0,a).join("-");return b}function V(e){for(var b=[],a=0;a<e.length;a++)b.push(1<<+e[a]);return b}function B(e,b){var a=e.length;b=b==vc?1:2;if(!e||1==b&&!cd.test(e))return[new Db(0,a,0)];for(var c=0,d=b,f=b;c<a;c++){var g=e.charCodeAt(c);g=247>=g?dd[g]:1424<=g&&1524>=g?2:1536<=g&&1785>=g?ed[g-1536]:1774<=g&&2220>=g?4:8192<=g&&8203>=g?256:8204==g?256:
1;512==g?g=d:8==g&&4==f&&(g=16);Ua[c]=4==g?2:g;g&7&&(f=g);d=g}f=0;for(e=g=b;f<a;f++){c=Ua[f];if(128==c)f<a-1&&g==Ua[f+1]&&g&24?c=Ua[f]=g:Ua[f]=256;else if(64==c){for(d=f+1;d<a&&64==Ua[d];)d++;for(g=f&&8==g||d<a&&8==Ua[d]?1==e?1:8:256;f<d;f++)Ua[f]=g;f=d-1}else 8==c&&1==e&&(Ua[f]=1);g=c;c&7&&(e=c)}for(c=0;c<a;c++)if(256==Ua[c]){for(e=c+1;e<a&&256==Ua[e];)e++;d=1==(c?Ua[c-1]:b);for(d=d==(1==(e<a?Ua[e]:b))?d?1:2:b;c<e;c++)Ua[c]=d;c=e-1}e=[];if(1==b)for(b=0;b<a;){c=b;for(d=1!=Ua[b++];b<a&&d==(1!=Ua[b]);)b++;
if(d)for(d=b;d>c;){f=d;for(g=2!=Ua[--d];d>c&&g==(2!=Ua[d-1]);)d--;e.push(new Db(d,f,g?2:1))}else e.push(new Db(c,b,0))}else for(b=0;b<a;){c=b;for(d=2==Ua[b++];b<a&&d==(2==Ua[b]);)b++;e.push(new Db(c,b,d?1:2))}return e}function q(e,b,a,c,d){var f,g=c.head-e.from,h=-1;if(0==g){if(!d||!e.length)return null;b[0].level!=a&&(g=b[0].side(!1,a),h=0)}else if(g==e.length){if(d)return null;var p=b[b.length-1];p.level!=a&&(g=p.side(!0,a),h=b.length-1)}0>h&&(h=Db.find(b,g,null!==(f=c.bidiLevel)&&void 0!==f?f:
-1,c.assoc));c=b[h];g==c.side(d,a)&&(c=b[h+=d?1:-1],g=c.side(!d,a));p=d==(c.dir==a);f=e.findClusterBreak(g,p);wc=e.slice(Math.min(g,f),Math.max(g,f));return f!=c.side(d,a)?U.EditorSelection.cursor(f+e.from,p?-1:1,c.level):(b=h==(d?b.length-1:0)?null:b[h+(d?1:-1)])||c.level==a?b&&b.level<c.level?U.EditorSelection.cursor(b.side(!d,a)+e.from,0,b.level):U.EditorSelection.cursor(f+e.from,0,c.level):U.EditorSelection.cursor(d?e.to:e.from,d?-1:1,a)}function u(e,b){var a,c;null==e[b]&&(a=e[b-1])instanceof
Lb&&(c=e[b+1])instanceof Lb&&e.splice(b-1,3,new Lb(a.length+1+c.length))}function x(e,b,a){var c=new fd;Ta.RangeSet.compare(e,b,a,c);return c.changes}function F(e,b,a){e=e.facet(xc);if(e.length)e[0](b);else if(window.onerror)window.onerror(String(b),a,void 0,void 0,b);else a?console.error(a+":",b):console.error(b)}function S(e,b,a){var c=[],d=e,f=0;Ta.RangeSet.spans(a.facet(Jb),e,b,{span:function(){},point:function(g,h){g>d&&(c.push({from:d,to:g}),f+=g-d);d=h},minPointSize:20});d<b&&(c.push({from:d,
to:b}),f+=b-d);return{total:f,ranges:c}}function X(e,b){var a=e.ranges;if(0>=b)return a[0].from;if(1<=b)return a[a.length-1].to;e=Math.floor(e.total*b);for(b=0;;b++){var c=a[b],d=c.from;c=c.to-d;if(e<=c)return d+e;e-=c}}function Z(e,b){var a=0,c=!0,d=!1,f=void 0;try{for(var g=e.ranges[Symbol.iterator](),h;!(c=(h=g.next()).done);c=!0){var p=h.value,v=p.from,A=p.to;if(b<=A){a+=b-v;break}a+=A-v}}catch(C){d=!0,f=C}finally{try{if(!c&&null!=g["return"])g["return"]()}finally{if(d)throw f;}}return a/e.total}
function fa(e,b){var a=!0,c=!1,d=void 0;try{for(var f=e[Symbol.iterator](),g;!(a=(g=f.next()).done);a=!0){var h=g.value;if(b(h))return h}}catch(p){c=!0,d=p}finally{try{if(!a&&null!=f["return"])f["return"]()}finally{if(c)throw d;}}}function ra(e,b){var a=Ca(e.root);a=a.focusNode&&Qa(a.focusNode,a.focusOffset,0);if(!a)return Aa.none;var c=e.docView.nearest(a),d=a;if(c instanceof cc){var f=c.posAtStart;var g=f+c.length;d=c.dom}else if(c instanceof yb){for(;d.parentNode!=c.dom;)d=d.parentNode;for(g=d.previousSibling;g&&
!jb.get(g);)g=g.previousSibling;f=g=g?jb.get(g).posAtEnd:c.posAtStart}else return Aa.none;c=b.mapPos(f,1);b=Math.max(c,b.mapPos(g,-1));g=a.nodeValue;e=e.state;if(b-c<g.length)if(e.sliceDoc(c,Math.min(e.doc.length,c+g.length))==g)b=c+g.length;else if(e.sliceDoc(Math.max(0,b-g.length),b)==g)c=b-g.length;else return Aa.none;else if(e.sliceDoc(c,b)!=g)return Aa.none;return Aa.set(Aa.replace({widget:new gd({top:d,text:a})}).range(c,b))}function Qa(e,b,a){for(;;){if(3==e.nodeType)return e;if(1==e.nodeType&&
0<b&&0>=a)e=e.childNodes[b-1],b=Ma(e);else if(1==e.nodeType&&b<e.childNodes.length&&0<=a)e=e.childNodes[b],b=0;else return null}}function Na(e,b){return 1!=e.nodeType?0:(b&&"false"==e.childNodes[b-1].contentEditable?1:0)|(b<e.childNodes.length&&"false"==e.childNodes[b].contentEditable?2:0)}function mb(e,b,a){var c=new hd;Ta.RangeSet.compare(e,b,a,c);return c.changes}function sb(e,b){var a=2<arguments.length&&void 0!==arguments[2]?arguments[2]:1,c=e.charCategorizer(b),d=e.doc.lineAt(b),f=b-d.from;
if(0==d.length)return U.EditorSelection.cursor(b);0==f?a=1:f==d.length&&(a=-1);var g=f,h=f;0>a?g=d.findClusterBreak(f,!1):h=d.findClusterBreak(f,!0);for(a=c(d.slice(g,h));0<g;){f=d.findClusterBreak(g,!1);if(c(d.slice(f,g))!=a)break;g=f}for(;h<d.length;){f=d.findClusterBreak(h,!0);if(c(d.slice(h,f))!=a)break;h=f}return U.EditorSelection.range(g+d.from,h+d.from)}function nb(e,b){return e.top<b.bottom-1&&e.bottom>b.top+1}function ob(e,b){return b<e.top?{top:b,left:e.left,right:e.right,bottom:e.bottom}:
e}function Oa(e,b){return b>e.bottom?{top:e.top,left:e.left,right:e.right,bottom:b}:e}function Sa(e,b,a){for(var c,d,f,g,h,p,v,A,C=e.firstChild;C;C=C.nextSibling)for(var N=hb(C),ea=0;ea<N.length;ea++){var ba=N[ea];d&&nb(d,ba)&&(ba=ob(Oa(ba,d.bottom),d.top));var ua=ba.left>b?ba.left-b:Math.max(0,b-ba.right),Ba=ba.top>a?ba.top-a:Math.max(0,a-ba.bottom);if(0==ua&&0==Ba)return 3==C.nodeType?wa(C,b,a):Sa(C,b,a);if(!c||g>Ba||g==Ba&&f>ua)c=C,d=ba,f=ua,g=Ba;0==ua?a>ba.bottom&&(!v||v.bottom<ba.bottom)?(h=
C,v=ba):a<ba.top&&(!A||A.top>ba.top)&&(p=C,A=ba):v&&nb(v,ba)?v=Oa(v,ba.bottom):A&&nb(A,ba)&&(A=ob(A,ba.top))}v&&v.bottom>=a?(c=h,d=v):A&&A.top<=a&&(c=p,d=A);if(!c)return{node:e,offset:0};g=Math.max(d.left,Math.min(d.right,b));if(3==c.nodeType)return wa(c,g,a);if(!f&&"true"==c.contentEditable)return Sa(c,g,a);b=Array.prototype.indexOf.call(e.childNodes,c)+(b>=(d.left+d.right)/2?1:0);return{node:e,offset:b}}function wa(e,b,a){for(var c=e.nodeValue.length,d=document.createRange(),f=0;f<c;f++){d.setEnd(e,
f+1);d.setStart(e,f);for(var g=d.getClientRects(),h=0;h<g.length;h++){var p=g[h];if(p.top!=p.bottom&&p.left-1<=b&&p.right+1>=b&&p.top-1<=a&&p.bottom+1>=a){a=b=b>=(p.left+p.right)/2;if(ma.chrome||ma.gecko)d.setEnd(e,f),d.getBoundingClientRect().left==p.right&&(a=!b);return{node:e,offset:f+(a?1:0)}}}}return{node:e,offset:0}}function Ra(e,b){for(var a=b.x,c=b.y,d=2<arguments.length&&void 0!==arguments[2]?arguments[2]:-1,f=e.contentDOM.getBoundingClientRect(),g,h=e.defaultLineHeight/2,p=!1;;){g=e.blockAtHeight(c,
f.top);if(g.top>c||g.bottom<c){d=g.top>c?-1:1;c=Math.min(g.bottom-h,Math.max(g.top+h,c));if(p)return-1;p=!0}if(g.type==$a.Text)break;c=0<d?g.bottom+h:g.top-h}d=g.from;if(d<e.viewport.from)return 0==e.viewport.from?0:-1;if(d>e.viewport.to)return e.viewport.to==e.state.doc.length?e.state.doc.length:-1;a=Math.max(f.left+1,Math.min(f.right-1,a));g=e.root;h=g.elementFromPoint(a,c);f=-1;if(h&&e.contentDOM.contains(h)&&!(e.docView.nearest(h)instanceof dc))if(g.caretPositionFromPoint){if(g=g.caretPositionFromPoint(a,
c)){var v=g.offsetNode;f=g.offset}}else g.caretRangeFromPoint&&(g=g.caretRangeFromPoint(a,c))&&(v=g.startContainer,f=g.startOffset);v||(v=yb.find(e.docView,d),a=Sa(v.dom,a,c),v=a.node,f=a.offset);return e.docView.posFromDOM(v,f)}function Ka(e,b,a,c){for(var d=e.state.doc.lineAt(b.head),f=e.bidiSpans(d),g=null;;){var h=q(d,f,e.textDirection,b,a),p=wc;if(!h){if(d.number==(a?e.state.doc.lines:1))return b;p="\n";d=e.state.doc.line(d.number+(a?1:-1));f=e.bidiSpans(d);h=U.EditorSelection.cursor(a?d.from:
d.to)}if(!g){if(!c)return h;g=c(p)}else if(!g(p))return b;b=h}}function wb(e,b,a){var c=e.state.charCategorizer(b),d=c(a);return function(f){f=c(f);d==U.CharCategory.Space&&(d=f);return d==f}}function db(e,b){if(e.state.selection.primary.empty)return!1;e=Ca(e.root);if(0==e.rangeCount)return!0;e=e.getRangeAt(0).getClientRects();for(var a=0;a<e.length;a++){var c=e[a];if(c.left<=b.clientX&&c.right>=b.clientX&&c.top<=b.clientY&&c.bottom>=b.clientY)return!0}return!1}function tb(e,b){if(!b.bubbles)return!0;
if(b.defaultPrevented)return!1;for(var a=b.target,c;a!=e.contentDOM;a=a.parentNode)if(!a||11==a.nodeType||(c=jb.get(a))&&c.ignoreEvent(b))return!1;return!0}function xb(e){var b=e.dom.parentNode;if(b){var a=b.appendChild(document.createElement("textarea"));a.style.cssText="position: fixed; left: -10000px; top: 10px";a.focus();setTimeout(function(){e.focus();a.remove();Pa(e,a.value)},50)}}function Pa(e,b){var a=e.state.toText(b),c=1;b=a.lines==e.state.selection.ranges.length?e.state.changeByRange(function(d){var f=
a.line(c++);return{changes:{from:d.from,to:d.to,insert:f.slice()},range:U.EditorSelection.cursor(d.from+f.length)}}):e.state.replaceSelection(a);e.dispatch(b,{annotations:U.Transaction.userEvent.of("paste"),scrollIntoView:!0})}function y(e,b,a,c){if(1==c)return U.EditorSelection.cursor(b,a);if(2==c)return sb(e.state,b,a);if(a=yb.find(e.docView,b))return U.EditorSelection.range(a.posAtStart,a.posAtEnd);e=e.state.doc.lineAt(b);return U.EditorSelection.range(e.from,e.to)}function l(e,b){var a=e.posAtCoords({x:b.clientX,
y:b.clientY});if(0>a)a=null;else{var c=b.clientX;b=b.clientY;var d=yb.find(e.docView,a);if(d){var f=a-d.posAtStart;c=0==f?1:f==d.length?-1:(e=d.coordsAt(f,-1))&&b>=e.top&&b<=e.bottom&&c>=e.left&&c<=e.right?-1:(d=d.coordsAt(f,1))&&b>=d.top&&b<=d.bottom&&c>=d.left&&c<=d.right?1:e&&b>=e.top&&b<=e.bottom?-1:1}else c=1;a={pos:a,bias:c}}return a}function m(e){if(!id)return e.detail;var b=yc;yc=e;return zc=!b||b.timeStamp>Date.now()-400&&2>Math.abs(b.clientX-e.clientX)&&2>Math.abs(b.clientY-e.clientY)?(zc+
1)%3:1}function k(e,b){var a=l(e,b),c=m(b),d=e.state.selection,f=a,g=b;return{update:function(h){h.changes&&(a&&(a.pos=h.changes.mapPos(a.pos)),d=d.map(h.changes))},get:function(h,p,v){if(h.clientX==g.clientX&&h.clientY==g.clientY)var A=f;else A=f=l(e,h),g=h;if(!A||!a)return d;h=y(e,A.pos,A.bias,c);if(a.pos!=A.pos&&!p){var C=y(e,a.pos,a.bias,c);A=Math.min(C.from,h.from);C=Math.max(C.to,h.to);h=A<h.from?U.EditorSelection.range(A,C):U.EditorSelection.range(C,A)}return p?d.replaceRange(d.primary.extend(h.from,
h.to)):v?d.addRange(h):U.EditorSelection.create([h])}}}function r(e,b){var a=e.dom.parentNode;if(a){var c=a.appendChild(document.createElement("textarea"));c.style.cssText="position: fixed; left: -10000px; top: 10px";c.value=b;c.focus();c.selectionEnd=b.length;c.selectionStart=0;setTimeout(function(){c.remove();e.focus()},50)}}function w(e,b,a){for(;b;){var c=jb.get(b);if(c&&c.parent==e)return c;c=b.parentNode;b=c!=e.dom?c:0<a?b.nextSibling:b.previousSibling}return null}function D(e,b,a,c){var d,
f=e.state.selection.primary,g;if(-1<b&&(g=e.docView.domBoundsAround(b,a,0))){var h=g;b=h.from;var p=h.to;h=e.docView.impreciseHead||e.docView.impreciseAnchor?[]:R(e.contentDOM,e.root);a=new jd(h);a.readRange(g.startDOM,g.endDOM);h=T(h,b);g=f.from;var v=null;8===e.inputState.lastKeyCode&&e.inputState.lastKeyTime>Date.now()-100&&(g=f.to,v="end");(g=G(e.state.doc.sliceString(b,p,"ï·š"),a.text,g-b,v))&&(d={from:b+g.from,to:b+g.toA,insert:U.Text.of(a.text.slice(g.from,g.toB).split("ï·š"))})}else e.hasFocus&&
(b=Ca(e.root),a=e.docView,g=a.impreciseHead,a=a.impreciseAnchor,g=g&&g.node==b.focusNode&&g.offset==b.focusOffset?e.state.selection.primary.head:e.docView.posFromDOM(b.focusNode,b.focusOffset),b=a&&a.node==b.anchorNode&&a.offset==b.anchorOffset?e.state.selection.primary.anchor:gb(b)?g:e.docView.posFromDOM(b.anchorNode,b.anchorOffset),g!=f.head||b!=f.anchor)&&(h=U.EditorSelection.single(b,g));if(d||h)if(!d&&c&&!f.empty&&h&&h.primary.empty&&(d={from:f.from,to:f.to,insert:e.state.doc.slice(f.from,f.to)}),
d){var A=e.state;if(!ma.android||!(d.from==f.from&&d.to==f.to&&1==d.insert.length&&2==d.insert.lines&&O(e,"Enter",10)||d.from==f.from-1&&d.to==f.to&&0==d.insert.length&&O(e,"Backspace",8)||d.from==f.from&&d.to==f.to+1&&0==d.insert.length&&O(e,"Delete",46))){var C=d.insert.toString();e.state.facet(Ac).some(function(N){return N(e,d.from,d.to,C)})||(d.from>=f.from&&d.to<=f.to&&d.to-d.from>=(f.to-f.from)/3?(h=f.from<d.from?A.doc.sliceString(f.from,d.from,"ï·š"):"",f=f.to>d.to?A.doc.sliceString(d.to,f.to,
"ï·š"):"",f=A.replaceSelection(U.Text.of((h+d.insert.sliceString(0,void 0,"ï·š")+f).split("ï·š")))):(f=A.changes(d),f={changes:f,selection:h&&!A.selection.primary.eq(h.primary)&&h.primary.to<=f.newLength?A.selection.replaceRange(h.primary):void 0}),e.dispatch(f,{scrollIntoView:!0,annotations:U.Transaction.userEvent.of("input")}))}}else h&&!h.primary.eq(f)&&(f=!1,e.inputState.lastSelectionTime>Date.now()-50&&("keyboardselection"==e.inputState.lastSelectionOrigin?f=!0:A=U.Transaction.userEvent.of(e.inputState.lastSelectionOrigin)),
e.dispatch({selection:h,scrollIntoView:f,annotations:A}))}function G(e,b,a,c){for(var d=Math.min(e.length,b.length),f=0;f<d&&e.charCodeAt(f)==b.charCodeAt(f);)f++;if(f==d&&e.length==b.length)return null;d=e.length;for(var g=b.length;0<d&&0<g&&e.charCodeAt(d-1)==b.charCodeAt(g-1);)d--,g--;"end"==c&&(a-=d+Math.max(0,f-Math.min(d,g))-f);d<f&&e.length<b.length?(f-=a<=f&&a>=d?f-a:0,g=f+(g-d),d=f):g<f&&(f-=a<=f&&a>=g?f-a:0,d=f+(d-g),g=f);return{from:f,toA:d,toB:g}}function Q(e){return 1==e.nodeType&&/^(DIV|P|LI|UL|OL|BLOCKQUOTE|DD|DT|H\d|SECTION|PRE)$/.test(e.nodeName)}
function R(e,b){var a=[];if(b.activeElement!=e)return a;var c=Ca(b);e=c.anchorNode;b=c.anchorOffset;var d=c.focusNode;c=c.focusOffset;e&&(a.push(new Bc(e,b)),d==e&&c==b||a.push(new Bc(d,c)));return a}function T(e,b){if(0==e.length)return null;var a=e[0].pos;e=2==e.length?e[1].pos:a;return-1<a&&-1<e?U.EditorSelection.single(a+b,e+b):null}function O(e,b,a){a={key:b,code:b,keyCode:a,which:a,cancelable:!0};b=new KeyboardEvent("keydown",a);e.contentDOM.dispatchEvent(b);a=new KeyboardEvent("keyup",a);e.contentDOM.dispatchEvent(a);
return b.defaultPrevented||a.defaultPrevented}function aa(e,b){return null==e?b.getBoundingClientRect().top:e}function ha(){window.addEventListener("resize",function(){-1==ec&&(ec=setTimeout(ka,50))})}function ka(){ec=-1;for(var e=document.querySelectorAll(".cm-content"),b=0;b<e.length;b++){var a=jb.get(e[b]);a&&a.editorView.requestMeasure()}}function la(e,b,a){b.altKey&&(e="Alt-"+e);b.ctrlKey&&(e="Ctrl-"+e);b.metaKey&&(e="Meta-"+e);!1!==a&&b.shiftKey&&(e="Shift-"+e);return e}function na(e){var b=
1<arguments.length&&void 0!==arguments[1]?arguments[1]:kd,a=Object.create(null),c=Object.create(null),d=function(kb,eb){var Mb=c[kb];if(null==Mb)c[kb]=eb;else if(Mb!=eb)throw Error("Key binding "+kb+" is used both as a regular binding and as a multi-stroke prefix");},f=function(kb,eb,Mb,fc){var Yb=a[kb]||(a[kb]=Object.create(null)),ic=eb.split(/ (?!$)/).map(function(Eb){Eb=Eb.split(/-(?!$)/);var fb=Eb[Eb.length-1];"Space"==fb&&(fb=" ");for(var Zb,Sb,Cc,gc,hc=0;hc<Eb.length-1;++hc){var Nb=Eb[hc];if(/^(cmd|meta|m)$/i.test(Nb))gc=
!0;else if(/^a(lt)?$/i.test(Nb))Zb=!0;else if(/^(c|ctrl|control)$/i.test(Nb))Sb=!0;else if(/^s(hift)?$/i.test(Nb))Cc=!0;else if(/^mod$/i.test(Nb))"mac"==b?gc=!0:Sb=!0;else throw Error("Unrecognized modifier name: "+Nb);}Zb&&(fb="Alt-"+fb);Sb&&(fb="Ctrl-"+fb);gc&&(fb="Meta-"+fb);Cc&&(fb="Shift-"+fb);return fb});eb=function(Eb){var fb=ic.slice(0,Eb).join(" ");d(fb,!0);Yb[fb]||(Yb[fb]={preventDefault:!0,commands:[function(Zb){var Sb=Fb={view:Zb,prefix:fb,scope:kb};setTimeout(function(){Fb==Sb&&(Fb=null)},
ld);return!0}]})};for(var jc=1;jc<ic.length;jc++)eb(jc);eb=ic.join(" ");d(eb,!1);eb=Yb[eb]||(Yb[eb]={preventDefault:!1,commands:[]});eb.commands.push(Mb);fc&&(eb.preventDefault=!0)},g=!0,h=!1,p=void 0;try{for(var v=e[Symbol.iterator](),A;!(g=(A=v.next()).done);g=!0){var C=A.value,N=C[b]||C.key;if(N){var ea=!0,ba=!1,ua=void 0;try{for(var Ba=(C.scope?C.scope.split(" "):["editor"])[Symbol.iterator](),zb;!(ea=(zb=Ba.next()).done);ea=!0){var Bb=zb.value;f(Bb,N,C.run,C.preventDefault);C.shift&&f(Bb,"Shift-"+
N,C.shift,C.preventDefault)}}catch(kb){ba=!0,ua=kb}finally{try{if(!ea&&null!=Ba["return"])Ba["return"]()}finally{if(ba)throw ua;}}}}}catch(kb){h=!0,p=kb}finally{try{if(!g&&null!=v["return"])v["return"]()}finally{if(h)throw p;}}return a}function za(e,b,a,c){var d=(0,Cb.keyName)(b),f=1==d.length&&" "!=d,g="";Fb&&Fb.view==a&&Fb.scope==c&&(g=Fb.prefix+" ",Fb=null);var h=!!g,p=function(ua){if(ua){var Ba=!0,zb=!1,Bb=void 0;try{for(var kb=ua.commands[Symbol.iterator](),eb;!(Ba=(eb=kb.next()).done);Ba=!0){var Mb=
eb.value;if(Mb(a))return!0}}catch(fc){zb=!0,Bb=fc}finally{try{if(!Ba&&null!=kb["return"])kb["return"]()}finally{if(zb)throw Bb;}}ua.preventDefault&&(h=!0)}return!1},v=!0,A=!1,C=void 0;try{for(var N=e[Symbol.iterator](),ea;!(v=(ea=N.next()).done);v=!0){var ba=ea.value[c];e=void 0;if(ba){if(p(ba[g+la(d,b,!f)]))return!0;if(f&&(b.shiftKey||b.altKey||b.metaKey)&&(e=Cb.base[b.keyCode])&&e!=d){if(p(ba[g+la(e,b,!0)]))return!0}else if(f&&b.shiftKey&&p(ba[g+la(d,b,!0)]))return!0}}}catch(ua){A=!0,C=ua}finally{try{if(!v&&
null!=N["return"])N["return"]()}finally{if(A)throw C;}}return h}function Ya(e){var b=e.ranges;e=e.primaryIndex;if(1==b.length)return Aa.none;for(var a=[],c=0;c<b.length;c++)if(c!=e){var d=b[c];a.push(d.empty?kc.deco.range(d.from):md.range(b[c].from,b[c].to))}return Aa.set(a)}function Ib(){if(null==lc&&"undefined"!=typeof document&&document.body){var e=document.body.style;lc=null!=(e.tabSize||e.MozTabSize)}return lc||!1}Object.defineProperty(t,"__esModule",{value:!0});t.highlightSpecialChars=function(){var e=
[$b.of(0<arguments.length&&void 0!==arguments[0]?arguments[0]:{}),nd];Ib()||e.push(od);return e};t.indentOnInput=function(){return U.EditorState.transactionFilter.of(function(e){if(!e.docChanged||"input"!=e.annotation(U.Transaction.userEvent))return e;var b=e.startState.languageDataAt("indentOnInput",e.startState.selection.primary.head);if(!b.length)return e;var a=e.newDoc,c=e.newSelection.primary.head,d=a.lineAt(c);if(c>d.from+Dc)return e;var f=a.sliceString(d.from,c);if(!b.some(function(C){return C.test(f)}))return e;
var g=e.state,h=-1,p=[];b=!0;a=!1;c=void 0;try{d=function(){var C=g.doc.lineAt(A.value.head);if(C.from==h)return"continue";h=C.from;var N=Math.max.apply(Math,va(g.facet(U.EditorState.indentation).map(function(ba){return ba(new U.IndentContext(g),C.from)})));if(0>N)return"continue";var ea=/^\s*/.exec(C.slice(0,Math.min(C.length,Dc)))[0];N=g.indentString(N);ea!=N&&p.push({from:C.from,to:C.from+ea.length,insert:N})};for(var v=g.selection.ranges[Symbol.iterator](),A;!(b=(A=v.next()).done);b=!0)d()}catch(C){a=
!0,c=C}finally{try{if(!b&&null!=v["return"])v["return"]()}finally{if(a)throw c;}}return p.length?[e,{changes:p}]:e})};t.keymap=function(e,b){return[pd,mc.of(na(e,b))]};t.logException=F;t.multipleSelections=function(){return[U.EditorState.allowMultipleSelections.of(!0),qd]};t.runScopeHandlers=function(e,b,a){return za(e.state.facet(mc),b,e,a)};t.themeClass=P;Object.defineProperty(t,"Range",{enumerable:!0,get:function(){return Ta.Range}});t.__test=t.WidgetType=t.ViewUpdate=t.ViewPlugin=t.PluginField=
t.EditorView=t.Direction=t.Decoration=t.BlockType=t.BlockInfo=t.BidiSpan=void 0;var U=Ha(2),Za=Ha(3),Ta=Ha(4),Xa=Ha(0),Cb=Ha(5),n=function(e,b){var a=Array.isArray(e)?e:void 0;if(!a)if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)){a=[];var c=!0,d=!1,f=void 0;try{for(var g=e[Symbol.iterator](),h;!(c=(h=g.next()).done)&&(a.push(h.value),!b||a.length!==b);c=!0);}catch(p){d=!0,f=p}finally{try{if(!c&&null!=g["return"])g["return"]()}finally{if(d)throw f;}}}else a=
void 0;if(!(e=a))throw new TypeError("Invalid attempt to destructure non-iterable instance");return e}("undefined"!=typeof navigator?[navigator,document]:[{userAgent:"",vendor:"",platform:""},{documentElement:{style:{}}}],2),z=n[0],J=n[1],H=/Edge\/(\d+)/.exec(z.userAgent),I=/MSIE \d/.test(z.userAgent),L=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(z.userAgent),ca=!!(I||L||H),oa=!ca&&/gecko\/(\d+)/i.test(z.userAgent),qa=!ca&&/Chrome\/(\d+)/.exec(z.userAgent),sa="webkitFontSmoothing"in J.documentElement.style,
ma={mac:/Mac/.test(z.platform),ie:ca,ie_version:I?J.documentMode||6:L?+L[1]:H?+H[1]:0,gecko:oa,gecko_version:oa?+(/Firefox\/(\d+)/.exec(z.userAgent)||[0,0])[1]:0,chrome:!!qa,chrome_version:qa?+qa[1]:0,ios:!ca&&/AppleWebKit/.test(z.userAgent)&&/Mobile\/\w+/.test(z.userAgent),android:/Android\b/.test(z.userAgent),webkit:sa,safari:/Apple Computer/.test(z.vendor),webkit_version:sa?+(/\bAppleWebKit\/(\d+)/.exec(navigator.userAgent)||[0,0])[1]:0,tabSize:null!=J.documentElement.style.tabSize?"tab-size":
"-moz-tab-size"},Tb=function(){function e(){W(this,e);this.anchorNode=null;this.anchorOffset=0;this.focusNode=null;this.focusOffset=0}Y(e,[{key:"eq",value:function(b){return this.anchorNode==b.anchorNode&&this.anchorOffset==b.anchorOffset&&this.focusNode==b.focusNode&&this.focusOffset==b.focusOffset}},{key:"set",value:function(b){this.anchorNode=b.anchorNode;this.anchorOffset=b.anchorOffset;this.focusNode=b.focusNode;this.focusOffset=b.focusOffset}}]);return e}(),Kb=null,ub=function(){function e(b,
a){var c=2<arguments.length&&void 0!==arguments[2]?arguments[2]:!0;W(this,e);this.node=b;this.offset=a;this.precise=c}Y(e,null,[{key:"before",value:function(b,a){return new e(b.parentNode,ya(b),a)}},{key:"after",value:function(b,a){return new e(b.parentNode,ya(b)+1,a)}}]);return e}(),rd=[],jb=function(){function e(){W(this,e);this.dom=this.parent=null;this.dirty=2}Y(e,[{key:"posBefore",value:function(b){var a=this.posAtStart,c=!0,d=!1,f=void 0;try{for(var g=this.children[Symbol.iterator](),h;!(c=
(h=g.next()).done);c=!0){var p=h.value;if(p==b)return a;a+=p.length+p.breakAfter}}catch(v){d=!0,f=v}finally{try{if(!c&&null!=g["return"])g["return"]()}finally{if(d)throw f;}}throw new RangeError("Invalid child in posBefore");}},{key:"posAfter",value:function(b){return this.posBefore(b)+b.length}},{key:"coordsAt",value:function(b,a){return null}},{key:"sync",value:function(b){if(this.dirty&2){var a=this.dom,c=null,d=!0,f=!1,g=void 0;try{for(var h=this.children[Symbol.iterator](),p;!(d=(p=h.next()).done);d=
!0){var v=p.value;if(v.dirty){var A=c?c.nextSibling:a.firstChild;!A||v.dom||e.get(A)||v.reuseDOM(A);v.sync(b);v.dirty=0}b&&b.node==a&&c!=v.dom&&(b.written=!0);var C=a,N=v.dom,ea=c?c.nextSibling:C.firstChild;if(N.parentNode==C)for(;ea!=N;)ea=ia(ea);else C.insertBefore(N,ea);c=v.dom}}catch(ba){f=!0,g=ba}finally{try{if(!d&&null!=h["return"])h["return"]()}finally{if(f)throw g;}}(h=c?c.nextSibling:a.firstChild)&&b&&b.node==a&&(b.written=!0);for(;h;)h=ia(h)}else if(this.dirty&1){h=!0;p=!1;v=void 0;try{for(a=
this.children[Symbol.iterator]();!(h=(c=a.next()).done);h=!0)d=c.value,d.dirty&&(d.sync(b),d.dirty=0)}catch(ba){p=!0,v=ba}finally{try{if(!h&&null!=a["return"])a["return"]()}finally{if(p)throw v;}}}}},{key:"reuseDOM",value:function(b){return!1}},{key:"localPosFromDOM",value:function(b,a){if(b==this.dom)b=this.dom.childNodes[a];else{for(a=0==Ma(b)?0:0==a?-1:1;;){var c=b.parentNode;if(c==this.dom)break;0==a&&c.firstChild!=c.lastChild&&(a=b==c.firstChild?-1:1);b=c}b=0>a?b:b.nextSibling}if(b==this.dom.firstChild)return 0;
for(;b&&!e.get(b);)b=b.nextSibling;if(!b)return this.length;for(c=a=0;;a++){var d=this.children[a];if(d.dom==b)return c;c+=d.length+d.breakAfter}}},{key:"domBoundsAround",value:function(b,a){for(var c=-1,d=-1,f=-1,g=-1,h=0,p=2<arguments.length&&void 0!==arguments[2]?arguments[2]:0;h<this.children.length;h++){var v=this.children[h],A=p+v.length;if(p<b&&A>a)return v.domBoundsAround(b,a,p);A>=b&&-1==c&&(c=h,d=p);if(A>=a&&-1==f){f=h;g=A;break}p=A+v.breakAfter}return{from:d,to:g,startDOM:(c?this.children[c-
1].dom.nextSibling:null)||this.dom.firstChild,endDOM:f<this.children.length-1?this.children[f+1].dom:null}}},{key:"markDirty",value:function(){var b=0<arguments.length&&void 0!==arguments[0]?arguments[0]:!1;this.dirty&2||(this.dirty|=2,this.markParentsDirty(b))}},{key:"markParentsDirty",value:function(b){for(var a=this.parent;a;a=a.parent){b&&(a.dirty|=2);if(a.dirty&1)break;a.dirty|=1;b=!1}}},{key:"setParent",value:function(b){this.parent!=b&&(this.parent=b,this.dirty&&this.markParentsDirty(!0))}},
{key:"setDOM",value:function(b){this.dom=b;b.cmView=this}},{key:"replaceChildren",value:function(b,a){var c,d=2<arguments.length&&void 0!==arguments[2]?arguments[2]:rd;this.markDirty();for(var f=b;f<a;f++)this.children[f].parent=null;(c=this.children).splice.apply(c,[b,a-b].concat(va(d)));for(c=0;c<d.length;c++)d[c].setParent(this)}},{key:"ignoreMutation",value:function(b){return!1}},{key:"ignoreEvent",value:function(b){return!1}},{key:"childCursor",value:function(){return new Ec(this.children,0<
arguments.length&&void 0!==arguments[0]?arguments[0]:this.length,this.children.length)}},{key:"childPos",value:function(b){var a=1<arguments.length&&void 0!==arguments[1]?arguments[1]:1;return this.childCursor().findPos(b,a)}},{key:"toString",value:function(){var b=this.constructor.name.replace("View","");return b+(this.children.length?"("+this.children.join()+")":this.length?"["+("Text"==b?this.text:this.length)+"]":"")+(this.breakAfter?"#":"")}},{key:"editorView",get:function(){if(!this.parent)throw Error("Accessing view in orphan content view");
return this.parent.editorView}},{key:"overrideDOMText",get:function(){return null}},{key:"posAtStart",get:function(){return this.parent?this.parent.posBefore(this):0}},{key:"posAtEnd",get:function(){return this.posAtStart+this.length}},{key:"rootView",get:function(){for(var b=this;;){var a=b.parent;if(!a)return b;b=a}}}],[{key:"get",value:function(b){return b.cmView}}]);return e}();jb.prototype.breakAfter=0;var Ec=function(){function e(b,a,c){W(this,e);this.children=b;this.pos=a;this.i=c;this.off=
0}Y(e,[{key:"findPos",value:function(b){for(var a=1<arguments.length&&void 0!==arguments[1]?arguments[1]:1;;){if(b>this.pos||b==this.pos&&(0<a||0==this.i||this.children[this.i-1].breakAfter))return this.off=b-this.pos,this;var c=this.children[--this.i];this.pos-=c.length+c.breakAfter}}}]);return e}(),sd=[],cc=function(e){function b(){W(this,b);return ja(this,da(b).apply(this,arguments))}pa(b,e);Y(b,[{key:"match",value:function(a){return!1}},{key:"getSide",value:function(){return 0}},{key:"children",
get:function(){return sd}}]);return b}(jb),nc=function(e){function b(a,c,d,f){W(this,b);var g=ja(this,da(b).call(this));g.text=a;g.tagName=c;g.attrs=f;g.textDOM=null;g["class"]=d;return g}pa(b,e);Y(b,[{key:"createDOM",value:function(a){var c=this.tagName||(this.attrs||this["class"]?"span":null);this.textDOM=a||document.createTextNode(this.text);if(c){a=document.createElement(c);a.appendChild(this.textDOM);this["class"]&&(a.className=this["class"]);if(this.attrs)for(var d in this.attrs)a.setAttribute(d,
this.attrs[d]);this.setDOM(a)}else this.setDOM(this.textDOM)}},{key:"sync",value:function(a){this.dom||this.createDOM();if(this.textDOM.nodeValue!=this.text&&(a&&a.node==this.textDOM&&(a.written=!0),this.textDOM.nodeValue=this.text,a=this.dom,this.textDOM!=a&&(this.dom.firstChild!=this.textDOM||a.lastChild!=this.textDOM))){for(;a.firstChild;)a.removeChild(a.firstChild);a.appendChild(this.textDOM)}}},{key:"reuseDOM",value:function(a){if(3!=a.nodeType)return!1;this.createDOM(a);return!0}},{key:"merge",
value:function(a){var c=1<arguments.length&&void 0!==arguments[1]?arguments[1]:this.length,d=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(d&&(!(d instanceof b&&d.tagName==this.tagName&&d["class"]==this["class"]&&Ga(d.attrs,this.attrs))||256<this.length-(c-a)+d.length))return!1;this.text=this.text.slice(0,a)+(d?d.text:"")+this.text.slice(c);this.markDirty();return!0}},{key:"slice",value:function(a){return new b(this.text.slice(a,1<arguments.length&&void 0!==arguments[1]?arguments[1]:
this.length),this.tagName,this["class"],this.attrs)}},{key:"localPosFromDOM",value:function(a,c){return a==this.textDOM?c:c?this.text.length:0}},{key:"domAtPos",value:function(a){return new ub(this.textDOM,a)}},{key:"domBoundsAround",value:function(a,c,d){return{from:d,to:d+this.length,startDOM:this.dom,endDOM:this.dom.nextSibling}}},{key:"coordsAt",value:function(a,c){return ib(this.textDOM,a,c,this.length)}},{key:"length",get:function(){return this.text.length}}]);return b}(cc),dc=function(e){function b(a,
c,d,f){W(this,b);var g=ja(this,da(b).call(this));g.widget=a;g.length=c;g.side=d;g.open=f;return g}pa(b,e);Y(b,[{key:"slice",value:function(a){return b.create(this.widget,(1<arguments.length&&void 0!==arguments[1]?arguments[1]:this.length)-a,this.side)}},{key:"sync",value:function(){this.dom&&this.widget.updateDOM(this.dom)||(this.setDOM(this.widget.toDOM(this.editorView)),this.dom.contentEditable="false")}},{key:"getSide",value:function(){return this.side}},{key:"merge",value:function(a){var c=1<
arguments.length&&void 0!==arguments[1]?arguments[1]:this.length,d=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(d){if(!(d instanceof b&&d.open)||0<a&&!(d.open&1)||c<this.length&&!(d.open&2))return!1;if(!this.widget.compare(d.widget))throw Error("Trying to merge incompatible widgets");}this.length=a+(d?d.length:0)+(this.length-c);return!0}},{key:"match",value:function(a){return a.length==this.length&&a instanceof b&&a.side==this.side&&this.widget.constructor==a.widget.constructor?
(this.widget.eq(a.widget.value)||this.markDirty(!0),this.widget=a.widget,!0):!1}},{key:"ignoreMutation",value:function(){return!0}},{key:"ignoreEvent",value:function(a){return this.widget.ignoreEvent(a)}},{key:"domAtPos",value:function(a){return 0==a?ub.before(this.dom):ub.after(this.dom,a==this.length)}},{key:"domBoundsAround",value:function(){return null}},{key:"coordsAt",value:function(a,c){c=this.dom.getClientRects();for(var d,f=0<a?c.length-1:0;!(d=c[f],0<a?0==f:f==c.length-1||d.top<d.bottom);f+=
0<a?-1:1);return d}},{key:"overrideDOMText",get:function(){if(0==this.length)return Xa.Text.empty;for(var a=this;a.parent;)a=a.parent;a=(a=a.editorView)&&a.state.doc;var c=this.posAtStart;return a?a.slice(c,c+this.length):Xa.Text.empty}}],[{key:"create",value:function(a,c,d){return new (a.customView||b)(a,c,d,3<arguments.length&&void 0!==arguments[3]?arguments[3]:0)}}]);return b}(cc),td=function(e){function b(){W(this,b);return ja(this,da(b).apply(this,arguments))}pa(b,e);Y(b,[{key:"domAtPos",value:function(a){return new ub(this.widget.value.text,
a)}},{key:"sync",value:function(){this.dom||this.setDOM(this.widget.toDOM(this.editorView))}},{key:"localPosFromDOM",value:function(a,c){return c?3==a.nodeType?Math.min(c,this.length):this.length:0}},{key:"ignoreMutation",value:function(){return!1}},{key:"coordsAt",value:function(a,c){return ib(this.widget.value.text,a,c,this.length)}},{key:"overrideDOMText",get:function(){return null}}]);return b}(dc),Gb=function(){function e(b){W(this,e);this.value=b}Y(e,[{key:"eq",value:function(b){return this.value===
b}},{key:"updateDOM",value:function(b){return!1}},{key:"compare",value:function(b){return this==b||this.constructor==b.constructor&&this.eq(b.value)}},{key:"ignoreEvent",value:function(b){return!0}},{key:"estimatedHeight",get:function(){return-1}},{key:"customView",get:function(){return null}}]);return e}();t.WidgetType=Gb;var $a;t.BlockType=$a;(function(e){e[e.Text=0]="Text";e[e.WidgetBefore=1]="WidgetBefore";e[e.WidgetAfter=2]="WidgetAfter";e[e.WidgetRange=3]="WidgetRange"})($a||(t.BlockType=$a=
{}));var Aa=function(e){function b(a,c,d,f){W(this,b);var g=ja(this,da(b).call(this));g.startSide=a;g.endSide=c;g.widget=d;g.spec=f;return g}pa(b,e);Y(b,[{key:"hasHeight",value:function(){return this.widget?-1<this.widget.estimatedHeight:!1}},{key:"point",get:function(){return!1}},{key:"heightRelevant",get:function(){return!1}}],[{key:"mark",value:function(a){return new ud(a)}},{key:"widget",value:function(a){var c=a.side||0;a.block&&(c+=(2E8+1)*(0<c?1:-1));return new oc(a,c,c,!!a.block,a.widget||
null,!1)}},{key:"replace",value:function(a){var c=!!a.block,d=K(a),f=d.start;d=d.end;return new oc(a,c?-2E8*(f?2:1):1E8*(f?-1:1),c?2E8*(d?2:1):1E8*(d?1:-1),c,a.widget||null,!0)}},{key:"line",value:function(a){return new Fc(a)}},{key:"set",value:function(a){return Ta.RangeSet.of(a,1<arguments.length&&void 0!==arguments[1]?arguments[1]:!1)}}]);return b}(Ta.RangeValue);t.Decoration=Aa;Aa.none=Ta.RangeSet.empty;var ud=function(e){function b(a){W(this,b);var c=K(a),d=c.start;c=c.end;return ja(this,da(b).call(this,
1E8*(d?-1:1),1E8*(c?1:-1),null,a))}pa(b,e);Y(b,[{key:"eq",value:function(a){return this==a||a instanceof b&&this.spec.tagName==a.spec.tagName&&this.spec["class"]==a.spec["class"]&&Ga(this.spec.attributes||null,a.spec.attributes||null)}},{key:"range",value:function(a){var c=1<arguments.length&&void 0!==arguments[1]?arguments[1]:a;if(a>=c)throw new RangeError("Mark decorations may not be empty");return Ia(da(b.prototype),"range",this).call(this,a,c)}}]);return b}(Aa),Fc=function(e){function b(a){W(this,
b);return ja(this,da(b).call(this,-1E8,-1E8,null,a))}pa(b,e);Y(b,[{key:"eq",value:function(a){return a instanceof b&&Ga(this.spec.attributes,a.spec.attributes)}},{key:"range",value:function(a){var c=1<arguments.length&&void 0!==arguments[1]?arguments[1]:a;if(c!=a)throw new RangeError("Line decoration ranges must be zero-length");return Ia(da(b.prototype),"range",this).call(this,a,c)}},{key:"point",get:function(){return!0}}]);return b}(Aa);Fc.prototype.mapMode=U.MapMode.TrackBefore;var oc=function(e){function b(a,
c,d,f,g,h){W(this,b);a=ja(this,da(b).call(this,c,d,g,a));a.block=f;a.isReplace=h;a.mapMode=f?0>c?U.MapMode.TrackBefore:U.MapMode.TrackAfter:U.MapMode.TrackDel;return a}pa(b,e);Y(b,[{key:"eq",value:function(a){var c;if(c=a instanceof b){c=this.widget;var d=a.widget;c=c==d||!!(c&&d&&c.compare(d))}return c&&this.block==a.block&&this.startSide==a.startSide&&this.endSide==a.endSide}},{key:"range",value:function(a){var c=1<arguments.length&&void 0!==arguments[1]?arguments[1]:a;if(this.isReplace&&(a>c||
a==c&&0<this.startSide&&0>this.endSide))throw new RangeError("Invalid range for replacement decoration");if(!this.isReplace&&c!=a)throw new RangeError("Widget decorations can only have zero-length ranges");return Ia(da(b.prototype),"range",this).call(this,a,c)}},{key:"point",get:function(){return!0}},{key:"type",get:function(){return this.startSide<this.endSide?$a.WidgetRange:0>this.startSide?$a.WidgetBefore:$a.WidgetAfter}},{key:"heightRelevant",get:function(){return this.block||!!this.widget&&5<=
this.widget.estimatedHeight}}]);return b}(Aa),Gc=U.Facet.define({combine:function(e){return e.join(" ")}}),Hc=U.Facet.define({combine:function(e){return-1<e.indexOf(!0)}}),Xb=Za.StyleModule.newName(),uc=Za.StyleModule.newName(),tc=Za.StyleModule.newName(),vd=M(Xb,{wrap:{position:"relative !important",boxSizing:"border-box","\x26.cm-focused":{outline_fallback:"1px dotted #212121",outline:"5px auto -webkit-focus-ring-color"},display:"flex !important",flexDirection:"column"},scroller:{display:"flex !important",
alignItems:"flex-start !important",fontFamily:"monospace",lineHeight:1.4,height:"100%",overflowX:"auto"},content:{margin:0,flexGrow:2,minHeight:"100%",display:"block",whiteSpace:"pre",boxSizing:"border-box",padding:"4px 0",outline:"none"},"content@light":{caretColor:"black"},"content@dark":{caretColor:"white"},line:{display:"block",padding:"0 2px 0 4px"},button:{verticalAlign:"middle",color:"inherit",fontSize:"70%",padding:".2em 1em",borderRadius:"3px"},"button@light":{backgroundImage:"linear-gradient(#eff1f5, #d9d9df)",
border:"1px solid #888","\x26:active":{backgroundImage:"linear-gradient(#b4b4b4, #d0d3d6)"}},"button@dark":{backgroundImage:"linear-gradient(#555, #111)",border:"1px solid #888","\x26:active":{backgroundImage:"linear-gradient(#111, #333)"}},textfield:{verticalAlign:"middle",color:"inherit",fontSize:"70%",border:"1px solid silver",padding:".2em .5em"},"textfield@light":{backgroundColor:"white"},"textfield@dark":{border:"1px solid #555",backgroundColor:"inherit"},secondarySelection:{backgroundColor_fallback:"#3297FD",
color_fallback:"white !important",backgroundColor:"Highlight",color:"HighlightText !important"},secondaryCursor:{display:"inline-block",verticalAlign:"text-top",width:0,height:"1.15em",margin:"0 -0.7px -.7em"},"secondaryCursor@light":{borderLeft:"1.4px solid #555"},"secondaryCursor@dark":{borderLeft:"1.4px solid #ddd"}}),Ic=P("line"),yb=function(e){function b(){W(this,b);var a=ja(this,da(b).apply(this,arguments));a.children=[];a.length=0;a.prevAttrs=void 0;a.attrs=null;a.breakAfter=0;return a}pa(b,
e);Y(b,[{key:"merge",value:function(a,c,d,f){if(d){if(!(d instanceof b))return!1;this.dom||d.transferDOM(this)}f&&this.setDeco(d?d.attrs:null);d=d?d.children:[];var g=this.childCursor(),h=g.findPos(c,1);f=h.i;h=h.off;var p=g.findPos(a,-1);g=p.i;p=p.off;a-=c;c=!0;var v=!1,A=void 0;try{for(var C=d[Symbol.iterator](),N;!(c=(N=C.next()).done);c=!0)a+=N.value.length}catch(ea){v=!0,A=ea}finally{try{if(!c&&null!=C["return"])C["return"]()}finally{if(v)throw A;}}this.length+=a;if(g==f&&p){C=this.children[g];
if(1==d.length&&C.merge(p,h,d[0]))return!0;if(0==d.length)return C.merge(p,h,null),!0;C=C.slice(h);C.merge(0,0,d[d.length-1])?d[d.length-1]=C:d.push(C);f++;h=0}h?(C=this.children[f],d.length&&C.merge(0,h,d[d.length-1])?d.pop():C.merge(0,h,null)):f<this.children.length&&d.length&&this.children[f].merge(0,0,d[d.length-1])&&d.pop();p?(C=this.children[g],d.length&&C.merge(p,void 0,d[0])?d.shift():C.merge(p,void 0,null),g++):g&&d.length&&this.children[g-1].merge(this.children[g-1].length,void 0,d[0])&&
d.shift();for(;g<f&&d.length&&this.children[f-1].match(d[d.length-1]);)d.pop(),f--;for(;g<f&&d.length&&this.children[g].match(d[0]);)d.shift(),g++;(d.length||g!=f)&&this.replaceChildren(g,f,d);return!0}},{key:"split",value:function(a){var c=new b;c.breakAfter=this.breakAfter;if(0==this.length)return c;var d=this.childPos(a),f=d.i;if(d=d.off)c.append(this.children[f].slice(d)),this.children[f].merge(d,void 0,null),f++;for(d=f;d<this.children.length;d++)c.append(this.children[d]);for(;0<f&&0==this.children[f-
1].length;)this.children[f-1].parent=null,f--;this.children.length=f;this.markDirty();this.length=a;return c}},{key:"transferDOM",value:function(a){this.dom&&(a.setDOM(this.dom),a.prevAttrs=void 0===this.prevAttrs?this.attrs:this.prevAttrs,this.prevAttrs=void 0,this.dom=null)}},{key:"setDeco",value:function(a){Ga(this.attrs,a)||(this.dom&&(this.prevAttrs=this.attrs,this.markDirty()),this.attrs=a)}},{key:"append",value:function(a){this.children.push(a);a.setParent(this);this.length+=a.length}},{key:"addLineDeco",
value:function(a){if(a=a.spec.attributes)this.attrs=Da(a,this.attrs||{})}},{key:"domAtPos",value:function(a){for(var c=0,d=0;c<this.children.length;c++){var f=this.children[c],g=d+f.length;if(!(g==d&&0>=f.getSide())){if(a>d&&a<g&&f.dom.parentNode==this.dom)return f.domAtPos(a-d);if(a<=d)break;d=g}}for(;0<c;c--)if(a=this.children[c-1].dom,a.parentNode==this.dom)return ub.after(a);return new ub(this.dom,0)}},{key:"sync",value:function(a){this.dom||(this.setDOM(document.createElement("div")),this.dom.className=
Ic,this.prevAttrs=this.attrs?null:void 0);void 0!==this.prevAttrs&&(Ea(this.dom,this.prevAttrs,this.attrs),this.dom.classList.add(Ic),this.prevAttrs=void 0);Ia(da(b.prototype),"sync",this).call(this,a);a=this.dom.lastChild;a&&("BR"==a.nodeName||jb.get(a)instanceof nc)||(a=document.createElement("BR"),a.cmIgnore=!0,this.dom.appendChild(a))}},{key:"measureTextSize",value:function(){if(0==this.children.length||20<this.length)return null;var a=0,c=!0,d=!1,f=void 0;try{for(var g=this.children[Symbol.iterator](),
h;!(c=(h=g.next()).done);c=!0){var p=h.value;if(!(p instanceof nc))return null;var v=hb(p.dom);if(1!=v.length)return null;a+=v[0].width}}catch(A){d=!0,f=A}finally{try{if(!c&&null!=g["return"])g["return"]()}finally{if(d)throw f;}}return{lineHeight:this.dom.getBoundingClientRect().height,charWidth:a/this.length}}},{key:"coordsAt",value:function(a,c){for(var d=0,f=0;f<this.children.length;f++){var g=this.children[f],h=d+g.length;if(h!=d&&(0>=c||h==this.length?h>=a:h>a))return g.coordsAt(a-d,c);d=h}return this.dom.lastChild.getBoundingClientRect()}},
{key:"match",value:function(a){return!1}},{key:"type",get:function(){return $a.Text}}],[{key:"find",value:function(a,c){for(var d=0,f=0;;d++){var g=a.children[d];f+=g.length;if(f>=c){if(g instanceof b)return g;if(g.length)return null}f+=g.breakAfter}}}]);return b}(jb),wd=[],Jc=function(e){function b(a,c,d){var f=3<arguments.length&&void 0!==arguments[3]?arguments[3]:0;W(this,b);var g=ja(this,da(b).call(this));g.widget=a;g.length=c;g.type=d;g.open=f;g.breakAfter=0;return g}pa(b,e);Y(b,[{key:"merge",
value:function(a,c,d){if(!(d instanceof b&&d.open)||0<a&&!(d.open&1)||c<this.length&&!(d.open&2))return!1;if(!this.widget.compare(d.widget))throw Error("Trying to merge an open widget with an incompatible node");this.length=a+d.length+(this.length-c);return!0}},{key:"domAtPos",value:function(a){return 0==a?ub.before(this.dom):ub.after(this.dom,a==this.length)}},{key:"split",value:function(a){var c=this.length-a;this.length=a;return new b(this.widget,c,this.type)}},{key:"sync",value:function(){this.dom&&
this.widget.updateDOM(this.dom)||(this.setDOM(this.widget.toDOM(this.editorView)),this.dom.contentEditable="false")}},{key:"domBoundsAround",value:function(){return null}},{key:"match",value:function(a){return a instanceof b&&a.type==this.type&&a.widget.constructor==this.widget.constructor?(a.widget.eq(this.widget.value)||this.markDirty(!0),this.widget=a.widget,this.length=a.length,this.breakAfter=a.breakAfter,!0):!1}},{key:"children",get:function(){return wd}},{key:"overrideDOMText",get:function(){return this.parent?
this.parent.view.state.doc.slice(this.posAtStart,this.posAtEnd):U.Text.empty}}]);return b}(jb),xd=function(){function e(b,a,c){W(this,e);this.doc=b;this.pos=a;this.end=c;this.content=[];this.curLine=null;this.breakAtStart=0;this.text="";this.textOff=0;this.cursor=b.iter();this.skip=a}Y(e,[{key:"posCovered",value:function(){if(0==this.content.length)return!this.breakAtStart&&this.doc.lineAt(this.pos).from!=this.pos;var b=this.content[this.content.length-1];return!b.breakAfter&&!(b instanceof Jc&&b.type==
$a.WidgetBefore)}},{key:"getLine",value:function(){this.curLine||this.content.push(this.curLine=new yb);return this.curLine}},{key:"addWidget",value:function(b){this.curLine=null;this.content.push(b)}},{key:"finish",value:function(){this.posCovered()||this.getLine()}},{key:"buildText",value:function(b,a,c,d,f){for(;0<b;){if(this.textOff==this.text.length){var g=this.cursor.next(this.skip);f=g.value;var h=g.lineBreak;g=g.done;this.skip=0;if(g)throw Error("Ran out of text content when drawing inline views");
if(h){this.posCovered()||this.getLine();this.content.length?this.content[this.content.length-1].breakAfter=1:this.breakAtStart=1;this.curLine=null;b--;continue}else this.text=f,this.textOff=0}f=Math.min(this.text.length-this.textOff,b);this.getLine().append(new nc(this.text.slice(this.textOff,this.textOff+f),a,c,d));b-=f;this.textOff+=f}}},{key:"span",value:function(b,a,c){var d=null,f=null,g=null,h=!0,p=!1,v=void 0;try{for(var A=c[Symbol.iterator](),C;!(h=(C=A.next()).done);h=!0){var N=C.value.spec;
N.tagName&&(d=N.tagName);N["class"]&&(f=f?f+" "+N["class"]:N["class"]);if(N.attributes)for(var ea in N.attributes){var ba=N.attributes[ea];null!=ba&&("class"==ea?f=f?f+" "+ba:ba:(g||(g={}),"style"==ea&&g.style&&(ba=g.style+";"+ba),g[ea]=ba))}}}catch(ua){p=!0,v=ua}finally{try{if(!h&&null!=A["return"])A["return"]()}finally{if(p)throw v;}}this.buildText(a-b,d,f,g,c);this.pos=a}},{key:"point",value:function(b,a,c,d,f){d=(d?1:0)|(f?2:0);b=a-b;c instanceof oc?c.block?(f=c.type,f!=$a.WidgetAfter||this.posCovered()||
this.getLine(),this.addWidget(new Jc(c.widget||new Kc("div"),b,f,d))):this.getLine().append(dc.create(c.widget||new Kc("span"),b,c.startSide,d)):this.doc.lineAt(this.pos).from==this.pos&&this.getLine().addLineDeco(c);b&&(this.textOff+b<=this.text.length?this.textOff+=b:(this.skip+=b-(this.text.length-this.textOff),this.text="",this.textOff=0),this.pos=a)}}],[{key:"build",value:function(b,a,c,d){b=new e(b,a,c);Ta.RangeSet.spans(d,a,c,b);b.finish();return b}}]);return e}(),Kc=function(e){function b(){W(this,
b);return ja(this,da(b).apply(this,arguments))}pa(b,e);Y(b,[{key:"toDOM",value:function(){return document.createElement(this.value)}},{key:"updateDOM",value:function(a){return a.nodeName.toLowerCase()==this.value}}]);return b}(Gb),qb;t.Direction=qb;(function(e){e[e.LTR=0]="LTR";e[e.RTL=1]="RTL"})(qb||(t.Direction=qb={}));var vc=qb.LTR,yd=qb.RTL,dd=V("88888888888888888888888888888888888666888888787833333333337888888000000000000000000000000008888880000000000000000000000000088888888888888888888888888888888888887866668888088888663380888308888800000000000000000000000800000000000000000000000000000008"),
ed=V("4444448826627288999999999992222222222222222222222222222222222222222222222229999999999999999999994444444444644222822222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222999999949999999229989999223333333333"),cd=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/,Db=function(){function e(b,a,c){W(this,e);this.from=b;this.to=a;this.level=c}Y(e,[{key:"side",value:function(b,a){return this.dir==a==b?this.to:this.from}},{key:"dir",get:function(){return this.level%
2?yd:vc}}],[{key:"find",value:function(b,a,c,d){for(var f=-1,g=0;g<b.length;g++){var h=b[g];if(h.from<=a&&h.to>=a){if(h.level==c)return g;if(0>f||(0!=d?0>d?h.from<a:h.to>a:b[f].level>h.level))f=g}}if(0>f)throw new RangeError("Index out of range");return f}}]);return e}();t.BidiSpan=Db;var Ua=[],wc="",Lc=["pre-wrap","normal","pre-line"],Mc=function(){function e(){W(this,e);this.doc=Xa.Text.empty;this.lineWrapping=!1;this.direction=qb.LTR;this.heightSamples={};this.lineHeight=14;this.charWidth=7;this.lineLength=
30;this.heightChanged=!1}Y(e,[{key:"heightForGap",value:function(b,a){var c=this.doc.lineAt(a).number-this.doc.lineAt(b).number+1;this.lineWrapping&&(c+=Math.ceil((a-b-c*this.lineLength*.5)/this.lineLength));return this.lineHeight*c}},{key:"heightForLine",value:function(b){return this.lineWrapping?(1+Math.max(0,Math.ceil((b-this.lineLength)/(this.lineLength-5))))*this.lineHeight:this.lineHeight}},{key:"setDoc",value:function(b){this.doc=b;return this}},{key:"mustRefresh",value:function(b,a,c){for(var d=
!1,f=0;f<b.length;f++){var g=b[f];0>g?f++:this.heightSamples[Math.floor(10*g)]||(d=!0,this.heightSamples[Math.floor(10*g)]=!0)}return d||-1<Lc.indexOf(a)!=this.lineWrapping||this.direction!=c}},{key:"refresh",value:function(b,a,c,d,f,g){var h=-1<Lc.indexOf(b);b=Math.round(c)!=Math.round(this.lineHeight)||this.lineWrapping!=h||this.direction!=a;this.lineWrapping=h;this.direction=a;this.lineHeight=c;this.charWidth=d;this.lineLength=f;if(b)for(this.heightSamples={},a=0;a<g.length;a++)c=g[a],0>c?a++:
this.heightSamples[Math.floor(10*c)]=!0;return b}}]);return e}(),Nc=function(){function e(b,a){W(this,e);this.from=b;this.heights=a;this.index=0}Y(e,[{key:"more",get:function(){return this.index<this.heights.length}}]);return e}(),Ob=function(){function e(b,a,c,d,f){W(this,e);this.from=b;this.length=a;this.top=c;this.height=d;this.type=f}Y(e,[{key:"join",value:function(b){var a=(Array.isArray(this.type)?this.type:[this]).concat(Array.isArray(b.type)?b.type:[b]);return new e(this.from,this.length+
b.length,this.top,this.height+b.height,a)}},{key:"to",get:function(){return this.from+this.length}},{key:"bottom",get:function(){return this.top+this.height}}]);return e}();t.BlockInfo=Ob;var xa;(function(e){e[e.ByPos=0]="ByPos";e[e.ByHeight=1]="ByHeight";e[e.ByPosNoHeight=2]="ByPosNoHeight"})(xa||(xa={}));var vb=function(){function e(b,a){var c=2<arguments.length&&void 0!==arguments[2]?arguments[2]:2;W(this,e);this.length=b;this.height=a;this.flags=c}Y(e,[{key:"setHeight",value:function(b,a){this.height!=
a&&(1E-4<Math.abs(this.height-a)&&(b.heightChanged=!0),this.height=a)}},{key:"replace",value:function(b,a,c){return e.of(c)}},{key:"decomposeLeft",value:function(b,a){a.push(this)}},{key:"decomposeRight",value:function(b,a){a.push(this)}},{key:"applyChanges",value:function(b,a,c,d){for(var f=this,g=d.length-1;0<=g;g--){var h=d[g],p=h.fromA,v=h.toA,A=h.fromB;h=h.toB;var C=f.lineAt(p,xa.ByPosNoHeight,a,0,0),N=C.to>=v?C:f.lineAt(v,xa.ByPosNoHeight,a,0,0);h+=N.to-v;for(v=N.to;0<g&&C.from<=d[g-1].toA;)p=
d[g-1].fromA,A=d[g-1].fromB,g--,p<C.from&&(C=f.lineAt(p,xa.ByPosNoHeight,a,0,0));A+=C.from-p;p=C.from;A=zd.build(c,b,A,h);f=f.replace(p,v,A)}return f.updateHeight(c,0)}},{key:"outdated",get:function(){return 0<(this.flags&2)},set:function(b){this.flags=(b?2:0)|this.flags&-3}}],[{key:"empty",value:function(){return new Ab(0,0)}},{key:"of",value:function(b){if(1==b.length)return b[0];for(var a=0,c=b.length,d=0,f=0;;)if(a==c)if(d>2*f){var g=b[a-1];g["break"]?b.splice(--a,1,g.left,null,g.right):b.splice(--a,
1,g.left,g.right);c+=1+g["break"];d-=g.size}else if(f>2*d)g=b[c],g["break"]?b.splice(c,1,g.left,null,g.right):b.splice(c,1,g.left,g.right),c+=2+g["break"],f-=g.size;else break;else d<f?(g=b[a++])&&(d+=g.size):(g=b[--c])&&(f+=g.size);d=0;null==b[a-1]?(d=1,a--):null==b[a]&&(d=1,c++);return new Ad(e.of(b.slice(0,a)),d,e.of(b.slice(c)))}}]);return e}();vb.prototype.size=1;var Oc=function(e){function b(a,c,d){W(this,b);a=ja(this,da(b).call(this,a,c));a.type=d;return a}pa(b,e);Y(b,[{key:"blockAt",value:function(a,
c,d,f){return new Ob(f,this.length,d,this.height,this.type)}},{key:"lineAt",value:function(a,c,d,f,g){return this.blockAt(0,d,f,g)}},{key:"forEachLine",value:function(a,c,d,f,g,h){h(this.blockAt(0,d,f,g))}},{key:"updateHeight",value:function(a){var c=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,d=3<arguments.length?arguments[3]:void 0;d&&d.from<=c&&d.more&&this.setHeight(a,d.heights[d.index++]);this.outdated=!1;return this}},{key:"toString",value:function(){return"block(".concat(this.length,
")")}}]);return b}(vb),Ab=function(e){function b(a,c){W(this,b);a=ja(this,da(b).call(this,a,c,$a.Text));a.collapsed=0;a.widgetHeight=0;return a}pa(b,e);Y(b,[{key:"replace",value:function(a,c,d){a=d[0];return 1==d.length&&(a instanceof b||a instanceof Lb&&a.flags&4)&&10>Math.abs(this.length-a.length)?(a instanceof Lb?a=new b(a.length,this.height):a.height=this.height,this.outdated||(a.outdated=!1),a):vb.of(d)}},{key:"updateHeight",value:function(a){var c=1<arguments.length&&void 0!==arguments[1]?arguments[1]:
0,d=2<arguments.length&&void 0!==arguments[2]?arguments[2]:!1,f=3<arguments.length?arguments[3]:void 0;f&&f.from<=c&&f.more?this.setHeight(a,f.heights[f.index++]):(d||this.outdated)&&this.setHeight(a,Math.max(this.widgetHeight,a.heightForLine(this.length-this.collapsed)));this.outdated=!1;return this}},{key:"toString",value:function(){return"line(".concat(this.length).concat(this.collapsed?-this.collapsed:"").concat(this.widgetHeight?":"+this.widgetHeight:"",")")}}]);return b}(Oc),Lb=function(e){function b(a){W(this,
b);return ja(this,da(b).call(this,a,0))}pa(b,e);Y(b,[{key:"lines",value:function(a,c){var d=a.lineAt(c).number;a=a.lineAt(c+this.length).number;return{firstLine:d,lastLine:a,lineHeight:this.height/(a-d+1)}}},{key:"blockAt",value:function(a,c,d,f){var g=this.lines(c,f),h=g.firstLine;f=g.lineHeight;a=Math.max(0,Math.min(g.lastLine-h,Math.floor((a-d)/f)));c=c.line(h+a);return new Ob(c.from,c.length,d+f*a,f,$a.Text)}},{key:"lineAt",value:function(a,c,d,f,g){if(c==xa.ByHeight)return this.blockAt(a,d,f,
g);if(c==xa.ByPosNoHeight)return f=d.lineAt(a),a=f.from,new Ob(a,f.to-a,0,0,$a.Text);g=this.lines(d,g);c=g.firstLine;g=g.lineHeight;a=d.lineAt(a);return new Ob(a.from,a.length,f+g*(a.number-c),g,$a.Text)}},{key:"forEachLine",value:function(a,c,d,f,g,h){g=this.lines(d,g);a=g.lastLine;c=g.lineHeight;for(g=g.firstLine;g<=a;g++){var p=d.line(g),v=p.from;p=p.to;if(v>p)break;p>=v&&h(new Ob(v,p-v,f,f+=c,$a.Text))}}},{key:"replace",value:function(a,c,d){c=this.length-c;if(0<c){var f=d[d.length-1];f instanceof
b?d[d.length-1]=new b(f.length+c):d.push(null,new b(c-1))}0<a&&(c=d[0],c instanceof b?d[0]=new b(a+c.length):d.unshift(new b(a-1),null));return vb.of(d)}},{key:"decomposeLeft",value:function(a,c){c.push(new b(a-1),null)}},{key:"decomposeRight",value:function(a,c){c.push(null,new b(this.length-a-1))}},{key:"updateHeight",value:function(a){var c=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,d=2<arguments.length&&void 0!==arguments[2]?arguments[2]:!1,f=3<arguments.length?arguments[3]:void 0,
g=c+this.length;if(f&&f.from<=c+this.length&&f.more){d=[];var h=Math.max(c,f.from);for(f.from>c&&d.push((new b(f.from-c-1)).updateHeight(a,c));h<=g&&f.more;){c=a.doc.lineAt(h).length;d.length&&d.push(null);var p=new Ab(c,f.heights[f.index++]);p.outdated=!1;d.push(p);h+=c+1}h<=g&&d.push(null,(new b(g-h)).updateHeight(a,h));a.heightChanged=!0;return vb.of(d)}if(d||this.outdated)this.setHeight(a,a.heightForGap(c,c+this.length)),this.outdated=!1;return this}},{key:"toString",value:function(){return"gap(".concat(this.length,
")")}}]);return b}(vb),Ad=function(e){function b(a,c,d){W(this,b);c=ja(this,da(b).call(this,a.length+c+d.length,a.height+d.height,c|(a.outdated||d.outdated?2:0)));c.left=a;c.right=d;c.size=a.size+d.size;return c}pa(b,e);Y(b,[{key:"blockAt",value:function(a,c,d,f){var g=d+this.left.height;return a<g||0==this.right.height?this.left.blockAt(a,c,d,f):this.right.blockAt(a,c,g,f+this.left.length+this["break"])}},{key:"lineAt",value:function(a,c,d,f,g){var h=f+this.left.height,p=g+this.left.length+this["break"],
v=c==xa.ByHeight?a<h||0==this.right.height:a<p;a=v?this.left.lineAt(a,c,d,f,g):this.right.lineAt(a,c,d,h,p);if(this["break"]||(v?a.to<p:a.from>p))return a;c=c==xa.ByPosNoHeight?xa.ByPosNoHeight:xa.ByPos;return v?a.join(this.right.lineAt(p,c,d,h,p)):this.left.lineAt(p,c,d,f,g).join(a)}},{key:"forEachLine",value:function(a,c,d,f,g,h){var p=f+this.left.height,v=g+this.left.length+this["break"];if(this["break"])a<v&&this.left.forEachLine(a,c,d,f,g,h),c>=v&&this.right.forEachLine(a,c,d,p,v,h);else{var A=
this.lineAt(v,xa.ByPos,d,f,g);a<A.from&&this.left.forEachLine(a,A.from-1,d,f,g,h);A.to>=a&&A.from<=c&&h(A);c>A.to&&this.right.forEachLine(A.to+1,c,d,p,v,h)}}},{key:"replace",value:function(a,c,d){var f=this.left.length+this["break"];if(c<f)return this.balanced(this.left.replace(a,c,d),this.right);if(a>this.left.length)return this.balanced(this.left,this.right.replace(a-f,c-f,d));f=[];0<a&&this.decomposeLeft(a,f);var g=f.length,h=!0,p=!1,v=void 0;try{for(var A=d[Symbol.iterator](),C;!(h=(C=A.next()).done);h=
!0)f.push(C.value)}catch(N){p=!0,v=N}finally{try{if(!h&&null!=A["return"])A["return"]()}finally{if(p)throw v;}}0<a&&u(f,g-1);c<this.length&&(a=f.length,this.decomposeRight(c,f),u(f,a));return vb.of(f)}},{key:"decomposeLeft",value:function(a,c){var d=this.left.length;if(a<=d)return this.left.decomposeLeft(a,c);c.push(this.left);this["break"]&&(d++,a>=d&&c.push(null));a>d&&this.right.decomposeLeft(a-d,c)}},{key:"decomposeRight",value:function(a,c){var d=this.left.length,f=d+this["break"];if(a>=f)return this.right.decomposeRight(a-
f,c);a<d&&this.left.decomposeRight(a,c);this["break"]&&a<f&&c.push(null);c.push(this.right)}},{key:"balanced",value:function(a,c){if(a.size>2*c.size||c.size>2*a.size)return vb.of(this["break"]?[a,null,c]:[a,c]);this.left=a;this.right=c;this.height=a.height+c.height;this.outdated=a.outdated||c.outdated;this.size=a.size+c.size;this.length=a.length+this["break"]+c.length;return this}},{key:"updateHeight",value:function(a){var c=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,d=2<arguments.length&&
void 0!==arguments[2]?arguments[2]:!1,f=3<arguments.length?arguments[3]:void 0,g=this.left,h=this.right,p=c+g.length+this["break"],v=null;f&&f.from<=c+g.length&&f.more?v=g=g.updateHeight(a,c,d,f):g.updateHeight(a,c,d);f&&f.from<=p+h.length&&f.more?v=h=h.updateHeight(a,p,d,f):h.updateHeight(a,p,d);if(v)return this.balanced(g,h);this.height=this.left.height+this.right.height;this.outdated=!1;return this}},{key:"toString",value:function(){return this.left+(this["break"]?" ":"-")+this.right}},{key:"break",
get:function(){return this.flags&1}}]);return b}(vb),zd=function(){function e(b,a){W(this,e);this.pos=b;this.oracle=a;this.nodes=[];this.lineEnd=this.lineStart=-1;this.covering=null;this.writtenTo=b}Y(e,[{key:"span",value:function(b,a){if(-1<this.lineStart){b=Math.min(a,this.lineEnd);var c=this.nodes[this.nodes.length-1];c instanceof Ab?c.length+=b-this.pos:(b>this.pos||!this.isCovered)&&this.nodes.push(new Ab(b-this.pos,-1));this.writtenTo=b;a>b&&(this.nodes.push(null),this.writtenTo++,this.lineStart=
-1)}this.pos=a}},{key:"point",value:function(b,a,c){if(b<a||c.heightRelevant){var d=c.widget?Math.max(0,c.widget.estimatedHeight):0;b=a-b;c.block?this.addBlock(new Oc(b,d,c.type)):(b||5<=d)&&this.addLineDeco(d,b)}else a>b&&this.span(b,a);-1<this.lineEnd&&this.lineEnd<this.pos&&(this.lineEnd=this.oracle.doc.lineAt(this.pos).to)}},{key:"enterLine",value:function(){if(!(-1<this.lineStart)){var b=this.oracle.doc.lineAt(this.pos),a=b.from;b=b.to;this.lineStart=a;this.lineEnd=b;this.writtenTo<a&&((this.writtenTo<
a-1||null==this.nodes[this.nodes.length-1])&&this.nodes.push(this.blankContent(this.writtenTo,a-1)),this.nodes.push(null));this.pos>a&&this.nodes.push(new Ab(this.pos-a,-1));this.writtenTo=this.pos}}},{key:"blankContent",value:function(b,a){var c=new Lb(a-b);this.oracle.doc.lineAt(b).to==a&&(c.flags|=4);return c}},{key:"ensureLine",value:function(){this.enterLine();var b=this.nodes.length?this.nodes[this.nodes.length-1]:null;if(b instanceof Ab)return b;b=new Ab(0,-1);this.nodes.push(b);return b}},
{key:"addBlock",value:function(b){this.enterLine();b.type!=$a.WidgetAfter||this.isCovered||this.ensureLine();this.nodes.push(b);this.writtenTo=this.pos+=b.length;b.type!=$a.WidgetBefore&&(this.covering=b)}},{key:"addLineDeco",value:function(b,a){var c=this.ensureLine();c.length+=a;c.collapsed+=a;c.widgetHeight=Math.max(c.widgetHeight,b);this.writtenTo=this.pos+=a}},{key:"finish",value:function(b){var a=0==this.nodes.length?null:this.nodes[this.nodes.length-1];!(-1<this.lineStart)||a instanceof Ab||
this.isCovered?(this.writtenTo<this.pos||null==a)&&this.nodes.push(this.blankContent(this.writtenTo,this.pos)):this.nodes.push(new Ab(0,-1));a=!0;var c=!1,d=void 0;try{for(var f=this.nodes[Symbol.iterator](),g;!(a=(g=f.next()).done);a=!0){var h=g.value;h instanceof Ab&&h.updateHeight(this.oracle,b);b+=h?h.length:1}}catch(p){c=!0,d=p}finally{try{if(!a&&null!=f["return"])f["return"]()}finally{if(c)throw d;}}return this.nodes}},{key:"isCovered",get:function(){return this.covering&&this.nodes[this.nodes.length-
1]==this.covering}},{key:"minPointSize",get:function(){return 0}}],[{key:"build",value:function(b,a,c,d){b=new e(c,b);Ta.RangeSet.spans(a,c,d,b);return b.finish(c)}}]);return e}(),fd=function(){function e(){W(this,e);this.changes=[]}Y(e,[{key:"compareRange",value:function(){}},{key:"comparePoint",value:function(b,a,c,d){(b<a||c&&c.heightRelevant||d&&d.heightRelevant)&&E(b,a,this.changes)}},{key:"minPointSize",get:function(){return 0}}]);return e}(),Bd=[],Pc=U.Facet.define(),Qc=U.Facet.define(),Rc=
U.Facet.define(),xc=U.Facet.define(),pc=U.Facet.define(),Ac=U.Facet.define(),qc=U.Facet.define({combine:function(e){return e.length?e[0]:!0}}),Pb=function(){function e(){W(this,e)}Y(e,null,[{key:"define",value:function(){return new e}}]);return e}();t.PluginField=Pb;Pb.scrollMargins=Pb.define();var Cd=0,Ub=U.Facet.define(),ac=function(){function e(b,a,c){W(this,e);this.id=b;this.create=a;this.fields=c;this.extension=Ub.of(this)}Y(e,[{key:"provide",value:function(b,a){return new e(this.id,this.create,
this.fields.concat({field:b,get:a}))}},{key:"decorations",value:function(b){return this.provide(Sc,b||function(a){return a.decorations})}},{key:"eventHandlers",value:function(b){return this.provide(Tc,function(a){return{plugin:a,handlers:b}})}}],[{key:"define",value:function(b){return new e(Cd++,b,[])}},{key:"fromClass",value:function(b){return e.define(function(a){return new b(a)})}}]);return e}();t.ViewPlugin=ac;var Sc=Pb.define(),Tc=Pb.define(),Vb=function(){function e(b,a){W(this,e);this.value=
b;this.spec=a;this.updateFunc=this.value.update?this.value.update.bind(this.value):function(){}}Y(e,[{key:"takeField",value:function(b,a){var c=!0,d=!1,f=void 0;try{for(var g=this.spec.fields[Symbol.iterator](),h;!(c=(h=g.next()).done);c=!0){var p=h.value,v=p.get;p.field==b&&a.push(v(this.value))}}catch(A){d=!0,f=A}finally{try{if(!c&&null!=g["return"])g["return"]()}finally{if(d)throw f;}}}},{key:"update",value:function(b){try{return this.updateFunc(b),this}catch(a){F(b.state,a,"CodeMirror plugin crashed");
if(this.value.destroy)try{this.value.destroy()}catch(c){}return e.dummy}}},{key:"destroy",value:function(b){try{this.value.destroy&&this.value.destroy()}catch(a){F(b.state,a,"CodeMirror plugin crashed")}}}],[{key:"create",value:function(b,a){try{var c=b.create(a)}catch(d){return F(a.state,d,"CodeMirror plugin crashed"),e.dummy}return new e(c,b)}}]);return e}();Vb.dummy=new Vb({},ac.define(function(){return{}}));var Uc=U.Facet.define({combine:function(e){return e.reduce(function(b,a){return Da(a,b)},
{})}}),Vc=U.Facet.define({combine:function(e){return e.reduce(function(b,a){return Da(a,b)},{})}}),Jb=U.Facet.define(),Wb=U.Facet.define(),Qb=function(){function e(b,a,c,d){W(this,e);this.fromA=b;this.toA=a;this.fromB=c;this.toB=d}Y(e,[{key:"join",value:function(b){return new e(Math.min(this.fromA,b.fromA),Math.max(this.toA,b.toA),Math.min(this.fromB,b.fromB),Math.max(this.toB,b.toB))}},{key:"addToSet",value:function(b){for(var a=b.length,c=this;0<a;a--){var d=b[a-1];if(!(d.fromA>c.toA)){if(d.toA<
c.fromA)break;c=c.join(d);b.splice(a-1,1)}}b.splice(a,0,c);return b}}],[{key:"extendWithRanges",value:function(b,a){if(0==a.length)return b;for(var c=[],d=0,f=0,g=0,h=0;;d++){var p=d==b.length?null:b[d];g-=h;for(var v=p?p.fromB:1E9;f<a.length&&a[f]<v;){var A=a[f+1],C=Math.max(h,a[f]),N=Math.min(v,A);C<=N&&(new e(C+g,N+g,C,N)).addToSet(c);if(A>v)break;else f+=2}if(!p)return c;(new e(p.fromA,p.toA,p.fromB,p.toB)).addToSet(c);g=p.toA;h=p.toB}}}]);return e}(),rc=function(){function e(b,a){var c=2<arguments.length&&
void 0!==arguments[2]?arguments[2]:Bd;W(this,e);this.view=b;this.state=a;this.transactions=c;this.flags=0;this.prevState=b.state;this.changes=U.ChangeSet.empty(this.prevState.doc.length);var d=!0,f=!1,g=void 0;try{for(var h=c[Symbol.iterator](),p;!(d=(p=h.next()).done);d=!0)this.changes=this.changes.compose(p.value.changes)}catch(A){f=!0,g=A}finally{try{if(!d&&null!=h["return"])h["return"]()}finally{if(f)throw g;}}var v=[];this.changes.iterChangedRanges(function(A,C,N,ea){return v.push(new Qb(A,C,
N,ea))});this.changedRanges=v;c=b.hasFocus;c!=b.inputState.notifiedFocused&&(b.inputState.notifiedFocused=c,1!=this.flags);this.docChanged&&(this.flags|=2)}Y(e,[{key:"viewportChanged",get:function(){return 0<(this.flags&4)}},{key:"heightChanged",get:function(){return 0<(this.flags&2)}},{key:"focusChanged",get:function(){return 0<(this.flags&1)}},{key:"docChanged",get:function(){return this.transactions.some(function(b){return b.docChanged})}},{key:"selectionSet",get:function(){return this.transactions.some(function(b){return b.selection})}},
{key:"empty",get:function(){return 0==this.flags&&0==this.transactions.length}}]);return e}();t.ViewUpdate=rc;var bc=function(){function e(b,a,c){W(this,e);this.from=b;this.to=a;this.size=c}Y(e,[{key:"draw",value:function(b){return Aa.replace({widget:new Dd({size:this.size,vertical:b})}).range(this.from,this.to)}}],[{key:"same",value:function(b,a){if(b.length!=a.length)return!1;for(var c=0;c<b.length;c++){var d=b[c],f=a[c];if(d.from!=f.from||d.to!=f.to||d.size!=f.size)return!1}return!0}}]);return e}(),
Dd=function(e){function b(){W(this,b);return ja(this,da(b).apply(this,arguments))}pa(b,e);Y(b,[{key:"toDOM",value:function(){var a=document.createElement("div");this.value.vertical?a.style.height=this.value.size+"px":(a.style.width=this.value.size+"px",a.style.height="2px",a.style.display="inline-block");return a}},{key:"eq",value:function(a){return this.value.size==a.size&&this.value.vertical==a.vertical}},{key:"estimatedHeight",get:function(){return this.value.vertical?this.value.size:-1}}]);return b}(Gb),
Wc=function(){function e(b){W(this,e);this.state=b;this.pixelViewport={left:0,right:window.innerWidth,top:0,bottom:0};this.paddingBottom=this.paddingTop=0;this.heightOracle=new Mc;this.heightMap=vb.empty();this.scrollTo=null;this.printing=!1;this.visibleRanges=[];this.mustEnforceCursorAssoc=!1;this.heightMap=this.heightMap.applyChanges(b.facet(Jb),Xa.Text.empty,this.heightOracle.setDoc(b.doc),[new Qb(0,0,0,b.doc.length)]);this.viewport=this.getViewport(0,null);this.lineGaps=this.ensureLineGaps([]);
this.lineGapDeco=Aa.set(this.lineGaps.map(function(a){return a.draw(!1)}));this.computeVisibleRanges()}Y(e,[{key:"update",value:function(b){var a=1<arguments.length&&void 0!==arguments[1]?arguments[1]:null,c=this.state;this.state=b.state;var d=this.state.facet(Jb),f=Qb.extendWithRanges(b.changedRanges,x(b.prevState.facet(Jb),d,b?b.changes:U.ChangeSet.empty(this.state.doc.length))),g=this.heightMap.height;this.heightMap=this.heightMap.applyChanges(d,c.doc,this.heightOracle.setDoc(this.state.doc),f);
this.heightMap.height!=g&&(b.flags|=2);c=f.length?this.mapViewport(this.viewport,b.changes):this.viewport;if(a&&(a.head<c.from||a.head>c.to)||!this.viewportIsAppropriate(c))c=this.getViewport(0,a);c.eq(this.viewport)||(this.viewport=c,b.flags|=4);if(this.lineGaps.length||15E3<this.viewport.to-this.viewport.from)b.flags|=this.updateLineGaps(this.ensureLineGaps(this.mapLineGaps(this.lineGaps,b.changes)));this.computeVisibleRanges();a&&(this.scrollTo=a);!this.mustEnforceCursorAssoc&&b.selectionSet&&
b.view.lineWrapping&&b.state.selection.primary.empty&&b.state.selection.primary.assoc&&(this.mustEnforceCursorAssoc=!0)}},{key:"measure",value:function(b,a){var c=b.dom,d="",f=qb.LTR;if(!a){var g=window.getComputedStyle(c);d=g.whiteSpace;f="rtl"==g.direction?qb.RTL:qb.LTR;this.paddingTop=parseInt(g.paddingTop)||0;this.paddingBottom=parseInt(g.paddingBottom)||0}if(this.printing)g={top:-1E8,bottom:1E8,left:-1E8,right:1E8};else{g=this.paddingTop;var h=c.getBoundingClientRect(),p=Math.max(0,h.left),v=
Math.min(innerWidth,h.right),A=Math.max(0,h.top),C=Math.min(innerHeight,h.bottom);for(c=c.parentNode;c;)if(1==c.nodeType){if((c.scrollHeight>c.clientHeight||c.scrollWidth>c.clientWidth)&&"visible"!=window.getComputedStyle(c).overflow){var N=c.getBoundingClientRect();p=Math.max(p,N.left);v=Math.min(v,N.right);A=Math.max(A,N.top);C=Math.min(C,N.bottom)}c=c.parentNode}else if(11==c.nodeType)c=c.host;else break;g={left:p-h.left,right:v-h.left,top:A-(h.top+g),bottom:C-(h.top+g)}}p=g;g=p.top-this.pixelViewport.top;
h=p.bottom-this.pixelViewport.bottom;this.pixelViewport=p;if(this.pixelViewport.bottom<=this.pixelViewport.top||this.pixelViewport.right<=this.pixelViewport.left)return 0;v=b.measureVisibleLineHeights();A=!1;p=0;a||(this.heightOracle.mustRefresh(v,d,f)&&(a=b.measureTextSize(),A=a.charWidth,A=this.heightOracle.refresh(d,f,a.lineHeight,A,b.dom.clientWidth/A,v))&&(b.minWidth=0),0<g&&0<h?p=Math.max(g,h):0>g&&0>h&&(p=Math.min(g,h)));this.heightOracle.heightChanged=!1;this.heightMap=this.heightMap.updateHeight(this.heightOracle,
0,A,new Nc(this.viewport.from,v));d=this.heightOracle.heightChanged?2:0;if(!this.viewportIsAppropriate(this.viewport,p)||this.scrollTo&&(this.scrollTo.head<this.viewport.from||this.scrollTo.head>this.viewport.to))this.viewport=this.getViewport(p,this.scrollTo),d|=4;if(this.lineGaps.length||15E3<this.viewport.to-this.viewport.from)d|=this.updateLineGaps(this.ensureLineGaps(A?[]:this.lineGaps));this.computeVisibleRanges();this.mustEnforceCursorAssoc&&(this.mustEnforceCursorAssoc=!1,b.enforceCursorAssoc());
return d}},{key:"getViewport",value:function(b,a){var c=.5-Math.max(-.5,Math.min(.5,b/1E3/2));b=this.heightMap;var d=this.state.doc,f=this.pixelViewport,g=f.top;f=f.bottom;c=new Rb(b.lineAt(g-1E3*c,xa.ByHeight,d,0,0).from,b.lineAt(f+1E3*(1-c),xa.ByHeight,d,0,0).to);a&&(a.head<c.from?(a=b.lineAt(a.head,xa.ByPos,d,0,0).top,c=new Rb(b.lineAt(a-500,xa.ByHeight,d,0,0).from,b.lineAt(a+(f-g)+500,xa.ByHeight,d,0,0).to)):a.head>c.to&&(a=b.lineAt(a.head,xa.ByPos,d,0,0).bottom,c=new Rb(b.lineAt(a-(f-g)-500,
xa.ByHeight,d,0,0).from,b.lineAt(a+500,xa.ByHeight,d,0,0).to)));return c}},{key:"mapViewport",value:function(b,a){var c=a.mapPos(b.from,-1);b=a.mapPos(b.to,1);return new Rb(this.heightMap.lineAt(c,xa.ByPos,this.state.doc,0,0).from,this.heightMap.lineAt(b,xa.ByPos,this.state.doc,0,0).to)}},{key:"viewportIsAppropriate",value:function(b){var a=b.from,c=b.to,d=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,f=this.heightMap.lineAt(a,xa.ByPos,this.state.doc,0,0).top,g=this.heightMap.lineAt(c,
xa.ByPos,this.state.doc,0,0).bottom;return(0==a||f<=this.pixelViewport.top-Math.max(10,Math.min(-d,250)))&&(c==this.state.doc.length||g>=this.pixelViewport.bottom+Math.max(10,Math.min(d,250)))&&f>this.pixelViewport.top-2E3&&g<this.pixelViewport.bottom+2E3}},{key:"mapLineGaps",value:function(b,a){if(!b.length||a.empty)return b;var c=[],d=!0,f=!1,g=void 0;try{for(var h=b[Symbol.iterator](),p;!(d=(p=h.next()).done);d=!0){var v=p.value;a.touchesRange(v.from,v.to)||c.push(new bc(a.mapPos(v.from),a.mapPos(v.to),
v.size))}}catch(A){f=!0,g=A}finally{try{if(!d&&null!=h["return"])h["return"]()}finally{if(f)throw g;}}return c}},{key:"ensureLineGaps",value:function(b){var a=this,c=[];if(this.heightOracle.direction!=qb.LTR)return c;this.heightMap.forEachLine(this.viewport.from,this.viewport.to,this.state.doc,0,0,function(d){if(!(1E4>d.length)){var f=S(d.from,d.to,a.state);if(!(1E4>f.total)){if(a.heightOracle.lineWrapping){var g=d.from!=a.viewport.from?d.from:X(f,(a.pixelViewport.top-d.top)/d.height);var h=d.to!=
a.viewport.to?d.to:X(f,(a.pixelViewport.bottom-d.top)/d.height)}else h=f.total*a.heightOracle.charWidth,g=X(f,a.pixelViewport.left/h),h=X(f,a.pixelViewport.right/h);var p=a.state.selection.primary;p.from<=g&&p.to>=d.from&&(g=p.from);p.from<=d.to&&p.to>=h&&(h=p.to);var v=g-1E4,A=h+1E4;v>d.from+5E3&&c.push(fa(b,function(C){return C.from==d.from&&C.to>v-5E3&&C.to<v+5E3})||new bc(d.from,v,a.gapSize(d,v,!0,f)));A<d.to-5E3&&c.push(fa(b,function(C){return C.to==d.to&&C.from>A-5E3&&C.from<A+5E3})||new bc(A,
d.to,a.gapSize(d,A,!1,f)))}}});return c}},{key:"gapSize",value:function(b,a,c,d){if(this.heightOracle.lineWrapping)return d=b.height*Z(d,a),c?d:b.height-d;b=Z(d,a);return d.total*this.heightOracle.charWidth*(c?b:1-b)}},{key:"updateLineGaps",value:function(b){var a=this;return bc.same(b,this.lineGaps)?0:(this.lineGaps=b,this.lineGapDeco=Aa.set(b.map(function(c){return c.draw(a.heightOracle.lineWrapping)})),16)}},{key:"computeVisibleRanges",value:function(){var b=this.state.facet(Jb);this.lineGaps.length&&
(b=b.concat(this.lineGapDeco));var a=[];Ta.RangeSet.spans(b,this.viewport.from,this.viewport.to,{span:function(c,d){a.push({from:c,to:d})},point:function(){},minPointSize:20});this.visibleRanges=a}},{key:"lineAt",value:function(b,a){return this.heightMap.lineAt(b,xa.ByPos,this.state.doc,a+this.paddingTop,0)}},{key:"lineAtHeight",value:function(b,a){return this.heightMap.lineAt(b,xa.ByHeight,this.state.doc,a+this.paddingTop,0)}},{key:"blockAtHeight",value:function(b,a){return this.heightMap.blockAt(b,
this.state.doc,a+this.paddingTop,0)}},{key:"forEachLine",value:function(b,a,c,d){return this.heightMap.forEachLine(b,a,this.state.doc,d+this.paddingTop,0,c)}}]);return e}(),Rb=function(){function e(b,a){W(this,e);this.from=b;this.to=a}Y(e,[{key:"eq",value:function(b){return this.from==b.from&&this.to==b.to}}]);return e}(),Ed=[],Xc=function(e){function b(a){W(this,b);var c=ja(this,da(b).call(this));c.view=a;c.viewports=Ed;c.compositionDeco=Aa.none;c.decorations=[];c.minWidth=0;c.minWidthFrom=0;c.minWidthTo=
0;c.impreciseAnchor=null;c.impreciseHead=null;c.setDOM(a.contentDOM);c.children=[new yb];c.children[0].setParent(Ja(c));c.updateInner([new Qb(0,0,0,a.state.doc.length)],c.updateDeco(),0);return c}pa(b,e);Y(b,[{key:"update",value:function(a){var c=this,d,f=a.changedRanges;0<this.minWidth&&f.length&&(f.every(function(p){var v=p.fromA;return p.toA<c.minWidthFrom||v>c.minWidthTo})?(this.minWidthFrom=a.changes.mapPos(this.minWidthFrom,1),this.minWidthTo=a.changes.mapPos(this.minWidthTo,1)):this.minWidth=
0);null!==(d=this.view.inputState)&&void 0!==d&&d.composing?a.transactions.length&&(this.compositionDeco=ra(this.view,a.changes)):this.compositionDeco=Aa.none;d=(ma.ie||ma.chrome)&&!this.compositionDeco.size&&a&&a.state.doc.lines!=a.prevState.doc.lines;var g=this.decorations,h=this.updateDeco();g=mb(g,h,a.changes);f=Qb.extendWithRanges(f,g);g=a.transactions.some(function(p){return"pointerselection"==p.annotation(U.Transaction.userEvent)});if(0==this.dirty&&0==f.length&&!(a.flags&20)&&a.state.selection.primary.from>=
this.view.viewport.from&&a.state.selection.primary.to<=this.view.viewport.to)return this.updateSelection(d,g),!1;this.updateInner(f,h,a.prevState.doc.length,d,g);return!0}},{key:"updateInner",value:function(a,c,d){var f=this,g=3<arguments.length&&void 0!==arguments[3]?arguments[3]:!1,h=4<arguments.length&&void 0!==arguments[4]?arguments[4]:!1;this.updateChildren(a,c,d);this.view.observer.ignore(function(){f.dom.style.height=f.view.viewState.heightMap.height+"px";f.dom.style.minWidth=f.minWidth?f.minWidth+
"px":"";var p=ma.chrome?{node:Ca(f.view.root).focusNode,written:!1}:void 0;f.sync(p);f.dirty=0;if(null===p||void 0===p?0:p.written)g=!0;f.updateSelection(g,h);f.dom.style.height=""})}},{key:"updateChildren",value:function(a,c,d){d=this.childCursor(d);for(var f=a.length-1;;f--){var g=0<=f?a[f]:null;if(!g)break;var h=g.fromA,p=g.toA,v=xd.build(this.view.state.doc,g.fromB,g.toB,c);g=v.content;v=v.breakAtStart;var A=d.findPos(p,1);p=A.i;A=A.off;h=d.findPos(h,-1);this.replaceRange(h.i,h.off,p,A,g,v)}}},
{key:"replaceRange",value:function(a,c,d,f,g,h){var p=this.children[a],v=g.length?g[g.length-1]:null,A=v?v.breakAfter:h;if(a!=d||h||A||!(2>g.length)||!p.merge(c,f,g.length?v:null,0==c)){var C=this.children[d];f<C.length||C.children.length&&0==C.children[C.children.length-1].length?(a==d&&(C=C.split(f),f=0),!A&&v&&C.merge(0,f,v,!0)?g[g.length-1]=C:((f||C.children.length&&0==C.children[0].length)&&C.merge(0,f,null,!1),g.push(C))):C.breakAfter&&(v?v.breakAfter=1:h=1);d++;p.breakAfter=h;0<c&&(!h&&g.length&&
p.merge(c,p.length,g[0],!1)?p.breakAfter=g.shift().breakAfter:(c<p.length||p.children.length&&0==p.children[p.children.length-1].length)&&p.merge(c,p.length,null,!1),a++);for(;a<d&&g.length;)if(this.children[d-1].match(g[g.length-1]))d--,g.pop();else if(this.children[a].match(g[0]))a++,g.shift();else break;(a<d||g.length)&&this.replaceChildren(a,d,g)}}},{key:"updateSelection",value:function(){var a=0<arguments.length&&void 0!==arguments[0]?arguments[0]:!1;if(1<arguments.length&&void 0!==arguments[1]&&
arguments[1]||this.mayControlSelection()){var c=this.view.state.selection.primary,d=this.domAtPos(c.anchor),f=this.domAtPos(c.head),g=Ca(this.root);(a||!g.focusNode||ma.gecko&&c.empty&&Na(g.focusNode,g.focusOffset)||!Va(d.node,d.offset,g.anchorNode,g.anchorOffset)||!Va(f.node,f.offset,g.focusNode,g.focusOffset))&&this.view.observer.ignore(function(){if(c.empty){if(ma.gecko){var h=Na(d.node,d.offset);if(h&&3!=h){var p=Qa(d.node,d.offset,1==h?1:-1);p&&(d=new ub(p,1==h?0:p.nodeValue.length))}}g.collapse(d.node,
d.offset);null!=c.bidiLevel&&null!=g.cursorBidiLevel&&(g.cursorBidiLevel=c.bidiLevel)}else g.extend?(g.collapse(d.node,d.offset),g.extend(f.node,f.offset)):(h=document.createRange(),c.anchor>c.head&&(p=[f,d],d=p[0],f=p[1]),h.setEnd(f.node,f.offset),h.setStart(d.node,d.offset),g.removeAllRanges(),g.addRange(h))});this.impreciseAnchor=d.precise?null:new ub(g.anchorNode,g.anchorOffset);this.impreciseHead=f.precise?null:new ub(g.focusNode,g.focusOffset)}}},{key:"enforceCursorAssoc",value:function(){var a=
this.view.state.selection.primary,c=Ca(this.root);if(a.empty&&a.assoc&&c.modify){var d=yb.find(this,a.head);if(d){var f=d.posAtStart;a.head!=f&&a.head!=f+d.length&&(d=this.coordsAt(a.head,-1),f=this.coordsAt(a.head,1),!d||!f||d.bottom>f.top||(d=this.domAtPos(a.head+a.assoc),c.collapse(d.node,d.offset),c.modify("move",0>a.assoc?"forward":"backward","lineboundary")))}}}},{key:"mayControlSelection",value:function(){return this.view.state.facet(qc)?this.root.activeElement==this.dom:cb(this.dom,Ca(this.root))}},
{key:"nearest",value:function(a){for(;a;){var c=jb.get(a);if(c&&c.rootView==this)return c;a=a.parentNode}return null}},{key:"posFromDOM",value:function(a,c){var d=this.nearest(a);if(!d)throw new RangeError("Trying to find position for a DOM position outside of the document");return d.localPosFromDOM(a,c)+d.posAtStart}},{key:"domAtPos",value:function(a){var c=this.childCursor().findPos(a,-1);a=c.i;for(c=c.off;a<this.children.length-1;){var d=this.children[a];if(c<d.length||d instanceof yb)break;a++;
c=0}return this.children[a].domAtPos(c)}},{key:"coordsAt",value:function(a,c){for(var d=this.length,f=this.children.length-1;;f--){var g=this.children[f];d=d-g.breakAfter-g.length;if(a>=d&&g.type!=$a.WidgetAfter)return g.coordsAt(a-d,c)}}},{key:"measureVisibleLineHeights",value:function(){var a=[],c=this.view.viewState.viewport,d=c.from;c=c.to;for(var f=Math.max(this.view.scrollDOM.clientWidth,this.minWidth)+1,g=0,h=0;h<this.children.length;h++){var p=this.children[h],v=g+p.length;if(v>c)break;if(g>=
d){a.push(p.dom.getBoundingClientRect().height);var A=p.dom.scrollWidth;A>f&&(this.minWidth=f=A,this.minWidthFrom=g,this.minWidthTo=v)}g=v+p.breakAfter}return a}},{key:"measureTextSize",value:function(){var a=this,c=!0,d=!1,f=void 0;try{for(var g=this.children[Symbol.iterator](),h;!(c=(h=g.next()).done);c=!0){var p=h.value;if(p instanceof yb){var v=p.measureTextSize();if(v)return v}}}catch(ea){d=!0,f=ea}finally{try{if(!c&&null!=g["return"])g["return"]()}finally{if(d)throw f;}}var A=document.createElement("div"),
C,N;A.className="cm-line";A.textContent="abc def ghi jkl mno pqr stu";this.view.observer.ignore(function(){a.dom.appendChild(A);var ea=hb(A.firstChild)[0];C=A.getBoundingClientRect().height;N=ea?ea.width/27:7;A.remove()});return{lineHeight:C,charWidth:N}}},{key:"childCursor",value:function(){var a=0<arguments.length&&void 0!==arguments[0]?arguments[0]:this.length,c=this.children.length;c&&(a-=this.children[--c].length);return new Ec(this.children,a,c)}},{key:"computeBlockGapDeco",value:function(){var a=
this.view.viewState.viewport,c=[a],d=this.view.state.selection.primary,f=d.head,g=d.anchor;if(f<a.from||f>a.to)a=this.view.viewState.lineAt(f,0),c.push(new Rb(a.from,a.to));c.some(function(A){var C=A.to;return g>=A.from&&g<=C})||(a=this.view.viewState.lineAt(g,0),c.push(new Rb(a.from,a.to)));this.viewports=c.sort(function(A,C){return A.from-C.from});a=[];for(f=d=0;;f++){var h=f==c.length?null:c[f],p=h?h.from-1:this.length;if(p>d){var v=this.view.viewState.lineAt(p,0).bottom-this.view.viewState.lineAt(d,
0).top;a.push(Aa.replace({widget:new Fd(v),block:!0,inclusive:!0}).range(d,p))}if(!h)break;d=h.to+1}return Aa.set(a)}},{key:"updateDeco",value:function(){return this.decorations=[].concat(va(this.view.state.facet(Jb)),[this.computeBlockGapDeco(),this.view.viewState.lineGapDeco,this.compositionDeco],va(this.view.pluginField(Sc)))}},{key:"scrollPosIntoView",value:function(a,c){var d;if(a=this.coordsAt(a,c)){var f=d=c=0,g=0,h=!0,p=!1,v=void 0;try{for(var A=this.view.pluginField(Pb.scrollMargins)[Symbol.iterator](),
C;!(h=(C=A.next()).done);h=!0){var N=C.value;if(N){var ea=N.left,ba=N.right,ua=N.top;var Ba=N.bottom;null!=ea&&(c=Math.max(c,ea));null!=ba&&(d=Math.max(d,ba));null!=ua&&(f=Math.max(f,ua));null!=Ba&&(g=Math.max(g,Ba))}}}catch(zb){p=!0,v=zb}finally{try{if(!h&&null!=A["return"])A["return"]()}finally{if(p)throw v;}}N=this.dom;A={left:a.left-c,top:a.top-f,right:a.right+d,bottom:a.bottom+g};C=N.ownerDocument.defaultView;for(N=N.parentNode;N;)if(1==N.nodeType){if(ea=N==document.body)Ba=0,a=C.innerWidth,
c=0,d=C.innerHeight;else{if(N.scrollHeight<=N.clientHeight&&N.scrollWidth<=N.clientWidth){N=N.parentNode;continue}ba=N.getBoundingClientRect();Ba=ba.left;a=ba.left+N.clientWidth;c=ba.top;d=ba.top+N.clientHeight}ua=ba=0;A.top<c?ua=-(c-A.top+5):A.bottom>d&&(ua=A.bottom-d+5);A.left<Ba?ba=-(Ba-A.left+5):A.right>a&&(ba=A.right-a+5);if(ba||ua)ea?C.scrollBy(ba,ua):(ua&&(Ba=N.scrollTop,N.scrollTop+=ua,ua=N.scrollTop-Ba),ba&&(Ba=N.scrollLeft,N.scrollLeft+=ba,ba=N.scrollLeft-Ba),A={left:A.left-ba,top:A.top-
ua,right:A.right-ba,bottom:A.bottom-ua});if(ea)break;N=N.parentNode}else if(11==N.nodeType)N=N.host;else break}}},{key:"root",get:function(){return this.view.root}},{key:"editorView",get:function(){return this.view}},{key:"length",get:function(){return this.view.state.doc.length}}]);return b}(jb),Fd=function(e){function b(){W(this,b);return ja(this,da(b).apply(this,arguments))}pa(b,e);Y(b,[{key:"toDOM",value:function(){var a=document.createElement("div");this.updateDOM(a);return a}},{key:"updateDOM",
value:function(a){if(1E7>this.value){for(;a.lastChild;)a.lastChild.remove();a.style.height=this.value+"px"}else{a.style.height="";for(var c=this.value;0<c;c-=1E7)a.appendChild(document.createElement("div")).style.height=Math.min(c,1E7)+"px"}return!0}},{key:"estimatedHeight",get:function(){return this.value}}]);return b}(Gb),gd=function(e){function b(){W(this,b);return ja(this,da(b).apply(this,arguments))}pa(b,e);Y(b,[{key:"eq",value:function(a){return this.value.top==a.top&&this.value.text==a.text}},
{key:"toDOM",value:function(){return this.value.top}},{key:"ignoreEvent",value:function(){return!1}},{key:"customView",get:function(){return td}}]);return b}(Gb),hd=function(){function e(){W(this,e);this.changes=[]}Y(e,[{key:"compareRange",value:function(b,a){E(b,a,this.changes)}},{key:"comparePoint",value:function(b,a){E(b,a,this.changes)}}]);return e}(),Hd=function(){function e(b){var a=this;W(this,e);this.lastKeyTime=this.lastKeyCode=0;this.lastSelectionOrigin=null;this.lastSelectionTime=0;this.registeredEvents=
[];this.customHandlers=[];this.composing=!1;this.compositionEndedAt=0;this.mouseSelection=null;var c=function(f){var g=ab[f];b.contentDOM.addEventListener(f,function(h){tb(b,h)&&!a.ignoreDuringComposition(h)&&(a.mustFlushObserver(h)&&b.observer.forceFlush(),a.runCustomHandlers(f,b,h)?h.preventDefault():g(b,h))});a.registeredEvents.push(f)},d;for(d in ab)c(d);b.contentDOM.addEventListener("keydown",function(f){b.inputState.lastKeyCode=f.keyCode;b.inputState.lastKeyTime=Date.now()});b.root.activeElement==
b.contentDOM&&b.dom.classList.add("cm-focused");this.notifiedFocused=b.hasFocus;this.ensureHandlers(b)}Y(e,[{key:"setSelectionOrigin",value:function(b){this.lastSelectionOrigin=b;this.lastSelectionTime=Date.now()}},{key:"ensureHandlers",value:function(b){var a=this,c=this.customHandlers=b.pluginField(Tc),d=!0,f=!1,g=void 0;try{for(var h=c[Symbol.iterator](),p;!(d=(p=h.next()).done);d=!0){var v=p.value;c=function(C){0>a.registeredEvents.indexOf(C)&&(a.registeredEvents.push(C),("scroll"!=C?b.contentDOM:
b.scrollDOM).addEventListener(C,function(N){tb(b,N)&&a.runCustomHandlers(C,b,N)&&N.preventDefault()}))};for(var A in v.handlers)c(A)}}catch(C){f=!0,g=C}finally{try{if(!d&&null!=h["return"])h["return"]()}finally{if(f)throw g;}}}},{key:"runCustomHandlers",value:function(b,a,c){var d=!0,f=!1,g=void 0;try{for(var h=this.customHandlers[Symbol.iterator](),p;!(d=(p=h.next()).done);d=!0){var v=p.value,A=v.handlers[b];if(A)try{if(A.call(v.plugin,c,a)||c.defaultPrevented)return!0}catch(C){F(a.state,C)}}}catch(C){f=
!0,g=C}finally{try{if(!d&&null!=h["return"])h["return"]()}finally{if(f)throw g;}}return!1}},{key:"ignoreDuringComposition",value:function(b){return/^key/.test(b.type)?this.composing?!0:ma.safari&&500>b.timeStamp-this.compositionEndedAt?(this.compositionEndedAt=0,!0):!1:!1}},{key:"mustFlushObserver",value:function(b){return"keydown"==b.type||"compositionend"==b.type}},{key:"startMouseSelection",value:function(b,a,c){this.mouseSelection&&this.mouseSelection.destroy();this.mouseSelection=new Gd(this,
b,a,c)}},{key:"update",value:function(b){this.mouseSelection&&this.mouseSelection.update(b);this.lastKeyCode=this.lastSelectionTime=0}},{key:"destroy",value:function(){this.mouseSelection&&this.mouseSelection.destroy()}}]);return e}(),Gd=function(){function e(b,a,c,d){W(this,e);this.inputState=b;this.view=a;this.startEvent=c;this.style=d;b=a.contentDOM.ownerDocument;b.addEventListener("mousemove",this.move=this.move.bind(this));b.addEventListener("mouseup",this.up=this.up.bind(this));this.extend=
c.shiftKey;if(b=a.state.facet(U.EditorState.allowMultipleSelections))b=a.state.facet(Pc),b=b.length?b[0](c):ma.mac?c.metaKey:c.ctrlKey;this.multiple=b;b=a.state.facet(Qc);this.dragMove=b.length?b[0](c):ma.mac?!c.altKey:!c.ctrlKey;this.dragging=db(a,c)?null:!1;!1===this.dragging&&(c.preventDefault(),this.select(c))}Y(e,[{key:"move",value:function(b){if(0==b.buttons)return this.destroy();!1===this.dragging&&this.select(b)}},{key:"up",value:function(b){null==this.dragging&&this.select(this.startEvent);
this.dragging||b.preventDefault();this.destroy()}},{key:"destroy",value:function(){var b=this.view.contentDOM.ownerDocument;b.removeEventListener("mousemove",this.move);b.removeEventListener("mouseup",this.up);this.inputState.mouseSelection=null}},{key:"select",value:function(b){b=this.style.get(b,this.extend,this.multiple);b.eq(this.view.state.selection)&&b.primary.assoc==this.view.state.selection.primary.assoc||this.view.dispatch({selection:b,annotations:U.Transaction.userEvent.of("pointerselection"),
scrollIntoView:!0})}},{key:"update",value:function(b){b.docChanged&&this.dragging&&(this.dragging=this.dragging.map(b.changes));this.style.update(b)}}]);return e}(),ab=Object.create(null),Yc=ma.ie&&15>ma.ie_version||ma.ios&&604>ma.webkit_version;ab.keydown=function(e,b){var a=(b.ctrlKey?1:0)|(b.metaKey?8:0)|(b.altKey?2:0)|(b.shiftKey?4:0),c=b.keyCode,d=ma.mac&&1==a;(8==c||d&&72==c||46==c||d&&68==c||27==c||a==(ma.mac?8:1)&&(66==c||73==c||89==c||90==c))&&b.preventDefault();e.inputState.setSelectionOrigin("keyboardselection")};
ab.touchdown=ab.touchmove=function(e){e.inputState.setSelectionOrigin("pointerselection")};ab.mousedown=function(e,b){var a=null,c=!0,d=!1,f=void 0;try{for(var g=e.state.facet(Rc)[Symbol.iterator](),h;!(c=(h=g.next()).done);c=!0){var p=h.value;if(a=p(e,b))break}}catch(v){d=!0,f=v}finally{try{if(!c&&null!=g["return"])g["return"]()}finally{if(d)throw f;}}a||0!=b.button||(a=k(e,b));a&&(e.root.activeElement!=e.contentDOM&&e.observer.ignore(function(){return Wa(e.contentDOM)}),e.inputState.startMouseSelection(e,
b,a))};var id=ma.ie&&11>=ma.ie_version,yc=null,zc=0;ab.dragstart=function(e,b){var a=e.state.selection.primary,c=e.inputState.mouseSelection;c&&(c.dragging=a);b.dataTransfer&&(b.dataTransfer.setData("Text",e.state.sliceDoc(a.from,a.to)),b.dataTransfer.effectAllowed="copyMove")};ab.drop=function(e,b){if(b.dataTransfer){var a=e.posAtCoords({x:b.clientX,y:b.clientY}),c=b.dataTransfer.getData("Text");0>a||!c||(b.preventDefault(),b=(b=e.inputState.mouseSelection)&&b.dragging&&b.dragMove?{from:b.dragging.from,
to:b.dragging.to}:null,c={from:a,insert:c},c=e.state.changes(b?[b,c]:c),e.focus(),e.dispatch({changes:c,selection:{anchor:c.mapPos(a,-1),head:c.mapPos(a,1)},annotations:U.Transaction.userEvent.of("drop")}))}};ab.paste=function(e,b){e.observer.flush();var a=Yc?null:b.clipboardData;(a=a&&a.getData("text/plain"))?(Pa(e,a),b.preventDefault()):xb(e)};ab.copy=ab.cut=function(e,b){var a=e.state;var c=[],d=[],f=!0,g=!1,h=void 0;try{for(var p=a.selection.ranges[Symbol.iterator](),v;!(f=(v=p.next()).done);f=
!0){var A=v.value;A.empty||(c.push(a.sliceDoc(A.from,A.to)),d.push(A))}}catch(ba){g=!0,h=ba}finally{try{if(!f&&null!=p["return"])p["return"]()}finally{if(g)throw h;}}if(!c.length){f=-1;g=!0;h=!1;p=void 0;try{for(var C=a.selection.ranges[Symbol.iterator](),N;!(g=(N=C.next()).done);g=!0){var ea=a.doc.lineAt(N.value.from);ea.number>f&&(c.push(ea.slice()),d.push({from:ea.from,to:Math.min(a.doc.length,ea.to+1)}));f=ea.number}}catch(ba){h=!0,p=ba}finally{try{if(!g&&null!=C["return"])C["return"]()}finally{if(h)throw p;
}}}if(a=c.join(a.lineBreak))(c=Yc?null:b.clipboardData)?(b.preventDefault(),c.clearData(),c.setData("text/plain",a)):r(e,a),"cut"==b.type&&e.dispatch({changes:d,scrollIntoView:!0,annotations:U.Transaction.userEvent.of("cut")})};ab.focus=ab.blur=function(e){setTimeout(function(){e.hasFocus!=e.inputState.notifiedFocused&&e.update([])},10)};ab.beforeprint=function(e){e.viewState.printing=!0;e.requestMeasure();setTimeout(function(){e.viewState.printing=!1;e.requestMeasure()},2E3)};ab.compositionstart=
ab.compositionupdate=function(e){e.inputState.composing||(e.docView.compositionDeco.size&&(e.observer.flush(),e.docView.compositionDeco.size&&e.update([])),e.inputState.composing=!0)};ab.compositionend=function(e){e.inputState.composing=!1;e.inputState.compositionEndedAt=Date.now();setTimeout(function(){e.inputState.composing||e.docView.compositionDeco.size&&e.update([])},50)};var Id={childList:!0,characterData:!0,subtree:!0,characterDataOldValue:!0},sc=ma.ie&&11>=ma.ie_version,Jd=function(){function e(b,
a,c){var d=this;W(this,e);this.view=b;this.onChange=a;this.onScrollChanged=c;this.active=!1;this.ignoreSelection=new Tb;this.delayedFlush=-1;this.queue=[];this.scrollTargets=[];this.intersection=null;this.intersecting=!1;this.parentCheck=-1;this.dom=b.contentDOM;this.observer=new MutationObserver(function(f){var g=!0,h=!1,p=void 0;try{for(var v=f[Symbol.iterator](),A;!(g=(A=v.next()).done);g=!0)d.queue.push(A.value)}catch(C){h=!0,p=C}finally{try{if(!g&&null!=v["return"])v["return"]()}finally{if(h)throw p;
}}ma.ie&&11>=ma.ie_version&&f.some(function(C){return"childList"==C.type&&C.removedNodes.length||"characterData"==C.type&&C.oldValue.length>C.target.nodeValue.length})?d.flushSoon():d.flush()});sc&&(this.onCharData=function(f){d.queue.push({target:f.target,type:"characterData",oldValue:f.prevValue});d.flushSoon()});this.onSelectionChange=function(){if(d.view.root.activeElement==d.dom){if(ma.ie&&11>=ma.ie_version&&!d.view.state.selection.primary.empty){var f=Ca(d.view.root);if(f.focusNode&&Va(f.focusNode,
f.focusOffset,f.anchorNode,f.anchorOffset))return d.flushSoon()}d.flush()}};this.start();this.onScroll=this.onScroll.bind(this);window.addEventListener("scroll",this.onScroll);"function"==typeof IntersectionObserver&&(this.intersection=new IntersectionObserver(function(f){0>d.parentCheck&&(d.parentCheck=setTimeout(d.listenForScroll.bind(d),1E3));0<f[f.length-1].intersectionRatio!=d.intersecting&&(d.intersecting=!d.intersecting,d.onScroll())},{}),this.intersection.observe(this.dom));this.listenForScroll()}
Y(e,[{key:"onScroll",value:function(){this.intersecting&&(this.flush(),this.onScrollChanged())}},{key:"listenForScroll",value:function(){this.parentCheck=-1;for(var b=0,a=null,c=this.dom;c;)if(1==c.nodeType)!a&&b<this.scrollTargets.length&&this.scrollTargets[b]==c?b++:a||(a=this.scrollTargets.slice(0,b)),a&&a.push(c),c=c.parentNode;else if(11==c.nodeType)c=c.host;else break;b<this.scrollTargets.length&&!a&&(a=this.scrollTargets.slice(0,b));if(a){b=!0;c=!1;var d=void 0;try{for(var f=this.scrollTargets[Symbol.iterator](),
g;!(b=(g=f.next()).done);b=!0)g.value.removeEventListener("scroll",this.onScroll)}catch(v){c=!0,d=v}finally{try{if(!b&&null!=f["return"])f["return"]()}finally{if(c)throw d;}}f=!0;g=!1;b=void 0;try{for(var h=(this.scrollTargets=a)[Symbol.iterator](),p;!(f=(p=h.next()).done);f=!0)p.value.addEventListener("scroll",this.onScroll)}catch(v){g=!0,b=v}finally{try{if(!f&&null!=h["return"])h["return"]()}finally{if(g)throw b;}}}}},{key:"ignore",value:function(b){if(!this.active)return b();try{return this.stop(),
b()}finally{this.start(),this.clear()}}},{key:"start",value:function(){this.active||(this.observer.observe(this.dom,Id),this.dom.ownerDocument.addEventListener("selectionchange",this.onSelectionChange),sc&&this.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.active=!0)}},{key:"stop",value:function(){this.active&&(this.active=!1,this.observer.disconnect(),this.dom.ownerDocument.removeEventListener("selectionchange",this.onSelectionChange),sc&&this.dom.removeEventListener("DOMCharacterDataModified",
this.onCharData))}},{key:"clearSelection",value:function(){this.ignoreSelection.set(Ca(this.view.root))}},{key:"clear",value:function(){this.observer.takeRecords();this.queue.length=0;this.clearSelection()}},{key:"flushSoon",value:function(){var b=this;0>this.delayedFlush&&(this.delayedFlush=window.setTimeout(function(){b.delayedFlush=-1;b.flush()},20))}},{key:"forceFlush",value:function(){0<=this.delayedFlush&&(window.clearTimeout(this.delayedFlush),this.delayedFlush=-1,this.flush())}},{key:"flush",
value:function(){var b=this;if(!(0<=this.delayedFlush)){var a=this.queue,c=!0,d=!1,f=void 0;try{for(var g=this.observer.takeRecords()[Symbol.iterator](),h;!(c=(h=g.next()).done);c=!0)a.push(h.value)}catch(ea){d=!0,f=ea}finally{try{if(!c&&null!=g["return"])g["return"]()}finally{if(d)throw f;}}a.length&&(this.queue=[]);c=Ca(this.view.root);c=!this.ignoreSelection.eq(c)&&cb(this.dom,c);if(0!=a.length||c){f=d=-1;g=!1;h=!0;var p=!1,v=void 0;try{for(var A=a[Symbol.iterator](),C;!(h=(C=A.next()).done);h=
!0){var N=this.readMutation(C.value);N&&(N.typeOver&&(g=!0),-1==d?(d=N.from,f=N.to):(d=Math.min(N.from,d),f=Math.max(N.to,f)))}}catch(ea){p=!0,v=ea}finally{try{if(!h&&null!=A["return"])A["return"]()}finally{if(p)throw v;}}a=this.view.state;if(-1<d||c)this.onChange(d,f,g);this.view.state==a&&(this.view.docView.dirty&&(this.ignore(function(){return b.view.docView.sync()}),this.view.docView.dirty=0),this.view.docView.updateSelection());this.clearSelection()}}}},{key:"readMutation",value:function(b){var a=
this.view.docView.nearest(b.target);if(!a||a.ignoreMutation(b))return null;a.markDirty();if("childList"==b.type){var c=w(a,b.previousSibling||b.target.previousSibling,-1);b=w(a,b.nextSibling||b.target.nextSibling,1);return{from:c?a.posAfter(c):a.posAtStart,to:b?a.posBefore(b):a.posAtEnd,typeOver:!1}}return{from:a.posAtStart,to:a.posAtEnd,typeOver:b.target.nodeValue==b.oldValue}}},{key:"destroy",value:function(){this.stop();this.intersection&&this.intersection.disconnect();var b=!0,a=!1,c=void 0;try{for(var d=
this.scrollTargets[Symbol.iterator](),f;!(b=(f=d.next()).done);b=!0)f.value.removeEventListener("scroll",this.onScroll)}catch(g){a=!0,c=g}finally{try{if(!b&&null!=d["return"])d["return"]()}finally{if(a)throw c;}}window.removeEventListener("scroll",this.onScroll);clearTimeout(this.parentCheck)}}]);return e}(),jd=function(){function e(b){W(this,e);this.points=b;this.text=""}Y(e,[{key:"readRange",value:function(b,a){if(b){for(var c=b.parentNode;;){this.findPointBefore(c,b);this.readNode(b);var d=b.nextSibling;
if(d==a)break;var f=jb.get(b),g=jb.get(d);if((f?f.breakAfter:Q(b))||(g?g.breakAfter:Q(d))&&("BR"!=b.nodeName||b.cmIgnore))this.text+="ï·š";b=d}this.findPointBefore(c,a)}}},{key:"readNode",value:function(b){if(!b.cmIgnore){var a=jb.get(b);a=a&&a.overrideDOMText;var c;null!=a?c=a.sliceString(0,void 0,"ï·š"):3==b.nodeType?c=b.nodeValue:"BR"==b.nodeName?c=b.nextSibling?"ï·š":"":1==b.nodeType&&this.readRange(b.firstChild,null);null!=c&&(this.findPointIn(b,c.length),this.text+=c)}}},{key:"findPointBefore",value:function(b,
a){var c=!0,d=!1,f=void 0;try{for(var g=this.points[Symbol.iterator](),h;!(c=(h=g.next()).done);c=!0){var p=h.value;p.node==b&&b.childNodes[p.offset]==a&&(p.pos=this.text.length)}}catch(v){d=!0,f=v}finally{try{if(!c&&null!=g["return"])g["return"]()}finally{if(d)throw f;}}}},{key:"findPointIn",value:function(b,a){var c=!0,d=!1,f=void 0;try{for(var g=this.points[Symbol.iterator](),h;!(c=(h=g.next()).done);c=!0){var p=h.value;p.node==b&&(p.pos=this.text.length+Math.min(p.offset,a))}}catch(v){d=!0,f=
v}finally{try{if(!c&&null!=g["return"])g["return"]()}finally{if(d)throw f;}}}}]);return e}(),Bc=function c(b,a){W(this,c);this.node=b;this.offset=a;this.pos=-1},bb=function(){function b(){var a=this,c=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};W(this,b);this.plugins=[];this.editorAttrs={};this.contentAttrs={};this.bidiCache=[];this.updateState=2;this.measureScheduled=-1;this.measureRequests=[];this.contentDOM=document.createElement("div");this.scrollDOM=document.createElement("div");
this.scrollDOM.className=P("scroller");this.scrollDOM.appendChild(this.contentDOM);this.dom=document.createElement("div");this.dom.appendChild(this.scrollDOM);this._dispatch=c.dispatch||function(d){return a.update([d])};this.dispatch=this.dispatch.bind(this);this.root=c.root||document;this.viewState=new Wc(c.state||U.EditorState.create());this.plugins=this.state.facet(Ub).map(function(d){return Vb.create(d,a)});this.observer=new Jd(this,function(d,f,g){return D(a,d,f,g)},function(){return a.measure()});
this.docView=new Xc(this);this.inputState=new Hd(this);this.mountStyles();this.updateAttrs();this.updateState=0;ha();this.requestMeasure();c.parent&&c.parent.appendChild(this.dom)}Y(b,[{key:"dispatch",value:function(){var a;this._dispatch(1==arguments.length&&(0>=arguments.length?void 0:arguments[0])instanceof U.Transaction?0>=arguments.length?void 0:arguments[0]:(a=this.state).update.apply(a,arguments))}},{key:"update",value:function(a){if(0!=this.updateState)throw Error("Calls to EditorView.update are not allowed while an update is in progress");
this.updateState=2;var c=this.state,d=!0,f=!1,g=void 0;try{for(var h=a[Symbol.iterator](),p;!(d=(p=h.next()).done);d=!0){var v=p.value;if(v.startState!=c)throw new RangeError("Trying to update state with a transaction that doesn't start from the previous state.");c=v.state}}catch(ea){f=!0,g=ea}finally{try{if(!d&&null!=h["return"])h["return"]()}finally{if(f)throw g;}}d=new rc(this,c,a);a=a.some(function(ea){return ea.scrollIntoView})?c.selection.primary:null;this.viewState.update(d,a);this.bidiCache=
Zc.update(this.bidiCache,d.changes);d.empty||this.updatePlugins(d);c=this.docView.update(d);this.state.facet(Wb)!=this.styleModules&&this.mountStyles();this.updateAttrs();this.updateState=0;(c||a||this.viewState.mustEnforceCursorAssoc)&&this.requestMeasure();a=!0;c=!1;f=void 0;try{for(var A=this.state.facet(pc)[Symbol.iterator](),C;!(a=(C=A.next()).done);a=!0){var N=C.value;N(d)}}catch(ea){c=!0,f=ea}finally{try{if(!a&&null!=A["return"])A["return"]()}finally{if(c)throw f;}}}},{key:"setState",value:function(a){var c=
this;if(0!=this.updateState)throw Error("Calls to EditorView.setState are not allowed while an update is in progress");this.updateState=2;var d=!0,f=!1,g=void 0;try{for(var h=this.plugins[Symbol.iterator](),p;!(d=(p=h.next()).done);d=!0)p.value.destroy(this)}catch(v){f=!0,g=v}finally{try{if(!d&&null!=h["return"])h["return"]()}finally{if(f)throw g;}}this.viewState=new Wc(a);this.plugins=a.facet(Ub).map(function(v){return Vb.create(v,c)});this.docView=new Xc(this);this.inputState.ensureHandlers(this);
this.mountStyles();this.updateAttrs();this.bidiCache=[];this.updateState=0;this.requestMeasure()}},{key:"updatePlugins",value:function(a){var c=a.prevState.facet(Ub),d=a.state.facet(Ub);if(c!=d){var f=[],g=[],h=!0,p=!1,v=void 0;try{for(var A=d[Symbol.iterator](),C;!(h=(C=A.next()).done);h=!0){var N=C.value,ea=c.indexOf(N);if(0>ea)f.push(Vb.create(N,this));else{var ba=this.plugins[ea].update(a);g.push(ba);f.push(ba)}}}catch(Bb){p=!0,v=Bb}finally{try{if(!h&&null!=A["return"])A["return"]()}finally{if(p)throw v;
}}a=!0;c=!1;d=void 0;try{for(var ua=this.plugins[Symbol.iterator](),Ba;!(a=(Ba=ua.next()).done);a=!0){var zb=Ba.value;0>g.indexOf(zb)&&zb.destroy(this)}}catch(Bb){c=!0,d=Bb}finally{try{if(!a&&null!=ua["return"])ua["return"]()}finally{if(c)throw d;}}this.plugins=f;this.inputState.ensureHandlers(this)}else for(f=0;f<this.plugins.length;f++)this.plugins[f]=this.plugins[f].update(a)}},{key:"measure",value:function(){var a=this;-1<this.measureScheduled&&cancelAnimationFrame(this.measureScheduled);this.measureScheduled=
1;for(var c=null,d=0;;d++){this.updateState=1;var f=this.viewState.measure(this.docView,0<d),g=this.measureRequests;if(!f&&!g.length&&null==this.viewState.scrollTo)break;this.measureRequests=[];if(5<d){console.warn("Viewport failed to stabilize");break}var h=g.map(function(N){try{return N.read(a)}catch(ea){return F(a.state,ea),$c}}),p=new rc(this,this.state);p.flags|=f;c?c.flags|=f:c=p;this.updateState=2;this.updatePlugins(p);f&&this.docView.update(p);for(p=0;p<g.length;p++)if(h[p]!=$c)try{g[p].write(h[p],
this)}catch(N){F(this.state,N)}this.viewState.scrollTo&&(this.docView.scrollPosIntoView(this.viewState.scrollTo.head,this.viewState.scrollTo.assoc),this.viewState.scrollTo=null);if(!(f&4)&&0==this.measureRequests.length)break}this.updateState=0;this.measureScheduled=-1;if(c){d=!0;f=!1;g=void 0;try{for(var v=this.state.facet(pc)[Symbol.iterator](),A;!(d=(A=v.next()).done);d=!0){var C=A.value;C(c)}}catch(N){f=!0,g=N}finally{try{if(!d&&null!=v["return"])v["return"]()}finally{if(f)throw g;}}}}},{key:"updateAttrs",
value:function(){var a=Da(this.state.facet(Uc),{"class":P("wrap")+(this.hasFocus?" cm-focused ":" ")+this.themeClasses});Ea(this.dom,this.editorAttrs,a);this.editorAttrs=a;a=Da(this.state.facet(Vc),{spellcheck:"false",contenteditable:String(this.state.facet(qc)),"class":P("content"),style:"".concat(ma.tabSize,": ").concat(this.state.tabSize),role:"textbox","aria-multiline":"true"});Ea(this.contentDOM,this.contentAttrs,a);this.contentAttrs=a}},{key:"mountStyles",value:function(){this.styleModules=
this.state.facet(Wb);Za.StyleModule.mount(this.root,this.styleModules.concat(vd).reverse())}},{key:"domAtPos",value:function(a){return this.docView.domAtPos(a)}},{key:"posAtDOM",value:function(a){return this.docView.posFromDOM(a,1<arguments.length&&void 0!==arguments[1]?arguments[1]:0)}},{key:"readMeasured",value:function(){if(2==this.updateState)throw Error("Reading the editor layout isn't allowed during an update");0==this.updateState&&-1<this.measureScheduled&&this.measure()}},{key:"requestMeasure",
value:function(a){var c=this;0>this.measureScheduled&&(this.measureScheduled=requestAnimationFrame(function(){return c.measure()}));if(a){if(null!=a.key)for(var d=0;d<this.measureRequests.length;d++)if(this.measureRequests[d].key===a.key){this.measureRequests[d]=a;return}this.measureRequests.push(a)}}},{key:"pluginField",value:function(a){var c=[],d=!0,f=!1,g=void 0;try{for(var h=this.plugins[Symbol.iterator](),p;!(d=(p=h.next()).done);d=!0)p.value.takeField(a,c)}catch(v){f=!0,g=v}finally{try{if(!d&&
null!=h["return"])h["return"]()}finally{if(f)throw g;}}return c}},{key:"plugin",value:function(a){var c=!0,d=!1,f=void 0;try{for(var g=this.plugins[Symbol.iterator](),h;!(c=(h=g.next()).done);c=!0){var p=h.value;if(p.spec==a)return p.value}}catch(v){d=!0,f=v}finally{try{if(!c&&null!=g["return"])g["return"]()}finally{if(d)throw f;}}return null}},{key:"blockAtHeight",value:function(a,c){this.readMeasured();return this.viewState.blockAtHeight(a,aa(c,this.contentDOM))}},{key:"visualLineAtHeight",value:function(a,
c){this.readMeasured();return this.viewState.lineAtHeight(a,aa(c,this.contentDOM))}},{key:"visualLineAt",value:function(a){return this.viewState.lineAt(a,1<arguments.length&&void 0!==arguments[1]?arguments[1]:0)}},{key:"viewportLines",value:function(a,c){var d=this.viewport;this.viewState.forEachLine(d.from,d.to,a,aa(c,this.contentDOM))}},{key:"moveByChar",value:function(a,c,d){return Ka(this,a,c,d)}},{key:"moveByGroup",value:function(a,c){var d=this;return Ka(this,a,c,function(f){return wb(d,a.head,
f)})}},{key:"moveToLineBoundary",value:function(a,c){a:{var d=2<arguments.length&&void 0!==arguments[2]?arguments[2]:!0;var f=this.state.doc.lineAt(a.head);if(d=d&&this.lineWrapping?this.coordsAtPos(0>a.assoc&&a.head>f.from?a.head-1:a.head):null){var g=this.dom.getBoundingClientRect();d=this.posAtCoords({x:c==(this.textDirection==qb.LTR)?g.right-1:g.left+1,y:(d.top+d.bottom)/2});if(-1<d){f=U.EditorSelection.cursor(d,c?-1:1);break a}}d=yb.find(this.docView,a.head);f=U.EditorSelection.cursor(d?c?d.posAtEnd:
d.posAtStart:c?f.to:f.from,c?-1:1)}return f}},{key:"moveVertically",value:function(a,c,d){a:{var f,g=a.head;var h=c?1:-1;if(g==(c?this.state.doc.length:0))h=U.EditorSelection.cursor(g);else{var p=this.coordsAtPos(g);if(p){var v=this.dom.getBoundingClientRect();c=null!==(f=a.goalColumn)&&void 0!==f?f:p.left-v.left;f=v.left+c;d=null!==d&&void 0!==d?d:5;p=0>h?p.top:p.bottom;for(v=0;50>v;v+=10){var A=Ra(this,{x:f,y:p+(d+v)*h},h);if(0>A)break;if(A!=g){h=U.EditorSelection.cursor(A,void 0,void 0,c);break a}}}d=
this.state.doc;p=d.lineAt(g);c=this.state.tabSize;f=a.goalColumn;a=0;if(null==f){for(g=d.iterRange(p.from,g);!g.next().done;)a=(0,Xa.countColumn)(g.value,a,c);f=a*this.defaultCharacterWidth}else a=Math.round(f/this.defaultCharacterWidth);if(0>h&&0==p.from)h=U.EditorSelection.cursor(0);else if(0<h&&p.to==d.length)h=U.EditorSelection.cursor(p.to);else{p=d.line(p.number+h);h=p.from;g=0;for(d=d.iterRange(p.from,p.to);g>=a&&!d.next().done;)g=(0,Xa.findColumn)(d.value,g,a,c),p=g.offset,g=a-g.leftOver,h+=
p;h=U.EditorSelection.cursor(h,void 0,void 0,f)}}}return h}},{key:"scrollPosIntoView",value:function(a){this.viewState.scrollTo=U.EditorSelection.cursor(a);this.requestMeasure()}},{key:"posAtCoords",value:function(a){this.readMeasured();return Ra(this,a)}},{key:"coordsAtPos",value:function(a){var c=1<arguments.length&&void 0!==arguments[1]?arguments[1]:1;this.readMeasured();var d=this.state.doc.lineAt(a),f=this.bidiSpans(d),g=this.docView.coordsAt(a,c);if(!g||g.left==g.right)return g;d=f[Db.find(f,
a-d.from,-1,c)];return pb(g,d.dir==qb.LTR==0<c)}},{key:"bidiSpans",value:function(a){if(a.length>Kd)return[new Db(0,a.length,0)];var c=this.textDirection,d=!0,f=!1,g=void 0;try{for(var h=this.bidiCache[Symbol.iterator](),p;!(d=(p=h.next()).done);d=!0){var v=p.value;if(v.from==a.from&&v.dir==c)return v.order}}catch(A){f=!0,g=A}finally{try{if(!d&&null!=h["return"])h["return"]()}finally{if(f)throw g;}}d=B(a.slice(),this.textDirection);this.bidiCache.push(new Zc(a.from,a.to,c,d));return d}},{key:"focus",
value:function(){var a=this;this.observer.ignore(function(){Wa(a.contentDOM);a.docView.updateSelection()})}},{key:"destroy",value:function(){var a=!0,c=!1,d=void 0;try{for(var f=this.plugins[Symbol.iterator](),g;!(a=(g=f.next()).done);a=!0)g.value.destroy(this)}catch(h){c=!0,d=h}finally{try{if(!a&&null!=f["return"])f["return"]()}finally{if(c)throw d;}}this.inputState.destroy();this.dom.remove();this.observer.destroy();-1<this.measureScheduled&&cancelAnimationFrame(this.measureScheduled)}},{key:"state",
get:function(){return this.viewState.state}},{key:"viewport",get:function(){return this.viewState.viewport}},{key:"visibleRanges",get:function(){return this.viewState.visibleRanges}},{key:"themeClasses",get:function(){return Xb+" "+(this.state.facet(Hc)?tc:uc)+" "+this.state.facet(Gc)}},{key:"contentHeight",get:function(){return this.viewState.heightMap.height+this.viewState.paddingTop+this.viewState.paddingBottom}},{key:"defaultCharacterWidth",get:function(){return this.viewState.heightOracle.charWidth}},
{key:"defaultLineHeight",get:function(){return this.viewState.heightOracle.lineHeight}},{key:"textDirection",get:function(){return this.viewState.heightOracle.direction}},{key:"lineWrapping",get:function(){return this.viewState.heightOracle.lineWrapping}},{key:"hasFocus",get:function(){return this.root.activeElement==this.contentDOM}}],[{key:"domEventHandlers",value:function(a){return ac.define(function(){return{}}).eventHandlers(a)}},{key:"theme",value:function(a,c){var d=Za.StyleModule.newName();
a=[Gc.of(d),Wb.of(M(d,a))];c&&c.dark&&a.push(Hc.of(!0));return a}},{key:"baseTheme",value:function(a){return(0,U.precedence)(Wb.of(M(Xb,a)),"fallback")}}]);return b}();t.EditorView=bb;bb.styleModule=Wb;bb.inputHandler=Ac;bb.exceptionSink=xc;bb.updateListener=pc;bb.editable=qc;bb.dragMovesSelection=Qc;bb.clickAddsSelectionRange=Pc;bb.mouseSelectionStyle=Rc;bb.decorations=Jb;bb.lineWrapping=bb.theme({content:{whiteSpace:"pre-wrap"}});bb.contentAttributes=Vc;bb.editorAttributes=Uc;var Kd=4096,ec=-1,
$c={},Zc=function(){function b(a,c,d,f){W(this,b);this.from=a;this.to=c;this.dir=d;this.order=f}Y(b,null,[{key:"update",value:function(a,c){if(c.empty)return a;for(var d=[],f=a.length?a[a.length-1].dir:qb.LTR,g=Math.max(0,a.length-10);g<a.length;g++){var h=a[g];h.dir!=f||c.touchesRange(h.from,h.to)||d.push(new b(c.mapPos(h.from,1),c.mapPos(h.to,-1),h.dir,h.order))}return d}}]);return b}(),kd="undefined"==typeof navigator?"key":/Mac/.test(navigator.platform)?"mac":/Win/.test(navigator.platform)?"win":
/Linux|X11/.test(navigator.platform)?"linux":"key",mc=U.Facet.define(),pd=bb.domEventHandlers({keydown:function(b,a){return za(a.state.facet(mc),b,a,"editor")}}),Fb=null,ld=4E3,qd=U.StateField.define({create:function(b){return Ya(b.selection)},update:function(b,a){return a.docChanged||a.selection?Ya(a.state.selection):b},provide:[bb.decorations]}),kc=function(b){function a(){W(this,a);return ja(this,da(a).apply(this,arguments))}pa(a,b);Y(a,[{key:"toDOM",value:function(){var c=document.createElement("span");
c.className=P("secondaryCursor");return c}}]);return a}(Gb);kc.deco=Aa.widget({widget:new kc(null)});var md=Aa.mark({"class":P("secondarySelection")}),Ld=/[\0-\x08\n-\x1F\x7F-\x9F\xAD\u061C\u200B\u200C\u200E\u200F\u2028\u2029\uFEFF\uFFF9-\uFFFC]/g,Md={0:"null",7:"bell",8:"backspace",10:"newline",11:"vertical tab",13:"carriage return",27:"escape",8203:"zero width space",8204:"zero width non-joiner",8205:"zero width joiner",8206:"left-to-right mark",8207:"right-to-left mark",8232:"line separator",8233:"paragraph separator",
65279:"zero width no-break space",65532:"object replacement"},lc=null,ad=null!=/x/.unicode?"gu":"g",$b=U.Facet.define({combine:function(b){b=(0,U.combineConfig)(b,{render:null,specialChars:Ld,addSpecialChars:null});if(b.replaceTabs=!Ib())b.specialChars=new RegExp("\t|"+b.specialChars.source,ad);b.addSpecialChars&&(b.specialChars=new RegExp(b.specialChars.source+"|"+b.addSpecialChars.source,ad));return b}}),nd=ac.fromClass(function(){function b(a){W(this,b);this.view=a;this.decorations=Aa.none;this.decorationCache=
Object.create(null);this.recompute()}Y(b,[{key:"update",value:function(a){var c=a.prevState.facet($b)!=a.state.facet($b);c&&(this.decorationCache=Object.create(null));(c||a.changes.length||a.viewportChanged)&&this.recompute()}},{key:"recompute",value:function(){var a=[],c=!0,d=!1,f=void 0;try{for(var g=this.view.visibleRanges[Symbol.iterator](),h;!(c=(h=g.next()).done);c=!0){var p=h.value;this.getDecorationsFor(p.from,p.to,a)}}catch(v){d=!0,f=v}finally{try{if(!c&&null!=g["return"])g["return"]()}finally{if(d)throw f;
}}this.decorations=Aa.set(a)}},{key:"getDecorationsFor",value:function(a,c,d){var f=this.view.state.facet($b),g=this.view.state.doc,h=a;for(a=g.iterRange(a,c);!a.next().done;){if(!a.lineBreak)for(;c=f.specialChars.exec(a.value);){var p=(0,Xa.codePointAt)(c[0],0);if(null!=p){if(9==p){var v=g.lineAt(h+c.index);p=this.view.state.tabSize;v=(0,Xa.countColumn)(g.sliceString(v.from,h+c.index),0,p);p=Aa.replace({widget:new Nd((p-v%p)*this.view.defaultCharacterWidth)})}else p=this.decorationCache[p]||(this.decorationCache[p]=
Aa.replace({widget:new Od(f,p)}));d.push(p.range(h+c.index,h+c.index+c[0].length))}}h+=a.value.length}}}]);return b}()).decorations(),Od=function(b){function a(c,d){W(this,a);d=ja(this,da(a).call(this,d));d.options=c;return d}pa(a,b);Y(a,[{key:"toDOM",value:function(){var c=this.value;c=32<=c?null:10==c?"â¤":String.fromCharCode(9216+c);c=c||"â€¢";var d="Control character "+(Md[this.value]||this.value),f=this.options.render&&this.options.render(this.value,d,c);if(f)return f;f=document.createElement("span");
f.textContent=c;f.title=d;f.setAttribute("aria-label",d);f.style.color="red";return f}},{key:"ignoreEvent",value:function(){return!1}}]);return a}(Gb),Nd=function(b){function a(){W(this,a);return ja(this,da(a).apply(this,arguments))}pa(a,b);Y(a,[{key:"toDOM",value:function(){var c=document.createElement("span");c.textContent="\t";c.className=bd.tab;c.style.width=this.value+"px";return c}},{key:"ignoreEvent",value:function(){return!1}}]);return a}(Gb),bd=new Za.StyleModule({tab:{display:"inline-block",
overflow:"hidden",verticalAlign:"bottom"}}),od=bb.styleModule.of(bd),Dc=200;t.__test={HeightMap:vb,HeightOracle:Mc,MeasuredHeights:Nc,QueryType:xa,ChangedRange:Qb,computeOrder:B,moveVisually:q}};
shadow$provide[7]=function(ca,qa,Ma,D){function ya(ma){for(var aa=0;aa<Ga.length;aa+=2)if(Ga.charCodeAt(aa)==ma)return Ga.charAt(aa+1);return(0,ka.fromCodePoint)(128>ma?ma:ma+1)}function La(ma,aa,T,J){var t=ma.state.selection.primary;if(2<J.length||2==J.length&&1==(0,ka.codePointSize)((0,ka.codePointAt)(J,0))||aa!=t.from||T!=t.to)return!1;aa=Ea(ma.state,J);if(!aa)return!1;ma.dispatch(aa);return!0}function Ea(ma,aa){var T=ma.languageDataAt("closeBrackets",ma.selection.primary.head)[0]||Qa,J=T.brackets||
Qa.brackets,t=!0,q=!1,B=void 0;try{for(var I=J[Symbol.iterator](),S;!(t=(S=I.next()).done);t=!0){var x=S.value,n=ya((0,ka.codePointAt)(x,0));if(aa==x)return n==x?va(ma,x,-1<J.indexOf(x+x+x)):xa(ma,x,n,T.before||Qa.before);if(aa==n)return Ka(ma,x,n)}}catch(y){q=!0,B=y}finally{try{if(!t&&null!=I["return"])I["return"]()}finally{if(q)throw B;}}return null}function Xa(ma,aa){ma=ma.sliceString(aa,aa+2);return ma.slice(0,(0,ka.codePointSize)((0,ka.codePointAt)(ma,0)))}function xa(ma,aa,T,J){var t=null,q=
ma.changeByRange(function(B){if(!B.empty)return{changes:[{insert:aa,from:B.from},{insert:T,from:B.to}],range:Aa.EditorSelection.range(B.anchor+aa.length,B.head+aa.length)};var I=Xa(ma.doc,B.head);return!I||/\s/.test(I)||-1<J.indexOf(I)?{changes:{insert:aa+T,from:B.head},range:Aa.EditorSelection.cursor(B.head+aa.length)}:{range:t=B}});return t?null:ma.update(q,{scrollIntoView:!0})}function Ka(ma,aa,T){var J=null;aa=ma.selection.ranges.map(function(t){return t.empty&&Xa(ma.doc,t.head)==T?Aa.EditorSelection.cursor(t.head+
T.length):J=t});return J?null:ma.update({selection:Aa.EditorSelection.create(aa,ma.selection.primaryIndex),scrollIntoView:!0})}function va(ma,aa,T){var J=null,t=ma.changeByRange(function(q){if(!q.empty)return{changes:[{insert:aa,from:q.from},{insert:aa,from:q.to}],range:Aa.EditorSelection.range(q.anchor+aa.length,q.head+aa.length)};var B=q.head,I=Xa(ma.doc,B);if(I==aa){if(Na(ma,B))return{changes:{insert:aa+aa,from:B},range:Aa.EditorSelection.cursor(B+aa.length)};q=T&&ma.sliceDoc(B,B+3*aa.length)==
aa+aa+aa;return{range:Aa.EditorSelection.cursor(B+aa.length*(q?3:1))}}return T&&ma.sliceDoc(B-2*aa.length,B)==aa+aa&&Na(ma,B-2*aa.length)?{changes:{insert:aa+aa+aa+aa,from:B},range:Aa.EditorSelection.cursor(B+aa.length)}:ma.charCategorizer(B)(I)!=Aa.CharCategory.Word&&(I=ma.sliceDoc(B-1,B),I!=aa&&ma.charCategorizer(B)(I)!=Aa.CharCategory.Word)?{changes:{insert:aa+aa,from:B},range:Aa.EditorSelection.cursor(B+aa.length)}:{range:J=q}});return J?null:ma.update(t,{scrollIntoView:!0})}function Na(ma,aa){ma=
ma.tree.resolve(aa+1);return ma.parent&&ma.start==aa}Object.defineProperty(D,"__esModule",{value:!0});D.closeBrackets=function(){return ra.EditorView.inputHandler.of(La)};D.handleInsertion=Ea;D.deleteBracketPair=D.closeBracketsKeymap=void 0;var ra=qa(6),Aa=qa(2),ka=qa(0),Qa={brackets:["(","[","{","'",'"'],before:")]}'\":;\x3e"},Ga="()[]{}\x3c\x3e";ca=function(ma){var aa=ma.state;ma=ma.dispatch;var T=(aa.languageDataAt("closeBrackets",aa.selection.primary.head)[0]||Qa).brackets||Qa.brackets,J=null,
t=aa.changeByRange(function(q){if(q.empty){var B=q.head;B=aa.doc.sliceString(B-2,B);B=(0,ka.codePointSize)((0,ka.codePointAt)(B,0))==B.length?B:B.slice(1);var I=!0,S=!1,x=void 0;try{for(var n=T[Symbol.iterator](),y;!(I=(y=n.next()).done);I=!0){var w=y.value;if(w==B&&Xa(aa.doc,q.head)==ya((0,ka.codePointAt)(w,0)))return{changes:{from:q.head-w.length,to:q.head+w.length},range:Aa.EditorSelection.cursor(q.head-w.length)}}}catch(p){S=!0,x=p}finally{try{if(!I&&null!=n["return"])n["return"]()}finally{if(S)throw x;
}}}return{range:J=q}});J||ma(aa.update(t,{scrollIntoView:!0}));return!J};D.deleteBracketPair=ca;D.closeBracketsKeymap=[{key:"Backspace",run:ca}]};
shadow$provide[8]=function(ca,qa,Ma,D){function ya(aa,T){if(!(aa instanceof T))throw new TypeError("Cannot call a class as a function");}function La(aa,T){for(var J=0;J<T.length;J++){var t=T[J];t.enumerable=t.enumerable||!1;t.configurable=!0;"value"in t&&(t.writable=!0);Object.defineProperty(aa,t.key,t)}}function Ea(aa,T,J){T&&La(aa.prototype,T);J&&La(aa,J);return aa}Object.defineProperty(D,"__esModule",{value:!0});D.styleTags=D.highlighter=D.defaultTags=D.defaultHighlighter=D.TagSystem=void 0;var Xa=
qa(1),xa=qa(3),Ka=qa(6),va=qa(2),Na=qa(4);ca=function(){function aa(T){var J=this;ya(this,aa);this.typeNames=[""];this.typeIDs=Object.create(null);this.prop=new Xa.NodeProp;this.flags=T.flags;this.types=T.types;this.flagMask=Math.pow(2,this.flags.length)-1;this.typeShift=this.flags.length;var t=T.subtypes||0,q=[void 0];this.typeIDs[""]=0;var B=1,I=!0,S=!1,x=void 0;try{for(var n=T.types[Symbol.iterator](),y;!(I=(y=n.next()).done);I=!0){var w=y.value,p=/^([\w\-]+)(?:=([\w-]+))?$/.exec(w);if(!p)throw new RangeError("Invalid type name "+
w);var v=B++;this.typeNames[v]=p[1];this.typeIDs[p[1]]=v;q[v]=p[2];for(T=0;T<t;T++){var C=B++,N=p[1]+"#"+(T+1);this.typeNames[C]=N;this.typeIDs[N]=C;q[C]=p[1]}}}catch(U){S=!0,x=U}finally{try{if(!I&&null!=n["return"])n["return"]()}finally{if(S)throw x;}}this.parents=q.map(function(U){if(null==U)return 0;var O=J.typeIDs[U];if(null==O)throw new RangeError("Unknown parent type '".concat(U,"' specified"));return O});if(30<this.flags.length||this.typeNames.length>Math.pow(2,30-this.flags.length))throw new RangeError("Too many style tag flags to fit in a 30-bit integer");
}Ea(aa,[{key:"get",value:function(T){var J=0,t=!0,q=!1,B=void 0;try{for(var I=T.split(" ")[Symbol.iterator](),S;!(t=(S=I.next()).done);t=!0){var x=S.value;if(x){var n=this.flags.indexOf(x);if(-1<n)J+=1<<n;else{var y=this.typeIDs[x];if(null==y)throw new RangeError("Unknown tag type '".concat(x,"'"));if(J>>this.typeShift)throw new RangeError("Multiple tag types specified in '".concat(T,"'"));J+=y<<this.typeShift}}}}catch(w){q=!0,B=w}finally{try{if(!t&&null!=I["return"])I["return"]()}finally{if(q)throw B;
}}return J}},{key:"getWithMode",value:function(T){var J="+"==T[0]?1:"!"==T[0]?0:2;return{mode:J,tag:this.get(2==J?T:T.slice(1))}}},{key:"addTagProp",value:function(T){var J=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},t=this.getWithMode(T);return this.prop.set(J,new ka(t.tag,t.mode,Aa))}},{key:"add",value:function(T){var J=Object.create(null),t;for(t in T){var q=this.getWithMode(T[t]),B=q.mode;q=q.tag;var I=!0,S=!1,x=void 0;try{for(var n=t.split(" ")[Symbol.iterator](),y;!(I=(y=n.next()).done);I=
!0){var w=y.value.split("/"),p=w[w.length-1],v=1<w.length?w.slice(0,w.length-1).map(function(N){return"*"==N?null:N}):Aa,C=new ka(q,B,v);J[p]=C.sort(J[p])}}catch(N){S=!0,x=N}finally{try{if(!I&&null!=n["return"])n["return"]()}finally{if(S)throw x;}}}return this.prop.add(J)}},{key:"highlighter",value:function(T){var J=this,t=new Ga(this,T);return[Ka.ViewPlugin.define(function(q){return new ma(q,J.prop,t)}).decorations(),Ka.EditorView.styleModule.of(t.module)]}},{key:"specificity",value:function(T){for(var J=
T&this.flagMask,t=0,q=1;q<=this.flags.length;q++)J&1<<q&&t++;for(T>>=this.typeShift;T;T=this.parents[T])t+=1E3;return t}}]);return aa}();D.TagSystem=ca;var ra=new ca({flags:"invalid meta standard definition constant local control link strong emphasis monospace changed inserted deleted".split(" "),subtypes:7,types:"comment lineComment\x3dcomment blockComment\x3dcomment docComment\x3dcomment name variableName\x3dname typeName\x3dname propertyName\x3dname className\x3dname labelName\x3dname functionName\x3dname namespace\x3dname literal string\x3dliteral docString\x3dstring character\x3dstring number\x3dliteral integer\x3dnumber float\x3dnumber regexp\x3dliteral escape\x3dliteral color\x3dliteral content heading\x3dcontent list\x3dcontent quote\x3dcontent keyword self\x3dkeyword null\x3dkeyword atom\x3dkeyword unit\x3dkeyword modifier\x3dkeyword operatorKeyword\x3dkeyword operator derefOperator\x3doperator arithmeticOperator\x3doperator logicOperator\x3doperator bitwiseOperator\x3doperator compareOperator\x3doperator updateOperator\x3doperator typeOperator\x3doperator punctuation separator\x3dpunctuation bracket\x3dpunctuation angleBracket\x3dbracket squareBracket\x3dbracket paren\x3dbracket brace\x3dbracket".split(" ")});
D.defaultTags=ra;var Aa=[],ka=function(){function aa(T,J,t,q){ya(this,aa);this.tag=T;this.mode=J;this.context=t;this.next=q}Ea(aa,[{key:"sort",value:function(T){if(!T||T.context.length<this.context.length)return this.next=T,this;T.next=this.sort(T.next);return T}}]);return aa}();D.styleTags=function(aa){return ra.add(aa)};ca=function(aa){return ra.highlighter(aa)};D.highlighter=ca;var Qa=function B(T,J,t,q){ya(this,B);this.type=T;this.flags=J;this.specificity=t;this.cls=q},Ga=function(){function T(J,
t){ya(this,T);this.tags=J;this.cache=Object.create(null);var q=Object.create(null),B=0,I=[],S;for(S in t){var x="c"+B++;q[x]=t[S];var n=!0,y=!1,w=void 0;try{for(var p=S.split(/\s*,\s*/)[Symbol.iterator](),v;!(n=(v=p.next()).done);n=!0){var C=J.get(v.value);I.push(new Qa(C>>J.typeShift,C&J.flagMask,J.specificity(C),x))}}catch(N){y=!0,w=N}finally{try{if(!n&&null!=p["return"])p["return"]()}finally{if(y)throw w;}}}this.rules=I.sort(function(N,U){return U.specificity-N.specificity});this.module=new xa.StyleModule(q)}
Ea(T,[{key:"match",value:function(J){var t=this.cache[J];if(null!=t)return t;t="";for(var q=J>>this.tags.typeShift,B=J&this.tags.flagMask;;){var I=!0,S=!1,x=void 0;try{for(var n=this.rules[Symbol.iterator](),y;!(I=(y=n.next()).done);I=!0){var w=y.value;if(w.type==q&&(w.flags&B)==w.flags&&(t&&(t+=" "),t+=this.module[w.cls],B&=~w.flags,q))break}}catch(p){S=!0,x=p}finally{try{if(!I&&null!=n["return"])n["return"]()}finally{if(S)throw x;}}if(q)q=this.tags.parents[q];else break}return this.cache[J]=t}}]);
return T}(),ma=function(){function T(J,t,q){ya(this,T);this.prop=t;this.styling=q;this.nodeStack=[""];this.classStack=[""];this.inheritStack=[""];this.tree=J.state.tree;this.decorations=this.buildDeco(J.visibleRanges,this.tree)}Ea(T,[{key:"update",value:function(J){var t=J.state.facet(va.EditorState.syntax);if(!t.length)this.decorations=Ka.Decoration.none;else if(t[0].parsePos(J.state)<J.view.viewport.to)this.decorations=this.decorations.map(J.changes);else if(this.tree!=t[0].getTree(J.state)||J.viewportChanged)this.tree=
t[0].getTree(J.state),this.decorations=this.buildDeco(J.view.visibleRanges,this.tree)}},{key:"buildDeco",value:function(J,t){function q(M,Q){M>S&&Q&&I.add(S,M,Ka.Decoration.mark({"class":Q}));S=M}var B=this,I=new Na.RangeSetBuilder,S,x,n,y=this.nodeStack,w=this.classStack,p=this.inheritStack,v=!0,C=!1,N=void 0;try{for(var U=function(){var M=K.value,Q=M.from,Y=M.to;x="";n=0;S=Q;t.iterate({from:Q,to:Y,enter:function(ta,Da){n++;for(var Ha=p[n-1],Oa=Ha,ab=ta.prop(B.prop),fb=!1;ab;){var jb;if(!(jb=!ab.context.length))a:if(jb=
ab.context,jb.length>n-1)jb=!1;else{for(var ob=n-1,pb=jb.length-1;0<=pb;pb--,ob--){var Eb=jb[pb];if(Eb&&Eb!=y[ob]){jb=!1;break a}}jb=!0}if(jb){if(jb=B.styling.match(ab.tag))Oa&&(Oa+=" "),Oa+=jb,1==ab.mode?Ha=Oa:0==ab.mode&&(fb=!0);break}ab=ab.next}Oa!=x&&(q(Da,x),x=Oa);if(fb)return n--,!1;w[n]=Oa;p[n]=Ha;y[n]=ta.name},leave:function(ta,Da,Ha){n--;ta=w[n];ta!=x&&(q(Math.min(Y,Ha),x),x=ta)}})},O=J[Symbol.iterator](),K;!(v=(K=O.next()).done);v=!0)U()}catch(M){C=!0,N=M}finally{try{if(!v&&null!=O["return"])O["return"]()}finally{if(C)throw N;
}}return I.finish()}}]);return T}();ca=ca({deleted:{textDecoration:"line-through"},inserted:{textDecoration:"underline"},link:{textDecoration:"underline"},strong:{fontWeight:"bold"},emphasis:{fontStyle:"italic"},invalid:{color:"#f00"},keyword:{color:"#708"},atom:{color:"#219"},number:{color:"#164"},string:{color:"#a11"},"regexp, escape":{color:"#e40"},"variableName definition":{color:"#00f"},typeName:{color:"#085"},className:{color:"#167"},"propertyName definition":{color:"#00c"},comment:{color:"#940"},
meta:{color:"#555"}});D.defaultHighlighter=ca};
shadow$provide[9]=function(ca,qa,Ma,D){function ya(w,p){if(!(w instanceof p))throw new TypeError("Cannot call a class as a function");}function La(w,p){for(var v=0;v<p.length;v++){var C=p[v];C.enumerable=C.enumerable||!1;C.configurable=!0;"value"in C&&(C.writable=!0);Object.defineProperty(w,C.key,C)}}function Ea(w,p,v){p&&La(w.prototype,p);v&&La(w,v);return w}function Xa(w,p){return function(v){var C=v.state;v=v.dispatch;var N=C.field(q,!1);if(!N)return!1;C=N.pop(w,C,p);if(!C)return!1;v(C);return!0}}
function xa(w){return function(p){p=p.field(q,!1);if(!p)return 0;p=0==w?p.done:p.undone;return p.length-(p.length&&!p[0].changes?1:0)}}function Ka(w,p,v,C){w=w.slice(p+1>v+20?p-v-1:0,p);w.push(C);return w}function va(w,p){var v=[],C=!1;w.iterChangedRanges(function(N,U){return v.push(N,U)});p.iterChangedRanges(function(N,U,O,K){for(N=0;N<v.length;){U=v[N++];var M=v[N++];K>=U&&O<=M&&(C=!0)}});return C}function Na(w,p){return w.ranges.length==p.ranges.length&&0===w.ranges.filter(function(v,C){return v.empty!=
p.ranges[C].empty}).length}function ra(w,p){return w.length?p.length?w.concat(p):w:p}function Aa(w,p){if(w.length){var v=w[w.length-1],C=v.selectionsAfter.slice(Math.max(0,v.selectionsAfter.length-n));if(C.length&&C[C.length-1].eq(p))return w;C.push(p);return Ka(w,w.length-1,1E9,v.setSelAfter(C))}return[S.selection([p])]}function ka(w){var p=w[w.length-1],v=w.slice();v[w.length-1]=p.setSelAfter(p.selectionsAfter.slice(0,p.selectionsAfter.length-1));return v}function Qa(w,p){if(!w.length)return w;
for(var v=w.length,C=x;v;){C=Ga(w[v-1],p,C);if(C.changes&&!C.changes.empty||C.effects.length)return w=w.slice(0,v),w[v-1]=C,w;p=C.mapped;v--;C=C.selectionsAfter}return C.length?[S.selection(C)]:x}function Ga(w,p,v){v=ra(w.selectionsAfter.length?w.selectionsAfter.map(function(U){return U.map(p)}):x,v);if(!w.changes)return S.selection(v);var C=w.changes.map(p),N=p.mapDesc(w.changes,!0);N=w.mapped?w.mapped.composeDesc(N):N;return new S(C,ma.StateEffect.mapEffects(w.effects,p),N,w.startSelection.map(p),
v)}Object.defineProperty(D,"__esModule",{value:!0});D.history=function(){return[q,t.of(0<arguments.length&&void 0!==arguments[0]?arguments[0]:{})]};D.undoSelection=D.undoDepth=D.undo=D.redoSelection=D.redoDepth=D.redo=D.isolateHistory=D.invertedEffects=D.historyKeymap=void 0;var ma=qa(2),aa=ma.Annotation.define(),T=ma.Annotation.define();D.isolateHistory=T;var J=ma.Facet.define();D.invertedEffects=J;var t=ma.Facet.define({combine:function(w){return(0,ma.combineConfig)(w,{minDepth:100,newGroupDelay:500},
{minDepth:Math.max,newGroupDelay:Math.min})}}),q=ma.StateField.define({create:function(){return y.empty},update:function(w,p){var v=p.state.facet(t),C=p.annotation(aa);if(C){var N=S.fromTransaction(p),U=C.side;w=0==U?w.undone:w.done;w=N?Ka(w,w.length,v.minDepth,N):Aa(w,p.startState.selection);return new y(0==U?C.rest:w,0==U?w:C.rest)}C=p.annotation(T);if("full"==C||"before"==C)w=w.isolate();if(!1===p.annotation(ma.Transaction.addToHistory))return p.changes.length?w.addMapping(p.changes.desc):w;N=
S.fromTransaction(p);U=p.annotation(ma.Transaction.time);var O=p.annotation(ma.Transaction.userEvent);N?w=w.addChanges(N,U,O,v.newGroupDelay,v.minDepth):p.selection&&(w=w.addSelection(p.startState.selection,U,O,v.newGroupDelay));if("full"==C||"after"==C)w=w.isolate();return w}});ca=Xa(0,!1);D.undo=ca;qa=Xa(1,!1);D.redo=qa;Ma=Xa(0,!0);D.undoSelection=Ma;var B=Xa(1,!0);D.redoSelection=B;var I=xa(0);D.undoDepth=I;I=xa(1);D.redoDepth=I;var S=function(){function w(p,v,C,N,U){ya(this,w);this.changes=p;
this.effects=v;this.mapped=C;this.startSelection=N;this.selectionsAfter=U}Ea(w,[{key:"setSelAfter",value:function(p){return new w(this.changes,this.effects,this.mapped,this.startSelection,p)}}],[{key:"fromTransaction",value:function(p){var v=x,C=!0,N=!1,U=void 0;try{for(var O=p.startState.facet(J)[Symbol.iterator](),K;!(C=(K=O.next()).done);C=!0){var M=K.value,Q=M(p);Q.length&&(v=v.concat(Q))}}catch(Y){N=!0,U=Y}finally{try{if(!C&&null!=O["return"])O["return"]()}finally{if(N)throw U;}}return!v.length&&
p.changes.empty?null:new w(p.changes.invert(p.startState.doc),v,void 0,p.startState.selection,x)}},{key:"selection",value:function(p){return new w(void 0,x,void 0,void 0,p)}}]);return w}(),x=[],n=200,y=function(){function w(p,v){var C=2<arguments.length&&void 0!==arguments[2]?arguments[2]:0,N=3<arguments.length&&void 0!==arguments[3]?arguments[3]:void 0;ya(this,w);this.done=p;this.undone=v;this.prevTime=C;this.prevUserEvent=N}Ea(w,[{key:"isolate",value:function(){return this.prevTime?new w(this.done,
this.undone):this}},{key:"addChanges",value:function(p,v,C,N,U){var O=this.done,K=O[O.length-1];O=K&&K.changes&&v-this.prevTime<N&&!K.selectionsAfter.length&&K.changes.length&&p.changes&&va(K.changes,p.changes)?Ka(O,O.length-1,U,new S(p.changes.compose(K.changes),ra(p.effects,K.effects),K.mapped,K.startSelection,x)):Ka(O,O.length,U,p);return new w(O,x,v,C)}},{key:"addSelection",value:function(p,v,C,N){var U=this.done.length?this.done[this.done.length-1].selectionsAfter:x;return 0<U.length&&v-this.prevTime<
N&&"keyboardselection"==C&&this.prevUserEvent==C&&Na(U[U.length-1],p)?this:new w(Aa(this.done,p),this.undone,v,C)}},{key:"addMapping",value:function(p){return new w(Qa(this.done,p),Qa(this.undone,p),this.prevTime,this.prevUserEvent)}},{key:"pop",value:function(p,v,C){var N=0==p?this.done:this.undone;if(0==N.length)return null;var U=N[N.length-1];return C&&U.selectionsAfter.length?v.update({selection:U.selectionsAfter[U.selectionsAfter.length-1],annotations:aa.of({side:p,rest:ka(N)})}):U.changes?(C=
1==N.length?x:N.slice(0,N.length-1),U.mapped&&(C=Qa(C,U.mapped)),v.update({changes:U.changes,selection:U.startSelection,effects:U.effects,annotations:aa.of({side:p,rest:C}),filter:!1})):null}}]);return w}();y.empty=new y(x,x);D.historyKeymap=[{key:"Mod-z",run:ca,preventDefault:!0},{key:"Mod-y",mac:"Mod-Shift-z",run:qa,preventDefault:!0},{key:"Mod-u",run:Ma,preventDefault:!0},{key:"Alt-u",mac:"Mod-Shift-u",run:B,preventDefault:!0}]};
shadow$provide[10]=function(ca,qa,Ma,D){function ya(Ga,ma,aa){var T=Ga.prop(0>ma?Ka.NodeProp.openedBy:Ka.NodeProp.closedBy);return T?T:1==Ga.name.length&&(Ga=aa.indexOf(Ga.name),-1<Ga&&Ga%2==(0>ma?1:0))?[aa[Ga+ma]]:null}function La(Ga,ma,aa){var T=3<arguments.length&&void 0!==arguments[3]?arguments[3]:{},J=T.maxScanDistance||va;T=T.brackets||Na;var t=Ga.tree,q=t.resolve(ma,aa),B;if(B=ya(q.type,aa,T))return Ea(Ga,ma,aa,q,B,T);a:if(q=q.type,B=0>aa?Ga.sliceDoc(ma-1,ma):Ga.sliceDoc(ma,ma+1),B=T.indexOf(B),
0>B||0==B%2!=0<aa)J=null;else{for(var I={from:0>aa?ma-1:ma,to:0<aa?ma+1:ma},S=Ga.doc.iterRange(ma,0<aa?Ga.doc.length:0),x=0,n=0;!S.next().done&&n<=J;){var y=S.value;0>aa&&(n+=y.length);for(var w=ma+n*aa,p=0<aa?0:y.length-1,v=0<aa?y.length:-1;p!=v;p+=aa){var C=T.indexOf(y[p]);if(!(0>C||t.resolve(w+p,1).type!=q))if(0==C%2==0<aa)x++;else if(1==x){J={start:I,end:{from:w+p,to:w+p+1},matched:C>>1==B>>1};break a}else x--}0<aa&&(n+=y.length)}J=S.done?{start:I,matched:!1}:null}return J}function Ea(Ga,ma,aa,
T,J,t){Ga=T.parent;var q={from:T.start,to:T.end},B=0;return Ga&&Ga.iterate({from:0>aa?T.start:T.end,to:0>aa?Ga.start:Ga.end,enter:function(I,S,x){if(!(0>aa?x>T.start:S<T.end)){if(0==B&&-1<J.indexOf(I.name))return{start:q,end:{from:S,to:x},matched:!0};if(ya(I,aa,t))B++;else if(ya(I,-aa,t)&&(B--,0==B))return{start:q,end:{from:S,to:x},matched:!1};return!1}}})||{start:q,matched:!1}}Object.defineProperty(D,"__esModule",{value:!0});D.bracketMatching=function(){return[ra.of(0<arguments.length&&void 0!==
arguments[0]?arguments[0]:{}),Qa]};D.matchBrackets=La;var Xa=qa(2),xa=qa(6),Ka=qa(1);ca=xa.EditorView.baseTheme({matchingBracket:{color:"#0b0"},nonmatchingBracket:{color:"#a22"}});var va=1E4,Na="()[]{}",ra=Xa.Facet.define({combine:function(Ga){return(0,Xa.combineConfig)(Ga,{afterCursor:!0,brackets:Na,maxScanDistance:va})}}),Aa=xa.Decoration.mark({"class":(0,xa.themeClass)("matchingBracket")}),ka=xa.Decoration.mark({"class":(0,xa.themeClass)("nonmatchingBracket")}),Qa=[Xa.StateField.define({create:function(){return xa.Decoration.none},
update:function(Ga,ma){if(!ma.docChanged&&!ma.selection)return Ga;Ga=[];var aa=ma.state.facet(ra),T=!0,J=!1,t=void 0;try{for(var q=ma.state.selection.ranges[Symbol.iterator](),B;!(T=(B=q.next()).done);T=!0){var I=B.value;if(I.empty){var S=La(ma.state,I.head,-1,aa)||0<I.head&&La(ma.state,I.head-1,1,aa)||aa.afterCursor&&(La(ma.state,I.head,1,aa)||I.head<ma.state.doc.length&&La(ma.state,I.head+1,-1,aa));if(S){var x=S.matched?Aa:ka;Ga.push(x.range(S.start.from,S.start.to));S.end&&Ga.push(x.range(S.end.from,
S.end.to))}}}}catch(n){J=!0,t=n}finally{try{if(!T&&null!=q["return"])q["return"]()}finally{if(J)throw t;}}return xa.Decoration.set(Ga,!0)},provide:[xa.EditorView.decorations]}),ca]};
shadow$provide[11]=function(La,Ha,Hb,t){function Ia(K,E,M){E in K?Object.defineProperty(K,E,{value:M,enumerable:!0,configurable:!0,writable:!0}):K[E]=M;return K}function Fa(K){Fa="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(E){return typeof E}:function(E){return E&&"function"===typeof Symbol&&E.constructor===Symbol&&E!==Symbol.prototype?"symbol":typeof E};return Fa(K)}function ja(K,E){if(!(K instanceof E))throw new TypeError("Cannot call a class as a function");}function Ja(K,
E){for(var M=0;M<E.length;M++){var P=E[M];P.enumerable=P.enumerable||!1;P.configurable=!0;"value"in P&&(P.writable=!0);Object.defineProperty(K,P.key,P)}}function da(K,E,M){E&&Ja(K.prototype,E);M&&Ja(K,M);return K}function pa(K){pa=Object.setPrototypeOf?Object.getPrototypeOf:function(E){return E.__proto__||Object.getPrototypeOf(E)};return pa(K)}function ta(K,E){if("function"!==typeof E&&null!==E)throw new TypeError("Super expression must either be null or a function");K.prototype=Object.create(E&&
E.prototype,{constructor:{value:K,writable:!0,configurable:!0}});E&&va(K,E)}function va(K,E){va=Object.setPrototypeOf||function(M,P){M.__proto__=P;return M};return va(K,E)}function W(K){return ya.EditorState.indentation.of(function(E,M){a:{for(var P=K.getTree(E.state).resolve(M),V=P,B=M;;){B=V.childBefore(B);if(!B)break;B.type.prop(Va.NodeProp.error)&&B.start==B.end?(P=V,B=B.start):(V=B,B=V.end+1)}for(;P;P=P.parent)if(V=lb(P)){E=V(new pb(E,M,P));break a}E=-1}return E})}function lb(K){var E=K.type.prop(Ma);
if(E)return E;E=K.firstChild;var M;if(E&&(M=E.type.prop(Va.NodeProp.closedBy))){var P=K.lastChild,V=P&&-1<M.indexOf(P.name);return function(B){var q;if(q=V){var u,x;q=!(B.pos==(null===(u=B.options)||void 0===u?void 0:u.simulateBreak)&&(null===(x=B.options)||void 0===x?0:x.simulateDoubleBreak))}return Ca(B,!0,1,void 0,q?P.start:void 0)}}return null==K.parent?Y:null}function Y(){return 0}function Ca(K,E,M,P,V){var B=K.textAfter,q=B.match(/^\s*/)[0].length;P=P&&B.slice(q,q+P.length)==P||V==K.pos+q;var u;
if(E)a:if(E=K.node,V=E.childAfter(E.start),B=E.lastChild,V)for(q=null===(u=K.options)||void 0===u?void 0:u.simulateBreak,u=K.state.doc.lineAt(V.start),u=null==q||q<=u.from?u.to:Math.min(u.to,q),q=V.end;;){q=E.childAfter(q);if(!q||q==B){u=null;break a}if(!q.type.prop(Va.NodeProp.skipped)){u=q.start<u?V:null;break a}q=q.end}else u=null;else u=null;return u?P?K.column(u.start):K.column(u.end):K.baseIndent+(P?0:K.unit*M)}function gb(K){return ya.EditorState.foldable.of(function(E,M,P){for(var V=null,
B=K.getTree(E).resolve(P);B;B=B.parent)if(!(B.end<=P||B.start>P)){if(V&&B.start<M)break;var q=B.type.prop(Wa);q&&(q=q(B,E))&&q.from<=P&&q.from>=M&&q.to>P&&(V=q)}return V})}function cb(K,E){for(var M=2<arguments.length&&void 0!==arguments[2]?arguments[2]:5E6,P=Date.now()+E;;){var V=K.advance();if(V)return V;if(K.pos>M||Date.now()>P)return null}}function hb(K,E){var M=K.forceFinish();K=M.applyChanges([{fromA:K.pos,toA:M.length,fromB:K.pos,toB:M.length}]).append(E.applyChanges([{fromA:0,toA:K.pos,fromB:0,
toB:K.pos}]));return{parsed:M,cache:K}}Object.defineProperty(t,"__esModule",{value:!0});t.continuedIndent=function(){var K=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},E=K.except;K=K.units;var M=void 0===K?1:K;return function(P){var V=E&&E.test(P.textAfter);return P.baseIndent+(V?0:M*P.unit)}};t.delimitedIndent=function(K){var E=K.closing,M=K.align,P=void 0===M?!0:M;K=K.units;var V=void 0===K?1:K;return function(B){return Ca(B,P,V,E)}};t.indentNodeProp=t.foldNodeProp=t.flatIndent=t.TreeIndentContext=
t.LezerSyntax=void 0;var Va=Ha(1),ya=Ha(2),rb=Ha(6),Ma=new Va.NodeProp;t.indentNodeProp=Ma;var pb=function(K){function E(M,P,V){ja(this,E);M=pa(E).call(this,M.state,M.options);if(!M||"object"!==Fa(M)&&"function"!==typeof M){if(void 0===this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");M=this}M.pos=P;M.node=V;return M}ta(E,K);da(E,[{key:"textAfter",get:function(){return this.textAfterPos(this.pos)}},{key:"baseIndent",get:function(){for(var M=this.state.doc.lineAt(this.node.start);;){for(var P=
this.node.resolve(M.from);P.parent&&P.parent.start==P.start;)P=P.parent;var V;a:{for(V=this.node;V;V=V.parent)if(P==V){V=!0;break a}V=!1}if(V)break;M=this.state.doc.lineAt(P.start)}return this.lineIndent(M)}}]);return E}(ya.IndentContext);t.TreeIndentContext=pb;t.flatIndent=function(K){return K.baseIndent};var Wa=new Va.NodeProp;t.foldNodeProp=Wa;La=function(){function K(E,M,P){var V=this;ja(this,K);this.parser=E;this.dialect=M;this.languageData=P;var B=ya.StateEffect.define();this.field=ya.StateField.define({create:function(q){return Da.advance(Va.Tree.empty,
V,q.doc)},update:function(q,u){return q.apply(u,V,B)}});this.extension=[ya.EditorState.syntax.of(this),this.field,rb.ViewPlugin.define(function(q){return new ib(q,V,B)}),W(this),gb(this)]}da(K,[{key:"withDialect",value:function(E){return new K(this.parser,E,this.languageData)}},{key:"getTree",value:function(E){return E.field(this.field).tree}},{key:"parsePos",value:function(E){return E.field(this.field).upto}},{key:"ensureTree",value:function(E,M){var P=2<arguments.length&&void 0!==arguments[2]?arguments[2]:
100,V=E.field(this.field);if(V.upto>=M)return V.updatedTree;V.parse||V.startParse(this,E.doc);return V.parse.pos<M&&(P=cb(V.parse,P,M))?V.stopParse(P,E.doc.length):V.parse.pos<M?null:V.stopParse()}},{key:"languageDataFacetAt",value:function(E,M){if(this.parser.hasNested)for(E=this.getTree(E).resolve(M,-1);E;){if(M=E.type.prop(ya.languageDataProp))return M;E=E.parent}return this.languageData}}],[{key:"define",value:function(E){var M=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},P=ya.Facet.define({combine:M.languageData?
function(V){return V.concat(M.languageData)}:void 0});return new K(E.withProps(ya.languageDataProp.add(Ia({},E.topType.name,P))),M.dialect||"",P)}}]);return K}();t.LezerSyntax=La;var ia=function(){function K(E){var M=1<arguments.length&&void 0!==arguments[1]?arguments[1]:E.length;ja(this,K);this.doc=E;this.length=M;this.cursorPos=0;this.string="";this.cursor=E.iter()}da(K,[{key:"get",value:function(E){if(E>=this.length)return-1;var M=this.cursorPos-this.string.length;if(E<M||E>=this.cursorPos)E<this.cursorPos&&
(this.cursor=this.doc.iter(),this.cursorPos=0),this.string=this.cursor.next(E-this.cursorPos).value,this.cursorPos=E+this.string.length,M=this.cursorPos-this.string.length;return this.string.charCodeAt(E-M)}},{key:"read",value:function(E,M){var P=this.cursorPos-this.string.length;return E<P||M>=this.cursorPos?this.doc.sliceString(E,M):this.string.slice(E-P,M-P)}},{key:"clip",value:function(E){return new K(this.doc,E)}}]);return K}(),Da=function(){function K(E,M,P){ja(this,K);this.tree=E;this.upto=
M;this.cache=P;this.parse=null;this.updatedTree=E}da(K,[{key:"apply",value:function(E,M,P){var V=!0,B=!1,q=void 0;try{for(var u=E.effects[Symbol.iterator](),x;!(V=(x=u.next()).done);V=!0){var F=x.value;if(F.is(P))return F.value}}catch(X){B=!0,q=X}finally{try{if(!V&&null!=u["return"])u["return"]()}finally{if(B)throw q;}}if(!E.docChanged)return this;var S=[];E.changes.iterChangedRanges(function(X,Z,fa,ra){return S.push({fromA:X,toA:Z,fromB:fa,toB:ra})});return K.advance((this.parse?hb(this.parse,this.updatedTree).cache:
this.cache).applyChanges(S),M,E.state.doc)}},{key:"startParse",value:function(E,M){this.parse=E.parser.startParse(new ia(M),{cache:this.cache,dialect:E.dialect})}},{key:"stopParse",value:function(E,M){if(E)this.cache=E;else{var P=hb(this.parse,this.updatedTree);E=P.parsed;this.cache=P.cache}this.updatedTree=E;this.upto=null!==M&&void 0!==M?M:this.parse.pos;this.parse=null;return E}}],[{key:"advance",value:function(E,M,P){M=M.parser.startParse(new ia(P),{cache:E,dialect:M.dialect});var V=cb(M,25);
if(V)return new K(V,P.length,V);E=hb(M,E);return new K(E.parsed,M.pos,E.cache)}}]);return K}(),Ga="undefined"!=typeof window&&window.requestIdleCallback||function(K,E){return setTimeout(K,E.timeout)},Ea="undefined"!=typeof window&&window.cancelIdleCallback||clearTimeout,ib=function(){function K(E,M,P){ja(this,K);this.view=E;this.syntax=M;this.setSyntax=P;this.working=-1;this.work=this.work.bind(this);this.scheduleWork()}da(K,[{key:"update",value:function(E){E.docChanged&&this.scheduleWork()}},{key:"scheduleWork",
value:function(){if(!(-1<this.working)){var E=this.view.state;E.field(this.syntax.field).upto>=E.doc.length||(this.working=Ga(this.work,{timeout:200}))}}},{key:"work",value:function(E){this.working=-1;var M=this.view.state,P=M.field(this.syntax.field);P.upto>=M.doc.length||(P.parse||P.startParse(this.syntax,M.doc),(E=cb(P.parse,E?Math.max(25,E.timeRemaining()):100))||.8<P.parse.badness?(E=P.stopParse(E,M.doc.length),this.view.dispatch({effects:this.setSyntax.of(new Da(E,M.doc.length,P.cache))})):
this.scheduleWork())}},{key:"destroy",value:function(){0<=this.working&&Ea(this.working)}}]);return K}()};
shadow$provide[12]=function(ca,qa,Ma,D){function ya(){throw Error("setTimeout has not been defined");}function La(){throw Error("clearTimeout has not been defined");}function Ea(aa){if(ra===setTimeout)return setTimeout(aa,0);if((ra===ya||!ra)&&setTimeout)return ra=setTimeout,setTimeout(aa,0);try{return ra(aa,0)}catch(T){try{return ra.call(null,aa,0)}catch(J){return ra.call(this,aa,0)}}}function Xa(aa){if(Aa===clearTimeout)return clearTimeout(aa);if((Aa===La||!Aa)&&clearTimeout)return Aa=clearTimeout,
clearTimeout(aa);try{return Aa(aa)}catch(T){try{return Aa.call(null,aa)}catch(J){return Aa.call(this,aa)}}}function xa(){Qa&&Ga&&(Qa=!1,Ga.length?ka=Ga.concat(ka):ma=-1,ka.length&&Ka())}function Ka(){if(!Qa){var aa=Ea(xa);Qa=!0;for(var T=ka.length;T;){Ga=ka;for(ka=[];++ma<T;)Ga&&Ga[ma].run();ma=-1;T=ka.length}Ga=null;Qa=!1;Xa(aa)}}function va(aa,T){this.fun=aa;this.array=T}function Na(){}ca=Ma.exports={};try{var ra="function"===typeof setTimeout?setTimeout:ya}catch(aa){ra=ya}try{var Aa="function"===
typeof clearTimeout?clearTimeout:La}catch(aa){Aa=La}var ka=[],Qa=!1,Ga,ma=-1;ca.nextTick=function(aa){var T=Array(arguments.length-1);if(1<arguments.length)for(var J=1;J<arguments.length;J++)T[J-1]=arguments[J];ka.push(new va(aa,T));1!==ka.length||Qa||Ea(Ka)};va.prototype.run=function(){this.fun.apply(null,this.array)};ca.title="browser";ca.browser=!0;ca.env={};ca.argv=[];ca.version="";ca.versions={};ca.on=Na;ca.addListener=Na;ca.once=Na;ca.off=Na;ca.removeListener=Na;ca.removeAllListeners=Na;ca.emit=
Na;ca.prependListener=Na;ca.prependOnceListener=Na;ca.listeners=function(aa){return[]};ca.binding=function(aa){throw Error("process.binding is not supported");};ca.cwd=function(){return"/"};ca.chdir=function(aa){throw Error("process.chdir is not supported");};ca.umask=function(){return 0}};
shadow$provide[13]=function(G,J,M,L){function X(n,g){function k(){this.constructor=n}Pa(n,g);n.prototype=null===g?Object.create(g):(k.prototype=g.prototype,new k)}function ja(n,g){void 0===g&&(g=Uint16Array);for(var k=null,m=0,q=0;m<n.length;){for(var t=0;;){var r=n.charCodeAt(m++),C=!1;if(126==r){t=65535;break}92<=r&&r--;34<=r&&r--;r-=32;46<=r&&(r-=46,C=!0);t+=r;if(C)break;t*=46}k?k[q++]=t:k=new g(t)}return k}function va(n,g,k){for(var m=g,q;65535!=(q=n[m]);m++)if(q==k)return m-g;return-1}function Ha(n){for(var g=
null,k=0;k<n.length;k++){var m=n[k];m.pos==m.cx.input.length&&m.cx.parser.stateFlag(m.state,2)&&(!g||g.recovered>m.recovered)&&(g=m)}return g}function Ya(n){if(-2==n.cx.wrapType)return null;var g=n.cx.parent,k=n.forceAll().toTree(),m=g.cx.parser,q=m.nested[m.startNested(g.state)];k=new da.Tree(k.type,k.children,k.positions.map(function(t){return t-g.pos}),n.pos-g.pos);-1<n.cx.wrapType&&(k=new da.Tree(m.group.types[n.cx.wrapType],[k],[0],k.length));n.cx.wrapType=-2;g.useNode(k,m.getGoto(g.state,q.placeholder,
!0));qa&&console.log(g+(" (via unnest "+(-1<n.cx.wrapType?m.getName(n.cx.wrapType):k.type.name)+")"));return g}G=J(12);"use strict";Object.defineProperty(L,"__esModule",{value:!0});var da=J(1),Pa=function(n,g){Pa=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(k,m){k.__proto__=m}||function(k,m){for(var q in m)m.hasOwnProperty(q)&&(k[q]=m[q])};return Pa(n,g)},na=function(){function n(g,k,m,q,t,r,C,F,K){this.cx=g;this.stack=k;this.state=m;this.reducePos=q;this.pos=t;this.recovered=r;
this.buffer=C;this.bufferBase=F;this.parent=K}n.prototype.toString=function(){return"["+this.stack.filter(function(g,k){return 0==k%3}).concat(this.state)+"]@"+this.pos+(this.recovered?"!"+this.recovered:"")};n.start=function(g,k,m){void 0===m&&(m=0);return new n(g,[],k,m,m,0,[],0,null)};n.prototype.pushState=function(g,k){this.stack.push(this.state,k,this.bufferBase+this.buffer.length);this.state=g};n.prototype.reduce=function(g){var k=g>>19,m=g&65535,q=this.cx.parser;if(0==k)m<q.minRepeatTerm&&
this.storeNode(m,this.reducePos,this.reducePos,4,!0),this.pushState(q.getGoto(this.state,m,!0),this.reducePos);else{k=this.stack.length-3*(k-1)-(g&262144?6:0);var t=this.stack[k-2],r=this.bufferBase+this.buffer.length-this.stack[k-1];if(m<q.minRepeatTerm||g&131072||m>q.maxNode&&m<=q.maxRepeatWrap){var C=q.stateFlag(this.state,1)?this.pos:this.reducePos;this.storeNode(m,t,C,r+4,!0)}for(this.state=g&262144?this.stack[k]:q.getGoto(this.stack[k-3],m,!0);this.stack.length>k;)this.stack.pop()}};n.prototype.storeNode=
function(g,k,m,q,t){void 0===q&&(q=4);void 0===t&&(t=!1);if(0==g){var r=this,C=this.buffer.length;0==C&&r.parent&&(C=r.bufferBase-r.parent.bufferBase,r=r.parent);if(0<C&&0==r.buffer[C-4]&&-1<r.buffer[C-1]){if(k==m)return;if(r.buffer[C-2]>=k){r.buffer[C-2]=m;return}}}if(t&&this.pos!=m){t=this.buffer.length;if(0<t&&0!=this.buffer[t-4])for(;0<t&&this.buffer[t-2]>m;)this.buffer[t]=this.buffer[t-4],this.buffer[t+1]=this.buffer[t-3],this.buffer[t+2]=this.buffer[t-2],this.buffer[t+3]=this.buffer[t-1],t-=
4,4<q&&(q-=4);this.buffer[t]=g;this.buffer[t+1]=k;this.buffer[t+2]=m;this.buffer[t+3]=q}else this.buffer.push(g,k,m,q)};n.prototype.shift=function(g,k,m){if(g&131072)this.pushState(g&65535,this.pos);else if(0==(g&262144)){var q=this.pos,t=this.cx.parser;if(m>this.pos||k<=t.maxNode)this.pos=m,t.stateFlag(g,1)||(this.reducePos=m);this.pushState(g,q);k<=t.maxNode&&this.buffer.push(k,q,m,4)}else k<=this.cx.parser.maxNode&&this.buffer.push(k,this.pos,m,4),this.pos=m};n.prototype.apply=function(g,k,m){g&
65536?this.reduce(g):this.shift(g,k,m)};n.prototype.useNode=function(g,k){var m=this.cx.reused.length-1;if(0>m||this.cx.reused[m]!=g)this.cx.reused.push(g),m++;var q=this.pos;this.reducePos=this.pos=q+g.length;this.pushState(k,q);this.buffer.push(m,q,this.reducePos,-1)};n.prototype.split=function(){for(var g=this,k=g.buffer.length;0<k&&g.buffer[k-2]>g.reducePos;)k-=4;var m=g.buffer.slice(k);for(k=g.bufferBase+k;g&&k==g.bufferBase;)g=g.parent;return new n(this.cx,this.stack.slice(),this.state,this.reducePos,
this.pos,this.recovered,m,k,g)};n.prototype.recoverByDelete=function(g,k){var m=g<=this.cx.parser.maxNode;m&&this.storeNode(g,this.pos,k);this.storeNode(0,this.pos,k,m?8:4);this.pos=this.reducePos=k;this.recovered+=2};n.prototype.canShift=function(g){for(var k=new db(this);;){var m=this.cx.parser.stateSlot(k.top,4)||this.cx.parser.hasAction(k.top,g);if(0==(m&65536))return!0;if(0==m)return!1;k.reduce(m)}};Object.defineProperty(n.prototype,"ruleStart",{get:function(){var g=this.cx.parser.stateSlot(this.state,
5);return g&65536?this.stack[this.stack.length-3*(g>>19)+1]:0},enumerable:!0,configurable:!0});n.prototype.startOf=function(g){for(var k=this.state,m=this.stack.length,q=this.cx.parser;;){k=q.stateSlot(k,5);var t=k>>19,r=k&65535;if(-1<g.indexOf(r))return this.stack[m-3*(k>>19)+1];if(0==m)return-1;0==t?(m-=3,k=this.stack[m]):(m-=3*(t-1),k=q.getGoto(this.stack[m-3],r,!0))}};n.prototype.recoverByInsert=function(g){var k=this,m=this.cx.parser.nextStates(this.state);if(4<m.length){for(var q=m.filter(function(C){return C!=
k.state&&k.cx.parser.hasAction(C,g)}),t=0;4>q.length&&t<m.length;t++)0>q.indexOf(m[t])&&q.push(m[t]);m=q}q=[];for(t=0;t<m.length&&4>q.length;t++)if(m[t]!=this.state){var r=this.split();r.storeNode(0,r.pos,r.pos,4,!0);r.pushState(m[t],this.pos);r.recovered+=2;q.push(r)}return q};n.prototype.forceReduce=function(){var g=this.cx.parser.stateSlot(this.state,5);if(0==(g&65536))return!1;this.cx.parser.validAction(this.state,g)||(this.storeNode(0,this.reducePos,this.reducePos,4,!0),this.recovered+=1);this.reduce(g);
return!0};n.prototype.forceAll=function(){for(;!this.cx.parser.stateFlag(this.state,2)&&this.forceReduce(););return this};n.prototype.toTree=function(){return da.Tree.build({buffer:Ia.create(this),group:this.cx.parser.group,topID:this.cx.topTerm,maxBufferLength:this.cx.maxBufferLength,reused:this.cx.reused,minRepeatType:this.cx.parser.minRepeatTerm})};Object.defineProperty(n.prototype,"parser",{get:function(){return this.cx.parser},enumerable:!0,configurable:!0});n.prototype.dialectEnabled=function(g){return this.cx.dialect.flags[g]};
return n}(),oa;(function(n){n[n.Token=2]="Token";n[n.Reduce=1]="Reduce";n[n.MaxNext=4]="MaxNext"})(oa||(oa={}));var db=function(){function n(g){this.stack=g;this.top=g.state;this.rest=g.stack;this.offset=this.rest.length}n.prototype.reduce=function(g){var k=g&65535;g>>=19;0==g?(this.rest==this.stack.stack&&(this.rest=this.rest.slice()),this.rest.push(this.top,0,0),this.offset+=3):this.offset-=3*(g-1);this.top=this.stack.cx.parser.getGoto(this.rest[this.offset-3],k,!0)};return n}(),Ia=function(){function n(g,
k,m){this.stack=g;this.pos=k;this.index=m;this.buffer=g.buffer;0==this.index&&this.maybeNext()}n.create=function(g){return new n(g,g.bufferBase+g.buffer.length,g.buffer.length)};n.prototype.maybeNext=function(){var g=this.stack.parent;null!=g&&(this.index=this.stack.bufferBase-g.bufferBase,this.stack=g,this.buffer=g.buffer)};Object.defineProperty(n.prototype,"id",{get:function(){return this.buffer[this.index-4]},enumerable:!0,configurable:!0});Object.defineProperty(n.prototype,"start",{get:function(){return this.buffer[this.index-
3]},enumerable:!0,configurable:!0});Object.defineProperty(n.prototype,"end",{get:function(){return this.buffer[this.index-2]},enumerable:!0,configurable:!0});Object.defineProperty(n.prototype,"size",{get:function(){return this.buffer[this.index-1]},enumerable:!0,configurable:!0});n.prototype.next=function(){this.index-=4;this.pos-=4;0==this.index&&this.maybeNext()};n.prototype.fork=function(){return new n(this.stack,this.pos,this.index)};return n}();J=function(){function n(){this.end=this.value=this.start=
-1}n.prototype.accept=function(g,k){this.value=g;this.end=k};return n}();var Ga=function(){function n(g,k){void 0===k&&(k=g.length);this.string=g;this.length=k}n.prototype.get=function(g){return 0>g||g>=this.length?-1:this.string.charCodeAt(g)};n.prototype.read=function(g,k){return this.string.slice(g,Math.min(this.length,k))};n.prototype.clip=function(g){return new n(this.string,g)};return n}(),Qa=function(){function n(g,k){this.data=g;this.id=k}n.prototype.token=function(g,k,m){var q=this.data,
t=0,r=1<<this.id,C=m.cx.dialect,F=k.start;a:for(;0!=(r&q[t]);){for(var K=q[t+1],R=t+3;R<K;R+=2)if(0<(q[R+1]&r)){var T=q[R];if(C.allows(T)&&(-1==k.value||k.value==T||m.cx.parser.overrides(T,k.value))){k.accept(T,F);break}}R=g.get(F++);T=0;for(t=q[t+2];T<t;){var Q=T+t>>1,Z=K+Q+(Q<<1),U=q[Z+1];if(R<q[Z])t=Q;else if(R>=U)T=Q+1;else{t=q[Z+2];continue a}}break}};return n}();Qa.prototype.contextual=Qa.prototype.fallback=!1;oa=function(){return function(n,g){void 0===g&&(g={});this.token=n;this.contextual=
!!g.contextual;this.fallback=!!g.fallback}}();var qa="undefined"!=typeof G&&/\bparse\b/.test(G.env.LOG),cb=function(){function n(g){this.start=[0];this.index=[0];this.nextStart=0;this.trees=[g]}n.prototype.nodeAt=function(g){if(g<this.nextStart)return null;for(;;){var k=this.trees.length-1;if(0>k)return this.nextStart=1E9,null;var m=this.trees[k],q=this.index[k];if(q==m.children.length)this.trees.pop(),this.start.pop(),this.index.pop();else{var t=m.children[q];m=this.start[k]+m.positions[q];if(m>=
g)return m==g?t:null;t instanceof da.TreeBuffer?(this.index[k]++,this.nextStart=m+t.length):(this.index[k]++,m+t.length>=g&&(this.trees.push(t),this.start.push(m),this.index.push(0)))}}};return n}(),bb=function(n){function g(){var k=null!==n&&n.apply(this,arguments)||this;k.extended=-1;k.mask=0;return k}X(g,n);g.prototype.clear=function(k){this.start=k;this.value=this.extended=-1};return g}(J),D=new J,v=function(){function n(g){this.tokens=[];this.mainToken=D;this.actions=[];this.tokens=g.tokenizers.map(function(k){return new bb})}
n.prototype.getActions=function(g,k){var m=0,q=null,t=g.cx.parser,r=t.tokenizers;t=t.stateSlot(g.state,3);for(var C=0;C<r.length;C++)if(0!=(1<<C&t)){var F=r[C],K=this.tokens[C];if(!q||F.fallback){if(F.contextual||K.start!=g.pos||K.mask!=t)this.updateCachedToken(K,F,g,k),K.mask=t;if(0!=K.value&&(q=K,F=m,-1<K.extended&&(m=this.addActions(g,K.extended,K.end,m)),m=this.addActions(g,K.value,K.end,m),m>F))break}}for(;this.actions.length>m;)this.actions.pop();q||(q=D,q.start=g.pos,g.pos==k.length?q.accept(g.cx.parser.eofTerm,
g.pos):q.accept(0,g.pos+1));this.mainToken=q;return this.actions};n.prototype.updateCachedToken=function(g,k,m,q){g.clear(m.pos);k.token(q,g,m);if(-1<g.value){k=m.cx.parser;for(var t=0;t<k.specialized.length;t++)if(k.specialized[t]==g.value){var r=k.specializers[t](q.read(g.start,g.end),m);if(0<=r&&m.cx.dialect.allows(r>>1)){0==(r&1)?g.value=r>>1:g.extended=r>>1;break}}}else m.pos==q.length?g.accept(m.cx.parser.eofTerm,m.pos):g.accept(0,m.pos+1)};n.prototype.putAction=function(g,k,m,q){for(var t=
0;t<q;t+=3)if(this.actions[t]==g)return q;this.actions[q++]=g;this.actions[q++]=k;this.actions[q++]=m;return q};n.prototype.addActions=function(g,k,m,q){var t=g.state;g=g.cx.parser;for(var r=g.data,C=0;2>C;C++)for(var F=g.stateSlot(t,C?2:1),K;65535!=(K=r[F]);F+=3)if(K==k||0==K&&0==q)q=this.putAction(r[F+1]|r[F+2]<<16,k,m,q);return q};return n}(),p=function(){return function(n,g,k,m,q,t,r){void 0===t&&(t=null);void 0===r&&(r=-1);this.parser=n;this.maxBufferLength=g;this.input=k;this.topTerm=m;this.dialect=
q;this.parent=t;this.wrapType=r;this.reused=[];this.tokens=new v(n)}}(),z=function(){function n(g,k,m){void 0===m&&(m={});this.tokenCount=this.recovering=this.pos=0;var q=m.cache;q=void 0===q?void 0:q;var t=m.strict;t=void 0===t?!1:t;var r=m.bufferLength;r=void 0===r?da.DefaultBufferLength:r;var C=m.top;C=void 0===C?void 0:C;m=m.dialect;var F=C?g.topRules[C]:g.defaultTop;if(!F)throw new RangeError("Invalid top rule name "+C);this.stacks=[na.start(new p(g,r,k,F[1],g.parseDialect(m)),F[0])];this.strict=
t;this.cache=q?new cb(q):null}n.prototype.putStack=function(g){this.stacks.push(g);if(0>this.pos||g.pos<this.pos)this.pos=g.pos};n.prototype.advance=function(){var g=this.stacks,k=this.pos;this.stacks=[];this.pos=-1;for(var m=null,q=null,t=0;t<g.length;t++)for(var r=g[t];;){if(r.pos>k)this.putStack(r);else{var C=this.advanceStack(r,g);if(C){r=C;continue}else m||(m=[],q=[]),m.push(r),r=r.cx.tokens.mainToken,q.push(r.value,r.end)}break}if(!this.stacks.length){if(t=m&&Ha(m))return t.toTree();if(this.strict)throw new SyntaxError("No parse at "+
k);this.recovering||(this.recovering=5)}if(this.recovering&&m&&(t=this.runRecovery(m,q)))return t.forceAll().toTree();if(this.recovering)t=1==this.recovering?1:3*this.recovering,this.stacks.length>t&&(this.stacks.sort(function(F,K){return F.recovered-K.recovered}),this.stacks.length=t),this.stacks.some(function(F){return F.reducePos>k})&&this.recovering--;else if(1<this.stacks.length&&200<this.stacks[0].buffer.length){m=1E9;q=-1;for(t=0;t<this.stacks.length;t++)r=this.stacks[t],r.buffer.length<m&&
(m=r.buffer.length,q=t);200<m&&this.stacks.splice(q,1)}this.tokenCount++;return null};n.prototype.advanceStack=function(g,k){var m=g.pos,q=g.cx,t=q.input,r=q.parser;q=qa?g+" -\x3e ":"";if(this.cache)for(var C=this.cache.nodeAt(m);C;){var F=r.group.types[C.type.id]==C.type?r.getGoto(g.state,C.type.id):-1;if(-1<F)return g.useNode(C,F),qa&&console.log(q+g+(" (via reuse of "+r.getName(C.type.id)+")")),g;if(!(C instanceof da.Tree)||0==C.children.length||0<C.positions[0])break;C=C.children[0];if(!(C instanceof
da.Tree))break}C=r.startNested(g.state);a:if(-1<C){F=r.nested[C];var K=F.grammar;C=F.end;F=F.placeholder;var R=void 0,T=null,Q=void 0,Z=void 0,U=void 0;if("function"==typeof K){U=K(t,g);if(U.stay)break a;T=U.parseNode;k=U.parser;Q=U.top;Z=U.dialect;R=U.filterEnd;U=U.wrapType}else k=K;C=this.scanForNestEnd(g,C,R);m=g.cx.input.clip(C);if(T||!k)return q=T?T(m,g.pos):da.Tree.empty,q.length!=C-g.pos&&(q=new da.Tree(q.type,q.children,q.positions,C-g.pos)),null!=U&&(q=new da.Tree(r.group.types[U],[q],[0],
q.length)),g.useNode(q,r.getGoto(g.state,F,!0)),g;r=Q?k.topRules[Q]:k.defaultTop;g=na.start(new p(k,g.cx.maxBufferLength,m,r[1],k.parseDialect(Z),g,U),r[0],g.pos);qa&&console.log(q+g+" (nested)");return g}C=r.stateSlot(g.state,4);if(0<C)return g.reduce(C),qa&&console.log(q+g+(" (via always-reduce "+r.getName(C&65535)+")")),g;F=g.cx.tokens.getActions(g,t);for(Z=0;Z<F.length;){U=F[Z++];T=F[Z++];C=F[Z++];R=(Q=Z==F.length||!k)?g:g.split();R.apply(U,T,C);qa&&console.log(q+R+(" (via "+(0==(U&65536)?"shift":
"reduce of "+r.getName(U&65535))+" for "+r.getName(T)+" @ "+m+(R==g?"":", split")+")"));if(Q)return R;R.pos>m?this.putStack(R):k.push(R)}return g.cx.parent&&g.pos==t.length?Ya(g):null};n.prototype.advanceFully=function(g){for(var k=g.pos;;){var m=this.advanceStack(g,null);if(!m)return g;if(m.pos>k)return this.putStack(m),null;g=m}};n.prototype.runRecovery=function(g,k){for(var m=null,q=0;q<g.length;q++){for(var t=g[q],r=k[q<<1],C=k[(q<<1)+1],F=qa?t+" -\x3e ":"",K=t.split(),R=F,T=0;K.forceReduce()&&
10>T;T++){qa&&console.log(R+K+" (via force-reduce)");var Q=this.advanceFully(K);if(!Q)break;K=Q;qa&&(R=Q+" -\x3e ")}K=0;for(R=t.recoverByInsert(r);K<R.length;K++)T=R[K],qa&&console.log(F+T+" (via recover-insert)"),this.advanceFully(T);t.cx.input.length>t.pos?(C==t.pos&&(C++,r=0),t.recoverByDelete(r,C),qa&&console.log(F+t+(" (via recover-delete "+t.cx.parser.getName(r)+")")),this.putStack(t)):t.cx.parent||m&&!(m.recovered>t.recovered)||(m=t)}return m};n.prototype.forceFinish=function(){return this.stacks[0].split().forceAll().toTree()};
Object.defineProperty(n.prototype,"badness",{get:function(){return 2*this.stacks[0].recovered/this.tokenCount},enumerable:!0,configurable:!0});n.prototype.scanForNestEnd=function(g,k,m){for(var q=g.cx.input,t=g.pos;t<q.length;t++)if(D.start=t,D.value=-1,k.token(q,D,g),-1<D.value&&(!m||m(q.read(t,D.end))))return t;return q.length};return n}(),x=function(){function n(g,k,m){this.source=g;this.flags=k;this.disabled=m}n.prototype.allows=function(g){return!this.disabled||0==this.disabled[g]};return n}();
G=function(){function n(g,k,m,q,t,r,C,F,K,R,T,Q,Z,U){void 0===U&&(U=null);this.states=g;this.data=k;this.goto=m;this.group=q;this.maxTerm=t;this.minRepeatTerm=r;this.tokenizers=C;this.topRules=F;this.nested=K;this.dialects=R;this.specialized=T;this.specializers=Q;this.tokenPrecTable=Z;this.termNames=U;this.nextStateCache=[];this.cachedDialect=null;this.maxNode=this.group.types.length-1;this.maxRepeatWrap=this.group.types.length+(this.group.types.length-r)-1;g=0;for(k=this.states.length/6;g<k;g++)this.nextStateCache[g]=
null}n.prototype.parse=function(g,k){"string"==typeof g&&(g=new Ga(g));for(g=new z(this,g,k);;)if(k=g.advance())return k};n.prototype.startParse=function(g,k){"string"==typeof g&&(g=new Ga(g));return new z(this,g,k)};n.prototype.getGoto=function(g,k,m){void 0===m&&(m=!1);var q=this.goto;if(k>=q[0])return-1;for(k=q[k+1];;){var t=q[k++],r=t&1,C=q[k++];if(r&&m)return C;for(t=k+(t>>1);k<t;k++)if(q[k]==g)return C;if(r)return-1}};n.prototype.hasAction=function(g,k){for(var m=this.data,q=0;2>q;q++)for(var t=
this.stateSlot(g,q?2:1),r;65535!=(r=m[t]);t+=3)if(r==k||0==r)return m[t+1]|m[t+2]<<16;return 0};n.prototype.stateSlot=function(g,k){return this.states[6*g+k]};n.prototype.stateFlag=function(g,k){return 0<(this.stateSlot(g,0)&k)};n.prototype.startNested=function(g){g=this.stateSlot(g,0);return g&4?g>>10:-1};n.prototype.validAction=function(g,k){if(k==this.stateSlot(g,4))return!0;for(g=this.stateSlot(g,1);;g+=3){if(65535==this.data[g])return!1;if(k==(this.data[g+1]|this.data[g+2]<<16))return!0}};n.prototype.nextStates=
function(g){var k=this.nextStateCache[g];if(k)return k;k=[];for(var m=this.stateSlot(g,1);65535!=this.data[m];m+=3)0==(this.data[m+2]&1)&&0>k.indexOf(this.data[m+1])&&k.push(this.data[m+1]);m=this.goto;for(var q=m[0],t=0;t<q;t++)for(var r=m[t+1];;){for(var C=m[r++],F=m[r++],K=r+(C>>1);r<K;r++)m[r]==g&&0>k.indexOf(F)&&k.push(F);if(C&1)break}return this.nextStateCache[g]=k};n.prototype.overrides=function(g,k){k=va(this.data,this.tokenPrecTable,k);return 0>k||va(this.data,this.tokenPrecTable,g)<k};n.prototype.withNested=
function(g){return new n(this.states,this.data,this.goto,this.group,this.maxTerm,this.minRepeatTerm,this.tokenizers,this.topRules,this.nested.map(function(k){return Object.prototype.hasOwnProperty.call(g,k.name)?{name:k.name,grammar:g[k.name],end:k.end,placeholder:k.placeholder}:k}),this.dialects,this.specialized,this.specializers,this.tokenPrecTable,this.termNames)};n.prototype.withProps=function(){for(var g,k=[],m=0;m<arguments.length;m++)k[m]=arguments[m];return new n(this.states,this.data,this.goto,
(g=this.group).extend.apply(g,k),this.maxTerm,this.minRepeatTerm,this.tokenizers,this.topRules,this.nested,this.dialects,this.specialized,this.specializers,this.tokenPrecTable,this.termNames)};n.prototype.getName=function(g){return this.termNames?this.termNames[g]:String(g<=this.maxNode&&this.group.types[g].name||g)};Object.defineProperty(n.prototype,"eofTerm",{get:function(){return this.maxRepeatWrap+1},enumerable:!0,configurable:!0});Object.defineProperty(n.prototype,"hasNested",{get:function(){return 0<
this.nested.length},enumerable:!0,configurable:!0});Object.defineProperty(n.prototype,"defaultTop",{get:function(){return this.topRules[Object.keys(this.topRules)[0]]},enumerable:!0,configurable:!0});Object.defineProperty(n.prototype,"topType",{get:function(){return this.group.types[this.defaultTop[1]]},enumerable:!0,configurable:!0});n.prototype.parseDialect=function(g){if(this.cachedDialect&&this.cachedDialect.source==g)return this.cachedDialect;var k=Object.keys(this.dialects),m=k.map(function(){return!1});
if(g)for(var q=0,t=g.split(" ");q<t.length;q++){var r=k.indexOf(t[q]);0<=r&&(m[r]=!0)}q=null;for(t=0;t<k.length;t++)if(!m[t]){var C=this.dialects[k[t]];for(r=void 0;65535!=(r=this.data[C++]);)(q||(q=new Uint8Array(this.maxTerm+1)))[r]=1}return this.cachedDialect=new x(g,m,q)};n.deserialize=function(g){function k(Q,Z,U){C[Q]==E&&(C[Q]=Object.create(null));Z.set(C[Q],Z.deserialize(String(U)))}for(var m=ja(g.tokenData),q=g.nodeNames.split(" "),t=q.length,r=0;r<g.repeatNodeCount;r++)q.push("");var C=
[];for(r=0;r<q.length;r++)C.push(E);k(0,da.NodeProp.error,"");if(g.nodeProps)for(var F=0,K=g.nodeProps;F<K.length;F++){var R=K[F],T=R[0];for(r=1;r<R.length;r+=2)k(R[r],T,R[r+1])}q=new da.NodeGroup(q.map(function(Q,Z){return new da.NodeType(Q,C[Z],Z)}));F=new Uint16Array(g.specialized?g.specialized.length:0);K=[];if(g.specialized)for(r=0;r<g.specialized.length;r++)F[r]=g.specialized[r].term,K[r]=g.specialized[r].get;return new n(ja(g.states,Uint32Array),ja(g.stateData),ja(g.goto),q,g.maxTerm,t,g.tokenizers.map(function(Q){return"number"==
typeof Q?new Qa(m,Q):Q}),g.topRules,(g.nested||[]).map(function(Q){var Z=Q[3];return{name:Q[0],grammar:Q[1],end:new Qa(ja(Q[2]),0),placeholder:Z}}),g.dialects||{},F,K,g.tokenPrec,g.termNames)};return n}();G.TokenGroup=Qa;var E=Object.create(null);L.NodeGroup=da.NodeGroup;L.NodeProp=da.NodeProp;L.NodeType=da.NodeType;L.Subtree=da.Subtree;L.Tree=da.Tree;L.ExternalTokenizer=oa;L.ParseContext=z;L.Parser=G;L.Stack=na;L.Token=J};
shadow$provide[14]=function(G,J,M,L){function X(a,b){for(var c=null,d=0;d<a.length;d++){var f=a[d].walk(b);f==a[d]||c||(c=a.slice(0,d));c&&c.push(f)}return c||a}function ja(a,b){return a.constructor==b.constructor&&a.eq(b)}function va(a,b){return a.length==b.length&&a.every(function(c,d){return ja(c,b[d])})}function Ha(a,b){return a.prec<b.prec?"("+a.toString()+")":a.toString()}function Ya(a,b,c){if(a.length!=b.length)return a.length-b.length;for(var d=0;d<a.length;d++){var f=c(a[d],b[d]);if(f)return f}return 0}
function da(a,b){if(0==a.length||a==b)return b;if(0==b.length)return a;var c=a.slice();b=$jscomp.makeIterator(b);for(var d=b.next();!d.done;d=b.next())d=d.value,a.includes(d)||c.push(d);return c.sort()}function Pa(a){return 65534<a?"âˆž":55296<=a&&57343>a?"\\u{"+a.toString(16)+"}":String.fromCharCode(a)}function na(a){for(var b="",c=0;c<a.length;c++)b+=String.fromCharCode(a[c].from);return b}function oa(a){var b="";a=$jscomp.makeIterator(a);for(var c=a.next();!c.done;c=a.next())b+=(b.length?"-":"")+
c.value.id;return b}function db(a){for(var b=[],c=[],d=$jscomp.makeIterator(a),f=d.next();!f.done;f=d.next()){var e=f.value;b.includes(e.from)||b.push(e.from);b.includes(e.to)||b.push(e.to)}b.sort(function(y,A){return y-A});for(d=1;d<b.length;d++){e=b[d-1];var h=b[d],l=[],w=$jscomp.makeIterator(a);for(f=w.next();!f.done;f=w.next())if(f=f.value,f.to>e&&f.from<h){f=$jscomp.makeIterator(f.target.closure());for(var u=f.next();!u.done;u=f.next())u=u.value,l.includes(u)||l.push(u)}l.length&&c.push(new Wb(e,
h,l))}return c}function Ia(a,b){var c=b?b.start:a.start,d=a.eat("at","export");b=b||E(a);var f=Ga(a),e=[];if(a.eat("\x3c"))for(;!a.eat("\x3e");)e.length&&a.expect(","),e.push(E(a));a=qa(a);return new kb(c,b,d,f,e,a)}function Ga(a){if("["!=a.type)return eb;var b=[];for(a.expect("[");!a.eat("]");)b.length&&a.expect(","),b.push(Qa(a));return b}function Qa(a){var b=a.start,c=a.expect("id"),d=[];if(a.eat("\x3d"))for(;;)if("string"==a.type||"id"==a.type)d.push(new fb(a.start,a.value,null)),a.next();else if(a.eat("."))d.push(new fb(a.start,
".",null));else if(a.eat("{"))d.push(new fb(a.start,null,a.expect("id"))),a.expect("}");else break;return new Za(b,c,d)}function qa(a){a.expect("{");var b=x(a);a.expect("}");return b}function cb(a){var b=a.start;if(a.eat("("))return b=x(a),a.expect(")"),b;if("string"==a.type){var c=a.value;a.next();return 0==c.length?new xa(b,eb,[eb,eb]):new Ba(b,c)}if(a.eat("id","_"))return new lb(b);if("set"==a.type){c="!"==a.string[a.start];for(var d=r(a.value.replace(/\\.|-|"/g,function(w){return"-"==w?"ï·š":'"'==
w?'\\"':w})),f=[],e=0;e<d.length;){var h=d.codePointAt(e);e+=65535<h?2:1;if(e<d.length-1&&"ï·š"==d[e]){var l=d.codePointAt(e+1);e+=65535<l?3:2;l<h&&a.raise("Invalid character range",a.start);D(a,f,h,l+1)}else D(a,f,h,h+1)}a.next();return new mb(b,f.sort(function(w,u){return w[0]-u[0]}),c)}if("at"!=a.type||"specialize"!=a.value&&"extend"!=a.value){c=E(a);if("["==a.type||"{"==a.type)return c=Ia(a,c),c.params.length&&a.raise("Inline rules can't have parameters",c.start),new Ra(b,c);d=null;a.eat(".")&&
(d=c,c=E(a));return new ra(b,d,c,bb(a))}b=a.start;c=a.value;a.next();d=Ga(a);a.expect("\x3c");f=x(a);a.expect(",");e=x(a);a.expect("\x3e");return new Sa(b,c,d,f,e)}function bb(a){var b=[];if(a.eat("\x3c"))for(;!a.eat("\x3e");)b.length&&a.expect(","),b.push(x(a));return b}function D(a,b,c,d){b.every(function(f){f=$jscomp.makeIterator(f);var e=f.next().value;return f.next().value<=c||e>=d})||a.raise("Overlapping character range",a.start);b.push([c,d])}function v(a){for(var b=a.start,c=cb(a);;){var d=
a.type;if(a.eat("*")||a.eat("?")||a.eat("+"))c=new Ja(b,c,d);else return c}}function p(a){return"}"==a.type||")"==a.type||"|"==a.type||"/"==a.type||"/\\"==a.type||"{"==a.type||","==a.type||"\x3e"==a.type}function z(a){var b=a.start,c=[],d=[eb];do{for(;;){var f=a.start,e=void 0;if(a.eat("~"))e="ambig";else if(a.eat("!"))e="prec";else break;d[d.length-1]=d[d.length-1].concat(new rb(f,E(a),e))}if(p(a))break;c.push(v(a));d.push(eb)}while(!p(a));return 1==c.length&&d.every(function(h){return 0==h.length})?
c[0]:new xa(b,c,d)}function x(a){var b=a.start,c=z(a);if(!a.eat("|"))return c;c=[c];do c.push(z(a));while(a.eat("|"));return new Ea(b,c)}function E(a){"id"!=a.type&&a.unexpected();var b=a.start,c=a.value;a.next();return new sb(b,c)}function n(a){var b=a.start;a.next();a.expect("{");for(var c=[];!a.eat("}");){c.length&&a.expect(",");var d=cb(a);d instanceof Ba||d instanceof ra?c.push(d):a.raise("Invalid expression in token precedences",d.start)}return new Eb(b,c)}function g(a){var b=[];for(a.expect("{");!a.eat("}");){b.length&&
a.eat(",");var c=E(a),d=Ga(a);b.push({id:c,props:d})}return b}function k(a,b){var c=E(a);a.expect("id","from");var d=a.expect("string");return new Fb(b,c,d,g(a))}function m(a,b,c){a.expect("{");var d=x(a);a.expect("}");var f=E(a);a.expect("id","from");var e=a.expect("string");return new Gb(c,b,d,f,e,g(a))}function q(a,b){var c=E(a),d=a.eat("id","as")?E(a):c,f=null;a.eat("id","from")?f=a.expect("string"):a.expect("id","empty");return new Hb(b,d,c,f)}function t(a,b){var c=E(a),d=a.eat("id","as")?E(a):
c;a.expect("id","from");a=a.expect("string");return new Ib(b,d,c,a)}function r(a){for(var b=/\\(?:u\{([\da-f]+)\}|u([\da-f]{4})|x([\da-f]{2})|([ntbrf0])|(.))|./yig,c="",d;d=b.exec(a);){var f=$jscomp.makeIterator(d);d=f.next().value;var e=f.next().value,h=f.next().value,l=f.next().value,w=f.next().value;f=f.next().value;c=e||h||l?c+String.fromCodePoint(parseInt(e||h||l,16)):w?c+("n"==w?"\n":"t"==w?"\t":"0"==w?"\x00":"r"==w?"\r":"f"==w?"\f":"\b"):f?c+f:c+d}return c}function C(a,b){return(a<<5)+a+b}
function F(a,b){return a<b?-1:a>b?1:0}function K(a,b,c,d){var f=[];for(b+=1;b<a.parts.length;b++){var e=a.parts[b],h=!1;if(e.terminal)U(e,f);else{e=$jscomp.makeIterator(d[e.name]);for(var l=e.next();!l.done;l=e.next())l=l.value,null==l?h=!0:U(l,f)}if(!h)return f}a=$jscomp.makeIterator(c);for(c=a.next();!c.done;c=a.next())U(c.value,f);return f}function R(a,b){if(a.length!=b.length)return!1;for(var c=0;c<a.length;c++)if(!a[c].eq(b[c]))return!1;return!0}function T(a,b){if(a.length!=b.length)return!1;
for(var c=0;c<a.length;c++)if(a[c]!=b[c])return!1;return!0}function Q(a){var b=5381;a=$jscomp.makeIterator(a);for(var c=a.next();!c.done;c=a.next())b=C(b,c.value.hash);return b}function Z(a,b){function c(w,u,y,A,B){var I={};w=$jscomp.makeIterator(w.rules);for(var H=w.next();!H.done;I={$jscomp$loop$prop$rule$179:I.$jscomp$loop$prop$rule$179},H=w.next()){I.$jscomp$loop$prop$rule$179=H.value;if(H=d.find(function(V){return function(ba){return ba.rule==V.$jscomp$loop$prop$rule$179}}(I))){if(H.skipAhead!=
A)throw new Da("Inconsistent skip sets after "+H.prev.trail());H.ambigAhead=da(H.ambigAhead,y)}else H=a.findIndex(function(V){return function(ba){return 0==ba.pos&&ba.rule==V.$jscomp$loop$prop$rule$179}}(I)),H=new Xb(I.$jscomp$loop$prop$rule$179,0>H?[]:a[H].ahead.slice(),H,y,A,B),d.push(H);for(var N=$jscomp.makeIterator(u),O=N.next();!O.done;O=N.next())O=O.value,H.ahead.includes(O)||(H.ahead.push(O),H.rule.parts.length&&!H.rule.parts[0].terminal&&U(H,f))}}for(var d=[],f=[],e=$jscomp.makeIterator(a),
h=e.next();!h.done;h=e.next()){h=h.value;var l=h.next;l&&!l.terminal&&c(l,K(h.rule,h.pos,h.ahead,b),h.conflicts(h.pos+1).ambigGroups,h.pos==h.rule.parts.length-1?h.skipAhead:h.rule.skip,h.prev)}for(;f.length;)e=f.pop(),c(e.rule.parts[0],K(e.rule,0,e.ahead,b),da(e.rule.conflicts[1].ambigGroups,1==e.rule.parts.length?e.ambigAhead:Jb),e.skipAhead,e.prev);b=a.slice();e=$jscomp.makeIterator(d);for(h=e.next();!h.done;h=e.next())h=h.value,l=new sa(h.rule,0,h.ahead.sort(function(w,u){return w.hash-u.hash}),
h.ambigAhead,h.skipAhead,h.prev),-1<h.origIndex?b[h.origIndex]=l:b.push(l);return b.sort(function(w,u){return w.cmp(u)})}function U(a,b){b.includes(a)||b.push(a)}function Oa(a){for(var b={},c=$jscomp.makeIterator(a.terms),d=c.next();!d.done;d=c.next()){var f=d.value;f.terminal||(b[f.name]=[])}for(;;){c=!1;f=$jscomp.makeIterator(a.terms);for(var e=f.next();!e.done;e=f.next())if(e=e.value,!e.terminal)for(var h=$jscomp.makeIterator(e.rules),l=h.next();!l.done;l=h.next()){var w=b[e.name],u=!1,y=w.length;
l=$jscomp.makeIterator(l.value.parts);for(d=l.next();!d.done;d=l.next()){d=d.value;u=!0;if(d.terminal)U(d,w);else{var A=$jscomp.makeIterator(b[d.name]);for(d=A.next();!d.done;d=A.next())d=d.value,null==d?u=!1:U(d,w)}if(u)break}u||U(null,w);w.length>y&&(c=!0)}if(!c)return b}}function Ua(a,b,c){function d(H,N){if(0==H.length)return null;for(var O=Q(H),V=e[O],ba,W=$jscomp.makeIterator(H),aa=W.next();!aa.done;aa=W.next())if(aa=aa.value,!ba)ba=aa.skip;else if(ba!=aa.skip)throw new Da("Inconsistent skip sets after "+
aa.trail());if(V)for(V=$jscomp.makeIterator(V),W=V.next();!W.done;W=V.next())if(W=W.value,R(H,W.set)){if(W.state.skip!=ba)throw new Da("Inconsistent skip sets after "+W.set[0].trail());return W.state}V=Z(H,c);W=Q(V);var ea;if(!N){aa=$jscomp.makeIterator(f);for(var ya=aa.next();!ya.done;ya=aa.next())ya=ya.value,ya.hash==W&&ya.hasSet(V)&&(ea=ya)}ea||(ea=new Ka(f.length,V,0,ba,W,N),f.push(ea));(e[O]||(e[O]=[])).push(new Yb(H,ea));return ea}var f=[],e={},h={};b=$jscomp.makeIterator(b);for(var l=b.next();!l.done;h=
{$jscomp$loop$prop$startSkip$181:h.$jscomp$loop$prop$startSkip$181},l=b.next())l=l.value,h.$jscomp$loop$prop$startSkip$181=l.rules.length?l.rules[0].skip:a.names["%noskip"],d(l.rules.map(function(H){return function(N){return new sa(N,0,[a.eof],Jb,H.$jscomp$loop$prop$startSkip$181,null)}}(h)),l);h={};for(b=0;b<f.length;h={$jscomp$loop$prop$state$183:h.$jscomp$loop$prop$state$183},b++){h.$jscomp$loop$prop$state$183=f[b];var w=[],u=[];l=[];for(var y=$jscomp.makeIterator(h.$jscomp$loop$prop$state$183.set),
A=y.next();!A.done;A=y.next())if(A=A.value,A.pos==A.rule.parts.length)A.rule.name.top||l.push(A);else{var B=A.rule.parts[A.pos],I=w.indexOf(B);0>I?(w.push(B),u.push([A.advance()])):u[I].push(A.advance())}for(y=0;y<w.length;y++)A=w[y],A.terminal?(B=Va(u[y]),(I=d(B))&&h.$jscomp$loop$prop$state$183.addAction(new Ca(A,I),B.map(function(H){return H.reverse()}))):(B=d(u[y]))&&h.$jscomp$loop$prop$state$183.goto.push(new Ca(A,B));w=!1;l=$jscomp.makeIterator(l);for(A=l.next();!A.done;A=l.next())for(u=A.value,
y=$jscomp.makeIterator(u.ahead),A=y.next();!A.done;A=y.next())B=h.$jscomp$loop$prop$state$183.actions.length,h.$jscomp$loop$prop$state$183.addAction(new Ta(A.value,u.rule),[u]),h.$jscomp$loop$prop$state$183.actions.length==B&&(w=!0);if(w)for(l=0;l<h.$jscomp$loop$prop$state$183.goto.length;l++)c[h.$jscomp$loop$prop$state$183.goto[l].term.name].some(function(H){return function(N){return H.$jscomp$loop$prop$state$183.actions.some(function(O){return O.term==N&&O instanceof Ca})}}(h))||h.$jscomp$loop$prop$state$183.goto.splice(l--,
1)}h=$jscomp.makeIterator(f);for(b=h.next();!b.done;b=h.next())b.value.finish();return f}function Va(a){for(var b=null,c=1,d=$jscomp.makeIterator(a),f=d.next();!f.done;f=d.next()){f=f.value;var e=f.rule.conflicts[f.pos-1].cut;if(!(e<c)){if(!b||e>c)c=e,b=[];b.push(f)}}return b||a}function Wa(a,b,c,d){if(c.defaultReduce)return!0;for(var f=0;f<c.actions.length;f++)if(d.addActionInner(c.actions[f].map(a,b),c.actionPositions[f]))return!1;f={};c=$jscomp.makeIterator(c.goto);for(var e=c.next();!e.done;f=
{$jscomp$loop$prop$goto$185:f.$jscomp$loop$prop$goto$185},e=c.next()){f.$jscomp$loop$prop$goto$185=e.value;e=d.goto.find(function(l){return function(w){return w.term==l.$jscomp$loop$prop$goto$185.term}}(f));var h=f.$jscomp$loop$prop$goto$185.map(a,b);if(!e)d.goto.push(h);else if(e.target.id!=h.target.id)return!1}return!0}function ka(a,b,c,d,f){for(var e=0;e<a.length;e++)if(a[e]==b)for(var h=0;h<a.length;h++)if(h!=e&&a[h]==b){var l=new Ka(0,c[e].set,0,c[e].skip,0);Wa(a,d,c[e],l);Wa(a,d,c[h],l)||f.push(e,
h)}}function qb(a,b,c,d){for(var f=0;f<d.length;f++)if(d[f]==a&&c[d[f+(f%2?-1:1)]]==b)return!0;return!1}function wb(a){for(var b=[],c={};;c={$jscomp$loop$prop$mapping$190:c.$jscomp$loop$prop$mapping$190}){var d=[];c.$jscomp$loop$prop$mapping$190=[];for(var f={$jscomp$loop$prop$i$188:0};f.$jscomp$loop$prop$i$188<a.length;f={$jscomp$loop$prop$state$187:f.$jscomp$loop$prop$state$187,$jscomp$loop$prop$i$188:f.$jscomp$loop$prop$i$188},f.$jscomp$loop$prop$i$188++){f.$jscomp$loop$prop$state$187=a[f.$jscomp$loop$prop$i$188];
var e=f.$jscomp$loop$prop$state$187.set,h=d.findIndex(function(l,w){return function(u,y){return l.$jscomp$loop$prop$state$187.set.length==u.set.length&&l.$jscomp$loop$prop$state$187.set.every(function(A,B){return A.eqSimple(u.set[B])})&&u.tokenGroup==l.$jscomp$loop$prop$state$187.tokenGroup&&u.skip==l.$jscomp$loop$prop$state$187.skip&&!qb(l.$jscomp$loop$prop$i$188,y,w.$jscomp$loop$prop$mapping$190,b)}}(f,c));0>h?(h=d.length,e=new Ka(h,e,f.$jscomp$loop$prop$state$187.flags,f.$jscomp$loop$prop$state$187.skip,
f.$jscomp$loop$prop$state$187.hash,f.$jscomp$loop$prop$state$187.topRule),e.tokenGroup=f.$jscomp$loop$prop$state$187.tokenGroup,e.defaultReduce=f.$jscomp$loop$prop$state$187.defaultReduce,d.push(e)):d[h].flags|=f.$jscomp$loop$prop$state$187.flags;c.$jscomp$loop$prop$mapping$190.push(h)}f=[];for(h=0;h<a.length;h++)e=c.$jscomp$loop$prop$mapping$190[h],f.includes(e)||Wa(c.$jscomp$loop$prop$mapping$190,d,a[h],d[c.$jscomp$loop$prop$mapping$190[h]])||(f.push(e),ka(c.$jscomp$loop$prop$mapping$190,e,a,d,
b));if(!f.length)return d}}function ib(a){for(var b={};;b={$jscomp$loop$prop$mapping$198:b.$jscomp$loop$prop$mapping$198,$jscomp$loop$prop$newStates$199:b.$jscomp$loop$prop$newStates$199}){b.$jscomp$loop$prop$mapping$198=[];var c=!1;b.$jscomp$loop$prop$newStates$199=[];for(var d={},f=0;f<a.length;d={$jscomp$loop$prop$state$192:d.$jscomp$loop$prop$state$192},f++){d.$jscomp$loop$prop$state$192=a[f];var e=b.$jscomp$loop$prop$newStates$199.findIndex(function(y){return function(A){return y.$jscomp$loop$prop$state$192.eq(A)}}(d));
if(0>e)b.$jscomp$loop$prop$mapping$198[f]=b.$jscomp$loop$prop$newStates$199.length,b.$jscomp$loop$prop$newStates$199.push(d.$jscomp$loop$prop$state$192);else{b.$jscomp$loop$prop$mapping$198[f]=e;c=!0;e=b.$jscomp$loop$prop$newStates$199[e];for(var h=null,l={},w=$jscomp.makeIterator(d.$jscomp$loop$prop$state$192.set),u=w.next();!u.done;l={$jscomp$loop$prop$pos$194:l.$jscomp$loop$prop$pos$194},u=w.next())l.$jscomp$loop$prop$pos$194=u.value,e.set.some(function(y){return function(A){return A.eqSimple(y.$jscomp$loop$prop$pos$194)}}(l))||
(h||(h=[])).push(l.$jscomp$loop$prop$pos$194);h&&(e.set=h.concat(e.set).sort(function(y,A){return y.cmp(A)}))}}if(!c)return a;a=$jscomp.makeIterator(b.$jscomp$loop$prop$newStates$199);for(c=a.next();!c.done;c=a.next())c=c.value,c.defaultReduce||(c.actions=c.actions.map(function(y){return function(A){return A.map(y.$jscomp$loop$prop$mapping$198,y.$jscomp$loop$prop$newStates$199)}}(b)),c.goto=c.goto.map(function(y){return function(A){return A.map(y.$jscomp$loop$prop$mapping$198,y.$jscomp$loop$prop$newStates$199)}}(b)));
for(a=0;a<b.$jscomp$loop$prop$newStates$199.length;a++)b.$jscomp$loop$prop$newStates$199[a].id=a;a=b.$jscomp$loop$prop$newStates$199}}function jb(a,b){if(a>(void 0===b?65535:b))throw Error("Trying to encode a number that's too big: "+a);if(65535==a)return String.fromCharCode(126);b="";for(var c=46;;c=0){var d=a%46;a-=d;c=d+c+32;34<=c&&c++;92<=c&&c++;b=String.fromCharCode(c)+b;if(0==a)break;a/=46}return b}function Xa(a,b){b=void 0===b?65535:b;for(var c='"'+jb(a.length,4294967295),d=0;d<a.length;d++)c+=
jb(a[d],b);return c+'"'}function wa(a){for(var b=[],c=0;c<arguments.length;++c)b[c-0]=arguments[c];return new Aa(b,null)}function Kb(a,b,c){a.props==za&&(a.props=Object.create(null));var d=a.props[b];if(!d||0>d.split(" ").indexOf(c))a.props[b]=d?d+" "+c:c}function Lb(a){var b=Object.create(null);a=$jscomp.makeIterator(a);for(var c=a.next();!c.done;c=a.next())c=c.value,b[c.value]=c.term.id<<1|("specialize"==c.type?0:1);return b}function tb(a,b,c){c=void 0===c?a.parts.length:c;return a.name.id|65536|
(a.isRepeatLeaf&&c==a.parts.length?131072:0)|(a.name==b?262144:0)|c<<19}function xb(a,b){return a instanceof Ca&&!!a.target.defaultReduce&&a.target.defaultReduce.name==b}function Zb(a){var b={},c=0;a=$jscomp.makeIterator(a);for(var d=a.next();!d.done;d=a.next()){d=d.value;for(var f=$jscomp.makeIterator(d.goto),e=f.next();!e.done;e=f.next()){e=e.value;c=Math.max(e.term.id,c);var h=b[e.term.id]||(b[e.term.id]={});(h[e.target.id]||(h[e.target.id]=[])).push(d.id)}}a=new ub;d=[];f=c+2;for(e=0;e<=c;e++)if(h=
b[e]){for(var l=[],w=Object.keys(h),u=$jscomp.makeIterator(w),y=u.next();!y.done;y=u.next()){y=y.value;var A=h[y];l.push((y==w[w.length-1]?1:0)+(A.length<<1));l.push(+y);y=$jscomp.makeIterator(A);for(A=y.next();!A.done;A=y.next())l.push(A.value)}d.push(a.storeArray(l)+f)}else d.push(1);if(d.some(function(B){return 65535<B}))throw new Da("Goto table too large");return Uint16Array.from([c+1].concat($jscomp.arrayFromIterable(d),$jscomp.arrayFromIterable(a.data)))}function nb(a,b){a.includes(b)||a.push(b)}
function $b(a){var b=Object.create(null);a=$jscomp.makeIterator(a);for(var c=a.next();!c.done;c=a.next()){var d=c.value;c=1<<d.id;d=$jscomp.makeIterator(d.tokens);for(var f=d.next();!f.done;f=d.next())f=f.value,b[f.id]=(b[f.id]||0)|c}return b}function ac(a,b){function c(h){if(h instanceof xa){var l=h.exprs.indexOf(b);-1<l&&l<h.exprs.length-1&&(d=h.exprs[l+1])}return h}for(var d,f=$jscomp.makeIterator(a.rules),e=f.next();!e.done;e=f.next())e.value.expr.walk(c);a=$jscomp.makeIterator(a.topRules);for(f=
a.next();!f.done;f=a.next())f.value.expr.walk(c);return d}function bc(a,b,c){function d(e,h){return e.actions.some(function(l){return l.term==h})||e.skip!=b.noSkip&&c[b.skipRules.indexOf(e.skip)].includes(h)}var f=Object.create(null);return function(e,h){if(e.id<h.id){var l=$jscomp.makeIterator([h,e]);e=l.next().value;h=l.next().value}l=e.id|h.id<<16;var w=f[l];return null!=w?w:f[l]=a.some(function(u){return d(u,e)&&d(u,h)})}}function cc(a){var b=0,c=[];a=$jscomp.makeIterator(a);for(var d=a.next();!d.done;d=
a.next()){var f=$jscomp.makeIterator(d.value);d=f.next().value;f=f.next().value;d>b&&c.push([b,d]);b=f}1114111>=b&&c.push([b,1114112]);return c}function dc(a,b,c,d){if(55296>c&&1114112==d)a.edge(c,65535,b);else if(65536>c&&(55296>c&&a.edge(c,Math.min(d,55296),b),57344<d&&a.edge(Math.max(c,57344),Math.min(d,65535),b),c=65536),!(65536>d)){c=String.fromCodePoint(c);var f=String.fromCodePoint(d-1);d=c.charCodeAt(0);c=c.charCodeAt(1);var e=f.charCodeAt(0);f=f.charCodeAt(1);if(d==e)e=new ha,a.edge(d,d+
1,e),e.edge(c,f+1,b);else{var h=d,l=e;if(56320<c){h++;var w=new ha;a.edge(d,d+1,w);w.edge(c,57344,b)}57343>f&&(l--,d=new ha,a.edge(e,e+1,d),d.edge(56320,f+1,b));h<=l&&(d=new ha,a.edge(h,l+1,d),d.edge(56320,57344,b))}}}function Mb(a){return a instanceof xa&&0==a.exprs.length}function Nb(a,b){var c=Object.create(null);b=$jscomp.makeIterator(b);for(var d=b.next();!d.done;d=b.next()){d=d.value;a.unique(d.id);var f=a.nodeInfoInner(d.props,d.id.name),e=f.dialect;f=a.makeTerminal(d.id.name,f.name,f.props);
null!=e&&(a.tokens.byDialect[e]||(a.tokens.byDialect[e]=[])).push(f);a.namedTerms[d.id.name]=c[d.id.name]=f}return c}function Ob(a,b,c){b=b[c.id.name];if(!b)return null;c.args.length&&a.raise("External tokens cannot take arguments",c.args[0].start);a.used(c.id.name);return b}function ec(a,b){var c=null,d=function(f,e){!c&&b.source&&(c=a.options.nestedGrammar?a.options.nestedGrammar(b.name,a.termTable):null);return c instanceof La.Parser?{parser:c}:c?c(f,e):{}};d.spec=b;return d}function fc(a,b){for(var c=
{};;c={$jscomp$loop$prop$inlinable$242:c.$jscomp$loop$prop$inlinable$242}){c.$jscomp$loop$prop$inlinable$242=Object.create(null);for(var d=void 0,f={$jscomp$loop$prop$i$240:0};f.$jscomp$loop$prop$i$240<a.length;f={$jscomp$loop$prop$rule$241:f.$jscomp$loop$prop$rule$241,$jscomp$loop$prop$i$240:f.$jscomp$loop$prop$i$240},f.$jscomp$loop$prop$i$240++)f.$jscomp$loop$prop$rule$241=a[f.$jscomp$loop$prop$i$240],f.$jscomp$loop$prop$rule$241.name.interesting||f.$jscomp$loop$prop$rule$241.parts.includes(f.$jscomp$loop$prop$rule$241.name)||
!(3>f.$jscomp$loop$prop$rule$241.parts.length)||b.includes(f.$jscomp$loop$prop$rule$241.name)||1!=f.$jscomp$loop$prop$rule$241.parts.length&&!a.every(function(y){return function(A){return A.skip==y.$jscomp$loop$prop$rule$241.skip||!A.parts.includes(y.$jscomp$loop$prop$rule$241.name)}}(f))||f.$jscomp$loop$prop$rule$241.parts.some(function(y){return function(A){return!!y.$jscomp$loop$prop$inlinable$242[A.name]}}(c))||a.some(function(y){return function(A,B){return B!=y.$jscomp$loop$prop$i$240&&A.name==
y.$jscomp$loop$prop$rule$241.name}}(f))||(d=c.$jscomp$loop$prop$inlinable$242[f.$jscomp$loop$prop$rule$241.name.name]=f.$jscomp$loop$prop$rule$241);if(!d)return a;d=[];a=$jscomp.makeIterator(a);for(f=a.next();!f.done;f=a.next())if(f=f.value,!c.$jscomp$loop$prop$inlinable$242[f.name.name])if(f.parts.some(function(y){return function(A){return!!y.$jscomp$loop$prop$inlinable$242[A.name]}}(c))){for(var e=[f.conflicts[0]],h=[],l=0;l<f.parts.length;l++){var w=c.$jscomp$loop$prop$inlinable$242[f.parts[l].name];
if(w){e[e.length-1]=e[e.length-1].join(w.conflicts[0]);for(var u=0;u<w.parts.length;u++)h.push(w.parts[u]),e.push(w.conflicts[u+1]);e[e.length-1]=e[e.length-1].join(f.conflicts[l+1])}else h.push(f.parts[l]),e.push(f.conflicts[l+1])}d.push(new $a(f.name,h,e,f.skip))}else d.push(f);a=d}}function gc(a){for(var b=Object.create(null),c,d=0;d<a.length;){for(var f=d,e=a[d++].name;d<a.length&&a[d].name==e;)d++;var h=d-f;if(!e.interesting)for(var l=d;l<a.length;){for(var w=l,u=a[l++].name;l<a.length&&a[l].name==
u;)l++;if(l-w==h&&!u.interesting){for(var y=!0,A=0;A<h&&y;A++)0!=a[f+A].cmpNoName(a[w+A])&&(y=!1);y&&(c=b[e.name]=u)}}}if(!c)return a;c=[];a=$jscomp.makeIterator(a);for(d=a.next();!d.done;d=a.next())d=d.value,b[d.name.name]||c.push(d.parts.every(function(B){return!b[B.name]})?d:new $a(d.name,d.parts.map(function(B){return b[B.name]||B}),d.conflicts,d.skip));return c}function hc(a,b){return gc(fc(a,b))}var Pb=J(12);"use strict";Object.defineProperty(L,"__esModule",{value:!0});var La=J(13),ta=function(a){this.start=
a},yb=function(a,b,c,d,f,e,h,l,w,u,y,A,B){this.start=a;this.rules=b;this.topRules=c;this.tokens=d;this.externalTokens=f;this.externalSpecializers=e;this.precedences=h;this.mainSkip=l;this.scopedSkip=w;this.dialects=u;this.grammars=y;this.externalProps=A;this.autoDelim=B;return this};$jscomp.inherits(yb,ta);yb.prototype.toString=function(){return Object.values(this.rules).join("\n")};var kb=function(a,b,c,d,f,e){this.start=a;this.id=b;this.exported=c;this.props=d;this.params=f;this.expr=e;return this};
$jscomp.inherits(kb,ta);kb.prototype.toString=function(){return this.id.name+(this.params.length?"\x3c"+this.params.join()+"\x3e":"")+" -\x3e "+this.expr};var Qb=function(a,b){this.start=a;this.items=b;return this};$jscomp.inherits(Qb,ta);var Eb=function(a,b){this.start=a;this.items=b;return this};$jscomp.inherits(Eb,ta);var Rb=function(a,b,c,d){this.start=a;this.precedences=b;this.rules=c;this.literals=d;return this};$jscomp.inherits(Rb,ta);var Sb=function(a,b,c){this.start=a;this.literal=b;this.props=
c;return this};$jscomp.inherits(Sb,ta);var Fb=function(a,b,c,d){this.start=a;this.id=b;this.source=c;this.tokens=d;return this};$jscomp.inherits(Fb,ta);var Gb=function(a,b,c,d,f,e){this.start=a;this.type=b;this.token=c;this.id=d;this.source=f;this.tokens=e;return this};$jscomp.inherits(Gb,ta);var Hb=function(a,b,c,d){this.start=a;this.id=b;this.externalID=c;this.source=d;return this};$jscomp.inherits(Hb,ta);var Ib=function(a,b,c,d){this.start=a;this.id=b;this.externalID=c;this.source=d;return this};
$jscomp.inherits(Ib,ta);var sb=function(a,b){this.start=a;this.name=b;return this};$jscomp.inherits(sb,ta);sb.prototype.toString=function(){return this.name};var la=function(){return ta.apply(this,arguments)||this};$jscomp.inherits(la,ta);la.prototype.walk=function(a){return a(this)};la.prototype.eq=function(a){return!1};la.prototype.prec=10;var ra=function(a,b,c,d){a=la.call(this,a)||this;a.namespace=b;a.id=c;a.args=d;return a};$jscomp.inherits(ra,la);ra.prototype.toString=function(){return this.id.name+
(this.args.length?"\x3c"+this.args.join()+"\x3e":"")};ra.prototype.eq=function(a){return(this.namespace?null!=a.namespace&&a.namespace.name==this.namespace.name:!a.namespace)&&this.id.name==a.id.name&&va(this.args,a.args)};ra.prototype.walk=function(a){var b=X(this.args,a);return a(b==this.args?this:new ra(this.start,this.namespace,this.id,b))};var Sa=function(a,b,c,d,f){a=la.call(this,a)||this;a.type=b;a.props=c;a.token=d;a.content=f;return a};$jscomp.inherits(Sa,la);Sa.prototype.toString=function(){return"@"+
this.type+"["+this.props.join(",")+"]\x3c"+this.token+", "+this.content+"\x3e"};Sa.prototype.eq=function(a){return this.type==a.type&&Za.eqProps(this.props,a.props)&&ja(this.token,a.token)&&ja(this.content,a.content)};Sa.prototype.walk=function(a){var b=this.token.walk(a),c=this.content.walk(a);return a(b==this.token&&c==this.content?this:new Sa(this.start,this.type,this.props,b,c))};var Ra=function(a,b){a=la.call(this,a)||this;a.rule=b;return a};$jscomp.inherits(Ra,la);Ra.prototype.toString=function(){var a=
this.rule;return""+a.id+(a.props.length?"["+a.props.join(",")+"]":"")+" { "+a.expr+" }"};Ra.prototype.eq=function(a){var b=this.rule;a=a.rule;return ja(b.expr,a.expr)&&b.id.name==a.id.name&&Za.eqProps(b.props,a.props)};Ra.prototype.walk=function(a){var b=this.rule,c=b.expr.walk(a);return a(c==b.expr?this:new Ra(this.start,new kb(b.start,b.id,!1,b.props,[],c)))};var Ea=function(a,b){a=la.call(this,a)||this;a.exprs=b;return a};$jscomp.inherits(Ea,la);Ea.prototype.toString=function(){var a=this;return this.exprs.map(function(b){return Ha(b,
a)}).join(" | ")};Ea.prototype.eq=function(a){return va(this.exprs,a.exprs)};Ea.prototype.walk=function(a){var b=X(this.exprs,a);return a(b==this.exprs?this:new Ea(this.start,b))};Ea.prototype.prec=1;var xa=function(a,b,c){a=la.call(this,a)||this;a.exprs=b;a.markers=c;return a};$jscomp.inherits(xa,la);xa.prototype.toString=function(){var a=this;return this.exprs.map(function(b){return Ha(b,a)}).join(" ")};xa.prototype.eq=function(a){return va(this.exprs,a.exprs)&&this.markers.every(function(b,c){var d=
a.markers[c];return b.length==d.length&&b.every(function(f,e){return f.eq(d[e])})})};xa.prototype.walk=function(a){var b=X(this.exprs,a);return a(b==this.exprs?this:new xa(this.start,b,this.markers))};xa.prototype.prec=2;var rb=function(a,b,c){this.start=a;this.id=b;this.type=c;return this};$jscomp.inherits(rb,ta);rb.prototype.toString=function(){return("ambig"==this.type?"~":"!")+this.id.name};rb.prototype.eq=function(a){return this.id.name==a.id.name&&this.type==a.type};var Ja=function(a,b,c){a=
la.call(this,a)||this;a.expr=b;a.kind=c;return a};$jscomp.inherits(Ja,la);Ja.prototype.toString=function(){return Ha(this.expr,this)+this.kind};Ja.prototype.eq=function(a){return ja(this.expr,a.expr)&&this.kind==a.kind};Ja.prototype.walk=function(a){var b=this.expr.walk(a);return a(b==this.expr?this:new Ja(this.start,b,this.kind))};Ja.prototype.prec=3;var Ba=function(a,b){a=la.call(this,a)||this;a.value=b;return a};$jscomp.inherits(Ba,la);Ba.prototype.toString=function(){return JSON.stringify(this.value)};
Ba.prototype.eq=function(a){return this.value==a.value};var mb=function(a,b,c){a=la.call(this,a)||this;a.ranges=b;a.inverted=c;return a};$jscomp.inherits(mb,la);mb.prototype.toString=function(){return"["+(this.inverted?"^":"")+this.ranges.map(function(a){var b=$jscomp.makeIterator(a);a=b.next().value;b=b.next().value;return String.fromCodePoint(a)+(b==a+1?"":"-"+String.fromCodePoint(b))})+"]"};mb.prototype.eq=function(a){return this.inverted==a.inverted&&this.ranges.length==a.ranges.length&&this.ranges.every(function(b,
c){var d=$jscomp.makeIterator(b);b=d.next().value;d=d.next().value;var f=$jscomp.makeIterator(a.ranges[c]);c=f.next().value;f=f.next().value;return b==c&&d==f})};var lb=function(a){return la.call(this,a)||this};$jscomp.inherits(lb,la);lb.prototype.toString=function(){return"_"};lb.prototype.eq=function(){return!0};var Za=function(a,b,c){this.start=a;this.name=b;this.value=c;return this};$jscomp.inherits(Za,ta);Za.prototype.eq=function(a){return this.name==a.name&&this.value.length==a.value.length&&
this.value.every(function(b,c){return b.value==a.value[c].value&&b.name==a.value[c].name})};Za.prototype.toString=function(){var a=this.name;if(this.value.length){a+="\x3d";for(var b=$jscomp.makeIterator(this.value),c=b.next();!c.done;c=b.next()){var d=c.value;c=d.name;d=d.value;a+=c?"{"+c+"}":/[^\w-]/.test(d)?JSON.stringify(d):d}}return a};Za.eqProps=function(a,b){return a.length==b.length&&a.every(function(c,d){return c.eq(b[d])})};var fb=function(a,b,c){this.start=a;this.value=b;this.name=c;return this};
$jscomp.inherits(fb,ta);var Da=function(){var a=Error.apply(this,arguments);this.message=a.message;"stack"in a&&(this.stack=a.stack)};$jscomp.inherits(Da,Error);var za=Object.create(null),ic=0,vb=function(a,b,c,d){d=void 0===d?za:d;this.name=a;this.flags=b;this.nodeName=c;this.props=d;this.hash=++ic;this.id=-1;this.rules=[];a:{for(var f in d)break a;this.props=za}};vb.prototype.toString=function(){return this.name};vb.prototype.cmp=function(a){return this.hash-a.hash};$jscomp.global.Object.defineProperties(vb.prototype,
{nodeType:{configurable:!0,enumerable:!0,get:function(){return this.top||null!=this.nodeName||this.props!=za||this.repeatRelated}},terminal:{configurable:!0,enumerable:!0,get:function(){return 0<(this.flags&1)}},eof:{configurable:!0,enumerable:!0,get:function(){return 0<(this.flags&4)}},error:{configurable:!0,enumerable:!0,get:function(){return"error"in this.props}},top:{configurable:!0,enumerable:!0,get:function(){return 0<(this.flags&2)}},interesting:{configurable:!0,enumerable:!0,get:function(){return 0<
this.flags||null!=this.nodeName}},repeated:{configurable:!0,enumerable:!0,get:function(){return 0<(this.flags&16)}},repeatWrap:{configurable:!0,enumerable:!0,get:function(){return 0<(this.flags&32)}},repeatRelated:{configurable:!0,enumerable:!0,get:function(){return 0<(this.flags&48)}},preserve:{configurable:!0,enumerable:!0,set:function(a){this.flags=a?this.flags|8:this.flags&-9},get:function(){return 0<(this.flags&8)}}});var ab=function(){this.terms=[];this.names=Object.create(null);this.repeatMap=
Object.create(null);this.tops=[];this.eof=this.term("â„",null,5);this.error=this.term("âš ","âš ",8,{error:""})};ab.prototype.term=function(a,b,c,d){d=void 0===d?za:d;b=new vb(a,void 0===c?0:c,b,d);this.terms.push(b);return this.names[a]=b};ab.prototype.makeTop=function(a,b){a=this.term("@top",a,2,b);this.tops.push(a);return a};ab.prototype.makeTerminal=function(a,b,c){c=void 0===c?za:c;return this.term(a,b,1,c)};ab.prototype.makeNonTerminal=function(a,b,c){c=void 0===c?za:c;return this.term(a,b,0,c)};
ab.prototype.makeRepeat=function(a){var b=this.term(a,null,16);a=this.term(a+"-wrap",null,32);this.repeatMap[b.name]=a;return{inner:b,outer:a}};ab.prototype.uniqueName=function(a){for(var b=0;;b++){var c=b?a+"-"+b:a;if(!this.names[c])return c}};ab.prototype.finish=function(a){for(var b=$jscomp.makeIterator(a),c=b.next();!c.done;c=b.next())c=c.value,c.name.rules.push(c);this.terms=this.terms.filter(function(l){return l.terminal||l.preserve||a.some(function(w){return w.name==l||w.parts.includes(l)})});
b={};c=[this.error];this.error.id=0;for(var d=1,f=$jscomp.makeIterator(this.terms),e=f.next();!e.done;e=f.next())e=e.value,0>e.id&&e.nodeType&&!e.repeatRelated&&(e.id=d++,c.push(e));f=d;var h=$jscomp.makeIterator(this.terms);for(e=h.next();!e.done;e=h.next())e=e.value,e.repeated&&(e.id=d++,c.push(e));h=$jscomp.makeIterator(this.terms);for(e=h.next();!e.done;e=h.next())e=e.value,e.repeated&&(this.repeatMap[e.name].id=d++);this.eof.id=d++;h=$jscomp.makeIterator(this.terms);for(e=h.next();!e.done;e=
h.next())e=e.value,0>e.id&&(e.id=d++),e.name&&(b[e.id]=e.name);if(65534<=d)throw new Da("Too many terms");return{nodeTypes:c,names:b,minRepeatTerm:f,maxTerm:d-1}};var jc=[],ma=function(a,b,c){b=void 0===b?jc:b;this.precedence=a;this.ambigGroups=b;this.cut=void 0===c?0:c};ma.prototype.join=function(a){return this==ma.none||this==a?a:a==ma.none?this:new ma(Math.max(this.precedence,a.precedence),da(this.ambigGroups,a.ambigGroups),Math.max(this.cut,a.cut))};ma.prototype.cmp=function(a){return this.precedence-
a.precedence||Ya(this.ambigGroups,a.ambigGroups,function(b,c){return b<c?-1:b>c?1:0})||this.cut-a.cut};ma.none=new ma(0);var kc=0,$a=function(a,b,c,d){this.name=a;this.parts=b;this.conflicts=c;this.skip=d;this.id=kc++};$a.prototype.cmp=function(a){return this.id-a.id};$a.prototype.cmpNoName=function(a){return this.parts.length-a.parts.length||this.skip.hash-a.skip.hash||this.parts.reduce(function(b,c,d){return b||c.cmp(a.parts[d])},0)||Ya(this.conflicts,a.conflicts,function(b,c){return b.cmp(c)})};
$a.prototype.toString=function(){return this.name+" -\x3e "+this.parts.join(" ")};$a.prototype.sameReduce=function(a){return this.name==a.name&&this.parts.length==a.parts.length&&this.isRepeatLeaf==a.isRepeatLeaf};$jscomp.global.Object.defineProperties($a.prototype,{isRepeatLeaf:{configurable:!0,enumerable:!0,get:function(){return this.name.repeated&&!(2==this.parts.length&&this.parts[0]==this.name)}}});var Tb=function(a,b,c){this.from=a;this.to=void 0===b?a+1:b;this.target=c};Tb.prototype.toString=
function(){return"-\x3e "+this.target.id+"[label\x3d"+JSON.stringify(0>this.from?"Îµ":Pa(this.from)+(this.to>this.from+1?"-"+Pa(this.to-1):""))+"]"};var lc=1,ha=function(a,b){a=void 0===a?[]:a;b=void 0===b?lc++:b;this.accepting=a;this.id=b;this.edges=[]};ha.prototype.edge=function(a,b,c){this.edges.push(new Tb(a,void 0===b?a+1:b,c))};ha.prototype.nullEdge=function(a){this.edge(-1,-1,a)};ha.prototype.compile=function(){function a(d){var f=b[oa(d)]=new ha(d.reduce(function(w,u){return da(w,u.accepting)},
[]),c++),e=[];d=$jscomp.makeIterator(d);for(var h=d.next();!h.done;h=d.next()){h=$jscomp.makeIterator(h.value.edges);for(var l=h.next();!l.done;l=h.next())l=l.value,0<=l.from&&e.push(l)}e=db(e);e=$jscomp.makeIterator(e);for(d=e.next();!d.done;d=e.next())d=d.value,h=d.targets.sort(function(w,u){return w.id-u.id}),f.edge(d.from,d.to,b[oa(h)]||a(h));return f}var b=Object.create(null),c=0;return a(this.closure().sort(function(d,f){return d.id-f.id}))};ha.prototype.closure=function(){function a(c){if(!b.includes(c)){(c.edges.some(function(e){return 0<=
e.from})||0<c.accepting.length&&!c.edges.some(function(e){a:{var h=c.accepting;e=e.target.accepting;if(h.length!=e.length)h=!1;else{for(var l=0;l<h.length;l++)if(h[l]!=e[l]){h=!1;break a}h=!0}}return h}))&&b.push(c);for(var d=$jscomp.makeIterator(c.edges),f=d.next();!f.done;f=d.next())f=f.value,0>f.from&&a(f.target)}}var b=[];a(this);return b};ha.prototype.findConflicts=function(a){function b(f,e,h,l){if(f.id<e.id){var w=$jscomp.makeIterator([e,f]);f=w.next().value;e=w.next().value}c.some(function(u){return u.a==
f&&u.b==e})||c.push(new mc(f,e,na(h),l&&na(l)))}var c=[],d=this.cycleTerms();this.reachable(function(f,e){if(0!=f.accepting.length){for(var h=0;h<f.accepting.length;h++)for(var l=h+1;l<f.accepting.length;l++)b(f.accepting[h],f.accepting[l],e);f.reachable(function(w,u){if(w!=f){w=$jscomp.makeIterator(w.accepting);for(var y=w.next();!y.done;y=w.next()){y=y.value;for(var A=d.includes(y),B=$jscomp.makeIterator(f.accepting),I=B.next();!I.done;I=B.next())I=I.value,y==I||!A&&!d.includes(I)&&a(y,I)||b(y,
I,e,e.concat(u))}}})}});return c};ha.prototype.cycleTerms=function(){var a=[],b=[];(function e(d,f){var h=f.indexOf(d);if(-1<h)for(d=h;d<f.length;d++)a.includes(f[d])||(a.push(f[d]),f[d].reachable(function(l){l=$jscomp.makeIterator(l.accepting);for(var w=l.next();!w.done;w=l.next())w=w.value,b.includes(w)||b.push(w)}));else{f.push(d);d=$jscomp.makeIterator(d.edges);for(h=d.next();!h.done;h=d.next())e(h.value.target,f);f.pop()}})(this,[]);return b};ha.prototype.reachable=function(a){var b=[],c=[];
(function e(f){a(f,c);b.push(f);f=$jscomp.makeIterator(f.edges);for(var h=f.next();!h.done;h=f.next())h=h.value,b.includes(h.target)||(c.push(h),e(h.target),c.pop())})(this)};ha.prototype.toString=function(){var a="digraph {\n";this.reachable(function(b){b.accepting.length&&(a+="  "+b.id+" [label\x3d"+JSON.stringify(b.accepting.join())+"];\n");for(var c=$jscomp.makeIterator(b.edges),d=c.next();!d.done;d=c.next())a+="  "+b.id+" "+d.value+";\n"});return a+"}"};ha.prototype.toArray=function(a,b){var c=
[],d=[];this.reachable(function(e){var h=d.length,l=h+3+2*e.accepting.length;c[e.id]=h;d.push(e.stateMask(a),l,e.edges.length);e.accepting.sort(function(w,u){return b.indexOf(w.id)-b.indexOf(u.id)});h=$jscomp.makeIterator(e.accepting);for(l=h.next();!l.done;l=h.next())l=l.value,d.push(l.id,a[l.id]||65535);e=$jscomp.makeIterator(e.edges);for(h=e.next();!h.done;h=e.next())h=h.value,d.push(h.from,h.to,-h.target.id-1)});for(var f=0;f<d.length;f++)0>d[f]&&(d[f]=c[-d[f]-1]);if(d.length>Math.pow(2,16))throw new Da("Tokenizer tables too big to represent with 16-bit offsets.");
return Uint16Array.from(d)};ha.prototype.stateMask=function(a){var b=0;this.reachable(function(c){c=$jscomp.makeIterator(c.accepting);for(var d=c.next();!d.done;d=c.next())b|=a[d.value.id]||65535});return b};var mc=function(a,b,c,d){this.a=a;this.b=b;this.exampleA=c;this.exampleB=d},Wb=function(a,b,c){this.from=a;this.to=b;this.targets=c},ob=/[\w_]+/gy;try{ob=/[\p{Alphabetic}\d_]+/ugy}catch(a){}var eb=[],Fa=function(a,b){this.string=a;this.fileName=void 0===b?null:b;this.type="sof";this.value=null;
this.end=this.start=0;this.next()};Fa.prototype.lineInfo=function(a){for(var b=1,c=0;;){var d=this.string.indexOf("\n",c);if(-1<d&&d<a)++b,c=d+1;else return{line:b,ch:a-c}}};Fa.prototype.message=function(a,b){b=void 0===b?-1:b;var c=this.fileName||"";-1<b&&(b=this.lineInfo(b),c+=(c?" ":"")+b.line+":"+b.ch);return c?a+(" ("+c+")"):a};Fa.prototype.raise=function(a,b){throw new Da(this.message(a,void 0===b?-1:b));};Fa.prototype.match=function(a,b){return(b=b.exec(this.string.slice(a)))?a+b[0].length:
-1};Fa.prototype.next=function(){var a=this.match(this.end,/^(\s|\/\/.*|\/\*[^]*?\*\/)*/);if(a==this.string.length)return this.set("eof",null,a,a);var b=this.string[a];if('"'==b)return b=this.match(a+1,/^(\\.|[^"])*"/),-1==b&&this.raise("Unterminated string literal",a),this.set("string",r(this.string.slice(a+1,b-1)),a,b);if("'"==b)return b=this.match(a+1,/^(\\.|[^'])*'/),-1==b&&this.raise("Unterminated string literal",a),this.set("string",r(this.string.slice(a+1,b-1)),a,b);if("@"==b)return ob.lastIndex=
a+1,(b=ob.exec(this.string))?this.set("at",b[0],a,a+1+b[0].length):this.raise("@ without a name",a);if("$"!=b&&"!"!=b||"["!=this.string[a+1]){if(/[\[\]()!~+*?{}<>\.,|:$=]/.test(b))return this.set(b,null,a,a+1);ob.lastIndex=a;var c=ob.exec(this.string);return c?this.set("id",c[0],a,a+c[0].length):this.raise("Unexpected character "+JSON.stringify(b),a)}b=this.match(a+2,/^(?:\\.|[^\]])*\]/);-1==b&&this.raise("Unterminated character set",a);return this.set("set",this.string.slice(a+2,b-1),a,b)};Fa.prototype.set=
function(a,b,c,d){this.type=a;this.value=b;this.start=c;this.end=d};Fa.prototype.eat=function(a,b){b=void 0===b?null:b;if(this.type!=a||null!=b&&this.value!==b)return!1;this.next();return!0};Fa.prototype.unexpected=function(){return this.raise("Unexpected token '"+this.string.slice(this.start,this.end)+"'",this.start)};Fa.prototype.expect=function(a,b){b=void 0===b?null:b;var c=this.value;(this.type!=a||null!=b&&c!==b)&&this.unexpected();this.next();return c};Fa.prototype.parse=function(){var a=this.start;
for(var b=[],c=null,d=null,f=null,e=[],h=[],l=[],w=[],u=[],y=[],A=!1;"eof"!=this.type;){var B=this.start;if("at"==this.type&&"top"==this.value)this.next(),B="id"==this.type?E(this):new sb(B,"@top"),y.length&&"@top"===B.name&&this.raise("Unnamed secondary @top declaration",this.start),y.push(Ia(this,B));else if("at"==this.type&&"tokens"==this.value)if(d)this.raise("Multiple @tokens declaractions",this.start);else{d=this.start;this.next();this.expect("{");B=[];for(var I=[],H=[];!this.eat("}");)"at"==
this.type&&"precedence"==this.value?H.push(n(this)):"string"==this.type?I.push(new Sb(this.start,this.expect("string"),Ga(this))):B.push(Ia(this));d=new Rb(d,H,B,I)}else if(this.eat("at","external"))this.eat("id","tokens")?l.push(k(this,B)):this.eat("id","grammar")?u.push(q(this,B)):this.eat("id","prop")?u.push(t(this,B)):this.eat("id","extend")?w.push(m(this,"extend",B)):this.eat("id","specialize")?w.push(m(this,"specialize",B)):this.unexpected();else if(this.eat("at","dialects"))for(this.expect("{"),
B=!0;!this.eat("}");B=!1)B||this.eat(","),h.push(E(this));else if("at"==this.type&&"precedence"==this.value)if(c)this.raise("Multiple precedence declarations",this.start);else{c=this.start;this.next();this.expect("{");for(B=[];!this.eat("}");)B.length&&this.eat(","),B.push({id:E(this),type:this.eat("at","left")?"left":this.eat("at","right")?"right":this.eat("at","cut")?"cut":null});c=new Qb(c,B)}else if(this.eat("at","detectDelim"))A=!0;else if(this.eat("at","skip"))if(B=qa(this),"{"==this.type){this.next();
for(I=[];!this.eat("}");)I.push(Ia(this));e.push({expr:B,rules:I})}else f&&this.raise("Multiple top-level skip declarations",this.start),f=B;else b.push(Ia(this))}a=y.length?new yb(a,b,y,d,l,w,c,f,e,h,u,[],A):this.raise("Missing @top declaration");return a};var sa=function(a,b,c,d,f,e){this.rule=a;this.pos=b;this.ahead=c;this.ambigAhead=d;this.skipAhead=f;this.prev=e;a=C(C(a.id,b),f.hash);b=$jscomp.makeIterator(this.ahead);for(c=b.next();!c.done;c=b.next())a=C(a,c.value.hash);d=$jscomp.makeIterator(d);
for(b=d.next();!b.done;b=d.next())for(b=b.value,c=0;c<b.length;c++)a=C(a,b.charCodeAt(c));this.hash=a};sa.prototype.advance=function(){return new sa(this.rule,this.pos+1,this.ahead,this.ambigAhead,this.skipAhead,this)};sa.prototype.reverse=function(){return new sa(this.rule,this.pos-1,this.ahead,this.ambigAhead,this.skipAhead,this.prev.prev)};sa.prototype.cmp=function(a){return this.rule.cmp(a.rule)||this.pos-a.pos||this.skipAhead.hash-a.skipAhead.hash||Ya(this.ahead,a.ahead,function(b,c){return b.cmp(c)})||
Ya(this.ambigAhead,a.ambigAhead,F)};sa.prototype.eqSimple=function(a){return a.rule==this.rule&&a.pos==this.pos};sa.prototype.toString=function(){var a=this.rule.parts.map(function(b){return b.name});a.splice(this.pos,0,"Â·");return this.rule.name+" -\x3e "+a.join(" ")};sa.prototype.eq=function(a){return this==a||this.hash==a.hash&&this.rule==a.rule&&this.pos==a.pos&&this.skipAhead==a.skipAhead&&T(this.ahead,a.ahead)&&T(this.ambigAhead,a.ambigAhead)};sa.prototype.trail=function(){for(var a=[],b=this.prev;b;b=
b.prev)a.push(b.next);return a.reverse().join(" ")};sa.prototype.conflicts=function(a){a=void 0===a?this.pos:a;var b=this.rule.conflicts[a];a==this.rule.parts.length&&this.ambigAhead.length&&(b=b.join(new ma(0,this.ambigAhead)));return b};sa.conflictsAt=function(a,b){var c=ma.none,d=[],f=$jscomp.makeIterator(a);for(a=f.next();!a.done;a=f.next())a=a.value,c=c.join(a.conflicts()),0==a.pos&&U(a.rule.name,d);for(f=0;f<d.length;f++){var e=d[f],h=$jscomp.makeIterator(b);for(a=h.next();!a.done;a=h.next())a=
a.value,a.next==e&&(c=c.join(a.conflicts()),0==a.pos&&U(a.rule.name,d))}return c};$jscomp.global.Object.defineProperties(sa.prototype,{next:{configurable:!0,enumerable:!0,get:function(){return this.pos<this.rule.parts.length?this.rule.parts[this.pos]:null}},skip:{configurable:!0,enumerable:!0,get:function(){return this.pos==this.rule.parts.length?this.skipAhead:this.rule.skip}}});var Ca=function(a,b){this.term=a;this.target=b};Ca.prototype.eq=function(a){return a instanceof Ca&&this.term==a.term&&
a.target.id==this.target.id};Ca.prototype.cmp=function(a){return a instanceof Ta?-1:this.term.id-a.term.id||this.target.id-a.target.id};Ca.prototype.toString=function(){return"s"+this.target.id};Ca.prototype.map=function(a,b){a=a[this.target.id];return a==this.target.id?this:new Ca(this.term,b[a])};var Ta=function(a,b){this.term=a;this.rule=b};Ta.prototype.eq=function(a){return a instanceof Ta&&this.term==a.term&&a.rule.sameReduce(this.rule)};Ta.prototype.cmp=function(a){return a instanceof Ca?1:
this.term.id-a.term.id||this.rule.name.id-a.rule.name.id||this.rule.parts.length-a.rule.parts.length};Ta.prototype.toString=function(){return this.rule.name.name+"("+this.rule.parts.length+")"};Ta.prototype.map=function(){return this};var Ka=function(a,b,c,d,f,e){c=void 0===c?0:c;f=void 0===f?Q(b):f;this.id=a;this.set=b;this.flags=c;this.skip=d;this.hash=f;this.topRule=void 0===e?null:e;this.actions=[];this.actionPositions=[];this.goto=[];this.tokenGroup=-1;this.partOfSkip=this.defaultReduce=null;
this.nested=-1};Ka.prototype.toString=function(){var a=this.actions.map(function(b){return b.term+"\x3d"+b}).join(",")+(this.goto.length?" | "+this.goto.map(function(b){return b.term+"\x3d"+b}).join(","):"");return this.id+": "+this.set.filter(function(b){return 0<b.pos}).join()+(this.defaultReduce?"\n  always "+this.defaultReduce.name+"("+this.defaultReduce.parts.length+")":a.length?"\n  "+a:"")};Ka.prototype.addActionInner=function(a,b){var c={},d=0;for(;d<this.actions.length;c={$jscomp$loop$prop$actionConflicts$176:c.$jscomp$loop$prop$actionConflicts$176},
d++){var f=this.actions[d];if(f.term==a.term){if(f.eq(a))return null;var e=sa.conflictsAt(b,this.set);c.$jscomp$loop$prop$actionConflicts$176=sa.conflictsAt(this.actionPositions[d],this.set);var h=e.precedence-c.$jscomp$loop$prop$actionConflicts$176.precedence;if(0<h)this.actions.splice(d,1),this.actionPositions.splice(d,1),d--;else{if(0>h)return null;if(!e.ambigGroups.some(function(l){return function(w){return l.$jscomp$loop$prop$actionConflicts$176.ambigGroups.includes(w)}}(c)))return f}}}this.actions.push(a);
this.actionPositions.push(b);return null};Ka.prototype.addAction=function(a,b){var c=this.addActionInner(a,b);if(c){var d=this.actionPositions[this.actions.indexOf(c)][0];c=c instanceof Ca?"shift/reduce conflict between\n  "+d+"\nand\n  "+b[0].rule:"reduce/reduce conflict between\n  "+b[0].rule+"\nand\n  "+d.rule;b=b[0].trail();50<b.length&&(b=b.slice(b.length-50).replace(/.*? /,"â€¦ "));c+="\nWith input:\n  "+b+" Â· "+a.term+" â€¦";throw new Da(c);}};Ka.prototype.getGoto=function(a){return this.goto.find(function(b){return b.term==
a})};Ka.prototype.hasSet=function(a){return R(this.set,a)};Ka.prototype.finish=function(){if(this.actions.length){var a=this.actions[0];if(a instanceof Ta){var b=a.rule;this.actions.every(function(c){return c instanceof Ta&&c.rule.sameReduce(b)})&&(this.defaultReduce=b)}}this.actions.sort(function(c,d){return c.cmp(d)});this.goto.sort(function(c,d){return c.cmp(d)})};Ka.prototype.eq=function(a){var b=this.defaultReduce,c=a.defaultReduce;return b||c?b&&c?b.sameReduce(c):!1:this.skip==a.skip&&this.tokenGroup==
a.tokenGroup&&R(this.actions,a.actions)&&R(this.goto,a.goto)};var Xb=function(a,b,c,d,f,e){this.rule=a;this.ahead=b;this.origIndex=c;this.ambigAhead=d;this.skipAhead=f;this.prev=e},Yb=function(a,b){this.set=a;this.state=b},Jb=[],ia=[],zb="undefined"!=typeof Pb&&Pb.env.LOG||"",Aa=function(a,b){this.terms=a;this.conflicts=b};Aa.prototype.concat=function(a){if(this==Aa.none)return a;if(a==Aa.none)return this;var b=null;if(this.conflicts||a.conflicts){b=this.conflicts?this.conflicts.slice():this.ensureConflicts();
var c=a.ensureConflicts();b[b.length-1]=b[b.length-1].join(c[0]);for(var d=1;d<c.length;d++)b.push(c[d])}return new Aa(this.terms.concat(a.terms),b)};Aa.prototype.withConflicts=function(a,b){if(b==ma.none)return this;var c=this.conflicts?this.conflicts.slice():this.ensureConflicts();c[a]=c[a].join(b);return new Aa(this.terms,c)};Aa.prototype.ensureConflicts=function(){if(this.conflicts)return this.conflicts;for(var a=[],b=0;b<=this.terms.length;b++)a.push(ma.none);return a};Aa.none=new Aa(ia,null);
var gb=function(a,b,c){this.id=a;this.args=b;this.term=c};gb.prototype.matches=function(a){return this.id==a.id.name&&va(a.args,this.args)};gb.prototype.matchesRepeat=function(a){return this.id==a.kind&&ja(a.expr,this.args[0])};var ca=function(a,b){var c=this;this.options=b;this.terms=new ab;this.nestedGrammars=[];this.specialized=Object.create(null);this.tokenOrigins=Object.create(null);this.rules=[];this.built=[];this.ruleNames=Object.create(null);this.namespaces=Object.create(null);this.namedTerms=
Object.create(null);this.termTable=Object.create(null);this.knownProps=Object.create(null);this.astRules=[];this.currentSkip=[];this.skipRules=[];this.input=new Fa(a,b.fileName);this.ast=this.input.parse();a=La.NodeProp;for(var d in a)a[d]instanceof La.NodeProp&&(this.knownProps[d]={prop:a[d],source:{name:d,from:null}});d=$jscomp.makeIterator(this.ast.externalProps);for(a=d.next();!a.done;a=d.next())a=a.value,this.knownProps[a.id.name]={prop:this.options.externalProp?this.options.externalProp(a.id.name):
La.NodeProp.string(),source:{name:a.externalID.name,from:a.source}};this.dialects=this.ast.dialects.map(function(u){return u.name});this.tokens=new Ma(this,this.ast.tokens);this.externalTokens=this.ast.externalTokens.map(function(u){return new Ab(c,u)});this.externalSpecializers=this.ast.externalSpecializers.map(function(u){return new Bb(c,u)});this.defineNamespace("nest",new Ub);this.noSkip=this.newName("%noskip",!0);this.defineRule(this.noSkip,[]);d={};a=$jscomp.makeIterator(this.ast.grammars);
for(b=a.next();!b.done;d={$jscomp$loop$prop$grammar$201:d.$jscomp$loop$prop$grammar$201},b=a.next())d.$jscomp$loop$prop$grammar$201=b.value,this.ast.grammars.some(function(u){return function(y){return y!=u.$jscomp$loop$prop$grammar$201&&y.id.name==u.$jscomp$loop$prop$grammar$201.id.name}}(d))&&this.raise("Duplicate external grammar name '"+d.$jscomp$loop$prop$grammar$201.id.name+"'",d.$jscomp$loop$prop$grammar$201.id.start);d=this.ast.mainSkip?this.newName("%mainskip",!0):this.noSkip;var f=[];b=$jscomp.makeIterator(this.ast.rules);
for(a=b.next();!a.done;a=b.next())this.astRules.push({skip:d,rule:a.value});b={};var e=$jscomp.makeIterator(this.ast.scopedSkip);for(a=e.next();!a.done;b={$jscomp$loop$prop$scoped$203:b.$jscomp$loop$prop$scoped$203},a=e.next()){b.$jscomp$loop$prop$scoped$203=a.value;var h=this.noSkip;a=this.ast.scopedSkip.findIndex(function(u){return function(y,A){return A<f.length&&ja(y.expr,u.$jscomp$loop$prop$scoped$203.expr)}}(b));-1<a?h=f[a]:this.ast.mainSkip&&ja(b.$jscomp$loop$prop$scoped$203.expr,this.ast.mainSkip)?
h=d:Mb(b.$jscomp$loop$prop$scoped$203.expr)||(h=this.newName("%skip",!0));f.push(h);var l=$jscomp.makeIterator(b.$jscomp$loop$prop$scoped$203.rules);for(a=l.next();!a.done;a=l.next())this.astRules.push({skip:h,rule:a.value})}a=$jscomp.makeIterator(this.astRules);for(b=a.next();!b.done;b=a.next())b=b.value.rule,this.unique(b.id),this.namespaces[b.id.name]&&this.raise("Rule name '"+b.id.name+"' conflicts with a defined namespace",b.id.start);this.currentSkip.push(this.noSkip);d!=this.noSkip&&(this.skipRules.push(d),
this.defineRule(d,this.normalizeExpr(this.ast.mainSkip)));for(a=0;a<this.ast.scopedSkip.length;a++)b=f[a],b==this.noSkip||b==d||0!=a&&-1!=f.lastIndexOf(b,a-1)||(this.skipRules.push(f[a]),this.defineRule(f[a],this.normalizeExpr(this.ast.scopedSkip[a].expr)));this.currentSkip.pop();a=$jscomp.makeIterator(this.ast.topRules);for(b=a.next();!b.done;b=a.next())b=b.value,this.currentSkip.push(d),e=this.nodeInfo(b.props,"@top"==b.id.name?null:b.id.name,ia,ia,b.expr,{top:"true"}),this.defineRule(this.terms.makeTop(e.name,
e.props),this.normalizeExpr(b.expr)),this.currentSkip.pop();d=$jscomp.makeIterator(this.externalSpecializers);for(a=d.next();!a.done;a=d.next())a.value.finish();d=$jscomp.makeIterator(this.ast.rules);for(a=d.next();!a.done;a=d.next())a=a.value,a.exported&&this.ruleNames[a.id.name]&&0==a.params.length&&(b=this.nodeInfo(a.props,a.id.name),(this.namedTerms[a.id.name]=this.newName(a.id.name,b.name,b.props)).preserve=!0,a.expr instanceof xa&&0==a.expr.exprs.length&&this.used(a.id.name));for(var w in this.ruleNames)(d=
this.ruleNames[w])&&this.warn("Unused rule '"+d.name+"'",d.start);this.tokens.takePrecedences()};ca.prototype.unique=function(a){a.name in this.ruleNames&&this.raise("Duplicate definition of rule '"+a.name+"'",a.start);this.ruleNames[a.name]=a};ca.prototype.used=function(a){this.ruleNames[a]=null};ca.prototype.defineNamespace=function(a,b,c){this.namespaces[a]&&this.raise("Duplicate definition of namespace '"+a+"'",void 0===c?0:c);this.namespaces[a]=b};ca.prototype.newName=function(a,b,c){b=void 0===
b?null:b;c=void 0===c?za:c;for(var d=b?0:1;;d++){var f=d?a+"-"+d:a;if(!this.terms.names[f])return this.terms.makeNonTerminal(f,!0===b?null:b,c)}};ca.prototype.getParser=function(){var a=this,b=hc(this.rules,[].concat($jscomp.arrayFromIterable(this.skipRules),$jscomp.arrayFromIterable(this.nestedGrammars.map(function(P){return P.placeholder})),$jscomp.arrayFromIterable(this.terms.tops))),c=this.terms.finish(b),d=c.nodeTypes,f=c.names,e=c.minRepeatTerm;c=c.maxTerm;for(var h in this.namedTerms)this.termTable[h]=
this.namedTerms[h].id;/\bgrammar\b/.test(zb)&&console.log(b.join("\n"));var l=Oa(this.terms);h=this.skipRules.map(function(P){return P.rules.some(function(fa){return 0<fa.parts.length})?Ua(a.terms,[P],l):null});var w=h.map(function(P){return P?P[0].actions.map(function(fa){return fa.term}):ia}),u=Ua(this.terms,this.terms.tops,l);b=this.tokens.buildTokenGroups(u,h,w);var y=b.tokenMasks,A=b.tokenGroups;b=b.tokenPrec;var B=ib(wb(u)),I=B.length+1,H=h.map(function(P,fa){if(!P)return null;if(!P[0].actions.every(function(Na){return xb(Na,
a.skipRules[fa])}))for(var pa=B.length,S=$jscomp.makeIterator(P),Y=S.next();!Y.done;Y=S.next())Y=Y.value,B.push(Y),Y.partOfSkip=a.skipRules[fa],Y.id+=pa;return P[0]});this.addNestedGrammars(B);/\blr\b/.test(zb)&&console.log(B.join("\n"));h=new Uint16Array(this.externalSpecializers.length+Object.keys(this.specialized).length);u=[];for(var N={},O=$jscomp.makeIterator(this.externalSpecializers),V=O.next();!V.done;N={$jscomp$loop$prop$ext$205:N.$jscomp$loop$prop$ext$205},V=O.next())N.$jscomp$loop$prop$ext$205=
V.value,h[u.length]=N.$jscomp$loop$prop$ext$205.term.id,u.push(function(P){return function(fa,pa){return a.options.externalSpecializer(P.$jscomp$loop$prop$ext$205.ast.id.name,a.termTable)(fa,pa)<<1|("extend"==P.$jscomp$loop$prop$ext$205.ast.type?1:0)}}(N));N={};for(var ba in this.specialized)h[u.length]=this.terms.names[ba].id,N.$jscomp$loop$prop$table$147$207=Lb(this.specialized[ba]),u.push(function(P){return function(fa){return P.$jscomp$loop$prop$table$147$207[fa]||-1}}(N)),N={$jscomp$loop$prop$table$147$207:N.$jscomp$loop$prop$table$147$207};
var W=this.tokens.tokenizer(y,b),aa=function(P){return P instanceof hb?P.set.ast.start:a.tokens.ast?a.tokens.ast.start:-1};ba=A.map(function(P){return new La.Parser.TokenGroup(W,P.id)}).concat(this.externalTokens.map(function(P){return new hb(P,a.termTable)})).sort(function(P,fa){return aa(P)-aa(fa)});var ea=new ub;A=H.map(function(P,fa){var pa=[];if(P){for(var S=$jscomp.makeIterator(P.actions),Y=S.next();!Y.done;Y=S.next())Y=Y.value,xb(Y,a.skipRules[fa])?pa.push(Y.term.id,0,4):pa.push(Y.term.id,
P.id,2);P.actions=P.actions.filter(function(Na){return!xb(Na,a.skipRules[fa])})}pa.push(65535);return ea.storeArray(pa)});H=ea.storeArray([65535]);y=new Uint32Array(6*B.length);N=this.computeForceReductions(B);O=$jscomp.makeIterator(B);for(V=O.next();!V.done;V=O.next()){V=V.value;var ya=H,ua=ia;V.skip!=this.noSkip&&(ua=this.skipRules.indexOf(V.skip),ya=A[ua],ua=w[ua]);this.finishState(V,ba,ea,ya,ua,V.id>=I,N[V.id],y)}w=Object.create(null);for(I=0;I<this.dialects.length;I++)w[this.dialects[I]]=ea.storeArray((this.tokens.byDialect[I]||
ia).map(function(P){return P.id}).concat(65535));I=this.nestedGrammars.map(function(P){return{name:P.name,grammar:ec(a,P),end:new La.Parser.TokenGroup(P.end.compile().toArray({},ia),0),placeholder:P.placeholder.id}});A=Object.create(null);H={};N=$jscomp.makeIterator(this.terms.tops);for(O=N.next();!O.done;H={$jscomp$loop$prop$term$209:H.$jscomp$loop$prop$term$209},O=N.next())H.$jscomp$loop$prop$term$209=O.value,A[H.$jscomp$loop$prop$term$209.nodeName||"@top"]=[B.find(function(P){return function(fa){return fa.topRule==
P.$jscomp$loop$prop$term$209}}(H)).id,H.$jscomp$loop$prop$term$209.id];var Cb=this.gatherSkippedTerms();d=new La.NodeGroup(d.map(function(P,fa){return a.toNodeType(P,Cb,fa)}));b=ea.storeArray(b.concat(65535));return new La.Parser(y,ea.finish(),Zb(B),d,c,e,ba,A,I,w,h,u,b,f)};ca.prototype.toNodeType=function(a,b,c){var d=[],f={propData:d};b.includes(a)&&La.NodeProp.skipped.set(f,!0);for(var e in a.props){b=this.knownProps[e];if(!b)throw new Da("No known prop type for "+e);var h=b.prop.deserialize(a.props[e]);
b.prop.set(f,h);d.push(b.source,a.props[e])}return new La.NodeType(a.nodeName||"",f,c)};ca.prototype.addNestedGrammars=function(a){var b=this,c={};a=$jscomp.makeIterator(a);for(var d=a.next();!d.done;c={$jscomp$loop$prop$placeholder$214:c.$jscomp$loop$prop$placeholder$214,$jscomp$loop$prop$state$213:c.$jscomp$loop$prop$state$213},d=a.next())c.$jscomp$loop$prop$state$213=d.value,d=c.$jscomp$loop$prop$state$213.set.filter(function(f){return b.nestedGrammars.some(function(e){return e.placeholder==f.next})}),
d.length&&(c.$jscomp$loop$prop$placeholder$214=d[0].next,d.every(function(f){return function(e){return e.next==f.$jscomp$loop$prop$placeholder$214}}(c))||this.raise("Multiple nested grammars possible after "+d[0].trail()),c.$jscomp$loop$prop$state$213.set.every(function(f){return function(e){return e.next==f.$jscomp$loop$prop$placeholder$214||0==e.pos&&f.$jscomp$loop$prop$state$213.set.some(function(h){return h.next==e.rule.name})}}(c))||this.raise("Nested grammar in ambiguous position after "+d[0].trail()+
" "+c.$jscomp$loop$prop$state$213.set),c.$jscomp$loop$prop$state$213.nested=this.nestedGrammars.findIndex(function(f){return function(e){return e.placeholder==f.$jscomp$loop$prop$placeholder$214}}(c)))};ca.prototype.makeTerminal=function(a,b,c){return this.terms.makeTerminal(this.terms.uniqueName(a),b,c)};ca.prototype.gatherSkippedTerms=function(){for(var a=this.skipRules.slice(),b=0;b<a.length;b++)for(var c=$jscomp.makeIterator(a[b].rules),d=c.next();!d.done;d=c.next()){d=$jscomp.makeIterator(d.value.parts);
for(var f=d.next();!f.done;f=d.next())f=f.value,f.nodeType&&!a.includes(f)&&a.push(f)}return a};ca.prototype.computeForceReductions=function(a){function b(B,I,H){H=void 0===H?null:H;return(B=f[B])?B.some(function(N){var O=H?H.filter(function(ba){return N.parents.includes(ba)}):N.parents;if(0==O.length)return!1;if(N.target==I)return!0;var V=A[N.target];return null!=V&&b(V,I,O)}):!1}for(var c=[],d=[],f=Object.create(null),e=$jscomp.makeIterator(a),h=e.next();!h.done;h=e.next()){var l=h.value;c.push(0);
var w={};h=$jscomp.makeIterator(l.goto);for(var u=h.next();!u.done;w={$jscomp$loop$prop$edge$216:w.$jscomp$loop$prop$edge$216},u=h.next()){w.$jscomp$loop$prop$edge$216=u.value;u=f[w.$jscomp$loop$prop$edge$216.term.id]||(f[w.$jscomp$loop$prop$edge$216.term.id]=[]);var y=u.find(function(B){return function(I){return I.target==B.$jscomp$loop$prop$edge$216.target.id}}(w));y?y.parents.push(l.id):u.push({parents:[l.id],target:w.$jscomp$loop$prop$edge$216.target.id})}d[l.id]=l.set.filter(function(B){return 0<
B.pos&&!B.rule.name.top}).sort(function(B,I){return I.pos-B.pos||B.rule.parts.length-I.rule.parts.length})}var A=Object.create(null);e=$jscomp.makeIterator(a);for(h=e.next();!h.done;h=e.next())l=h.value,l.defaultReduce&&0<l.defaultReduce.parts.length&&(c[l.id]=tb(l.defaultReduce,l.partOfSkip),1==l.defaultReduce.parts.length&&(A[l.id]=l.defaultReduce.name.id));for(e=1;;e++){l=!0;w=$jscomp.makeIterator(a);for(h=w.next();!h.done;h=w.next())if(h=h.value,!h.defaultReduce)if(u=d[h.id],u.length!=e)u.length>
e&&(l=!1);else for(u=$jscomp.makeIterator(u),y=u.next();!y.done;y=u.next())if(y=y.value,1!=y.pos||!b(y.rule.name.id,h.id)){c[h.id]=tb(y.rule,h.partOfSkip,y.pos);1==y.pos&&(A[h.id]=y.rule.name.id);break}if(l)break}return c};ca.prototype.finishState=function(a,b,c,d,f,e,h,l){var w=[],u=a.defaultReduce?tb(a.defaultReduce,a.partOfSkip):0;e=(e?1:0)|(-1<a.nested?4|a.nested<<10:0);var y=-1;if(0==u)for(var A=$jscomp.makeIterator(a.actions),B=A.next();!B.done;B=A.next())if(B=B.value,B instanceof Ca)w.push(B.term.id,
B.target.id,0);else{var I=tb(B.rule,a.partOfSkip);a.partOfSkip&&B.term.eof?y=I:w.push(B.term.id,I&65535,I>>16)}-1<y&&w.push(0,y&65535,y>>16);w.push(65535);a.set.some(function(H){return H.rule.name.top&&H.pos==H.rule.parts.length})&&(e|=2);y=[];for(A=0;A<a.actions.length+f.length;A++)for(B=A<a.actions.length?a.actions[A].term:f[A-a.actions.length];;)if((B=this.tokenOrigins[B.name])&&B.spec)B=B.spec;else{B&&B.external instanceof Ab&&nb(y,B.external);break}y.sort(function(H,N){return H.ast.start-N.ast.start});
for(A=f=0;A<b.length;A++)if(B=b[A],B instanceof hb?y.includes(B.set):B.id==a.tokenGroup)f|=1<<A;a=6*a.id;l[a+0]=e;l[a+1]=c.storeArray(w);l[a+2]=d;l[a+3]=f;l[a+4]=u;l[a+5]=h};ca.prototype.substituteArgs=function(a,b,c){var d=this;return 0==b.length?a:a.walk(function(f){var e;if(f instanceof ra&&!f.namespace&&-1<(e=c.findIndex(function(l){return l.name==f.id.name}))){e=b[e];if(f.args.length){if(e instanceof ra&&!e.args.length)return new ra(f.start,e.namespace,e.id,f.args);d.raise("Passing arguments to a parameter that already has arguments",
f.start)}return e}if(f instanceof Ra){e=f.rule;var h=d.substituteArgsInProps(e.props,b,c);return h==e.props?f:new Ra(f.start,new kb(e.start,e.id,e.exported,h,e.params,e.expr))}return f instanceof Sa?(e=d.substituteArgsInProps(f.props,b,c),e==f.props?f:new Sa(f.start,f.type,e,f.token,f.content)):f})};ca.prototype.substituteArgsInProps=function(a,b,c){for(var d=this,f=function(u){for(var y=u,A={},B=0;B<u.length;A={$jscomp$loop$prop$part$218:A.$jscomp$loop$prop$part$218},B++)if(A.$jscomp$loop$prop$part$218=
u[B],A.$jscomp$loop$prop$part$218.name){var I=c.findIndex(function(H){return function(N){return N.name==H.$jscomp$loop$prop$part$218.name}}(A));0>I||(y==u&&(y=u.slice()),I=b[I],I instanceof ra&&!I.namespace&&!I.args.length?y[B]=new fb(A.$jscomp$loop$prop$part$218.start,I.id.name,null):I instanceof Ba?y[B]=new fb(A.$jscomp$loop$prop$part$218.start,I.value,null):d.raise("Trying to interpolate expression '"+I+"' into a prop",A.$jscomp$loop$prop$part$218.start))}return y},e=a,h=0;h<a.length;h++){var l=
a[h],w=f(l.value);w!=l.value&&(e==a&&(e=a.slice()),e[h]=new Za(l.start,l.name,w))}return e};ca.prototype.conflictsFor=function(a){var b=ma.none,c=ma.none,d={};a=$jscomp.makeIterator(a);for(var f=a.next();!f.done;d={$jscomp$loop$prop$marker$220:d.$jscomp$loop$prop$marker$220},f=a.next())if(d.$jscomp$loop$prop$marker$220=f.value,"ambig"==d.$jscomp$loop$prop$marker$220.type)b=b.join(new ma(0,[d.$jscomp$loop$prop$marker$220.id.name]));else{var e=this.ast.precedences,h=e?e.items.findIndex(function(l){return function(w){return w.id.name==
l.$jscomp$loop$prop$marker$220.id.name}}(d)):-1;0>h&&this.raise("Reference to unknown precedence: '"+d.$jscomp$loop$prop$marker$220.id.name+"'",d.$jscomp$loop$prop$marker$220.id.start);f=e.items[h];e=e.items.length-h;"cut"==f.type?b=b.join(new ma(0,ia,e)):(b=b.join(new ma(e<<2)),c=c.join(new ma((e<<2)+("left"==f.type?1:"right"==f.type?-1:0))))}return{here:b,atEnd:c}};ca.prototype.raise=function(a,b){return this.input.raise(a,void 0===b?1:b)};ca.prototype.warn=function(a,b){a=this.input.message(a,
void 0===b?-1:b);this.options.warn?this.options.warn(a):console.warn(a)};ca.prototype.defineRule=function(a,b){var c=this.currentSkip[this.currentSkip.length-1];b=$jscomp.makeIterator(b);for(var d=b.next();!d.done;d=b.next())d=d.value,this.rules.push(new $a(a,d.terms,d.ensureConflicts(),c));return a};ca.prototype.resolve=function(a){if(a.namespace){var b=this.namespaces[a.namespace.name];b||this.raise("Reference to undefined namespace '"+a.namespace.name+"'",a.start);return b.resolve(a,this)}b=$jscomp.makeIterator(this.built);
for(var c=b.next();!c.done;c=b.next())if(c=c.value,c.matches(a))return[wa(c.term)];if(b=this.tokens.getToken(a))return[wa(b)];b=$jscomp.makeIterator(this.externalTokens);for(c=b.next();!c.done;c=b.next())if(c=c.value.getToken(a))return[wa(c)];b=$jscomp.makeIterator(this.externalSpecializers);for(c=b.next();!c.done;c=b.next())if(c=c.value.getToken(a))return[wa(c)];b=this.astRules.find(function(d){return d.rule.id.name==a.id.name});if(!b)return this.raise("Reference to undefined rule '"+a.id.name+"'",
a.start);b.rule.params.length!=a.args.length&&this.raise("Wrong number or arguments for '"+a.id.name+"'",a.start);this.used(b.rule.id.name);return[wa(this.buildRule(b.rule,a.args,b.skip))]};ca.prototype.normalizeRepeat=function(a){var b=this.built.find(function(f){return f.matchesRepeat(a)});if(b)return wa(b.term);var c=this.terms.makeRepeat(this.terms.uniqueName(a.expr instanceof xa||a.expr instanceof Ea?"("+a.expr+")"+a.kind:a.toString()));b=c.inner;c=c.outer;this.defineRule(c,"*"==a.kind?[Aa.none,
wa(b)]:[wa(b)]);this.built.push(new gb(a.kind,[a.expr],c));var d=this.normalizeExpr(a.expr);d.push(new Aa([b,b],[ma.none,new ma(2E8-1,ia),new ma(2E8,ia)]));this.defineRule(b,d);return wa(c)};ca.prototype.normalizeSequence=function(a){function b(e,h,l){var w=f.conflictsFor(a.markers[h]),u=w.here;w=w.atEnd;if(h==d.length)return[e.withConflicts(e.terms.length,u.join(l))];for(var y=[],A=$jscomp.makeIterator(d[h]),B=A.next();!B.done;B=A.next()){B=$jscomp.makeIterator(b(e.concat(B.value).withConflicts(e.terms.length,
u),h+1,l.join(w)));for(var I=B.next();!I.done;I=B.next())y.push(I.value)}return y}var c=this,d=a.exprs.map(function(e){return c.normalizeExpr(e)}),f=this;return b(Aa.none,0,ma.none)};ca.prototype.normalizeExpr=function(a){var b=this;return a instanceof Ja&&"?"==a.kind?[Aa.none].concat($jscomp.arrayFromIterable(this.normalizeExpr(a.expr))):a instanceof Ja?[this.normalizeRepeat(a)]:a instanceof Ea?a.exprs.reduce(function(c,d){return c.concat(b.normalizeExpr(d))},[]):a instanceof xa?this.normalizeSequence(a):
a instanceof Ba?[wa(this.tokens.getLiteral(a))]:a instanceof ra?this.resolve(a):a instanceof Sa?[wa(this.resolveSpecialization(a))]:a instanceof Ra?[wa(this.buildRule(a.rule,ia,this.currentSkip[this.currentSkip.length-1],!0))]:this.raise("This type of expression ('"+a+"') may not occur in non-token rules",a.start)};ca.prototype.buildRule=function(a,b,c,d){d=void 0===d?!1:d;var f=this.substituteArgs(a.expr,b,a.params),e=this.nodeInfo(a.props||ia,a.id.name,b,a.params,a.expr),h=e.name;e=e.props;a.exported&&
a.params.length&&this.warn("Can't export parameterized rules",a.start);e=this.newName(a.id.name+(b.length?"\x3c"+b.join(",")+"\x3e":""),h||!0,e);(e.nodeType||a.exported)&&0==a.params.length&&(h||(e.preserve=!0),this.namedTerms[a.id.name]=e);d||this.built.push(new gb(a.id.name,b,e));this.currentSkip.push(c);a=this.defineRule(e,this.normalizeExpr(f));this.currentSkip.pop();return a};ca.prototype.nodeInfo=function(a,b,c,d,f,e){c=void 0===c?ia:c;d=void 0===d?ia:d;b=this.nodeInfoInner(a,void 0===b?null:
b,c,d,f,e);null!=b.dialect&&this.raise("Can't specify a dialect on non-token rules",a[0].start);return b};ca.prototype.nodeInfoInner=function(a,b,c,d,f,e){b=void 0===b?null:b;c=void 0===c?ia:c;d=void 0===d?ia:d;var h=za,l;if(l=b)l=b[0],l=!("_"==l||l.toUpperCase()!=l);b=l&&!/ /.test(b)?b:null;l=null;for(var w=$jscomp.makeIterator(a),u=w.next();!u.done;u=w.next())u=u.value,"name"==u.name?(b=this.finishProp(u,c,d),/ /.test(b)&&this.raise("Node names cannot have spaces ('"+b+"')",u.start)):"dialect"==
u.name?(1==u.value.length||u.value[0].value||this.raise("The 'dialect' rule prop must hold a plain string value"),l=this.dialects.indexOf(u.value[0].value),0>l&&this.raise("Unknown dialect '"+u.value[0].value+"'",u.value[0].start)):nc.includes(u.name)?this.raise("Prop name '"+u.name+"' is reserved",u.start):this.knownProps[u.name]?(h==za&&(h=Object.create(null)),h[u.name]=this.finishProp(u,c,d)):this.raise("Unknown prop name '"+u.name+"'",u.start);f&&this.ast.autoDelim&&(b||h!=za)&&(c=this.findDelimiters(f))&&
(Kb(c[0],"closedBy",c[1].nodeName),Kb(c[1],"openedBy",c[0].nodeName));if(e&&e!=za){h==za&&(h=Object.create(null));for(var y in e)y in h||(h[y]=e[y])}h==za||b||h.top||this.raise("Node has properties but no name",a.length?a[0].start:f.start);return{name:b,props:h,dialect:l}};ca.prototype.finishProp=function(a,b,c){var d=this;return a.value.map(function(f){if(f.value)return f.value;var e=c.findIndex(function(h){return h.name==f.name});0>e&&d.raise("Property refers to '"+f.name+"', but no parameter by that name is in scope",
f.start);e=b[e];return e instanceof ra&&!e.args.length&&!e.namespace?e.id.name:e instanceof Ba?e.value:d.raise("Expression '"+e+"' can not be used as part of a property value",f.start)}).join("")};ca.prototype.resolveSpecialization=function(a){var b=a.type,c=this.nodeInfoInner(a.props),d=c.name,f=c.props;c=c.dialect;var e=this.normalizeExpr(a.token);1==e.length&&1==e[0].terms.length&&e[0].terms[0].terminal||this.raise("The first argument to '"+b+"' must resolve to a token",a.token.start);if(a.content instanceof
Ba)var h=[a.content.value];else if(a.content instanceof Ea&&a.content.exprs.every(function(A){return A instanceof Ba}))h=a.content.exprs.map(function(A){return A.value});else return this.raise("The second argument to '"+a.type+"' must be a literal or choice of literals",a.content.start);e=e[0].terms[0];var l=null,w=this.specialized[e.name]||(this.specialized[e.name]=[]),u={};h=$jscomp.makeIterator(h);for(var y=h.next();!y.done;u={$jscomp$loop$prop$value$222:u.$jscomp$loop$prop$value$222},y=h.next())u.$jscomp$loop$prop$value$222=
y.value,y=w.find(function(A){return function(B){return B.value==A.$jscomp$loop$prop$value$222}}(u)),null==y?(l||(l=this.makeTerminal(e.name+"/"+JSON.stringify(u.$jscomp$loop$prop$value$222),d,f),null!=c&&(this.tokens.byDialect[c]||(this.tokens.byDialect[c]=[])).push(l)),w.push({value:u.$jscomp$loop$prop$value$222,term:l,type:b,dialect:c}),this.tokenOrigins[l.name]={spec:e}):(y.type!=b&&this.raise("Conflicting specialization types for "+JSON.stringify(u.$jscomp$loop$prop$value$222)+" of "+e.name+" ("+
b+" vs "+y.type+")",a.start),y.dialect!=c&&this.raise("Conflicting dialects for specialization "+JSON.stringify(u.$jscomp$loop$prop$value$222)+" of "+e.name,a.start),l&&y.term!=l&&this.raise("Conflicting specialization tokens for "+JSON.stringify(u.$jscomp$loop$prop$value$222)+" of "+e.name,a.start),l=y.term);return l};ca.prototype.findDelimiters=function(a){var b=this;if(!(a instanceof xa)||2>a.exprs.length)return null;var c=function(e){if(e instanceof Ba)return{term:b.tokens.getLiteral(e),str:e.value};
if(e instanceof ra&&0==e.args.length){var h=b.ast.rules.find(function(l){return l.id.name==e.id.name});if(h)return c(h.expr);if((h=b.tokens.rules.find(function(l){return l.id.name==e.id.name}))&&h.expr instanceof Ba)return{term:b.tokens.getToken(e),str:h.expr.value}}return null},d=c(a.exprs[a.exprs.length-1]);if(!d||!d.term.nodeName)return null;var f=["()","[]","{}","\x3c\x3e"].find(function(e){return-1<d.str.indexOf(e[1])&&0>d.str.indexOf(e[0])});if(!f)return null;a=c(a.exprs[0]);return!a||!a.term.nodeName||
0>a.str.indexOf(f[0])||-1<a.str.indexOf(f[1])?null:[a.term,d.term]};var nc=["error","repeated"],ub=function(){this.data=[]};ub.prototype.storeArray=function(a){a:{var b=this.data;var c=0;b:for(;;){c=b.indexOf(a[0],c);if(-1==c||c+a.length>b.length)break;for(var d=1;d<a.length;d++)if(a[d]!=b[c+d]){c+=1;continue b}b=c;break a}b=-1}if(-1<b)return b;b=this.data.length;a=$jscomp.makeIterator(a);for(c=a.next();!c.done;c=a.next())this.data.push(c.value);return b};ub.prototype.finish=function(){return Uint16Array.from(this.data)};
var oc=function(a,b){this.tokens=a;this.id=b},pc=function(a,b,c,d,f){this.placeholder=a;this.name=b;this.extName=c;this.source=d;this.end=f},Ub=function(){};Ub.prototype.resolve=function(a,b){2<a.args.length&&b.raise("Too many arguments to 'nest."+a.id.name+"'",a.start);var c=$jscomp.makeIterator(a.args),d=c.next().value,f=c.next().value;c=b.ast.grammars.find(function(l){return l.id.name==a.id.name});if(!c)return b.raise("No external grammar '"+a.id.name+"' defined",a.id.start);var e=b.newName(a.id.name+
"-placeholder",!0);b.defineRule(e,f?b.normalizeExpr(f):[]);if(!d&&!(d=ac(b.ast,a)))return b.raise("No end token specified, and no token found directly after the nest expression",a.start);f=new ha;var h=new ha([b.terms.eof]);try{b.tokens.build(d,f,h,ia)}catch(l){if(!(l instanceof SyntaxError))throw l;b.raise("End token '"+d+"' for nested grammar is not a valid token expression",d.start)}b.nestedGrammars.push(new pc(e,c.id.name,c.externalID.name,c.source,f));b.nestedGrammars.length>=Math.pow(2,20)&&
b.raise("Too many nested grammars used");return[wa(e)]};var qc=function(a,b,c){this.name=a;this.expr=b;this.scope=c},rc=function(a,b,c,d){this.name=a;this.start=b;this.to=c;this.args=d},Ma=function(a,b){this.b=a;this.ast=b;this.startState=new ha;this.built=[];this.building=[];this.byDialect=Object.create(null);this.precedences=[];this.precedenceRelations=[];this.rules=b?b.rules:ia;a=$jscomp.makeIterator(this.rules);for(b=a.next();!b.done;b=a.next())this.b.unique(b.value.id)};Ma.prototype.getToken=
function(a){for(var b=$jscomp.makeIterator(this.built),c=b.next();!c.done;c=b.next())if(c=c.value,c.matches(a))return c.term;var d=a.id.name;b=this.rules.find(function(e){return e.id.name==d});if(!b)return null;var f=this.b.nodeInfoInner(b.props,d,a.args,b.params.length!=a.args.length?ia:b.params);c=f.dialect;f=this.b.makeTerminal(a.toString(),f.name,f.props);null!=c&&(this.byDialect[c]||(this.byDialect[c]=[])).push(f);(f.nodeType||b.exported)&&0==b.params.length&&(f.nodeType||(f.preserve=!0),this.b.namedTerms[d]=
f);this.buildRule(b,a,this.startState,new ha([f]));this.built.push(new gb(d,a.args,f));return f};Ma.prototype.getLiteral=function(a){for(var b=JSON.stringify(a.value),c=$jscomp.makeIterator(this.built),d=c.next();!d.done;d=c.next())if(d=d.value,d.id==b)return d.term;c=null;d=za;var f=null,e=this.ast?this.ast.literals.find(function(h){return h.literal==a.value}):null;e&&(f=this.b.nodeInfoInner(e.props,a.value),c=f.name,d=f.props,f=f.dialect);c=this.b.makeTerminal(b,c,d);null!=f&&(this.byDialect[f]||
(this.byDialect[f]=[])).push(c);this.build(a,this.startState,new ha([c]),ia);this.built.push(new gb(b,ia,c));return c};Ma.prototype.buildRule=function(a,b,c,d,f){f=void 0===f?ia:f;var e=b.id.name;a.params.length!=b.args.length&&this.b.raise("Incorrect number of arguments for token '"+e+"'",b.start);var h=this.building.find(function(l){return l.name==e&&va(b.args,l.args)});if(h){if(h.to==d){c.nullEdge(h.start);return}for(h=this.building.length-1;this.building[h].name!=e;)h--;this.b.raise("Invalid (non-tail) recursion in token rules: "+
this.building.slice(h).map(function(l){return l.name}).join(" -\x3e "),b.start)}this.b.used(a.id.name);h=new ha;c.nullEdge(h);this.building.push(new rc(e,h,d,b.args));this.build(this.b.substituteArgs(a.expr,b.args,a.params),h,d,b.args.map(function(l,w){return new qc(a.params[w].name,l,f)}));this.building.pop()};Ma.prototype.build=function(a,b,c,d){if(a instanceof ra){if(a.namespace){if("std"==a.namespace.name)return this.buildStd(a,b,c);this.b.raise("Unknown namespace '"+a.namespace.name+"'",a.start)}var f=
a.id.name,e=d.find(function(l){return l.name==f});if(e)return this.build(e.expr,b,c,e.scope);e=this.rules.find(function(l){return l.id.name==f});if(!e)return this.b.raise("Reference to rule '"+a.id.name+"', which isn't found in this token group",a.start);this.buildRule(e,a,b,c,d)}else if(a instanceof Ea)for(a=$jscomp.makeIterator(a.exprs),e=a.next();!e.done;e=a.next())this.build(e.value,b,c,d);else if(Mb(a))b.nullEdge(c);else if(a instanceof xa)for((e=a.markers.find(function(l){return 0<l.length}))&&
this.b.raise("Conflict marker in token expression",e[0].start),e=0;e<a.exprs.length;e++){var h=e==a.exprs.length-1?c:new ha;this.build(a.exprs[e],b,h,d);b=h}else if(a instanceof Ja)"*"==a.kind?(e=new ha,b.nullEdge(e),this.build(a.expr,e,e,d),e.nullEdge(c)):"+"==a.kind?(e=new ha,this.build(a.expr,b,e,d),this.build(a.expr,e,e,d),e.nullEdge(c)):(b.nullEdge(c),this.build(a.expr,b,c,d));else if(a instanceof mb)for(a=$jscomp.makeIterator(a.inverted?cc(a.ranges):a.ranges),d=a.next();!d.done;d=a.next())e=
$jscomp.makeIterator(d.value),d=e.next().value,e=e.next().value,dc(b,c,d,e);else if(a instanceof Ba)for(d=0;d<a.value.length;d++)e=a.value.charCodeAt(d),h=d==a.value.length-1?c:new ha,b.edge(e,e+1,h),b=h;else if(a instanceof lb)b.edge(0,65535,c);else return this.b.raise("Unrecognized expression type in token",a.start)};Ma.prototype.buildStd=function(a,b,c){a.args.length&&this.b.raise("'std."+a.id.name+"' does not take arguments",a.args[0].start);Vb.hasOwnProperty(a.id.name)||this.b.raise("There is no builtin rule 'std."+
a.id.name+"'",a.start);a=$jscomp.makeIterator(Vb[a.id.name]);for(var d=a.next();!d.done;d=a.next()){var f=$jscomp.makeIterator(d.value);d=f.next().value;f=f.next().value;b.edge(d,f,c)}};Ma.prototype.tokenizer=function(a,b){var c=this.startState.compile();c.accepting.length&&this.b.raise("Grammar contains zero-length tokens (in '"+c.accepting[0].name+"')",this.rules.find(function(d){return d.id.name==c.accepting[0].name}).start);/\btokens\b/.test(zb)&&console.log(c.toString());return c.toArray(a,b)};
Ma.prototype.takePrecedences=function(){var a=[];if(this.ast)for(var b={},c=$jscomp.makeIterator(this.ast.precedences),d=c.next();!d.done;b={$jscomp$loop$prop$terms$227:b.$jscomp$loop$prop$terms$227},d=c.next()){var f=d.value;b.$jscomp$loop$prop$terms$227=[];d={};f=$jscomp.makeIterator(f.items);for(var e=f.next();!e.done;d={$jscomp$loop$prop$item$224:d.$jscomp$loop$prop$item$224,$jscomp$loop$prop$id$225:d.$jscomp$loop$prop$id$225},e=f.next())d.$jscomp$loop$prop$item$224=e.value,e=void 0,d.$jscomp$loop$prop$item$224 instanceof
ra?e=this.built.find(function(l){return function(w){return w.matches(l.$jscomp$loop$prop$item$224)}}(d)):(d.$jscomp$loop$prop$id$225=JSON.stringify(d.$jscomp$loop$prop$item$224.value),e=this.built.find(function(l){return function(w){return w.id==l.$jscomp$loop$prop$id$225}}(d))),e?b.$jscomp$loop$prop$terms$227.push(e.term):this.b.warn("Precedence specified for unknown token "+d.$jscomp$loop$prop$item$224,d.$jscomp$loop$prop$item$224.start);for(d={$jscomp$loop$prop$i$229:0};d.$jscomp$loop$prop$i$229<
b.$jscomp$loop$prop$terms$227.length;d={$jscomp$loop$prop$i$229:d.$jscomp$loop$prop$i$229},d.$jscomp$loop$prop$i$229++)if(f=a.find(function(l,w){return function(u){return u.term==l.$jscomp$loop$prop$terms$227[w.$jscomp$loop$prop$i$229]}}(b,d)))for(e=0;e<d.$jscomp$loop$prop$i$229;e++)nb(f.after,b.$jscomp$loop$prop$terms$227[e]);else a.push(f={term:b.$jscomp$loop$prop$terms$227[d.$jscomp$loop$prop$i$229],after:b.$jscomp$loop$prop$terms$227.slice(0,d.$jscomp$loop$prop$i$229)})}this.precedenceRelations=
a.slice();var h=[];a:for(;;){for(b=0;b<a.length;b++)if(c=a[b],c.after.every(function(l){return h.includes(l)})){h.push(c.term);c=a.pop();b<a.length&&(a[b]=c);continue a}a.length&&this.b.raise("Cyclic token precedence relation between "+a.map(function(l){return l.term}).join(", "));break}this.precedences=h};Ma.prototype.precededBy=function(a,b){var c=this.precedenceRelations.find(function(d){return d.term==a});return c&&c.after.includes(b)};Ma.prototype.buildTokenGroups=function(a,b,c){var d=this,
f=[],e=this.startState.compile().findConflicts(bc(a,this.b,c)).filter(function(u){var y=u.a;u=u.b;nb(f,y);nb(f,u);return!d.precededBy(y,u)&&!d.precededBy(u,y)}),h=[],l=function(u){if(!u.defaultReduce){for(var y=[],A=!1,B=[],I=u.skip==d.b.noSkip?ia:c[d.b.skipRules.indexOf(u.skip)],H={},N=$jscomp.makeIterator(I),O=N.next();!O.done;H={$jscomp$loop$prop$term$231:H.$jscomp$loop$prop$term$231},O=N.next())H.$jscomp$loop$prop$term$231=O.value,u.actions.some(function(aa){return function(ea){return ea.term==
aa.$jscomp$loop$prop$term$231}}(H))&&d.b.raise("Use of token "+H.$jscomp$loop$prop$term$231.name+" conflicts with skip rule");for(O=0;O<u.actions.length+(I?I.length:0);O++){H=O<u.actions.length?u.actions[O].term:I[O-u.actions.length];if((N=d.b.tokenOrigins[H.name])&&N.spec){if(y.includes(N.spec))continue;H=N.spec}else if(N&&N.external)continue;A=!0;N=!1;for(var V={},ba=$jscomp.makeIterator(e),W=ba.next();!W.done;V={$jscomp$loop$prop$conflicting$233:V.$jscomp$loop$prop$conflicting$233},W=ba.next())W=
W.value,V.$jscomp$loop$prop$conflicting$233=W.a==H?W.b:W.b==H?W.a:null,V.$jscomp$loop$prop$conflicting$233&&(N=!0,B.includes(V.$jscomp$loop$prop$conflicting$233)||(u.actions.some(function(aa){return function(ea){return ea.term==aa.$jscomp$loop$prop$conflicting$233}}(V))&&d.b.raise("Overlapping tokens "+H.name+" and "+V.$jscomp$loop$prop$conflicting$233.name+" used in same context (example: "+(JSON.stringify(W.exampleA)+(W.exampleB?" vs "+JSON.stringify(W.exampleB):"")+")\n\n")),B.push(V.$jscomp$loop$prop$conflicting$233)));
N&&y.push(H)}if(A){I=null;A={};O=$jscomp.makeIterator(h);for(H=O.next();!H.done;A={$jscomp$loop$prop$group$235:A.$jscomp$loop$prop$group$235},H=O.next())if(A.$jscomp$loop$prop$group$235=H.value,!B.some(function(aa){return function(ea){return aa.$jscomp$loop$prop$group$235.tokens.includes(ea)}}(A))){B=$jscomp.makeIterator(y);for(O=B.next();!O.done;O=B.next())nb(A.$jscomp$loop$prop$group$235.tokens,O.value);I=A.$jscomp$loop$prop$group$235;break}I||(I=new oc(y,h.length),h.push(I));u.tokenGroup=I.id}}},
w=$jscomp.makeIterator(a);for(a=w.next();!a.done;a=w.next())l(a.value);b=$jscomp.makeIterator(b);for(a=b.next();!a.done;a=b.next())if(a=a.value)for(w=$jscomp.makeIterator(a),a=w.next();!a.done;a=w.next())l(a.value);16<h.length&&this.b.raise("Too many different token groups ("+h.length+") to represent them as a 16-bit bitfield");l=this.precedences.filter(function(u){return f.includes(u)}).map(function(u){return u.id});return{tokenMasks:$b(h),tokenGroups:h,tokenPrec:l}};var Vb={asciiLetter:[[65,91],
[97,123]],asciiLowercase:[[97,123]],asciiUppercase:[[65,91]],digit:[[48,58]],whitespace:[[9,14],[32,33],[133,134],[160,161],[5760,5761],[8192,8203],[8232,8234],[8239,8240],[8287,8288],[12288,12289]]},Ab=function(a,b){this.b=a;this.ast=b;this.tokens=Nb(a,b.tokens);for(var c in this.tokens)this.b.tokenOrigins[this.tokens[c].name]={external:this}};Ab.prototype.getToken=function(a){return Ob(this.b,this.tokens,a)};var Bb=function(a,b){this.b=a;this.ast=b;this.term=null;this.tokens=Nb(a,b.tokens)};Bb.prototype.finish=
function(){var a=this.b.normalizeExpr(this.ast.token);1==a.length&&1==a[0].terms.length&&a[0].terms[0].terminal||this.b.raise("The token expression to '@external "+this.ast.type+"' must resolve to a token",this.ast.token.start);this.term=a[0].terms[0];for(var b in this.tokens)this.b.tokenOrigins[this.tokens[b].name]={spec:this.term,external:this}};Bb.prototype.getToken=function(a){return Ob(this.b,this.tokens,a)};var hb=function(a,b){this.set=a;this.terms=b;this._inner=null};hb.prototype.token=function(a,
b,c){this.inner.token(a,b,c)};$jscomp.global.Object.defineProperties(hb.prototype,{inner:{configurable:!0,enumerable:!0,get:function(){if(!this._inner){var a=this.set.b.options.externalTokenizer;this._inner=a?a(this.set.ast.id.name,this.terms):null;if(!this._inner)return this.set.b.raise("Using external tokenizer without passing externalTokenizer option")}return this._inner}},contextual:{configurable:!0,enumerable:!0,get:function(){return this.inner.contextual}},fallback:{configurable:!0,enumerable:!0,
get:function(){return this.inner.fallback}}});var sc="break case catch continue debugger default do else finally for function if return switch throw try var while with null true false instanceof typeof void delete new in this const class extends export import super enum implements interface let package private protected public static yield".split(" ");L.GenError=Da;L.buildParser=function(a,b){b=void 0===b?{}:b;return(new ca(a,b)).getParser()};L.buildParserFile=function(a,b){function c(S){return"{__proto__:null,"+
Object.keys(S).map(function(Y){return(/\W/.test(Y)?JSON.stringify(Y):Y)+":"+S[Y]}).join(", ")+"}"}function d(S){return"string"!=typeof S||/^(true|false|\d+(\.\d+)?|\.\d+)$/.test(S)?S:JSON.stringify(S)}b=void 0===b?{}:b;var f=new ca(a,b),e=f.getParser(),h=b.moduleStyle||"cjs";a="// This file was generated by lezer-generator. You probably shouldn't edit it.\n"+("cjs"==h?'const {Parser} \x3d require("lezer")\n':'import {Parser} from "lezer"\n');var l=null,w={},u=Object.create(null),y=Object.create(null);
y.Parser=!0;var A=function(S){for(var Y=0;;Y++){var Na=S+(Y?"_"+Y:"");if(!y[Na])return Na}},B=function(S,Y,Na){var pb=S+" from "+Y;if(u[pb])return u[pb];Y=JSON.stringify(Y);var Db=S;S in y&&(Db=A(Na),S+=("cjs"==h?":":" as")+" "+Db);(w[Y]||(w[Y]=[])).push(S);return u[pb]=Db},I=e.tokenizers.map(function(S){if(S instanceof hb)return S=S.set.ast,B(S.id.name,S.source,"tok");l=S.data;return S.id}),H=e.nested.map(function(S){var Y=S.name,Na=S.end,pb=S.placeholder;S=S.grammar.spec;if(!S)throw new Da("Spec-less nested grammar in parser");
return"["+JSON.stringify(Y)+", "+(S.source?B(S.extName,S.source,S.name):"null")+","+Xa(Na.data)+", "+pb+"]"}),N=[],O=[],V=e.group.types.length-e.minRepeatTerm,ba=$jscomp.makeIterator(e.group.types),W=ba.next();for(;!W.done;W=ba.next()){W=W.value;W.id<e.minRepeatTerm&&N.push(W.name);for(var aa=W.props.propData,ea={},ya=0;ya<aa.length;ea={$jscomp$loop$prop$propID$244:ea.$jscomp$loop$prop$propID$244},ya+=2){var ua=aa[ya],Cb=aa[ya+1];if(null!=ua.from||"repeated"!=ua.name&&"error"!=ua.name)ea.$jscomp$loop$prop$propID$244=
ua.from?B(ua.name,ua.from,"prop"):B("NodeProp","lezer","NodeProp")+"."+ua.name,(ua=O.find(function(S){return function(Y){return Y.prop==S.$jscomp$loop$prop$propID$244}}(ea)))||O.push(ua={prop:ea.$jscomp$loop$prop$propID$244,terms:[]}),ua.terms.push(W.id,Cb)}}ba=[];W=$jscomp.makeIterator(f.externalSpecializers);for(aa=W.next();!aa.done;aa=W.next())aa=aa.value,ea=B(aa.ast.id.name,aa.ast.source,aa.ast.id.name),ba.push("{term: "+aa.term.id+", get: (value, stack) \x3d\x3e ("+ea+"(value, stack) \x3c\x3c 1)"+
("extend"==aa.ast.type?" | 1":"")+"}");for(var P in w)a="cjs"==h?a+("const {"+w[P].join(", ")+"} \x3d require("+P+")\n"):a+("import {"+w[P].join(", ")+"} from "+P+"\n");for(var fa in f.specialized)P=A("spec"+fa),a+="const "+P+" \x3d "+c(Lb(f.specialized[fa]))+"\n",ba.push("{term: "+f.terms.names[fa].id+", get: value \x3d\x3e "+P+"[value] || -1}");fa=Object.keys(e.dialects).map(function(S){return S+": "+e.dialects[S]});I="Parser.deserialize({\n  states: "+Xa(e.states,4294967295)+",\n  stateData: "+
Xa(e.data)+",\n  goto: "+Xa(e.goto)+",\n  nodeNames: "+JSON.stringify(N.join(" "))+",\n  maxTerm: "+e.maxTerm+","+(O.length?"\n  nodeProps: [\n    "+O.map(function(S){return"["+S.prop+", "+S.terms.map(d).join(",")+"]"}).join(",\n    ")+"\n  ],":"")+"\n  repeatNodeCount: "+V+",\n  tokenData: "+Xa(l||[])+",\n  tokenizers: ["+I.join(", ")+"],\n  topRules: "+JSON.stringify(e.topRules)+(H.length?",\n  nested: ["+H.join(", ")+"]":"")+(fa.length?",\n  dialects: {"+fa.join(", ")+"}":"")+(ba.length?",\n  specialized: ["+
ba.join(",")+"]":"")+",\n  tokenPrec: "+e.tokenPrecTable+(b.includeNames?",\n  termNames: "+JSON.stringify(e.termNames):"")+"\n})";H=[];for(var pa in f.termTable){N=pa;if(sc.includes(N))for(O=1;N="_".repeat(O)+pa,N in f.termTable;O++);H.push(""+N+("cjs"==h?":":" \x3d")+" "+f.termTable[pa])}for(pa=0;pa<f.dialects.length;pa++)H.push("Dialect_"+f.dialects[pa]+("cjs"==h?":":" \x3d")+" "+pa);b=b.exportName||"parser";return{parser:a+("cjs"==h?"exports."+b+" \x3d "+I+"\n":"export const "+b+" \x3d "+I+"\n"),
terms:"cjs"==h?"// This file was generated by lezer-generator. You probably shouldn't edit it.\nmodule.exports \x3d {\n  "+H.join(",\n  ")+"\n}":"// This file was generated by lezer-generator. You probably shouldn't edit it.\nexport const\n  "+H.join(",\n  ")+"\n"}}};
shadow$provide[15]=function(La,Ha,Hb,t){function Ia(n,z){return ia.EditorSelection.create(n.ranges.map(z),n.primaryIndex)}function Fa(n,z){return n.update({selection:z,scrollIntoView:!0,annotations:ia.Transaction.userEvent.of("keyboardselection")})}function ja(n,z){var J=n.state;n=n.dispatch;z=Ia(J.selection,z);if(z.eq(J.selection))return!1;n(Fa(J,z));return!0}function Ja(n,z){return ja(n,function(J){return J.empty?n.moveByChar(J,z):ia.EditorSelection.cursor(z?J.to:J.from)})}function da(n,z){return ja(n,
function(J){return J.empty?n.moveByGroup(J,z):ia.EditorSelection.cursor(z?J.to:J.from)})}function pa(n,z,J){var H=n.tree.resolve(z.head),I=J?ib.NodeProp.closedBy:ib.NodeProp.openedBy;for(z=z.head;;){var L=J?H.childAfter(z):H.childBefore(z);if(!L)break;var ca=n;var oa=L;if(oa.type.prop(I))ca=!0;else{var qa=oa.end-oa.start;ca=qa&&(2<qa||/[^\s,.;:]/.test(ca.sliceDoc(oa.start,oa.end)))||oa.firstChild}ca?H=L:z=J?L.end:L.start}var sa;n=H.type.prop(I)&&(sa=J?(0,Ea.matchBrackets)(n,H.start,1):(0,Ea.matchBrackets)(n,
H.end,-1))&&sa.matched?J?sa.end.to:sa.end.from:J?H.end:H.start;return ia.EditorSelection.cursor(n,J?-1:1)}function ta(n,z){return ja(n,function(J){return n.moveVertically(J,z)})}function va(n,z){return ja(n,function(J){return n.moveVertically(J,z,n.dom.clientHeight)})}function W(n,z,J){var H=n.visualLineAt(z.head),I=n.moveToLineBoundary(z,J);I.head==z.head&&I.head!=(J?H.to:H.from)&&(I=n.moveToLineBoundary(z,J,!1));!J&&I.head==H.from&&H.length&&(n=/^\s*/.exec(n.state.sliceDoc(H.from,Math.min(H.from+
100,H.to)))[0].length)&&z.head>H.from+n&&(I=ia.EditorSelection.cursor(H.from+n));return I}function lb(n,z,J){var H=!1,I=Ia(n.selection,function(L){var ca=(0,Ea.matchBrackets)(n,L.head,-1)||(0,Ea.matchBrackets)(n,L.head,1)||0<L.head&&(0,Ea.matchBrackets)(n,L.head-1,1)||L.head<n.doc.length&&(0,Ea.matchBrackets)(n,L.head+1,-1);if(!ca||!ca.end)return L;H=!0;ca=ca.start.from==L.head?ca.end.to:ca.end.from;return J?ia.EditorSelection.range(L.anchor,ca):ia.EditorSelection.cursor(ca)});if(!H)return!1;z(Fa(n,
I));return!0}function Y(n,z){var J=Ia(n.state.selection,function(H){var I=z(H);return ia.EditorSelection.range(H.anchor,I.head,I.goalColumn)});if(J.eq(n.state.selection))return!1;n.dispatch(Fa(n.state,J));return!0}function Ca(n,z){return Y(n,function(J){return n.moveByChar(J,z)})}function gb(n,z){return Y(n,function(J){return n.moveByGroup(J,z)})}function cb(n,z){return Y(n,function(J){return n.moveVertically(J,z)})}function hb(n,z){return Y(n,function(J){return n.moveVertically(J,z,n.dom.clientHeight)})}
function Va(n,z){var J=n.state.changeByRange(function(H){var I=H.from,L=H.to;if(I==L){var ca=z(I);I=Math.min(I,ca);L=Math.max(L,ca)}return I==L?{range:H}:{changes:{from:I,to:L},range:ia.EditorSelection.cursor(I)}});if(J.changes.empty)return!1;n.dispatch(J,{scrollIntoView:!0,annotations:ia.Transaction.userEvent.of("delete")});return!0}function ya(n){var z=[],J=-1,H=!0,I=!1,L=void 0;try{for(var ca=n.selection.ranges[Symbol.iterator](),oa;!(H=(oa=ca.next()).done);H=!0){var qa=oa.value,sa=n.doc.lineAt(qa.from),
ma=n.doc.lineAt(qa.to);J==sa.number?z[z.length-1].to=ma.to:z.push({from:sa.from,to:ma.to});J=ma.number}}catch(Tb){I=!0,L=Tb}finally{try{if(!H&&null!=ca["return"])ca["return"]()}finally{if(I)throw L;}}return z}function rb(n,z,J){var H=[],I=!0,L=!1,ca=void 0;try{for(var oa=ya(n)[Symbol.iterator](),qa;!(I=(qa=oa.next()).done);I=!0){var sa=qa.value;if(J?sa.to!=n.doc.length:0!=sa.from){var ma=n.doc.lineAt(J?sa.to+1:sa.from-1);J?H.push({from:sa.to,to:ma.to},{from:sa.from,insert:ma.slice()+n.lineBreak}):
H.push({from:ma.from,to:sa.from},{from:sa.to,insert:n.lineBreak+ma.slice()})}}}catch(Tb){L=!0,ca=Tb}finally{try{if(!I&&null!=oa["return"])oa["return"]()}finally{if(L)throw ca;}}if(!H.length)return!1;z(n.update({changes:H,scrollIntoView:!0}));return!0}function Ma(n,z,J){var H=[],I=!0,L=!1,ca=void 0;try{for(var oa=ya(n)[Symbol.iterator](),qa;!(I=(qa=oa.next()).done);I=!0){var sa=qa.value;J?H.push({from:sa.from,insert:n.doc.slice(sa.from,sa.to)+n.lineBreak}):H.push({from:sa.to,insert:n.lineBreak+n.doc.slice(sa.from,
sa.to)})}}catch(ma){L=!0,ca=ma}finally{try{if(!I&&null!=oa["return"])oa["return"]()}finally{if(L)throw ca;}}z(n.update({changes:H,scrollIntoView:!0}));return!0}function pb(n,z){var J=!0,H=!1,I=void 0;try{for(var L=n.state.facet(ia.EditorState.indentation)[Symbol.iterator](),ca;!(J=(ca=L.next()).done);J=!0){var oa=ca.value,qa=oa(n,z);if(-1<qa)return qa}}catch(sa){H=!0,I=sa}finally{try{if(!J&&null!=L["return"])L["return"]()}finally{if(H)throw I;}}return-1}function Wa(n,z){var J=-1;return n.changeByRange(function(H){for(var I=
[],L=n.doc.lineAt(H.from);;){L.number>J&&(z(L,I,H),J=L.number);if(H.to<=L.to)break;L=n.doc.lineAt(L.to+1)}L=n.changes(I);return{changes:I,range:ia.EditorSelection.range(L.mapPos(H.anchor,1),L.mapPos(H.head,1))}})}Object.defineProperty(t,"__esModule",{value:!0});t.transposeChars=t.standardKeymap=t.splitLine=t.simplifySelection=t.selectSyntaxRight=t.selectSyntaxLeft=t.selectParentSyntax=t.selectPageUp=t.selectPageDown=t.selectMatchingBracket=t.selectLineUp=t.selectLineStart=t.selectLineEnd=t.selectLineDown=
t.selectLineBoundaryForward=t.selectLineBoundaryBackward=t.selectLine=t.selectGroupRight=t.selectGroupLeft=t.selectGroupForward=t.selectGroupBackward=t.selectDocStart=t.selectDocEnd=t.selectCharRight=t.selectCharLeft=t.selectCharForward=t.selectCharBackward=t.selectAll=t.moveLineUp=t.moveLineDown=t.insertNewlineAndIndent=t.insertNewline=t.indentSelection=t.indentMore=t.indentLess=t.emacsStyleKeymap=t.deleteTrailingWhitespace=t.deleteToLineEnd=t.deleteLine=t.deleteGroupForward=t.deleteGroupBackward=
t.deleteCharForward=t.deleteCharBackward=t.defaultKeymap=t.cursorSyntaxRight=t.cursorSyntaxLeft=t.cursorPageUp=t.cursorPageDown=t.cursorMatchingBracket=t.cursorLineUp=t.cursorLineStart=t.cursorLineEnd=t.cursorLineDown=t.cursorLineBoundaryForward=t.cursorLineBoundaryBackward=t.cursorGroupRight=t.cursorGroupLeft=t.cursorGroupForward=t.cursorGroupBackward=t.cursorDocStart=t.cursorDocEnd=t.cursorCharRight=t.cursorCharLeft=t.cursorCharForward=t.cursorCharBackward=t.copyLineUp=t.copyLineDown=void 0;var ia=
Ha(2),Da=Ha(0),Ga=Ha(6),Ea=Ha(10),ib=Ha(1),K=function(n){return Ja(n,n.textDirection!=Ga.Direction.LTR)};t.cursorCharLeft=K;var E=function(n){return Ja(n,n.textDirection==Ga.Direction.LTR)};t.cursorCharRight=E;t.cursorCharForward=function(n){return Ja(n,!0)};t.cursorCharBackward=function(n){return Ja(n,!1)};var M=function(n){return da(n,n.textDirection!=Ga.Direction.LTR)};t.cursorGroupLeft=M;var P=function(n){return da(n,n.textDirection==Ga.Direction.LTR)};t.cursorGroupRight=P;var V=function(n){return da(n,
!0)};t.cursorGroupForward=V;var B=function(n){return da(n,!1)};t.cursorGroupBackward=B;La=function(n){return ja(n,function(z){return pa(n.state,z,n.textDirection!=Ga.Direction.LTR)})};t.cursorSyntaxLeft=La;Ha=function(n){return ja(n,function(z){return pa(n.state,z,n.textDirection==Ga.Direction.LTR)})};t.cursorSyntaxRight=Ha;var q=function(n){return ta(n,!1)};t.cursorLineUp=q;var u=function(n){return ta(n,!0)};t.cursorLineDown=u;var x=function(n){return va(n,!1)};t.cursorPageUp=x;var F=function(n){return va(n,
!0)};t.cursorPageDown=F;var S=function(n){return ja(n,function(z){return W(n,z,!0)})};t.cursorLineBoundaryForward=S;var X=function(n){return ja(n,function(z){return W(n,z,!1)})};t.cursorLineBoundaryBackward=X;var Z=function(n){return ja(n,function(z){return ia.EditorSelection.cursor(n.visualLineAt(z.head).from,1)})};t.cursorLineStart=Z;var fa=function(n){return ja(n,function(z){return ia.EditorSelection.cursor(n.visualLineAt(z.head).to,-1)})};t.cursorLineEnd=fa;Hb=function(n){return lb(n.state,n.dispatch,
!1)};t.cursorMatchingBracket=Hb;t.selectMatchingBracket=function(n){return lb(n.state,n.dispatch,!0)};var ra=function(n){return Ca(n,n.textDirection!=Ga.Direction.LTR)};t.selectCharLeft=ra;var Qa=function(n){return Ca(n,n.textDirection==Ga.Direction.LTR)};t.selectCharRight=Qa;t.selectCharForward=function(n){return Ca(n,!0)};t.selectCharBackward=function(n){return Ca(n,!1)};var Na=function(n){return gb(n,n.textDirection!=Ga.Direction.LTR)};t.selectGroupLeft=Na;var mb=function(n){return gb(n,n.textDirection==
Ga.Direction.LTR)};t.selectGroupRight=mb;var sb=function(n){return gb(n,!0)};t.selectGroupForward=sb;var nb=function(n){return gb(n,!1)};t.selectGroupBackward=nb;var ob=function(n){return Y(n,function(z){return pa(n.state,z,n.textDirection!=Ga.Direction.LTR)})};t.selectSyntaxLeft=ob;var Oa=function(n){return Y(n,function(z){return pa(n.state,z,n.textDirection==Ga.Direction.LTR)})};t.selectSyntaxRight=Oa;var Sa=function(n){return cb(n,!1)};t.selectLineUp=Sa;var wa=function(n){return cb(n,!0)};t.selectLineDown=
wa;var Ra=function(n){return hb(n,!1)};t.selectPageUp=Ra;var Ka=function(n){return hb(n,!0)};t.selectPageDown=Ka;var wb=function(n){return Y(n,function(z){return W(n,z,!0)})};t.selectLineBoundaryForward=wb;var db=function(n){return Y(n,function(z){return W(n,z,!1)})};t.selectLineBoundaryBackward=db;var tb=function(n){return Y(n,function(z){return ia.EditorSelection.cursor(n.visualLineAt(z.head).from)})};t.selectLineStart=tb;var xb=function(n){return Y(n,function(z){return ia.EditorSelection.cursor(n.visualLineAt(z.head).to)})};
t.selectLineEnd=xb;var Pa=function(n){var z=n.dispatch;z(Fa(n.state,{anchor:0}));return!0};t.cursorDocStart=Pa;var y=function(n){var z=n.state;n=n.dispatch;n(Fa(z,{anchor:z.doc.length}));return!0};t.cursorDocEnd=y;var l=function(n){var z=n.state;n=n.dispatch;n(Fa(z,{anchor:z.selection.primary.anchor,head:0}));return!0};t.selectDocStart=l;var m=function(n){var z=n.state;n=n.dispatch;n(Fa(z,{anchor:z.selection.primary.anchor,head:z.doc.length}));return!0};t.selectDocEnd=m;var k=function(n){var z=n.state;
n=n.dispatch;n(z.update({selection:{anchor:0,head:z.doc.length},annotations:ia.Transaction.userEvent.of("keyboarselection")}));return!0};t.selectAll=k;var r=function(n){var z=n.state;n=n.dispatch;var J=ya(z).map(function(H){return ia.EditorSelection.range(H.from,Math.min(H.to+1,z.doc.length))});n(z.update({selection:new ia.EditorSelection(J),annotations:ia.Transaction.userEvent.of("keyboardselection")}));return!0};t.selectLine=r;var w=function(n){var z=n.state;n=n.dispatch;var J=Ia(z.selection,function(H){for(var I,
L=z.tree.resolve(H.head,1);!(L.start<H.from&&L.end>=H.to||L.end>H.to&&L.start<=H.from)&&(null===(I=L.parent)||void 0===I?0:I.parent);)L=L.parent;return ia.EditorSelection.range(L.end,L.start)});n(Fa(z,J));return!0};t.selectParentSyntax=w;var D=function(n){var z=n.state;n=n.dispatch;var J=z.selection,H=null;1<J.ranges.length?H=new ia.EditorSelection([J.primary]):J.primary.empty||(H=new ia.EditorSelection([ia.EditorSelection.cursor(J.primary.head)]));if(!H)return!1;n(Fa(z,H));return!0};t.simplifySelection=
D;var G=function(n,z){return Va(n,function(J){var H=n.state,I=H.doc.lineAt(J),L;if(!z&&J>I.from&&J<I.from+200&&!/[^ \t]/.test(L=I.slice(0,J-I.from))){if("\t"==L[L.length-1])return J-1;H=(0,Da.countColumn)(L,0,H.tabSize)%H.indentUnit||H.indentUnit;for(I=0;I<H&&" "==L[L.length-1-I];I++)J--;return J}L=I.findClusterBreak(J-I.from,z)+I.from;L==J&&I.number!=(z?H.doc.lines:1)&&(L+=z?1:-1);return L})},Q=function(n){return G(n,!1)};t.deleteCharBackward=Q;var R=function(n){return G(n,!0)};t.deleteCharForward=
R;var T=function(n,z){return Va(n,function(J){for(var H=n.state,I=H.doc.lineAt(J),L=H.charCategorizer(J),ca=null;;){if(J==(z?I.to:I.from)){if(I.number==(z?H.doc.lines:1))break;I=H.doc.line(I.number+(z?1:-1));var oa=z?I.from:I.to;var qa="\n"}else oa=I.findClusterBreak(J-I.from,z)+I.from,qa=I.slice(Math.min(J,oa)-I.from,Math.max(J,oa)-I.from);qa=L(qa);if(null!=ca&&qa!=ca)break;qa!=ia.CharCategory.Space&&(ca=qa);J=oa}return J})},O=function(n){return T(n,!1)};t.deleteGroupBackward=O;var aa=function(n){return T(n,
!0)};t.deleteGroupForward=aa;var ha=function(n){return Va(n,function(z){var J=n.visualLineAt(z).to;return z<J?J:Math.max(n.state.doc.length,z+1)})};t.deleteToLineEnd=ha;t.deleteTrailingWhitespace=function(n){var z=n.state;n=n.dispatch;for(var J=[],H=0,I=z.doc.iterLines();!I.next().done;){var L=I.value.search(/\s+$/);-1<L&&J.push({from:H+L,to:H+I.value.length});H+=I.value.length+1}if(!J.length)return!1;n(z.update({changes:J}));return!0};var ka=function(n){var z=n.state;n=n.dispatch;var J=z.changeByRange(function(H){return{changes:{from:H.from,
to:H.to,insert:Da.Text.of(["",""])},range:ia.EditorSelection.cursor(H.from)}});n(z.update(J,{scrollIntoView:!0,annotations:ia.Transaction.userEvent.of("input")}));return!0};t.splitLine=ka;var la=function(n){var z=n.state;n=n.dispatch;var J=z.changeByRange(function(H){if(!H.empty||0==H.from||H.from==z.doc.length)return{range:H};H=H.from;var I=z.doc.lineAt(H),L=H==I.from?H-1:I.findClusterBreak(H-I.from,!1)+I.from;I=H==I.to?H+1:I.findClusterBreak(H-I.from,!0)+I.from;return{changes:{from:L,to:I,insert:z.doc.slice(H,
I).append(z.doc.slice(L,H))},range:ia.EditorSelection.cursor(I)}});if(J.changes.empty)return!1;n(z.update(J,{scrollIntoView:!0}));return!0};t.transposeChars=la;var na=function(n){return rb(n.state,n.dispatch,!1)};t.moveLineUp=na;var za=function(n){return rb(n.state,n.dispatch,!0)};t.moveLineDown=za;var Ya=function(n){return Ma(n.state,n.dispatch,!1)};t.copyLineUp=Ya;var Ib=function(n){return Ma(n.state,n.dispatch,!0)};t.copyLineDown=Ib;var U=function(n){var z=n.state,J=z.changes(ya(z).map(function(I){var L=
I.from;I=I.to;0<L?L--:I<z.doc.length&&I++;return{from:L,to:I}})),H=Ia(z.selection,function(I){return n.moveVertically(I,!0)}).map(J);n.dispatch({changes:J,selection:H,scrollIntoView:!0});return!0};t.deleteLine=U;t.insertNewline=function(n){var z=n.state;n=n.dispatch;n(z.update(z.replaceSelection(z.lineBreak),{scrollIntoView:!0}));return!0};var Za=function(n){var z=n.state;n=n.dispatch;var J=z.changeByRange(function(H){var I=H.from;H=H.to;var L;if(L=I==H)if(L=I,/\(\)|\[\]|\{\}/.test(z.sliceDoc(L-1,
L+1)))L={from:L,to:L};else{var ca=z.tree.resolve(L),oa=ca.childBefore(L);ca=ca.childAfter(L);var qa;L=oa&&ca&&oa.end<=L&&ca.start>=L&&(qa=oa.type.prop(ib.NodeProp.closedBy))&&-1<qa.indexOf(ca.name)?{from:oa.end,to:ca.start}:null}qa=L;L=new ia.IndentContext(z,{simulateBreak:I,simulateDoubleBreak:!!qa});oa=pb(L,I);0>oa&&(oa=/^\s*/.exec(z.doc.lineAt(I).slice(0,50))[0].length);for(ca=z.doc.lineAt(I);H<ca.to&&/\s/.test(ca.slice(H-ca.from,H+1-ca.from));)H++;qa?(I=qa.from,H=qa.to):I>ca.from&&I<ca.from+100&&
!/\S/.test(ca.slice(0,I))&&(I=ca.from);var sa=["",z.indentString(oa)];qa&&sa.push(z.indentString(L.lineIndent(ca)));return{changes:{from:I,to:H,insert:Da.Text.of(sa)},range:ia.EditorSelection.cursor(I+1+oa)}});n(z.update(J,{scrollIntoView:!0}));return!0};t.insertNewlineAndIndent=Za;var Ta=function(n){var z=n.state;n=n.dispatch;var J=Object.create(null),H=new ia.IndentContext(z,{overrideIndentation:function(L){L=J[L];return null==L?-1:L}}),I=Wa(z,function(L,ca,oa){var qa=pb(H,L.from);if(!(0>qa)){var sa=
/^\s*/.exec(L.slice(0,Math.min(L.length,200)))[0],ma=z.indentString(qa);if(sa!=ma||oa.from<L.from+sa.length)J[L.from]=qa,ca.push({from:L.from,to:L.from+sa.length,insert:ma})}});I.changes.empty||n(z.update(I));return!0};t.indentSelection=Ta;var Xa=function(n){var z=n.state;n=n.dispatch;n(z.update(Wa(z,function(J,H){H.push({from:J.from,insert:z.facet(ia.EditorState.indentUnit)})})));return!0};t.indentMore=Xa;var Cb=function(n){var z=n.state;n=n.dispatch;n(z.update(Wa(z,function(J,H){var I=J.slice(0,
Math.min(J.length,200));if(I=/^\s*/.exec(I)[0]){var L=(0,Da.countColumn)(I,0,z.tabSize);L=z.indentString(Math.max(0,L-z.indentUnit));for(var ca=0;ca<I.length&&ca<L.length&&I.charCodeAt(ca)==L.charCodeAt(ca);)ca++;H.push({from:J.from+ca,to:J.from+I.length,insert:L.slice(ca)})}})));return!0};t.indentLess=Cb;V=[{key:"Ctrl-b",run:K,shift:ra},{key:"Ctrl-f",run:E,shift:Qa},{key:"Ctrl-p",run:q,shift:Sa},{key:"Ctrl-n",run:u,shift:wa},{key:"Ctrl-a",run:Z,shift:tb},{key:"Ctrl-e",run:fa,shift:xb},{key:"Ctrl-d",
run:R},{key:"Ctrl-h",run:Q},{key:"Ctrl-k",run:ha},{key:"Alt-d",run:aa},{key:"Ctrl-Alt-h",run:O},{key:"Ctrl-o",run:ka},{key:"Ctrl-t",run:la},{key:"Alt-f",run:V,shift:sb},{key:"Alt-b",run:B,shift:nb},{key:"Alt-\x3c",run:Pa},{key:"Alt-\x3e",run:y},{key:"Ctrl-v",run:F},{key:"Alt-v",run:x}];t.emacsStyleKeymap=V;K=[{key:"ArrowLeft",run:K,shift:ra},{key:"Mod-ArrowLeft",mac:"Alt-ArrowLeft",run:M,shift:Na},{mac:"Cmd-ArrowLeft",run:Z,shift:tb},{key:"ArrowRight",run:E,shift:Qa},{key:"Mod-ArrowRight",mac:"Alt-ArrowRight",
run:P,shift:mb},{mac:"Cmd-ArrowRight",run:fa,shift:xb},{key:"ArrowUp",run:q,shift:Sa},{mac:"Cmd-ArrowUp",run:Pa,shift:l},{mac:"Ctrl-ArrowUp",run:x,shift:Ra},{key:"ArrowDown",run:u,shift:wa},{mac:"Cmd-ArrowDown",run:y,shift:m},{mac:"Ctrl-ArrowDown",run:F,shift:Ka},{key:"PageUp",run:x,shift:Ra},{key:"PageDown",run:F,shift:Ka},{key:"Home",run:X,shift:db},{key:"Mod-Home",run:Pa,shift:l},{key:"End",run:S,shift:wb},{key:"Mod-End",run:y,shift:m},{key:"Enter",run:Za},{key:"Mod-a",run:k},{key:"Backspace",
run:Q},{key:"Delete",run:R},{key:"Mod-Backspace",mac:"Alt-Backspace",run:O},{key:"Mod-Delete",mac:"Alt-Delete",run:aa}].concat(V.map(function(n){return{mac:n.key,run:n.run,shift:n.shift}}));t.standardKeymap=K;La=[{key:"Alt-ArrowLeft",mac:"Ctrl-ArrowLeft",run:La,shift:ob},{key:"Alt-ArrowRight",mac:"Ctrl-ArrowRight",run:Ha,shift:Oa},{key:"Alt-ArrowUp",run:na},{key:"Shift-Alt-ArrowUp",run:Ya},{key:"Alt-ArrowDown",run:za},{key:"Shift-Alt-ArrowDown",run:Ib},{key:"Escape",run:D},{key:"Mod-l",run:r},{key:"Mod-i",
run:w},{key:"Mod-[",run:Cb},{key:"Mod-]",run:Xa},{key:"Mod-Alt-\\",run:Ta},{key:"Shift-Mod-k",run:U},{key:"Shift-Mod-\\",run:Hb}].concat(K);t.defaultKeymap=La};
var aa="codemirror-next.clojure.commands",Ci="codemirror-next.clojure.extensions.formatting",g,ba;var ca=this||self;
function t(a){var b=typeof a;if("object"==b)if(a){if(a instanceof Array)return"array";if(a instanceof Object)return b;var c=Object.prototype.toString.call(a);if("[object Window]"==c)return"object";if("[object Array]"==c||"number"==typeof a.length&&"undefined"!=typeof a.splice&&"undefined"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable("splice"))return"array";if("[object Function]"==c||"undefined"!=typeof a.call&&"undefined"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable("call"))return"function"}else return"null";else if("function"==
b&&"undefined"==typeof a.call)return"object";return b}var da="closure_uid_"+(1E9*Math.random()>>>0),ea=0;function fa(a,b){a.sort(b||ha)}function ja(a,b){for(var c=Array(a.length),d=0;d<a.length;d++)c[d]={index:d,value:a[d]};var e=b||ha;fa(c,function(f,h){return e(f.value,h.value)||f.index-h.index});for(d=0;d<a.length;d++)a[d]=c[d].value}function ha(a,b){return a>b?1:a<b?-1:0};function la(a){var b=[],c=0,d;for(d in a)b[c++]=d;return b};function ma(a,b){null!=a&&this.append.apply(this,arguments)}g=ma.prototype;g.La="";g.set=function(a){this.La=""+a};g.append=function(a,b,c){this.La+=String(a);if(null!=b)for(var d=1;d<arguments.length;d++)this.La+=arguments[d];return this};g.clear=function(){this.La=""};g.toString=function(){return this.La};var na={},oa={},pa,u={},qa=null;function ra(){return new v(null,5,[sa,!0,ta,!0,ua,!1,va,!1,wa,null],null)}function w(a){return null!=a&&!1!==a}function xa(a){return a instanceof Array}function ya(a){return null==a?!0:!1===a?!0:!1}function Qi(a){return null!=a}function y(a,b){return a[t(null==b?null:b)]?!0:a._?!0:!1}function z(a,b){var c=null==b?null:b.constructor;c=w(w(c)?c.Cb:c)?c.mb:t(b);return Error(["No protocol method ",a," defined for type ",c,": ",b].join(""))}
function za(a){var b=a.mb;return w(b)?b:A.c(a)}var Aa="undefined"!==typeof Symbol&&"function"===t(Symbol)?Symbol.iterator:"@@iterator";function Ba(a){for(var b=a.length,c=Array(b),d=0;;)if(d<b)c[d]=a[d],d+=1;else break;return c}function Ca(a){return"symbol"===t(a)||"undefined"!==typeof Symbol&&a instanceof Symbol}function Da(){}
function Ea(a){if(null!=a&&null!=a.U)a=a.U(a);else{var b=Ea[t(null==a?null:a)];if(null!=b)a=b.c?b.c(a):b.call(null,a);else if(b=Ea._,null!=b)a=b.c?b.c(a):b.call(null,a);else throw z("ICounted.-count",a);}return a}function Fa(){}function Ga(a){if(null!=a&&null!=a.V)a=a.V(a);else{var b=Ga[t(null==a?null:a)];if(null!=b)a=b.c?b.c(a):b.call(null,a);else if(b=Ga._,null!=b)a=b.c?b.c(a):b.call(null,a);else throw z("IEmptyableCollection.-empty",a);}return a}function Ha(){}
function Ia(a,b){if(null!=a&&null!=a.Z)a=a.Z(a,b);else{var c=Ia[t(null==a?null:a)];if(null!=c)a=c.g?c.g(a,b):c.call(null,a,b);else if(c=Ia._,null!=c)a=c.g?c.g(a,b):c.call(null,a,b);else throw z("ICollection.-conj",a);}return a}function Ka(){}
var Ma=function(){function a(d,e,f){var h=La[t(null==d?null:d)];if(null!=h)return h.j?h.j(d,e,f):h.call(null,d,e,f);h=La._;if(null!=h)return h.j?h.j(d,e,f):h.call(null,d,e,f);throw z("IIndexed.-nth",d);}function b(d,e){var f=La[t(null==d?null:d)];if(null!=f)return f.g?f.g(d,e):f.call(null,d,e);f=La._;if(null!=f)return f.g?f.g(d,e):f.call(null,d,e);throw z("IIndexed.-nth",d);}var c=null;c=function(d,e,f){switch(arguments.length){case 2:return b.call(this,d,e);case 3:return a.call(this,d,e,f)}throw Error("Invalid arity: "+
arguments.length);};c.g=b;c.j=a;return c}(),La=function La(a){switch(arguments.length){case 2:return La.g(arguments[0],arguments[1]);case 3:return La.j(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",A.c(arguments.length)].join(""));}};La.g=function(a,b){return null!=a&&null!=a.W?a.W(a,b):Ma(a,b)};La.j=function(a,b,c){return null!=a&&null!=a.la?a.la(a,b,c):Ma(a,b,c)};La.F=3;
function B(a){if(null!=a&&null!=a.Y)a=a.Y(a);else{var b=B[t(null==a?null:a)];if(null!=b)a=b.c?b.c(a):b.call(null,a);else if(b=B._,null!=b)a=b.c?b.c(a):b.call(null,a);else throw z("ISeq.-first",a);}return a}function Na(a){if(null!=a&&null!=a.da)a=a.da(a);else{var b=Na[t(null==a?null:a)];if(null!=b)a=b.c?b.c(a):b.call(null,a);else if(b=Na._,null!=b)a=b.c?b.c(a):b.call(null,a);else throw z("ISeq.-rest",a);}return a}function Oa(){}
function Pa(a){if(null!=a&&null!=a.$)a=a.$(a);else{var b=Pa[t(null==a?null:a)];if(null!=b)a=b.c?b.c(a):b.call(null,a);else if(b=Pa._,null!=b)a=b.c?b.c(a):b.call(null,a);else throw z("INext.-next",a);}return a}function Qa(){}
var Sa=function(){function a(d,e,f){var h=Ra[t(null==d?null:d)];if(null!=h)return h.j?h.j(d,e,f):h.call(null,d,e,f);h=Ra._;if(null!=h)return h.j?h.j(d,e,f):h.call(null,d,e,f);throw z("ILookup.-lookup",d);}function b(d,e){var f=Ra[t(null==d?null:d)];if(null!=f)return f.g?f.g(d,e):f.call(null,d,e);f=Ra._;if(null!=f)return f.g?f.g(d,e):f.call(null,d,e);throw z("ILookup.-lookup",d);}var c=null;c=function(d,e,f){switch(arguments.length){case 2:return b.call(this,d,e);case 3:return a.call(this,d,e,f)}throw Error("Invalid arity: "+
arguments.length);};c.g=b;c.j=a;return c}(),Ra=function Ra(a){switch(arguments.length){case 2:return Ra.g(arguments[0],arguments[1]);case 3:return Ra.j(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",A.c(arguments.length)].join(""));}};Ra.g=function(a,b){return null!=a&&null!=a.ia?a.ia(a,b):Sa(a,b)};Ra.j=function(a,b,c){return null!=a&&null!=a.M?a.M(a,b,c):Sa(a,b,c)};Ra.F=3;
function Ta(a,b,c){if(null!=a&&null!=a.Ja)a=a.Ja(a,b,c);else{var d=Ta[t(null==a?null:a)];if(null!=d)a=d.j?d.j(a,b,c):d.call(null,a,b,c);else if(d=Ta._,null!=d)a=d.j?d.j(a,b,c):d.call(null,a,b,c);else throw z("IAssociative.-assoc",a);}return a}function Ua(a,b){if(null!=a&&null!=a.Ya)a=a.Ya(a,b);else{var c=Ua[t(null==a?null:a)];if(null!=c)a=c.g?c.g(a,b):c.call(null,a,b);else if(c=Ua._,null!=c)a=c.g?c.g(a,b):c.call(null,a,b);else throw z("IFind.-find",a);}return a}function Va(){}
function Wa(a,b){if(null!=a&&null!=a.tb)a=a.tb(a,b);else{var c=Wa[t(null==a?null:a)];if(null!=c)a=c.g?c.g(a,b):c.call(null,a,b);else if(c=Wa._,null!=c)a=c.g?c.g(a,b):c.call(null,a,b);else throw z("IMap.-dissoc",a);}return a}function Xa(a){if(null!=a&&null!=a.Lb)a=a.key;else{var b=Xa[t(null==a?null:a)];if(null!=b)a=b.c?b.c(a):b.call(null,a);else if(b=Xa._,null!=b)a=b.c?b.c(a):b.call(null,a);else throw z("IMapEntry.-key",a);}return a}
function Ya(a){if(null!=a&&null!=a.Mb)a=a.m;else{var b=Ya[t(null==a?null:a)];if(null!=b)a=b.c?b.c(a):b.call(null,a);else if(b=Ya._,null!=b)a=b.c?b.c(a):b.call(null,a);else throw z("IMapEntry.-val",a);}return a}function Za(){}function vi(a){if(null!=a&&null!=a.Cc)a=a.Cc(a);else{var b=vi[t(null==a?null:a)];if(null!=b)a=b.c?b.c(a):b.call(null,a);else if(b=vi._,null!=b)a=b.c?b.c(a):b.call(null,a);else throw z("IStack.-peek",a);}return a}
function wi(a){if(null!=a&&null!=a.Dc)a=a.Dc(a);else{var b=wi[t(null==a?null:a)];if(null!=b)a=b.c?b.c(a):b.call(null,a);else if(b=wi._,null!=b)a=b.c?b.c(a):b.call(null,a);else throw z("IStack.-pop",a);}return a}function $a(){}function ab(a){if(null!=a&&null!=a.jb)a=a.jb(a);else{var b=ab[t(null==a?null:a)];if(null!=b)a=b.c?b.c(a):b.call(null,a);else if(b=ab._,null!=b)a=b.c?b.c(a):b.call(null,a);else throw z("IDeref.-deref",a);}return a}function bb(){}
function cb(a){if(null!=a&&null!=a.R)a=a.R(a);else{var b=cb[t(null==a?null:a)];if(null!=b)a=b.c?b.c(a):b.call(null,a);else if(b=cb._,null!=b)a=b.c?b.c(a):b.call(null,a);else throw z("IMeta.-meta",a);}return a}function db(a,b){if(null!=a&&null!=a.T)a=a.T(a,b);else{var c=db[t(null==a?null:a)];if(null!=c)a=c.g?c.g(a,b):c.call(null,a,b);else if(c=db._,null!=c)a=c.g?c.g(a,b):c.call(null,a,b);else throw z("IWithMeta.-with-meta",a);}return a}function eb(){}
var gb=function(){function a(d,e,f){var h=fb[t(null==d?null:d)];if(null!=h)return h.j?h.j(d,e,f):h.call(null,d,e,f);h=fb._;if(null!=h)return h.j?h.j(d,e,f):h.call(null,d,e,f);throw z("IReduce.-reduce",d);}function b(d,e){var f=fb[t(null==d?null:d)];if(null!=f)return f.g?f.g(d,e):f.call(null,d,e);f=fb._;if(null!=f)return f.g?f.g(d,e):f.call(null,d,e);throw z("IReduce.-reduce",d);}var c=null;c=function(d,e,f){switch(arguments.length){case 2:return b.call(this,d,e);case 3:return a.call(this,d,e,f)}throw Error("Invalid arity: "+
arguments.length);};c.g=b;c.j=a;return c}(),fb=function fb(a){switch(arguments.length){case 2:return fb.g(arguments[0],arguments[1]);case 3:return fb.j(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",A.c(arguments.length)].join(""));}};fb.g=function(a,b){return null!=a&&null!=a.ba?a.ba(a,b):gb(a,b)};fb.j=function(a,b,c){return null!=a&&null!=a.ca?a.ca(a,b,c):gb(a,b,c)};fb.F=3;function hb(){}
function ib(a,b,c){if(null!=a&&null!=a.kb)a=a.kb(a,b,c);else{var d=ib[t(null==a?null:a)];if(null!=d)a=d.j?d.j(a,b,c):d.call(null,a,b,c);else if(d=ib._,null!=d)a=d.j?d.j(a,b,c):d.call(null,a,b,c);else throw z("IKVReduce.-kv-reduce",a);}return a}function jb(a,b){if(null!=a&&null!=a.P)a=a.P(a,b);else{var c=jb[t(null==a?null:a)];if(null!=c)a=c.g?c.g(a,b):c.call(null,a,b);else if(c=jb._,null!=c)a=c.g?c.g(a,b):c.call(null,a,b);else throw z("IEquiv.-equiv",a);}return a}
function kb(a){if(null!=a&&null!=a.S)a=a.S(a);else{var b=kb[t(null==a?null:a)];if(null!=b)a=b.c?b.c(a):b.call(null,a);else if(b=kb._,null!=b)a=b.c?b.c(a):b.call(null,a);else throw z("IHash.-hash",a);}return a}function lb(){}function mb(a){if(null!=a&&null!=a.O)a=a.O(a);else{var b=mb[t(null==a?null:a)];if(null!=b)a=b.c?b.c(a):b.call(null,a);else if(b=mb._,null!=b)a=b.c?b.c(a):b.call(null,a);else throw z("ISeqable.-seq",a);}return a}function nb(){}function ob(){}function pb(){}function qb(){}
function rb(a){if(null!=a&&null!=a.lb)a=a.lb(a);else{var b=rb[t(null==a?null:a)];if(null!=b)a=b.c?b.c(a):b.call(null,a);else if(b=rb._,null!=b)a=b.c?b.c(a):b.call(null,a);else throw z("IReversible.-rseq",a);}return a}function sb(a,b){if(null!=a&&null!=a.Bb)a=a.Bb(a,b);else{var c=sb[t(null==a?null:a)];if(null!=c)a=c.g?c.g(a,b):c.call(null,a,b);else if(c=sb._,null!=c)a=c.g?c.g(a,b):c.call(null,a,b);else throw z("IWriter.-write",a);}return a}function tb(){}
function ub(a,b,c){if(null!=a&&null!=a.N)a=a.N(a,b,c);else{var d=ub[t(null==a?null:a)];if(null!=d)a=d.j?d.j(a,b,c):d.call(null,a,b,c);else if(d=ub._,null!=d)a=d.j?d.j(a,b,c):d.call(null,a,b,c);else throw z("IPrintWithWriter.-pr-writer",a);}return a}function vb(a){if(null!=a&&null!=a.Sa)a=a.Sa(a);else{var b=vb[t(null==a?null:a)];if(null!=b)a=b.c?b.c(a):b.call(null,a);else if(b=vb._,null!=b)a=b.c?b.c(a):b.call(null,a);else throw z("IEditableCollection.-as-transient",a);}return a}
function wb(a,b){if(null!=a&&null!=a.Ua)a=a.Ua(a,b);else{var c=wb[t(null==a?null:a)];if(null!=c)a=c.g?c.g(a,b):c.call(null,a,b);else if(c=wb._,null!=c)a=c.g?c.g(a,b):c.call(null,a,b);else throw z("ITransientCollection.-conj!",a);}return a}function xb(a){if(null!=a&&null!=a.$a)a=a.$a(a);else{var b=xb[t(null==a?null:a)];if(null!=b)a=b.c?b.c(a):b.call(null,a);else if(b=xb._,null!=b)a=b.c?b.c(a):b.call(null,a);else throw z("ITransientCollection.-persistent!",a);}return a}
function yb(a,b,c){if(null!=a&&null!=a.Ta)a=a.Ta(a,b,c);else{var d=yb[t(null==a?null:a)];if(null!=d)a=d.j?d.j(a,b,c):d.call(null,a,b,c);else if(d=yb._,null!=d)a=d.j?d.j(a,b,c):d.call(null,a,b,c);else throw z("ITransientAssociative.-assoc!",a);}return a}function zb(){}function Ab(a,b){if(null!=a&&null!=a.Ra)a=a.Ra(a,b);else{var c=Ab[t(null==a?null:a)];if(null!=c)a=c.g?c.g(a,b):c.call(null,a,b);else if(c=Ab._,null!=c)a=c.g?c.g(a,b):c.call(null,a,b);else throw z("IComparable.-compare",a);}return a}
function Bb(a){if(null!=a&&null!=a.xb)a=a.xb(a);else{var b=Bb[t(null==a?null:a)];if(null!=b)a=b.c?b.c(a):b.call(null,a);else if(b=Bb._,null!=b)a=b.c?b.c(a):b.call(null,a);else throw z("IChunk.-drop-first",a);}return a}function Cb(a){if(null!=a&&null!=a.qb)a=a.qb(a);else{var b=Cb[t(null==a?null:a)];if(null!=b)a=b.c?b.c(a):b.call(null,a);else if(b=Cb._,null!=b)a=b.c?b.c(a):b.call(null,a);else throw z("IChunkedSeq.-chunked-first",a);}return a}
function Db(a){if(null!=a&&null!=a.ib)a=a.ib(a);else{var b=Db[t(null==a?null:a)];if(null!=b)a=b.c?b.c(a):b.call(null,a);else if(b=Db._,null!=b)a=b.c?b.c(a):b.call(null,a);else throw z("IChunkedSeq.-chunked-rest",a);}return a}function Eb(a,b){if(null!=a&&null!=a.Qb)a=a.Qb(a,b);else{var c=Eb[t(null==a?null:a)];if(null!=c)a=c.g?c.g(a,b):c.call(null,a,b);else if(c=Eb._,null!=c)a=c.g?c.g(a,b):c.call(null,a,b);else throw z("IReset.-reset!",a);}return a}
var Gb=function(){function a(f,h,k,l,m){var n=Fb[t(null==f?null:f)];if(null!=n)return n.aa?n.aa(f,h,k,l,m):n.call(null,f,h,k,l,m);n=Fb._;if(null!=n)return n.aa?n.aa(f,h,k,l,m):n.call(null,f,h,k,l,m);throw z("ISwap.-swap!",f);}function b(f,h,k,l){var m=Fb[t(null==f?null:f)];if(null!=m)return m.H?m.H(f,h,k,l):m.call(null,f,h,k,l);m=Fb._;if(null!=m)return m.H?m.H(f,h,k,l):m.call(null,f,h,k,l);throw z("ISwap.-swap!",f);}function c(f,h,k){var l=Fb[t(null==f?null:f)];if(null!=l)return l.j?l.j(f,h,k):l.call(null,
f,h,k);l=Fb._;if(null!=l)return l.j?l.j(f,h,k):l.call(null,f,h,k);throw z("ISwap.-swap!",f);}function d(f,h){var k=Fb[t(null==f?null:f)];if(null!=k)return k.g?k.g(f,h):k.call(null,f,h);k=Fb._;if(null!=k)return k.g?k.g(f,h):k.call(null,f,h);throw z("ISwap.-swap!",f);}var e=null;e=function(f,h,k,l,m){switch(arguments.length){case 2:return d.call(this,f,h);case 3:return c.call(this,f,h,k);case 4:return b.call(this,f,h,k,l);case 5:return a.call(this,f,h,k,l,m)}throw Error("Invalid arity: "+arguments.length);
};e.g=d;e.j=c;e.H=b;e.aa=a;return e}(),Fb=function Fb(a){switch(arguments.length){case 2:return Fb.g(arguments[0],arguments[1]);case 3:return Fb.j(arguments[0],arguments[1],arguments[2]);case 4:return Fb.H(arguments[0],arguments[1],arguments[2],arguments[3]);case 5:return Fb.aa(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4]);default:throw Error(["Invalid arity: ",A.c(arguments.length)].join(""));}};Fb.g=function(a,b){return null!=a&&null!=a.Sb?a.Sb(a,b):Gb(a,b)};
Fb.j=function(a,b,c){return null!=a&&null!=a.Tb?a.Tb(a,b,c):Gb(a,b,c)};Fb.H=function(a,b,c,d){return null!=a&&null!=a.Ub?a.Ub(a,b,c,d):Gb(a,b,c,d)};Fb.aa=function(a,b,c,d,e){return null!=a&&null!=a.Vb?a.Vb(a,b,c,d,e):Gb(a,b,c,d,e)};Fb.F=5;function Hb(){}function Ib(a){if(null!=a&&null!=a.Ca)a=a.Ca(a);else{var b=Ib[t(null==a?null:a)];if(null!=b)a=b.c?b.c(a):b.call(null,a);else if(b=Ib._,null!=b)a=b.c?b.c(a):b.call(null,a);else throw z("IIterable.-iterator",a);}return a}
function Jb(a){this.ac=a;this.l=1073741824;this.A=0}Jb.prototype.Bb=function(a,b){return this.ac.append(b)};function Kb(a){var b=new ma;a.N(null,new Jb(b),ra());return A.c(b)}var Lb="undefined"!==typeof Math&&"undefined"!==typeof Math.imul&&0!==Math.imul(4294967295,5)?function(a,b){return Math.imul(a,b)}:function(a,b){var c=a&65535,d=b&65535;return c*d+((a>>>16&65535)*d+c*(b>>>16&65535)<<16>>>0)|0};function Mb(a){a=Lb(a|0,-862048943);return Lb(a<<15|a>>>-15,461845907)}
function Nb(a,b){a=(a|0)^(b|0);return Lb(a<<13|a>>>-13,5)+-430675100|0}function Ob(a,b){a=(a|0)^b;a=Lb(a^a>>>16,-2048144789);a=Lb(a^a>>>13,-1028477387);return a^a>>>16}var Pb={},Qb=0;function Rb(a){255<Qb&&(Pb={},Qb=0);if(null==a)return 0;var b=Pb[a];if("number"===typeof b)a=b;else{a:if(null!=a)if(b=a.length,0<b)for(var c=0,d=0;;)if(c<b)d=Lb(31,d)+a.charCodeAt(c),c+=1;else{b=d;break a}else b=0;else b=0;Pb[a]=b;Qb+=1;a=b}return a}
function Sb(a){if(null!=a&&(a.l&4194304||u===a.qc))return a.S(null)^0;if("number"===typeof a){if(w(isFinite(a)))return Math.floor(a)%2147483647;switch(a){case Infinity:return 2146435072;case -Infinity:return-1048576;default:return 2146959360}}else return!0===a?a=1231:!1===a?a=1237:"string"===typeof a?(a=Rb(a),a=0===a?a:Ob(Nb(0,Mb(a)),4)):a=a instanceof Date?a.valueOf()^0:null==a?0:kb(a)^0,a}
function Tb(a){var b=a.name;a:{var c=1;for(var d=0;;)if(c<b.length)d=Nb(d,Mb(b.charCodeAt(c-1)|b.charCodeAt(c)<<16)),c+=2;else{c=d;break a}}b=Ob(1===(b.length&1)?c^Mb(b.charCodeAt(b.length-1)):c,Lb(2,b.length));a=Rb(a.ja);return b^a+2654435769+(b<<6)+(b>>2)}function Ub(a,b){if(a.str===b.str)return 0;if(w(ya(a.ja)?b.ja:!1))return-1;if(w(a.ja)){if(ya(b.ja))return 1;var c=ha(a.ja,b.ja);return 0===c?ha(a.name,b.name):c}return ha(a.name,b.name)}
function Vb(a,b,c,d,e){this.ja=a;this.name=b;this.str=c;this.Qa=d;this.ma=e;this.l=2154168321;this.A=4096}g=Vb.prototype;g.toString=function(){return this.str};g.P=function(a,b){return b instanceof Vb?this.str===b.str:!1};g.call=function(a){switch(arguments.length-1){case 1:return this.c(arguments[1]);case 2:return this.g(arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",A.c(arguments.length-1)].join(""));}};g.apply=function(a,b){return this.call.apply(this,[this].concat(Ba(b)))};
g.c=function(a){return Wb.g?Wb.g(a,this):Wb.call(null,a,this)};g.g=function(a,b){return Wb.j?Wb.j(a,this,b):Wb.call(null,a,this,b)};g.R=function(){return this.ma};g.T=function(a,b){return new Vb(this.ja,this.name,this.str,this.Qa,b)};g.S=function(){var a=this.Qa;return null!=a?a:this.Qa=a=Tb(this)};g.N=function(a,b){return sb(b,this.str)};
var Xb=function Xb(a){switch(arguments.length){case 1:return Xb.c(arguments[0]);case 2:return Xb.g(arguments[0],arguments[1]);default:throw Error(["Invalid arity: ",A.c(arguments.length)].join(""));}};Xb.c=function(a){for(;;){if(a instanceof Vb)return a;if("string"===typeof a){var b=a.indexOf("/");return 1>b?Xb.g(null,a):Xb.g(a.substring(0,b),a.substring(b+1,a.length))}if(a instanceof Yb)return a.Oa;if(a instanceof E)a=a.Da;else throw Error("no conversion to symbol");}};
Xb.g=function(a,b){var c=null!=a?[A.c(a),"/",A.c(b)].join(""):b;return new Vb(a,b,c,null,null)};Xb.F=2;function Yb(a,b,c){this.m=a;this.Oa=b;this.ma=c;this.l=6717441;this.A=0}g=Yb.prototype;g.toString=function(){return["#'",A.c(this.Oa)].join("")};g.jb=function(){return this.m.o?this.m.o():this.m.call(null)};g.R=function(){return this.ma};g.T=function(a,b){return new Yb(this.m,this.Oa,b)};g.P=function(a,b){return b instanceof Yb?(a=this.Oa,b=b.Oa,F.g?F.g(a,b):F.call(null,a,b)):!1};g.S=function(){return Tb(this.Oa)};
g.call=function(a){switch(arguments.length-1){case 0:return this.o();case 1:return this.c(arguments[1]);case 2:return this.g(arguments[1],arguments[2]);case 3:return this.j(arguments[1],arguments[2],arguments[3]);case 4:return this.H(arguments[1],arguments[2],arguments[3],arguments[4]);case 5:return this.aa(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]);case 6:return this.ya(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6]);case 7:return this.za(arguments[1],
arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7]);case 8:return this.Aa(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8]);case 9:return this.Ba(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9]);case 10:return this.na(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10]);
case 11:return this.oa(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11]);case 12:return this.pa(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12]);case 13:return this.qa(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],
arguments[11],arguments[12],arguments[13]);case 14:return this.ra(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14]);case 15:return this.sa(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15]);case 16:return this.ta(arguments[1],
arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15],arguments[16]);case 17:return this.ua(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15],arguments[16],arguments[17]);case 18:return this.va(arguments[1],arguments[2],
arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15],arguments[16],arguments[17],arguments[18]);case 19:return this.wa(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15],arguments[16],arguments[17],arguments[18],arguments[19]);case 20:return this.xa(arguments[1],
arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15],arguments[16],arguments[17],arguments[18],arguments[19],arguments[20]);case 21:return this.rb(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15],arguments[16],arguments[17],
arguments[18],arguments[19],arguments[20],arguments[21]);default:throw Error(["Invalid arity: ",A.c(arguments.length-1)].join(""));}};g.apply=function(a,b){return this.call.apply(this,[this].concat(Ba(b)))};g.o=function(){var a=this.m.o?this.m.o():this.m.call(null);return a.o?a.o():a.call(null)};g.c=function(a){var b=this.m.o?this.m.o():this.m.call(null);return b.c?b.c(a):b.call(null,a)};g.g=function(a,b){var c=this.m.o?this.m.o():this.m.call(null);return c.g?c.g(a,b):c.call(null,a,b)};
g.j=function(a,b,c){var d=this.m.o?this.m.o():this.m.call(null);return d.j?d.j(a,b,c):d.call(null,a,b,c)};g.H=function(a,b,c,d){var e=this.m.o?this.m.o():this.m.call(null);return e.H?e.H(a,b,c,d):e.call(null,a,b,c,d)};g.aa=function(a,b,c,d,e){var f=this.m.o?this.m.o():this.m.call(null);return f.aa?f.aa(a,b,c,d,e):f.call(null,a,b,c,d,e)};g.ya=function(a,b,c,d,e,f){var h=this.m.o?this.m.o():this.m.call(null);return h.ya?h.ya(a,b,c,d,e,f):h.call(null,a,b,c,d,e,f)};
g.za=function(a,b,c,d,e,f,h){var k=this.m.o?this.m.o():this.m.call(null);return k.za?k.za(a,b,c,d,e,f,h):k.call(null,a,b,c,d,e,f,h)};g.Aa=function(a,b,c,d,e,f,h,k){var l=this.m.o?this.m.o():this.m.call(null);return l.Aa?l.Aa(a,b,c,d,e,f,h,k):l.call(null,a,b,c,d,e,f,h,k)};g.Ba=function(a,b,c,d,e,f,h,k,l){var m=this.m.o?this.m.o():this.m.call(null);return m.Ba?m.Ba(a,b,c,d,e,f,h,k,l):m.call(null,a,b,c,d,e,f,h,k,l)};
g.na=function(a,b,c,d,e,f,h,k,l,m){var n=this.m.o?this.m.o():this.m.call(null);return n.na?n.na(a,b,c,d,e,f,h,k,l,m):n.call(null,a,b,c,d,e,f,h,k,l,m)};g.oa=function(a,b,c,d,e,f,h,k,l,m,n){var p=this.m.o?this.m.o():this.m.call(null);return p.oa?p.oa(a,b,c,d,e,f,h,k,l,m,n):p.call(null,a,b,c,d,e,f,h,k,l,m,n)};g.pa=function(a,b,c,d,e,f,h,k,l,m,n,p){var q=this.m.o?this.m.o():this.m.call(null);return q.pa?q.pa(a,b,c,d,e,f,h,k,l,m,n,p):q.call(null,a,b,c,d,e,f,h,k,l,m,n,p)};
g.qa=function(a,b,c,d,e,f,h,k,l,m,n,p,q){var r=this.m.o?this.m.o():this.m.call(null);return r.qa?r.qa(a,b,c,d,e,f,h,k,l,m,n,p,q):r.call(null,a,b,c,d,e,f,h,k,l,m,n,p,q)};g.ra=function(a,b,c,d,e,f,h,k,l,m,n,p,q,r){var x=this.m.o?this.m.o():this.m.call(null);return x.ra?x.ra(a,b,c,d,e,f,h,k,l,m,n,p,q,r):x.call(null,a,b,c,d,e,f,h,k,l,m,n,p,q,r)};
g.sa=function(a,b,c,d,e,f,h,k,l,m,n,p,q,r,x){var C=this.m.o?this.m.o():this.m.call(null);return C.sa?C.sa(a,b,c,d,e,f,h,k,l,m,n,p,q,r,x):C.call(null,a,b,c,d,e,f,h,k,l,m,n,p,q,r,x)};g.ta=function(a,b,c,d,e,f,h,k,l,m,n,p,q,r,x,C){var D=this.m.o?this.m.o():this.m.call(null);return D.ta?D.ta(a,b,c,d,e,f,h,k,l,m,n,p,q,r,x,C):D.call(null,a,b,c,d,e,f,h,k,l,m,n,p,q,r,x,C)};
g.ua=function(a,b,c,d,e,f,h,k,l,m,n,p,q,r,x,C,D){var I=this.m.o?this.m.o():this.m.call(null);return I.ua?I.ua(a,b,c,d,e,f,h,k,l,m,n,p,q,r,x,C,D):I.call(null,a,b,c,d,e,f,h,k,l,m,n,p,q,r,x,C,D)};g.va=function(a,b,c,d,e,f,h,k,l,m,n,p,q,r,x,C,D,I){var O=this.m.o?this.m.o():this.m.call(null);return O.va?O.va(a,b,c,d,e,f,h,k,l,m,n,p,q,r,x,C,D,I):O.call(null,a,b,c,d,e,f,h,k,l,m,n,p,q,r,x,C,D,I)};
g.wa=function(a,b,c,d,e,f,h,k,l,m,n,p,q,r,x,C,D,I,O){var V=this.m.o?this.m.o():this.m.call(null);return V.wa?V.wa(a,b,c,d,e,f,h,k,l,m,n,p,q,r,x,C,D,I,O):V.call(null,a,b,c,d,e,f,h,k,l,m,n,p,q,r,x,C,D,I,O)};g.xa=function(a,b,c,d,e,f,h,k,l,m,n,p,q,r,x,C,D,I,O,V){var ia=this.m.o?this.m.o():this.m.call(null);return ia.xa?ia.xa(a,b,c,d,e,f,h,k,l,m,n,p,q,r,x,C,D,I,O,V):ia.call(null,a,b,c,d,e,f,h,k,l,m,n,p,q,r,x,C,D,I,O,V)};
g.rb=function(a,b,c,d,e,f,h,k,l,m,n,p,q,r,x,C,D,I,O,V,ia){var Ja=this.m.o?this.m.o():this.m.call(null);return Zb.sb?Zb.sb(Ja,a,b,c,d,e,f,h,k,l,m,n,p,q,r,x,C,D,I,O,V,ia):Zb.call(null,Ja,a,b,c,d,e,f,h,k,l,m,n,p,q,r,x,C,D,I,O,V,ia)};function $b(a){return null!=a?a.A&131072||u===a.rc?!0:a.A?!1:y(Hb,a):y(Hb,a)}
function G(a){if(null==a)return null;if(null!=a&&(a.l&8388608||u===a.Rb))return a.O(null);if(xa(a)||"string"===typeof a)return 0===a.length?null:new H(a,0,null);if(null!=a&&null!=a[Aa])return a=(null!==a&&Aa in a?a[Aa]:void 0).call(a),ac.c?ac.c(a):ac.call(null,a);if(y(lb,a))return mb(a);throw Error([A.c(a)," is not ISeqable"].join(""));}function J(a){if(null==a)return null;if(null!=a&&(a.l&64||u===a.I))return a.Y(null);a=G(a);return null==a?null:B(a)}
function bc(a){return null!=a?null!=a&&(a.l&64||u===a.I)?a.da(null):(a=G(a))?a.da(null):K:K}function M(a){return null==a?null:null!=a&&(a.l&128||u===a.Za)?a.$(null):G(bc(a))}var F=function F(a){switch(arguments.length){case 1:return F.c(arguments[0]);case 2:return F.g(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;return F.v(arguments[0],arguments[1],new H(c.slice(2),0,null))}};F.c=function(){return!0};
F.g=function(a,b){return null==a?null==b:a===b||jb(a,b)};F.v=function(a,b,c){for(;;)if(F.g(a,b))if(M(c))a=b,b=J(c),c=M(c);else return F.g(b,J(c));else return!1};F.C=function(a){var b=J(a),c=M(a);a=J(c);c=M(c);return this.v(b,a,c)};F.F=2;function cc(a){this.D=a}cc.prototype.next=function(){if(null!=this.D){var a=J(this.D);this.D=M(this.D);return{value:a,done:!1}}return{value:null,done:!0}};function dc(a){return new cc(G(a))}
function ec(a,b){this.value=a;this.Wa=b;this.ob=null;this.l=8388672;this.A=0}ec.prototype.O=function(){return this};ec.prototype.Y=function(){return this.value};ec.prototype.da=function(){null==this.ob&&(this.ob=ac.c?ac.c(this.Wa):ac.call(null,this.Wa));return this.ob};function ac(a){var b=a.next();return w(b.done)?null:new ec(b.value,a)}function fc(a){var b=0,c=1;for(a=G(a);;)if(null!=a)b+=1,c=Lb(31,c)+Sb(J(a))|0,a=M(a);else return Ob(Nb(0,Mb(c)),b)}var gc=Ob(Nb(0,Mb(1)),0);
function hc(a){var b=0,c=0;for(a=G(a);;)if(null!=a)b+=1,c=c+Sb(J(a))|0,a=M(a);else return Ob(Nb(0,Mb(c)),b)}var ic=Ob(Nb(0,Mb(0)),0);Da["null"]=!0;Ea["null"]=function(){return 0};Date.prototype.P=function(a,b){return b instanceof Date&&this.valueOf()===b.valueOf()};Date.prototype.Xa=u;Date.prototype.Ra=function(a,b){if(b instanceof Date)return ha(this.valueOf(),b.valueOf());throw Error(["Cannot compare ",A.c(this)," to ",A.c(b)].join(""));};jb.number=function(a,b){return a===b};bb["function"]=!0;
cb["function"]=function(){return null};kb._=function(a){return a[da]||(a[da]=++ea)};function jc(a){this.m=a;this.l=32768;this.A=0}jc.prototype.jb=function(){return this.m};function kc(a){return a instanceof jc}function lc(a){return ab(a)}function mc(a,b){var c=a.length;if(0===a.length)return b.o?b.o():b.call(null);for(var d=a[0],e=1;;)if(e<c){var f=a[e];d=b.g?b.g(d,f):b.call(null,d,f);if(kc(d))return ab(d);e+=1}else return d}
function nc(a,b,c){var d=a.length,e=c;for(c=0;;)if(c<d){var f=a[c];e=b.g?b.g(e,f):b.call(null,e,f);if(kc(e))return ab(e);c+=1}else return e}function oc(a,b,c,d){for(var e=a.length;;)if(d<e){var f=a[d];c=b.g?b.g(c,f):b.call(null,c,f);if(kc(c))return ab(c);d+=1}else return c}function pc(a){return null!=a?a.l&2||u===a.Fb?!0:a.l?!1:y(Da,a):y(Da,a)}function qc(a){return null!=a?a.l&16||u===a.zb?!0:a.l?!1:y(Ka,a):y(Ka,a)}
function N(a,b,c){var d=P.c?P.c(a):P.call(null,a);if(c>=d)return-1;!(0<c)&&0>c&&(c+=d,c=0>c?0:c);for(;;)if(c<d){if(F.g(rc?rc(a,c):sc.call(null,a,c),b))return c;c+=1}else return-1}function Q(a,b,c){var d=P.c?P.c(a):P.call(null,a);if(0===d)return-1;0<c?(--d,c=d<c?d:c):c=0>c?d+c:c;for(;;)if(0<=c){if(F.g(rc?rc(a,c):sc.call(null,a,c),b))return c;--c}else return-1}function tc(a,b){this.h=a;this.i=b}tc.prototype.fa=function(){return this.i<this.h.length};
tc.prototype.next=function(){var a=this.h[this.i];this.i+=1;return a};function H(a,b,c){this.h=a;this.i=b;this.meta=c;this.l=166592766;this.A=139264}g=H.prototype;g.toString=function(){return Kb(this)};g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return N(this,b,0);case 2:return N(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.c=function(b){return N(this,b,0)};a.g=function(b,c){return N(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return Q(this,c,P.c?P.c(this):P.call(null,this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return Q(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.c=a;b.g=function(c,d){return Q(this,c,d)};return b}();g.W=function(a,b){a=b+this.i;if(0<=a&&a<this.h.length)return this.h[a];throw Error("Index out of bounds");};g.la=function(a,b,c){a=b+this.i;return 0<=a&&a<this.h.length?this.h[a]:c};
g.Ca=function(){return new tc(this.h,this.i)};g.R=function(){return this.meta};g.$=function(){return this.i+1<this.h.length?new H(this.h,this.i+1,null):null};g.U=function(){var a=this.h.length-this.i;return 0>a?0:a};g.lb=function(){var a=this.U(null);return 0<a?new uc(this,a-1,null):null};g.S=function(){return fc(this)};g.P=function(a,b){return vc.g?vc.g(this,b):vc.call(null,this,b)};g.V=function(){return K};g.ba=function(a,b){return oc(this.h,b,this.h[this.i],this.i+1)};
g.ca=function(a,b,c){return oc(this.h,b,c,this.i)};g.Y=function(){return this.h[this.i]};g.da=function(){return this.i+1<this.h.length?new H(this.h,this.i+1,null):K};g.O=function(){return this.i<this.h.length?this:null};g.T=function(a,b){return b===this.meta?this:new H(this.h,this.i,b)};g.Z=function(a,b){return R.g?R.g(b,this):R.call(null,b,this)};H.prototype[Aa]=function(){return dc(this)};function wc(a){return 0<a.length?new H(a,0,null):null}
function uc(a,b,c){this.hb=a;this.i=b;this.meta=c;this.l=32374990;this.A=8192}g=uc.prototype;g.toString=function(){return Kb(this)};g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return N(this,b,0);case 2:return N(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.c=function(b){return N(this,b,0)};a.g=function(b,c){return N(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return Q(this,c,P.c?P.c(this):P.call(null,this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return Q(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.c=a;b.g=function(c,d){return Q(this,c,d)};return b}();g.R=function(){return this.meta};g.$=function(){return 0<this.i?new uc(this.hb,this.i-1,null):null};g.U=function(){return this.i+1};g.S=function(){return fc(this)};
g.P=function(a,b){return vc.g?vc.g(this,b):vc.call(null,this,b)};g.V=function(){return K};g.ba=function(a,b){return xc?xc(b,this):yc.call(null,b,this)};g.ca=function(a,b,c){return zc?zc(b,c,this):yc.call(null,b,c,this)};g.Y=function(){return La(this.hb,this.i)};g.da=function(){return 0<this.i?new uc(this.hb,this.i-1,null):K};g.O=function(){return this};g.T=function(a,b){return b===this.meta?this:new uc(this.hb,this.i,b)};g.Z=function(a,b){return R.g?R.g(b,this):R.call(null,b,this)};
uc.prototype[Aa]=function(){return dc(this)};function Ac(a){for(;;){var b=M(a);if(null!=b)a=b;else return J(a)}}jb._=function(a,b){return a===b};var Bc=function Bc(a){switch(arguments.length){case 0:return Bc.o();case 1:return Bc.c(arguments[0]);case 2:return Bc.g(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;return Bc.v(arguments[0],arguments[1],new H(c.slice(2),0,null))}};Bc.o=function(){return Cc};Bc.c=function(a){return a};
Bc.g=function(a,b){return null!=a?Ia(a,b):new Dc(null,b,null,1,null)};Bc.v=function(a,b,c){for(;;)if(w(c))a=Bc.g(a,b),b=J(c),c=M(c);else return Bc.g(a,b)};Bc.C=function(a){var b=J(a),c=M(a);a=J(c);c=M(c);return this.v(b,a,c)};Bc.F=2;
function P(a){if(null!=a)if(null!=a&&(a.l&2||u===a.Fb))a=a.U(null);else if(xa(a))a=a.length;else if("string"===typeof a)a=a.length;else if(null!=a&&(a.l&8388608||u===a.Rb))a:{a=G(a);for(var b=0;;){if(pc(a)){a=b+Ea(a);break a}a=M(a);b+=1}}else a=Ea(a);else a=0;return a}function Ec(a,b,c){for(;;){if(null==a)return c;if(0===b)return G(a)?J(a):c;if(qc(a))return La(a,b,c);if(G(a))a=M(a),--b;else return c}}
function sc(a){switch(arguments.length){case 2:return rc(arguments[0],arguments[1]);case 3:return S(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",A.c(arguments.length)].join(""));}}
function rc(a,b){if("number"!==typeof b)throw Error("Index argument to nth must be a number");if(null==a)return a;if(null!=a&&(a.l&16||u===a.zb))return a.W(null,b);if(xa(a)){if(-1<b&&b<a.length)return a[b|0];throw Error("Index out of bounds");}if("string"===typeof a){if(-1<b&&b<a.length)return a.charAt(b|0);throw Error("Index out of bounds");}if(null!=a&&(a.l&64||u===a.I)||null!=a&&(a.l&16777216||u===a.Ab)){if(0>b)throw Error("Index out of bounds");a:for(;;){if(null==a)throw Error("Index out of bounds");
if(0===b){if(G(a)){a=J(a);break a}throw Error("Index out of bounds");}if(qc(a)){a=La(a,b);break a}if(G(a))a=M(a),--b;else throw Error("Index out of bounds");}return a}if(y(Ka,a))return La(a,b);throw Error(["nth not supported on this type ",A.c(za(null==a?null:a.constructor))].join(""));}
function S(a,b,c){if("number"!==typeof b)throw Error("Index argument to nth must be a number.");if(null==a)return c;if(null!=a&&(a.l&16||u===a.zb))return a.la(null,b,c);if(xa(a))return-1<b&&b<a.length?a[b|0]:c;if("string"===typeof a)return-1<b&&b<a.length?a.charAt(b|0):c;if(null!=a&&(a.l&64||u===a.I)||null!=a&&(a.l&16777216||u===a.Ab))return 0>b?c:Ec(a,b,c);if(y(Ka,a))return La(a,b,c);throw Error(["nth not supported on this type ",A.c(za(null==a?null:a.constructor))].join(""));}
var Wb=function Wb(a){switch(arguments.length){case 2:return Wb.g(arguments[0],arguments[1]);case 3:return Wb.j(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",A.c(arguments.length)].join(""));}};Wb.g=function(a,b){return null==a?null:null!=a&&(a.l&256||u===a.Kb)?a.ia(null,b):xa(a)?null!=b&&b<a.length?a[b|0]:null:"string"===typeof a?null!=b&&-1<b&&b<a.length?a.charAt(b|0):null:y(Qa,a)?Ra(a,b):null};
Wb.j=function(a,b,c){return null!=a?null!=a&&(a.l&256||u===a.Kb)?a.M(null,b,c):xa(a)?null!=b&&-1<b&&b<a.length?a[b|0]:c:"string"===typeof a?null!=b&&-1<b&&b<a.length?a.charAt(b|0):c:y(Qa,a)?Ra(a,b,c):c:c};Wb.F=3;var Fc=function Fc(a){switch(arguments.length){case 3:return Fc.j(arguments[0],arguments[1],arguments[2]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;return Fc.v(arguments[0],arguments[1],arguments[2],new H(c.slice(3),0,null))}};
Fc.j=function(a,b,c){if(null!=a&&(a.l&512||u===a.nc))a=a.Ja(null,b,c);else if(null!=a)a=Ta(a,b,c);else{a=[b,c];b=[];for(c=0;;)if(c<a.length){var d=a[c],e=a[c+1],f=Gc(b,d);-1===f?(f=b,f.push(d),f.push(e)):b[f+1]=e;c+=2}else break;a=new v(null,b.length/2,b,null)}return a};Fc.v=function(a,b,c,d){for(;;)if(a=Fc.j(a,b,c),w(d))b=J(d),c=J(M(d)),d=M(M(d));else return a};Fc.C=function(a){var b=J(a),c=M(a);a=J(c);var d=M(c);c=J(d);d=M(d);return this.v(b,a,c,d)};Fc.F=3;
var Hc=function Hc(a){switch(arguments.length){case 1:return Hc.c(arguments[0]);case 2:return Hc.g(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;return Hc.v(arguments[0],arguments[1],new H(c.slice(2),0,null))}};Hc.c=function(a){return a};Hc.g=function(a,b){return null==a?null:Wa(a,b)};Hc.v=function(a,b,c){for(;;){if(null==a)return null;a=Hc.g(a,b);if(w(c))b=J(c),c=M(c);else return a}};
Hc.C=function(a){var b=J(a),c=M(a);a=J(c);c=M(c);return this.v(b,a,c)};Hc.F=2;function Ic(a,b){this.u=a;this.meta=b;this.l=393217;this.A=0}g=Ic.prototype;g.R=function(){return this.meta};g.T=function(a,b){return new Ic(this.u,b)};
g.call=function(a){switch(arguments.length-1){case 0:return this.o();case 1:return this.c(arguments[1]);case 2:return this.g(arguments[1],arguments[2]);case 3:return this.j(arguments[1],arguments[2],arguments[3]);case 4:return this.H(arguments[1],arguments[2],arguments[3],arguments[4]);case 5:return this.aa(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]);case 6:return this.ya(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6]);case 7:return this.za(arguments[1],
arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7]);case 8:return this.Aa(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8]);case 9:return this.Ba(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9]);case 10:return this.na(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10]);
case 11:return this.oa(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11]);case 12:return this.pa(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12]);case 13:return this.qa(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],
arguments[11],arguments[12],arguments[13]);case 14:return this.ra(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14]);case 15:return this.sa(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15]);case 16:return this.ta(arguments[1],
arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15],arguments[16]);case 17:return this.ua(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15],arguments[16],arguments[17]);case 18:return this.va(arguments[1],arguments[2],
arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15],arguments[16],arguments[17],arguments[18]);case 19:return this.wa(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15],arguments[16],arguments[17],arguments[18],arguments[19]);case 20:return this.xa(arguments[1],
arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15],arguments[16],arguments[17],arguments[18],arguments[19],arguments[20]);case 21:return this.rb(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15],arguments[16],arguments[17],
arguments[18],arguments[19],arguments[20],arguments[21]);default:throw Error(["Invalid arity: ",A.c(arguments.length-1)].join(""));}};g.apply=function(a,b){return this.call.apply(this,[this].concat(Ba(b)))};g.o=function(){return this.u.o?this.u.o():this.u.call(null)};g.c=function(a){return this.u.c?this.u.c(a):this.u.call(null,a)};g.g=function(a,b){return this.u.g?this.u.g(a,b):this.u.call(null,a,b)};g.j=function(a,b,c){return this.u.j?this.u.j(a,b,c):this.u.call(null,a,b,c)};
g.H=function(a,b,c,d){return this.u.H?this.u.H(a,b,c,d):this.u.call(null,a,b,c,d)};g.aa=function(a,b,c,d,e){return this.u.aa?this.u.aa(a,b,c,d,e):this.u.call(null,a,b,c,d,e)};g.ya=function(a,b,c,d,e,f){return this.u.ya?this.u.ya(a,b,c,d,e,f):this.u.call(null,a,b,c,d,e,f)};g.za=function(a,b,c,d,e,f,h){return this.u.za?this.u.za(a,b,c,d,e,f,h):this.u.call(null,a,b,c,d,e,f,h)};g.Aa=function(a,b,c,d,e,f,h,k){return this.u.Aa?this.u.Aa(a,b,c,d,e,f,h,k):this.u.call(null,a,b,c,d,e,f,h,k)};
g.Ba=function(a,b,c,d,e,f,h,k,l){return this.u.Ba?this.u.Ba(a,b,c,d,e,f,h,k,l):this.u.call(null,a,b,c,d,e,f,h,k,l)};g.na=function(a,b,c,d,e,f,h,k,l,m){return this.u.na?this.u.na(a,b,c,d,e,f,h,k,l,m):this.u.call(null,a,b,c,d,e,f,h,k,l,m)};g.oa=function(a,b,c,d,e,f,h,k,l,m,n){return this.u.oa?this.u.oa(a,b,c,d,e,f,h,k,l,m,n):this.u.call(null,a,b,c,d,e,f,h,k,l,m,n)};g.pa=function(a,b,c,d,e,f,h,k,l,m,n,p){return this.u.pa?this.u.pa(a,b,c,d,e,f,h,k,l,m,n,p):this.u.call(null,a,b,c,d,e,f,h,k,l,m,n,p)};
g.qa=function(a,b,c,d,e,f,h,k,l,m,n,p,q){return this.u.qa?this.u.qa(a,b,c,d,e,f,h,k,l,m,n,p,q):this.u.call(null,a,b,c,d,e,f,h,k,l,m,n,p,q)};g.ra=function(a,b,c,d,e,f,h,k,l,m,n,p,q,r){return this.u.ra?this.u.ra(a,b,c,d,e,f,h,k,l,m,n,p,q,r):this.u.call(null,a,b,c,d,e,f,h,k,l,m,n,p,q,r)};g.sa=function(a,b,c,d,e,f,h,k,l,m,n,p,q,r,x){return this.u.sa?this.u.sa(a,b,c,d,e,f,h,k,l,m,n,p,q,r,x):this.u.call(null,a,b,c,d,e,f,h,k,l,m,n,p,q,r,x)};
g.ta=function(a,b,c,d,e,f,h,k,l,m,n,p,q,r,x,C){return this.u.ta?this.u.ta(a,b,c,d,e,f,h,k,l,m,n,p,q,r,x,C):this.u.call(null,a,b,c,d,e,f,h,k,l,m,n,p,q,r,x,C)};g.ua=function(a,b,c,d,e,f,h,k,l,m,n,p,q,r,x,C,D){return this.u.ua?this.u.ua(a,b,c,d,e,f,h,k,l,m,n,p,q,r,x,C,D):this.u.call(null,a,b,c,d,e,f,h,k,l,m,n,p,q,r,x,C,D)};g.va=function(a,b,c,d,e,f,h,k,l,m,n,p,q,r,x,C,D,I){return this.u.va?this.u.va(a,b,c,d,e,f,h,k,l,m,n,p,q,r,x,C,D,I):this.u.call(null,a,b,c,d,e,f,h,k,l,m,n,p,q,r,x,C,D,I)};
g.wa=function(a,b,c,d,e,f,h,k,l,m,n,p,q,r,x,C,D,I,O){return this.u.wa?this.u.wa(a,b,c,d,e,f,h,k,l,m,n,p,q,r,x,C,D,I,O):this.u.call(null,a,b,c,d,e,f,h,k,l,m,n,p,q,r,x,C,D,I,O)};g.xa=function(a,b,c,d,e,f,h,k,l,m,n,p,q,r,x,C,D,I,O,V){return this.u.xa?this.u.xa(a,b,c,d,e,f,h,k,l,m,n,p,q,r,x,C,D,I,O,V):this.u.call(null,a,b,c,d,e,f,h,k,l,m,n,p,q,r,x,C,D,I,O,V)};
g.rb=function(a,b,c,d,e,f,h,k,l,m,n,p,q,r,x,C,D,I,O,V,ia){return Zb.sb?Zb.sb(this.u,a,b,c,d,e,f,h,k,l,m,n,p,q,r,x,C,D,I,O,V,ia):Zb.call(null,this.u,a,b,c,d,e,f,h,k,l,m,n,p,q,r,x,C,D,I,O,V,ia)};function Jc(a,b){return"function"==t(a)?new Ic(a,b):null==a?null:db(a,b)}function Kc(a){return null!=a&&(null!=a?a.l&131072||u===a.Nb||(a.l?0:y(bb,a)):y(bb,a))?cb(a):null}function Lc(a){return null==a?!1:null!=a?a.l&4096||u===a.yc?!0:a.l?!1:y(Za,a):y(Za,a)}
function Mc(a){return null!=a?a.l&16777216||u===a.Ab?!0:a.l?!1:y(nb,a):y(nb,a)}function Nc(a){return null==a?!1:null!=a?a.l&1024||u===a.uc?!0:a.l?!1:y(Va,a):y(Va,a)}function Oc(a){return null!=a?a.l&67108864||u===a.wc?!0:a.l?!1:y(pb,a):y(pb,a)}function Pc(a){return null!=a?a.l&16384||u===a.zc?!0:a.l?!1:y($a,a):y($a,a)}function Qc(a){return null!=a?a.A&512||u===a.oc?!0:!1:!1}function Rc(a,b,c,d,e){for(;0!==e;)c[d]=a[b],d+=1,--e,b+=1}var Sc={};function Tc(a){return null==a?!1:!1===a?!1:!0}
function Uc(a,b){return Wb.j(a,b,Sc)===Sc?!1:!0}
function Vc(a,b){if(a===b)return 0;if(null==a)return-1;if(null==b)return 1;if("number"===typeof a){if("number"===typeof b)return ha(a,b);throw Error(["Cannot compare ",A.c(a)," to ",A.c(b)].join(""));}if(null!=a?a.A&2048||u===a.Xa||(a.A?0:y(zb,a)):y(zb,a))return Ab(a,b);if("string"!==typeof a&&!xa(a)&&!0!==a&&!1!==a||(null==a?null:a.constructor)!==(null==b?null:b.constructor))throw Error(["Cannot compare ",A.c(a)," to ",A.c(b)].join(""));return ha(a,b)}
function Wc(a,b){var c=P(a),d=P(b);if(c<d)a=-1;else if(c>d)a=1;else if(0===c)a=0;else a:for(d=0;;){var e=Vc(rc(a,d),rc(b,d));if(0===e&&d+1<c)d+=1;else{a=e;break a}}return a}function ka(a){return F.g(a,Vc)?Vc:function(b,c){var d=a.g?a.g(b,c):a.call(null,b,c);return"number"===typeof d?d:w(d)?-1:w(a.g?a.g(c,b):a.call(null,c,b))?1:0}}function Xc(a,b){return G(b)?(b=Yc.c?Yc.c(b):Yc.call(null,b),ja(b,ka(a)),G(b)):K}
function Di(){return Xc(function(a,b){a=J.c?J.c(a):J.call(null,a);b=J.c?J.c(b):J.call(null,b);var c=ka(Vc);return c.g?c.g(a,b):c.call(null,a,b)},qj)}function yc(a){switch(arguments.length){case 2:return xc(arguments[0],arguments[1]);case 3:return zc(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",A.c(arguments.length)].join(""));}}function xc(a,b){var c=G(b);return c?(b=J(c),c=M(c),Zc?Zc(a,b,c):$c.call(null,a,b,c)):a.o?a.o():a.call(null)}
function zc(a,b,c){for(c=G(c);;)if(c){var d=J(c);b=a.g?a.g(b,d):a.call(null,b,d);if(kc(b))return ab(b);c=M(c)}else return b}function ad(a,b){a=Ib(a);if(w(a.fa()))for(var c=a.next();;)if(a.fa()){var d=a.next();c=b.g?b.g(c,d):b.call(null,c,d);if(kc(c))return ab(c)}else return c;else return b.o?b.o():b.call(null)}function bd(a,b,c){for(a=Ib(a);;)if(a.fa()){var d=a.next();c=b.g?b.g(c,d):b.call(null,c,d);if(kc(c))return ab(c)}else return c}
function $c(a){switch(arguments.length){case 2:return cd(arguments[0],arguments[1]);case 3:return Zc(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",A.c(arguments.length)].join(""));}}function cd(a,b){return null!=b&&(b.l&524288||u===b.Pb)?b.ba(null,a):xa(b)?mc(b,a):"string"===typeof b?mc(b,a):y(eb,b)?fb(b,a):$b(b)?ad(b,a):xc(a,b)}
function Zc(a,b,c){return null!=c&&(c.l&524288||u===c.Pb)?c.ca(null,a,b):xa(c)?nc(c,a,b):"string"===typeof c?nc(c,a,b):y(eb,c)?fb(c,a,b):$b(c)?bd(c,a,b):zc(a,b,c)}function dd(a,b,c){return null!=c?ib(c,a,b):b}function ed(a){return a}function fd(a,b,c,d){a=a.c?a.c(b):a.call(null,b);c=Zc(a,c,d);return a.c?a.c(c):a.call(null,c)}function gd(a){a=(a-a%2)/2;return 0<=a?Math.floor(a):Math.ceil(a)}
function hd(a){a-=a>>1&1431655765;a=(a&858993459)+(a>>2&858993459);return 16843009*(a+(a>>4)&252645135)>>24}function yj(a){return 0>a}var A=function A(a){switch(arguments.length){case 0:return A.o();case 1:return A.c(arguments[0]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;return A.v(arguments[0],new H(c.slice(1),0,null))}};A.o=function(){return""};A.c=function(a){return null==a?"":[a].join("")};
A.v=function(a,b){for(a=new ma(A.c(a));;)if(w(b))a=a.append(A.c(J(b))),b=M(b);else return a.toString()};A.C=function(a){var b=J(a);a=M(a);return this.v(b,a)};A.F=1;function vc(a,b){if(Mc(b))if(pc(a)&&pc(b)&&P(a)!==P(b))a=!1;else a:for(a=G(a),b=G(b);;){if(null==a){a=null==b;break a}if(null!=b&&F.g(J(a),J(b)))a=M(a),b=M(b);else{a=!1;break a}}else a=null;return Tc(a)}function Dc(a,b,c,d,e){this.meta=a;this.first=b;this.rest=c;this.count=d;this.B=e;this.l=65937646;this.A=8192}g=Dc.prototype;
g.toString=function(){return Kb(this)};g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return N(this,b,0);case 2:return N(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.c=function(b){return N(this,b,0)};a.g=function(b,c){return N(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return Q(this,c,this.count)}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return Q(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.c=a;b.g=function(c,d){return Q(this,c,d)};return b}();g.R=function(){return this.meta};g.$=function(){return 1===this.count?null:this.rest};g.U=function(){return this.count};g.Cc=function(){return this.first};g.Dc=function(){return this.da(null)};
g.S=function(){var a=this.B;return null!=a?a:this.B=a=fc(this)};g.P=function(a,b){return vc(this,b)};g.V=function(){return db(K,this.meta)};g.ba=function(a,b){return xc(b,this)};g.ca=function(a,b,c){return zc(b,c,this)};g.Y=function(){return this.first};g.da=function(){return 1===this.count?K:this.rest};g.O=function(){return this};g.T=function(a,b){return b===this.meta?this:new Dc(b,this.first,this.rest,this.count,this.B)};g.Z=function(a,b){return new Dc(this.meta,b,this,this.count+1,null)};
Dc.prototype[Aa]=function(){return dc(this)};function id(a){this.meta=a;this.l=65937614;this.A=8192}g=id.prototype;g.toString=function(){return Kb(this)};g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return N(this,b,0);case 2:return N(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.c=function(b){return N(this,b,0)};a.g=function(b,c){return N(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return Q(this,c,P(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return Q(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.c=a;b.g=function(c,d){return Q(this,c,d)};return b}();g.R=function(){return this.meta};g.$=function(){return null};g.U=function(){return 0};g.Cc=function(){return null};g.Dc=function(){throw Error("Can't pop empty list");};g.S=function(){return gc};
g.P=function(a,b){return(null!=b?b.l&33554432||u===b.tc||(b.l?0:y(ob,b)):y(ob,b))||Mc(b)?null==G(b):!1};g.V=function(){return this};g.ba=function(a,b){return xc(b,this)};g.ca=function(a,b,c){return zc(b,c,this)};g.Y=function(){return null};g.da=function(){return K};g.O=function(){return null};g.T=function(a,b){return b===this.meta?this:new id(b)};g.Z=function(a,b){return new Dc(this.meta,b,null,1,null)};var K=new id(null);id.prototype[Aa]=function(){return dc(this)};
function jd(a){return(null!=a?a.l&134217728||u===a.xc||(a.l?0:y(qb,a)):y(qb,a))?(a=rb(a))?a:K:Zc(Bc,K,a)}function kd(a){for(var b=[],c=arguments.length,d=0;;)if(d<c)b.push(arguments[d]),d+=1;else break;a:{c=0<b.length?new H(b.slice(0),0,null):null;if(c instanceof H&&0===c.i)b=c.h;else b:for(b=[];;)if(null!=c)b.push(B(c)),c=Pa(c);else break b;c=b.length;for(var e=K;;)if(0<c)d=c-1,e=Ia(e,b[c-1]),c=d;else break a}return e}
function ld(a,b,c,d){this.meta=a;this.first=b;this.rest=c;this.B=d;this.l=65929452;this.A=8192}g=ld.prototype;g.toString=function(){return Kb(this)};g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return N(this,b,0);case 2:return N(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.c=function(b){return N(this,b,0)};a.g=function(b,c){return N(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return Q(this,c,P(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return Q(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.c=a;b.g=function(c,d){return Q(this,c,d)};return b}();g.R=function(){return this.meta};g.$=function(){return null==this.rest?null:G(this.rest)};g.S=function(){var a=this.B;return null!=a?a:this.B=a=fc(this)};g.P=function(a,b){return vc(this,b)};g.V=function(){return K};
g.ba=function(a,b){return xc(b,this)};g.ca=function(a,b,c){return zc(b,c,this)};g.Y=function(){return this.first};g.da=function(){return null==this.rest?K:this.rest};g.O=function(){return this};g.T=function(a,b){return b===this.meta?this:new ld(b,this.first,this.rest,this.B)};g.Z=function(a,b){return new ld(null,b,this,null)};ld.prototype[Aa]=function(){return dc(this)};
function R(a,b){return null==b?new Dc(null,a,null,1,null):null!=b&&(b.l&64||u===b.I)?new ld(null,a,b,null):new ld(null,a,G(b),null)}function md(a,b){if(a.Da===b.Da)return 0;if(w(ya(a.ja)?b.ja:!1))return-1;if(w(a.ja)){if(ya(b.ja))return 1;var c=ha(a.ja,b.ja);return 0===c?ha(a.name,b.name):c}return ha(a.name,b.name)}function E(a,b,c,d){this.ja=a;this.name=b;this.Da=c;this.Qa=d;this.l=2153775105;this.A=4096}g=E.prototype;g.toString=function(){return[":",A.c(this.Da)].join("")};
g.P=function(a,b){return b instanceof E?this.Da===b.Da:!1};g.call=function(a){switch(arguments.length-1){case 1:return this.c(arguments[1]);case 2:return this.g(arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",A.c(arguments.length-1)].join(""));}};g.apply=function(a,b){return this.call.apply(this,[this].concat(Ba(b)))};g.c=function(a){return Wb.g(a,this)};g.g=function(a,b){return Wb.j(a,this,b)};g.S=function(){var a=this.Qa;return null!=a?a:this.Qa=a=Tb(this)+2654435769|0};
g.N=function(a,b){return sb(b,[":",A.c(this.Da)].join(""))};function nd(a){if(null!=a&&(a.A&4096||u===a.Ob))return a.ja;throw Error(["Doesn't support namespace: ",A.c(a)].join(""));}var od=function od(a){switch(arguments.length){case 1:return od.c(arguments[0]);case 2:return od.g(arguments[0],arguments[1]);default:throw Error(["Invalid arity: ",A.c(arguments.length)].join(""));}};
od.c=function(a){if(a instanceof E)return a;if(a instanceof Vb)return new E(nd(a),pd.c?pd.c(a):pd.call(null,a),a.str,null);if(F.g("/",a))return new E(null,a,a,null);if("string"===typeof a){var b=a.split("/");return 2===b.length?new E(b[0],b[1],a,null):new E(null,b[0],a,null)}return null};
od.g=function(a,b){a=a instanceof E?pd.c?pd.c(a):pd.call(null,a):a instanceof Vb?pd.c?pd.c(a):pd.call(null,a):a;b=b instanceof E?pd.c?pd.c(b):pd.call(null,b):b instanceof Vb?pd.c?pd.c(b):pd.call(null,b):b;return new E(a,b,[w(a)?[A.c(a),"/"].join(""):null,A.c(b)].join(""),null)};od.F=2;function qd(a,b,c){this.meta=a;this.ab=b;this.D=null;this.B=c;this.l=32374988;this.A=1}g=qd.prototype;g.toString=function(){return Kb(this)};
function rd(a){null!=a.ab&&(a.D=a.ab.o?a.ab.o():a.ab.call(null),a.ab=null);return a.D}g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return N(this,b,0);case 2:return N(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.c=function(b){return N(this,b,0)};a.g=function(b,c){return N(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return Q(this,c,P(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return Q(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.c=a;b.g=function(c,d){return Q(this,c,d)};return b}();g.R=function(){return this.meta};g.$=function(){this.O(null);return null==this.D?null:M(this.D)};g.S=function(){var a=this.B;return null!=a?a:this.B=a=fc(this)};g.P=function(a,b){return vc(this,b)};
g.V=function(){return db(K,this.meta)};g.ba=function(a,b){return xc(b,this)};g.ca=function(a,b,c){return zc(b,c,this)};g.Y=function(){this.O(null);return null==this.D?null:J(this.D)};g.da=function(){this.O(null);return null!=this.D?bc(this.D):K};g.O=function(){rd(this);if(null==this.D)return null;for(var a=this.D;;)if(a instanceof qd)a=rd(a);else return this.D=a,G(this.D)};g.T=function(a,b){var c=this;return b===this.meta?c:new qd(b,function(){return c.O(null)},this.B)};
g.Z=function(a,b){return R(b,this)};qd.prototype[Aa]=function(){return dc(this)};function sd(a){this.pb=a;this.end=0;this.l=2;this.A=0}sd.prototype.add=function(a){this.pb[this.end]=a;return this.end+=1};sd.prototype.chunk=function(){var a=new td(this.pb,0,this.end);this.pb=null;return a};sd.prototype.U=function(){return this.end};function td(a,b,c){this.h=a;this.off=b;this.end=c;this.l=524306;this.A=0}g=td.prototype;g.U=function(){return this.end-this.off};
g.W=function(a,b){return this.h[this.off+b]};g.la=function(a,b,c){return 0<=b&&b<this.end-this.off?this.h[this.off+b]:c};g.xb=function(){if(this.off===this.end)throw Error("-drop-first of empty chunk");return new td(this.h,this.off+1,this.end)};g.ba=function(a,b){return oc(this.h,b,this.h[this.off],this.off+1)};g.ca=function(a,b,c){return oc(this.h,b,c,this.off)};function ud(a,b,c,d){this.chunk=a;this.Ga=b;this.meta=c;this.B=d;this.l=31850732;this.A=1536}g=ud.prototype;g.toString=function(){return Kb(this)};
g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return N(this,b,0);case 2:return N(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.c=function(b){return N(this,b,0)};a.g=function(b,c){return N(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return Q(this,c,P(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return Q(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.c=a;b.g=function(c,d){return Q(this,c,d)};return b}();g.R=function(){return this.meta};g.$=function(){return 1<Ea(this.chunk)?new ud(Bb(this.chunk),this.Ga,null,null):null==this.Ga?null:mb(this.Ga)};g.S=function(){var a=this.B;return null!=a?a:this.B=a=fc(this)};
g.P=function(a,b){return vc(this,b)};g.V=function(){return K};g.Y=function(){return La(this.chunk,0)};g.da=function(){return 1<Ea(this.chunk)?new ud(Bb(this.chunk),this.Ga,null,null):null==this.Ga?K:this.Ga};g.O=function(){return this};g.qb=function(){return this.chunk};g.ib=function(){return null==this.Ga?K:this.Ga};g.T=function(a,b){return b===this.meta?this:new ud(this.chunk,this.Ga,b,this.B)};g.Z=function(a,b){return R(b,this)};g.yb=function(){return null==this.Ga?null:this.Ga};
ud.prototype[Aa]=function(){return dc(this)};function vd(a,b){return 0===Ea(a)?b:new ud(a,b,null,null)}function wd(a,b){a.add(b)}function Yc(a){var b=[];for(a=G(a);;)if(null!=a)b.push(J(a)),a=M(a);else return b}function xd(a,b){if(pc(b))return P(b);var c=0;for(b=G(b);;)if(null!=b&&c<a)c+=1,b=M(b);else return c}
var yd=function yd(a){if(null==a)return null;var c=M(a);return null==c?G(J(a)):R(J(a),yd.c?yd.c(c):yd.call(null,c))},zd=function zd(a){switch(arguments.length){case 0:return zd.o();case 1:return zd.c(arguments[0]);case 2:return zd.g(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;return zd.v(arguments[0],arguments[1],new H(c.slice(2),0,null))}};zd.o=function(){return new qd(null,function(){return null},null)};
zd.c=function(a){return new qd(null,function(){return a},null)};zd.g=function(a,b){return new qd(null,function(){var c=G(a);return c?Qc(c)?vd(Cb(c),zd.g(Db(c),b)):R(J(c),zd.g(bc(c),b)):b},null)};zd.v=function(a,b,c){return function h(e,f){return new qd(null,function(){var k=G(e);return k?Qc(k)?vd(Cb(k),h(Db(k),f)):R(J(k),h(bc(k),f)):w(f)?h(J(f),M(f)):null},null)}(zd.g(a,b),c)};zd.C=function(a){var b=J(a),c=M(a);a=J(c);c=M(c);return this.v(b,a,c)};zd.F=2;
var Ad=function Ad(a){switch(arguments.length){case 0:return Ad.o();case 1:return Ad.c(arguments[0]);case 2:return Ad.g(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;return Ad.v(arguments[0],arguments[1],new H(c.slice(2),0,null))}};Ad.o=function(){return vb(Cc)};Ad.c=function(a){return a};Ad.g=function(a,b){return wb(a,b)};Ad.v=function(a,b,c){for(;;)if(a=wb(a,b),w(c))b=J(c),c=M(c);else return a};
Ad.C=function(a){var b=J(a),c=M(a);a=J(c);c=M(c);return this.v(b,a,c)};Ad.F=2;
function Bd(a,b,c){var d=G(c);if(0===b)return a.o?a.o():a.call(null);c=B(d);var e=Na(d);if(1===b)return a.c?a.c(c):a.call(null,c);d=B(e);var f=Na(e);if(2===b)return a.g?a.g(c,d):a.call(null,c,d);e=B(f);var h=Na(f);if(3===b)return a.j?a.j(c,d,e):a.call(null,c,d,e);f=B(h);var k=Na(h);if(4===b)return a.H?a.H(c,d,e,f):a.call(null,c,d,e,f);h=B(k);var l=Na(k);if(5===b)return a.aa?a.aa(c,d,e,f,h):a.call(null,c,d,e,f,h);k=B(l);var m=Na(l);if(6===b)return a.ya?a.ya(c,d,e,f,h,k):a.call(null,c,d,e,f,h,k);l=
B(m);var n=Na(m);if(7===b)return a.za?a.za(c,d,e,f,h,k,l):a.call(null,c,d,e,f,h,k,l);m=B(n);var p=Na(n);if(8===b)return a.Aa?a.Aa(c,d,e,f,h,k,l,m):a.call(null,c,d,e,f,h,k,l,m);n=B(p);var q=Na(p);if(9===b)return a.Ba?a.Ba(c,d,e,f,h,k,l,m,n):a.call(null,c,d,e,f,h,k,l,m,n);p=B(q);var r=Na(q);if(10===b)return a.na?a.na(c,d,e,f,h,k,l,m,n,p):a.call(null,c,d,e,f,h,k,l,m,n,p);q=B(r);var x=Na(r);if(11===b)return a.oa?a.oa(c,d,e,f,h,k,l,m,n,p,q):a.call(null,c,d,e,f,h,k,l,m,n,p,q);r=B(x);var C=Na(x);if(12===
b)return a.pa?a.pa(c,d,e,f,h,k,l,m,n,p,q,r):a.call(null,c,d,e,f,h,k,l,m,n,p,q,r);x=B(C);var D=Na(C);if(13===b)return a.qa?a.qa(c,d,e,f,h,k,l,m,n,p,q,r,x):a.call(null,c,d,e,f,h,k,l,m,n,p,q,r,x);C=B(D);var I=Na(D);if(14===b)return a.ra?a.ra(c,d,e,f,h,k,l,m,n,p,q,r,x,C):a.call(null,c,d,e,f,h,k,l,m,n,p,q,r,x,C);D=B(I);var O=Na(I);if(15===b)return a.sa?a.sa(c,d,e,f,h,k,l,m,n,p,q,r,x,C,D):a.call(null,c,d,e,f,h,k,l,m,n,p,q,r,x,C,D);I=B(O);var V=Na(O);if(16===b)return a.ta?a.ta(c,d,e,f,h,k,l,m,n,p,q,r,x,
C,D,I):a.call(null,c,d,e,f,h,k,l,m,n,p,q,r,x,C,D,I);O=B(V);var ia=Na(V);if(17===b)return a.ua?a.ua(c,d,e,f,h,k,l,m,n,p,q,r,x,C,D,I,O):a.call(null,c,d,e,f,h,k,l,m,n,p,q,r,x,C,D,I,O);V=B(ia);var Ja=Na(ia);if(18===b)return a.va?a.va(c,d,e,f,h,k,l,m,n,p,q,r,x,C,D,I,O,V):a.call(null,c,d,e,f,h,k,l,m,n,p,q,r,x,C,D,I,O,V);ia=B(Ja);Ja=Na(Ja);if(19===b)return a.wa?a.wa(c,d,e,f,h,k,l,m,n,p,q,r,x,C,D,I,O,V,ia):a.call(null,c,d,e,f,h,k,l,m,n,p,q,r,x,C,D,I,O,V,ia);var Kf=B(Ja);Na(Ja);if(20===b)return a.xa?a.xa(c,
d,e,f,h,k,l,m,n,p,q,r,x,C,D,I,O,V,ia,Kf):a.call(null,c,d,e,f,h,k,l,m,n,p,q,r,x,C,D,I,O,V,ia,Kf);throw Error("Only up to 20 arguments supported on functions");}function Cd(a){return null!=a&&(a.l&128||u===a.Za)?a.$(null):G(bc(a))}function Dd(a,b,c){return null==c?a.c?a.c(b):a.call(a,b):Ed(a,b,B(c),Cd(c))}function Ed(a,b,c,d){return null==d?a.g?a.g(b,c):a.call(a,b,c):Fd(a,b,c,B(d),Cd(d))}function Fd(a,b,c,d,e){return null==e?a.j?a.j(b,c,d):a.call(a,b,c,d):Gd(a,b,c,d,B(e),Cd(e))}
function Gd(a,b,c,d,e,f){if(null==f)return a.H?a.H(b,c,d,e):a.call(a,b,c,d,e);var h=B(f),k=M(f);if(null==k)return a.aa?a.aa(b,c,d,e,h):a.call(a,b,c,d,e,h);f=B(k);var l=M(k);if(null==l)return a.ya?a.ya(b,c,d,e,h,f):a.call(a,b,c,d,e,h,f);k=B(l);var m=M(l);if(null==m)return a.za?a.za(b,c,d,e,h,f,k):a.call(a,b,c,d,e,h,f,k);l=B(m);var n=M(m);if(null==n)return a.Aa?a.Aa(b,c,d,e,h,f,k,l):a.call(a,b,c,d,e,h,f,k,l);m=B(n);var p=M(n);if(null==p)return a.Ba?a.Ba(b,c,d,e,h,f,k,l,m):a.call(a,b,c,d,e,h,f,k,l,m);
n=B(p);var q=M(p);if(null==q)return a.na?a.na(b,c,d,e,h,f,k,l,m,n):a.call(a,b,c,d,e,h,f,k,l,m,n);p=B(q);var r=M(q);if(null==r)return a.oa?a.oa(b,c,d,e,h,f,k,l,m,n,p):a.call(a,b,c,d,e,h,f,k,l,m,n,p);q=B(r);var x=M(r);if(null==x)return a.pa?a.pa(b,c,d,e,h,f,k,l,m,n,p,q):a.call(a,b,c,d,e,h,f,k,l,m,n,p,q);r=B(x);var C=M(x);if(null==C)return a.qa?a.qa(b,c,d,e,h,f,k,l,m,n,p,q,r):a.call(a,b,c,d,e,h,f,k,l,m,n,p,q,r);x=B(C);var D=M(C);if(null==D)return a.ra?a.ra(b,c,d,e,h,f,k,l,m,n,p,q,r,x):a.call(a,b,c,d,
e,h,f,k,l,m,n,p,q,r,x);C=B(D);var I=M(D);if(null==I)return a.sa?a.sa(b,c,d,e,h,f,k,l,m,n,p,q,r,x,C):a.call(a,b,c,d,e,h,f,k,l,m,n,p,q,r,x,C);D=B(I);var O=M(I);if(null==O)return a.ta?a.ta(b,c,d,e,h,f,k,l,m,n,p,q,r,x,C,D):a.call(a,b,c,d,e,h,f,k,l,m,n,p,q,r,x,C,D);I=B(O);var V=M(O);if(null==V)return a.ua?a.ua(b,c,d,e,h,f,k,l,m,n,p,q,r,x,C,D,I):a.call(a,b,c,d,e,h,f,k,l,m,n,p,q,r,x,C,D,I);O=B(V);var ia=M(V);if(null==ia)return a.va?a.va(b,c,d,e,h,f,k,l,m,n,p,q,r,x,C,D,I,O):a.call(a,b,c,d,e,h,f,k,l,m,n,p,
q,r,x,C,D,I,O);V=B(ia);var Ja=M(ia);if(null==Ja)return a.wa?a.wa(b,c,d,e,h,f,k,l,m,n,p,q,r,x,C,D,I,O,V):a.call(a,b,c,d,e,h,f,k,l,m,n,p,q,r,x,C,D,I,O,V);ia=B(Ja);Ja=M(Ja);if(null==Ja)return a.xa?a.xa(b,c,d,e,h,f,k,l,m,n,p,q,r,x,C,D,I,O,V,ia):a.call(a,b,c,d,e,h,f,k,l,m,n,p,q,r,x,C,D,I,O,V,ia);b=[b,c,d,e,h,f,k,l,m,n,p,q,r,x,C,D,I,O,V,ia];for(c=Ja;;)if(c)b.push(B(c)),c=M(c);else break;return a.apply(a,b)}
function Zb(a){switch(arguments.length){case 2:return T(arguments[0],arguments[1]);case 3:return Hd(arguments[0],arguments[1],arguments[2]);case 4:return Id(arguments[0],arguments[1],arguments[2],arguments[3]);case 5:return Jd(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4]);default:for(var b=[],c=arguments.length,d=0;;)if(d<c)b.push(arguments[d]),d+=1;else break;c=arguments[0];d=arguments[1];var e=arguments[2],f=arguments[3],h=arguments[4];b=new H(b.slice(5),0,null);c.C?(b=yd(b),
d=R(d,R(e,R(f,R(h,b)))),e=c.F,b=4+xd(e-3,b),c=b<=e?Bd(c,b,d):c.C(d)):c=Gd(c,d,e,f,h,yd(b));return c}}function T(a,b){if(a.C){var c=a.F,d=xd(c+1,b);return d<=c?Bd(a,d,b):a.C(b)}b=G(b);return null==b?a.o?a.o():a.call(a):Dd(a,B(b),Cd(b))}function Hd(a,b,c){if(a.C){b=R(b,c);var d=a.F;c=xd(d,c)+1;return c<=d?Bd(a,c,b):a.C(b)}return Dd(a,b,G(c))}function Id(a,b,c,d){return a.C?(b=R(b,R(c,d)),c=a.F,d=2+xd(c-1,d),d<=c?Bd(a,d,b):a.C(b)):Ed(a,b,c,G(d))}
function Jd(a,b,c,d,e){return a.C?(b=R(b,R(c,R(d,e))),c=a.F,e=3+xd(c-2,e),e<=c?Bd(a,e,b):a.C(b)):Fd(a,b,c,d,G(e))}
function Kd(){if("undefined"===typeof na||"undefined"===typeof oa||"undefined"===typeof pa)pa=function(a){this.$b=a;this.l=393216;this.A=0},pa.prototype.T=function(a,b){return new pa(b)},pa.prototype.R=function(){return this.$b},pa.prototype.fa=function(){return!1},pa.prototype.next=function(){return Error("No such element")},pa.prototype.remove=function(){return Error("Unsupported operation")},pa.Bc=function(){return new U(null,1,5,W,[Ld],null)},pa.Cb=!0,pa.mb="cljs.core/t_cljs$core18777",pa.Wb=
function(a){return sb(a,"cljs.core/t_cljs$core18777")};return new pa(Md)}function Nd(a,b){for(;;){if(null==G(b))return!0;var c=J(b);c=a.c?a.c(c):a.call(null,c);if(w(c))b=M(b);else return!1}}function Od(a,b){for(;;)if(b=G(b)){var c=J(b);c=a.c?a.c(c):a.call(null,c);if(w(c))return c;b=M(b)}else return null}
function Pd(a){return function(){function b(h,k){return ya(a.g?a.g(h,k):a.call(null,h,k))}function c(h){return ya(a.c?a.c(h):a.call(null,h))}function d(){return ya(a.o?a.o():a.call(null))}var e=null,f=function(){function h(l,m,n){var p=null;if(2<arguments.length){p=0;for(var q=Array(arguments.length-2);p<q.length;)q[p]=arguments[p+2],++p;p=new H(q,0,null)}return k.call(this,l,m,p)}function k(l,m,n){return ya(Id(a,l,m,n))}h.F=2;h.C=function(l){var m=J(l);l=M(l);var n=J(l);l=bc(l);return k(m,n,l)};
h.v=k;return h}();e=function(h,k,l){switch(arguments.length){case 0:return d.call(this);case 1:return c.call(this,h);case 2:return b.call(this,h,k);default:var m=null;if(2<arguments.length){m=0;for(var n=Array(arguments.length-2);m<n.length;)n[m]=arguments[m+2],++m;m=new H(n,0,null)}return f.v(h,k,m)}throw Error("Invalid arity: "+arguments.length);};e.F=2;e.C=f.C;e.o=d;e.c=c;e.g=b;e.v=f.v;return e}()}
var Qd=function Qd(a){switch(arguments.length){case 0:return Qd.o();case 1:return Qd.c(arguments[0]);case 2:return Qd.g(arguments[0],arguments[1]);case 3:return Qd.j(arguments[0],arguments[1],arguments[2]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;return Qd.v(arguments[0],arguments[1],arguments[2],new H(c.slice(3),0,null))}};Qd.o=function(){return ed};Qd.c=function(a){return a};
Qd.g=function(a,b){return function(){function c(l,m,n){l=b.j?b.j(l,m,n):b.call(null,l,m,n);return a.c?a.c(l):a.call(null,l)}function d(l,m){l=b.g?b.g(l,m):b.call(null,l,m);return a.c?a.c(l):a.call(null,l)}function e(l){l=b.c?b.c(l):b.call(null,l);return a.c?a.c(l):a.call(null,l)}function f(){var l=b.o?b.o():b.call(null);return a.c?a.c(l):a.call(null,l)}var h=null,k=function(){function l(n,p,q,r){var x=null;if(3<arguments.length){x=0;for(var C=Array(arguments.length-3);x<C.length;)C[x]=arguments[x+
3],++x;x=new H(C,0,null)}return m.call(this,n,p,q,x)}function m(n,p,q,r){n=Jd(b,n,p,q,r);return a.c?a.c(n):a.call(null,n)}l.F=3;l.C=function(n){var p=J(n);n=M(n);var q=J(n);n=M(n);var r=J(n);n=bc(n);return m(p,q,r,n)};l.v=m;return l}();h=function(l,m,n,p){switch(arguments.length){case 0:return f.call(this);case 1:return e.call(this,l);case 2:return d.call(this,l,m);case 3:return c.call(this,l,m,n);default:var q=null;if(3<arguments.length){q=0;for(var r=Array(arguments.length-3);q<r.length;)r[q]=arguments[q+
3],++q;q=new H(r,0,null)}return k.v(l,m,n,q)}throw Error("Invalid arity: "+arguments.length);};h.F=3;h.C=k.C;h.o=f;h.c=e;h.g=d;h.j=c;h.v=k.v;return h}()};
Qd.j=function(a,b,c){return function(){function d(m,n,p){m=c.j?c.j(m,n,p):c.call(null,m,n,p);m=b.c?b.c(m):b.call(null,m);return a.c?a.c(m):a.call(null,m)}function e(m,n){m=c.g?c.g(m,n):c.call(null,m,n);m=b.c?b.c(m):b.call(null,m);return a.c?a.c(m):a.call(null,m)}function f(m){m=c.c?c.c(m):c.call(null,m);m=b.c?b.c(m):b.call(null,m);return a.c?a.c(m):a.call(null,m)}function h(){var m=c.o?c.o():c.call(null);m=b.c?b.c(m):b.call(null,m);return a.c?a.c(m):a.call(null,m)}var k=null,l=function(){function m(p,
q,r,x){var C=null;if(3<arguments.length){C=0;for(var D=Array(arguments.length-3);C<D.length;)D[C]=arguments[C+3],++C;C=new H(D,0,null)}return n.call(this,p,q,r,C)}function n(p,q,r,x){p=Jd(c,p,q,r,x);p=b.c?b.c(p):b.call(null,p);return a.c?a.c(p):a.call(null,p)}m.F=3;m.C=function(p){var q=J(p);p=M(p);var r=J(p);p=M(p);var x=J(p);p=bc(p);return n(q,r,x,p)};m.v=n;return m}();k=function(m,n,p,q){switch(arguments.length){case 0:return h.call(this);case 1:return f.call(this,m);case 2:return e.call(this,
m,n);case 3:return d.call(this,m,n,p);default:var r=null;if(3<arguments.length){r=0;for(var x=Array(arguments.length-3);r<x.length;)x[r]=arguments[r+3],++r;r=new H(x,0,null)}return l.v(m,n,p,r)}throw Error("Invalid arity: "+arguments.length);};k.F=3;k.C=l.C;k.o=h;k.c=f;k.g=e;k.j=d;k.v=l.v;return k}()};
Qd.v=function(a,b,c,d){var e=jd(R(a,R(b,R(c,d))));return function(){function f(k){var l=null;if(0<arguments.length){l=0;for(var m=Array(arguments.length-0);l<m.length;)m[l]=arguments[l+0],++l;l=new H(m,0,null)}return h.call(this,l)}function h(k){k=T(J(e),k);for(var l=M(e);;)if(l){var m=J(l);k=m.c?m.c(k):m.call(null,k);l=M(l)}else return k}f.F=0;f.C=function(k){k=G(k);return h(k)};f.v=h;return f}()};Qd.C=function(a){var b=J(a),c=M(a);a=J(c);var d=M(c);c=J(d);d=M(d);return this.v(b,a,c,d)};Qd.F=3;
function Rd(a){this.state=a;this.Eb=this.cc=this.meta=null;this.A=16386;this.l=6455296}Rd.prototype.P=function(a,b){return this===b};Rd.prototype.jb=function(){return this.state};Rd.prototype.R=function(){return this.meta};Rd.prototype.S=function(){return this[da]||(this[da]=++ea)};
function Sd(a,b){if(a instanceof Rd){var c=a.cc;if(null!=c&&!w(c.c?c.c(b):c.call(null,b)))throw Error("Validator rejected reference state");c=a.state;a.state=b;if(null!=a.Eb)a:for(var d=G(a.Eb),e=null,f=0,h=0;;)if(h<f){var k=e.W(null,h),l=S(k,0,null);k=S(k,1,null);k.H?k.H(l,a,c,b):k.call(null,l,a,c,b);h+=1}else if(d=G(d))Qc(d)?(e=Cb(d),d=Db(d),l=e,f=P(e),e=l):(e=J(d),l=S(e,0,null),k=S(e,1,null),k.H?k.H(l,a,c,b):k.call(null,l,a,c,b),d=M(d),e=null,f=0),h=0;else break a;return b}return Eb(a,b)}
var Td=function Td(a){switch(arguments.length){case 2:return Td.g(arguments[0],arguments[1]);case 3:return Td.j(arguments[0],arguments[1],arguments[2]);case 4:return Td.H(arguments[0],arguments[1],arguments[2],arguments[3]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;return Td.v(arguments[0],arguments[1],arguments[2],arguments[3],new H(c.slice(4),0,null))}};
Td.g=function(a,b){if(a instanceof Rd){var c=a.state;b=b.c?b.c(c):b.call(null,c);a=Sd(a,b)}else a=Fb(a,b);return a};Td.j=function(a,b,c){if(a instanceof Rd){var d=a.state;b=b.g?b.g(d,c):b.call(null,d,c);a=Sd(a,b)}else a=Fb(a,b,c);return a};Td.H=function(a,b,c,d){if(a instanceof Rd){var e=a.state;b=b.j?b.j(e,c,d):b.call(null,e,c,d);a=Sd(a,b)}else a=Fb(a,b,c,d);return a};Td.v=function(a,b,c,d,e){return a instanceof Rd?Sd(a,Jd(b,a.state,c,d,e)):Fb(a,b,c,d,e)};
Td.C=function(a){var b=J(a),c=M(a);a=J(c);var d=M(c);c=J(d);var e=M(d);d=J(e);e=M(e);return this.v(b,a,c,d,e)};Td.F=4;
function Ud(a){return function(){function b(h,k,l){h=a.c?a.c(h):a.call(null,h);w(h)?(k=a.c?a.c(k):a.call(null,k),l=w(k)?a.c?a.c(l):a.call(null,l):k):l=h;return Tc(l)}function c(h,k){h=a.c?a.c(h):a.call(null,h);k=w(h)?a.c?a.c(k):a.call(null,k):h;return Tc(k)}function d(h){return Tc(a.c?a.c(h):a.call(null,h))}var e=null,f=function(){function h(l,m,n,p){var q=null;if(3<arguments.length){q=0;for(var r=Array(arguments.length-3);q<r.length;)r[q]=arguments[q+3],++q;q=new H(r,0,null)}return k.call(this,l,
m,n,q)}function k(l,m,n,p){l=e.j(l,m,n);p=w(l)?Nd(a,p):l;return Tc(p)}h.F=3;h.C=function(l){var m=J(l);l=M(l);var n=J(l);l=M(l);var p=J(l);l=bc(l);return k(m,n,p,l)};h.v=k;return h}();e=function(h,k,l,m){switch(arguments.length){case 0:return!0;case 1:return d.call(this,h);case 2:return c.call(this,h,k);case 3:return b.call(this,h,k,l);default:var n=null;if(3<arguments.length){n=0;for(var p=Array(arguments.length-3);n<p.length;)p[n]=arguments[n+3],++n;n=new H(p,0,null)}return f.v(h,k,l,n)}throw Error("Invalid arity: "+
arguments.length);};e.F=3;e.C=f.C;e.o=function(){return!0};e.c=d;e.g=c;e.j=b;e.v=f.v;return e}()}
function Vd(a,b){return function(){function c(k,l,m){return Tc(function(){var n=a.c?a.c(k):a.call(null,k);return w(n)?(n=a.c?a.c(l):a.call(null,l),w(n)?(n=a.c?a.c(m):a.call(null,m),w(n)?(n=b.c?b.c(k):b.call(null,k),w(n)?(n=b.c?b.c(l):b.call(null,l),w(n)?b.c?b.c(m):b.call(null,m):n):n):n):n):n}())}function d(k,l){return Tc(function(){var m=a.c?a.c(k):a.call(null,k);return w(m)?(m=a.c?a.c(l):a.call(null,l),w(m)?(m=b.c?b.c(k):b.call(null,k),w(m)?b.c?b.c(l):b.call(null,l):m):m):m}())}function e(k){var l=
a.c?a.c(k):a.call(null,k);k=w(l)?b.c?b.c(k):b.call(null,k):l;return Tc(k)}var f=null,h=function(){function k(m,n,p,q){var r=null;if(3<arguments.length){r=0;for(var x=Array(arguments.length-3);r<x.length;)x[r]=arguments[r+3],++r;r=new H(x,0,null)}return l.call(this,m,n,p,r)}function l(m,n,p,q){return Tc(function(){var r=f.j(m,n,p);return w(r)?Nd(function(x){var C=a.c?a.c(x):a.call(null,x);return w(C)?b.c?b.c(x):b.call(null,x):C},q):r}())}k.F=3;k.C=function(m){var n=J(m);m=M(m);var p=J(m);m=M(m);var q=
J(m);m=bc(m);return l(n,p,q,m)};k.v=l;return k}();f=function(k,l,m,n){switch(arguments.length){case 0:return!0;case 1:return e.call(this,k);case 2:return d.call(this,k,l);case 3:return c.call(this,k,l,m);default:var p=null;if(3<arguments.length){p=0;for(var q=Array(arguments.length-3);p<q.length;)q[p]=arguments[p+3],++p;p=new H(q,0,null)}return h.v(k,l,m,p)}throw Error("Invalid arity: "+arguments.length);};f.F=3;f.C=h.C;f.o=function(){return!0};f.c=e;f.g=d;f.j=c;f.v=h.v;return f}()}
var Xd=function Xd(a){switch(arguments.length){case 1:return Xd.c(arguments[0]);case 2:return Xd.g(arguments[0],arguments[1]);case 3:return Xd.j(arguments[0],arguments[1],arguments[2]);case 4:return Xd.H(arguments[0],arguments[1],arguments[2],arguments[3]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;return Xd.v(arguments[0],arguments[1],arguments[2],arguments[3],new H(c.slice(4),0,null))}};
Xd.c=function(a){return function(b){return function(){function c(k,l){l=a.c?a.c(l):a.call(null,l);return b.g?b.g(k,l):b.call(null,k,l)}function d(k){return b.c?b.c(k):b.call(null,k)}function e(){return b.o?b.o():b.call(null)}var f=null,h=function(){function k(m,n,p){var q=null;if(2<arguments.length){q=0;for(var r=Array(arguments.length-2);q<r.length;)r[q]=arguments[q+2],++q;q=new H(r,0,null)}return l.call(this,m,n,q)}function l(m,n,p){n=Hd(a,n,p);return b.g?b.g(m,n):b.call(null,m,n)}k.F=2;k.C=function(m){var n=
J(m);m=M(m);var p=J(m);m=bc(m);return l(n,p,m)};k.v=l;return k}();f=function(k,l,m){switch(arguments.length){case 0:return e.call(this);case 1:return d.call(this,k);case 2:return c.call(this,k,l);default:var n=null;if(2<arguments.length){n=0;for(var p=Array(arguments.length-2);n<p.length;)p[n]=arguments[n+2],++n;n=new H(p,0,null)}return h.v(k,l,n)}throw Error("Invalid arity: "+arguments.length);};f.F=2;f.C=h.C;f.o=e;f.c=d;f.g=c;f.v=h.v;return f}()}};
Xd.g=function(a,b){return new qd(null,function(){var c=G(b);if(c){if(Qc(c)){for(var d=Cb(c),e=P(d),f=new sd(Array(e)),h=0;;)if(h<e)wd(f,function(){var k=La(d,h);return a.c?a.c(k):a.call(null,k)}()),h+=1;else break;return vd(f.chunk(),Xd.g(a,Db(c)))}return R(function(){var k=J(c);return a.c?a.c(k):a.call(null,k)}(),Xd.g(a,bc(c)))}return null},null)};
Xd.j=function(a,b,c){return new qd(null,function(){var d=G(b),e=G(c);if(d&&e){var f=J(d);var h=J(e);f=a.g?a.g(f,h):a.call(null,f,h);d=R(f,Xd.j(a,bc(d),bc(e)))}else d=null;return d},null)};Xd.H=function(a,b,c,d){return new qd(null,function(){var e=G(b),f=G(c),h=G(d);if(e&&f&&h){var k=J(e);var l=J(f),m=J(h);k=a.j?a.j(k,l,m):a.call(null,k,l,m);e=R(k,Xd.H(a,bc(e),bc(f),bc(h)))}else e=null;return e},null)};
Xd.v=function(a,b,c,d,e){return Xd.g(function(f){return T(a,f)},function k(h){return new qd(null,function(){var l=Xd.g(G,h);return Nd(ed,l)?R(Xd.g(J,l),k(Xd.g(bc,l))):null},null)}(Bc.v(e,d,wc([c,b]))))};Xd.C=function(a){var b=J(a),c=M(a);a=J(c);var d=M(c);c=J(d);var e=M(d);d=J(e);e=M(e);return this.v(b,a,c,d,e)};Xd.F=4;function zj(a,b){return new qd(null,function(){if(0<a){var c=G(b);return c?R(J(c),zj(a-1,bc(c))):null}return null},null)}
function Aj(a,b){return new qd(null,function(){a:for(var c=a,d=b;;)if(d=G(d),0<c&&d)--c,d=bc(d);else break a;return d},null)}var Yd={};function Zd(a,b,c,d,e){this.meta=a;this.f=b;this.vb=c;this.nb=d;this.next=e;this.l=26083532;this.A=1}g=Zd.prototype;g.toString=function(){return Kb(this)};g.R=function(){return this.meta};g.$=function(){return this.da(null)};g.V=function(){return K};
g.ba=function(a,b){a=this.Y(null);var c=this.f.c?this.f.c(a):this.f.call(null,a);for(a=b.g?b.g(a,c):b.call(null,a,c);;){if(kc(a))return ab(a);c=this.f.c?this.f.c(c):this.f.call(null,c);a=b.g?b.g(a,c):b.call(null,a,c)}};g.ca=function(a,b,c){a=this.Y(null);for(c=b.g?b.g(c,a):b.call(null,c,a);;){if(kc(c))return ab(c);a=this.f.c?this.f.c(a):this.f.call(null,a);c=b.g?b.g(c,a):b.call(null,c,a)}};g.Y=function(){Yd===this.nb&&(this.nb=this.f.c?this.f.c(this.vb):this.f.call(null,this.vb));return this.nb};
g.da=function(){null==this.next&&(this.next=new Zd(null,this.f,this.Y(null),Yd,null));return this.next};g.O=function(){return this};g.T=function(a,b){return b===this.meta?this:new Zd(b,this.f,this.vb,this.nb,this.next)};g.Z=function(a,b){return R(b,this)};function $d(a,b){return new Zd(null,a,null,b,null)}function Vi(a,b){return T(zd,Hd(Xd,a,b))}
function ae(a,b){return new qd(null,function(){var c=G(b);if(c){if(Qc(c)){for(var d=Cb(c),e=P(d),f=new sd(Array(e)),h=0;;)if(h<e){var k=La(d,h);k=a.c?a.c(k):a.call(null,k);w(k)&&(k=La(d,h),f.add(k));h+=1}else break;return vd(f.chunk(),ae(a,Db(c)))}d=J(c);c=bc(c);return w(a.c?a.c(d):a.call(null,d))?R(d,ae(a,c)):ae(a,c)}return null},null)}function Ei(a,b){return ae(Pd(a),b)}
var be=function be(a){switch(arguments.length){case 0:return be.o();case 1:return be.c(arguments[0]);case 2:return be.g(arguments[0],arguments[1]);case 3:return be.j(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",A.c(arguments.length)].join(""));}};be.o=function(){return Cc};be.c=function(a){return a};be.g=function(a,b){return null!=a?null!=a&&(a.A&4||u===a.Gb)?db(xb(Zc(wb,vb(a),b)),Kc(a)):Zc(Ia,a,b):Zc(Bc,a,b)};
be.j=function(a,b,c){return null!=a&&(a.A&4||u===a.Gb)?db(xb(fd(b,Ad,vb(a),c)),Kc(a)):fd(b,Bc,a,c)};be.F=3;function Bj(a,b,c){return new qd(null,function(){var d=G(c);if(d){var e=zj(a,d);return a===P(e)?R(e,Bj(a,b,Aj(b,d))):null}return null},null)}function ce(a,b){this.J=a;this.h=b}function de(a){return new ce(a,[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null])}
function xi(a){return new ce(a.J,Ba(a.h))}function ee(a){a=a.s;return 32>a?0:a-1>>>5<<5}function fe(a,b,c){for(;;){if(0===b)return c;var d=de(a);d.h[0]=c;c=d;b-=5}}var ge=function ge(a,b,c,d){var f=xi(c),h=a.s-1>>>b&31;5===b?f.h[h]=d:(c=c.h[h],null!=c?(b-=5,a=ge.H?ge.H(a,b,c,d):ge.call(null,a,b,c,d)):a=fe(null,b-5,d),f.h[h]=a);return f};function he(a,b){if(b>=ee(a))return a.ha;var c=a.root;for(a=a.shift;;)if(0<a){var d=a-5;c=c.h[b>>>a&31];a=d}else return c.h}
function ie(a,b){if(0<=b&&b<a.s)b=he(a,b);else throw a=a.s,Error(["No item ",A.c(b)," in vector of length ",A.c(a)].join(""));return b}
var je=function je(a,b,c,d,e){var h=xi(c);if(0===b)h.h[d&31]=e;else{var k=d>>>b&31;b-=5;c=c.h[k];a=je.aa?je.aa(a,b,c,d,e):je.call(null,a,b,c,d,e);h.h[k]=a}return h},yi=function yi(a,b,c){var e=a.s-2>>>b&31;if(5<b){b-=5;var f=c.h[e];a=yi.j?yi.j(a,b,f):yi.call(null,a,b,f);if(null==a&&0===e)return null;c=xi(c);c.h[e]=a;return c}if(0===e)return null;c=xi(c);c.h[e]=null;return c};function ke(a,b,c){this.base=this.i=0;this.h=a;this.bc=b;this.start=0;this.end=c}ke.prototype.fa=function(){return this.i<this.end};
ke.prototype.next=function(){32===this.i-this.base&&(this.h=he(this.bc,this.i),this.base+=32);var a=this.h[this.i&31];this.i+=1;return a};function le(a,b,c,d){return c<d?me(a,b,rc(a,c),c+1,d):b.o?b.o():b.call(null)}function me(a,b,c,d,e){var f=c;c=d;for(d=he(a,d);;)if(c<e){var h=c&31;d=0===h?he(a,c):d;h=d[h];f=b.g?b.g(f,h):b.call(null,f,h);if(kc(f))return ab(f);c+=1}else return f}
function U(a,b,c,d,e,f){this.meta=a;this.s=b;this.shift=c;this.root=d;this.ha=e;this.B=f;this.l=167666463;this.A=139268}g=U.prototype;g.Ya=function(a,b){return 0<=b&&b<this.s?new ne(b,he(this,b)[b&31]):null};g.toString=function(){return Kb(this)};g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return N(this,b,0);case 2:return N(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.c=function(b){return N(this,b,0)};a.g=function(b,c){return N(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return Q(this,c,P(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return Q(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.c=a;b.g=function(c,d){return Q(this,c,d)};return b}();g.ia=function(a,b){return this.M(null,b,null)};g.M=function(a,b,c){return"number"===typeof b?this.la(null,b,c):c};
g.kb=function(a,b,c){a=0;for(var d=c;;)if(a<this.s){var e=he(this,a);c=e.length;a:for(var f=0;;)if(f<c){var h=f+a,k=e[f];d=b.j?b.j(d,h,k):b.call(null,d,h,k);if(kc(d)){e=d;break a}f+=1}else{e=d;break a}if(kc(e))return ab(e);a+=c;d=e}else return d};g.W=function(a,b){return ie(this,b)[b&31]};g.la=function(a,b,c){return 0<=b&&b<this.s?he(this,b)[b&31]:c};
g.ub=function(a,b){if(0<=a&&a<this.s){if(ee(this)<=a){var c=Ba(this.ha);c[a&31]=b;return new U(this.meta,this.s,this.shift,this.root,c,null)}return new U(this.meta,this.s,this.shift,je(this,this.shift,this.root,a,b),this.ha,null)}if(a===this.s)return this.Z(null,b);throw Error(["Index ",A.c(a)," out of bounds  [0,",A.c(this.s),"]"].join(""));};g.Ca=function(){var a=this.s;return new ke(0<P(this)?he(this,0):null,this,a)};g.R=function(){return this.meta};g.U=function(){return this.s};
g.Cc=function(){return 0<this.s?this.W(null,this.s-1):null};g.Dc=function(){if(0===this.s)throw Error("Can't pop empty vector");if(1===this.s)return db(Cc,this.meta);if(1<this.s-ee(this))return new U(this.meta,this.s-1,this.shift,this.root,this.ha.slice(0,-1),null);var a=he(this,this.s-2),b=yi(this,this.shift,this.root);b=null==b?W:b;var c=this.s-1;return 5<this.shift&&null==b.h[1]?new U(this.meta,c,this.shift-5,b.h[0],a,null):new U(this.meta,c,this.shift,b,a,null)};
g.lb=function(){return 0<this.s?new uc(this,this.s-1,null):null};g.S=function(){var a=this.B;return null!=a?a:this.B=a=fc(this)};g.P=function(a,b){if(b instanceof U)if(this.s===P(b))for(a=this.Ca(null),b=b.Ca(null);;)if(a.fa()){var c=a.next(),d=b.next();if(!F.g(c,d))return!1}else return!0;else return!1;else return vc(this,b)};g.Sa=function(){return new oe(this.s,this.shift,pe.c?pe.c(this.root):pe.call(null,this.root),qe.c?qe.c(this.ha):qe.call(null,this.ha))};g.V=function(){return db(Cc,this.meta)};
g.ba=function(a,b){return le(this,b,0,this.s)};g.ca=function(a,b,c){a=0;for(var d=c;;)if(a<this.s){var e=he(this,a);c=e.length;a:for(var f=0;;)if(f<c){var h=e[f];d=b.g?b.g(d,h):b.call(null,d,h);if(kc(d)){e=d;break a}f+=1}else{e=d;break a}if(kc(e))return ab(e);a+=c;d=e}else return d};g.Ja=function(a,b,c){if("number"===typeof b)return this.ub(b,c);throw Error("Vector's key for assoc must be a number.");};
g.O=function(){if(0===this.s)return null;if(32>=this.s)return new H(this.ha,0,null);a:{var a=this.root;for(var b=this.shift;;)if(0<b)b-=5,a=a.h[0];else{a=a.h;break a}}return re?re(this,a,0,0):se.call(null,this,a,0,0)};g.T=function(a,b){return b===this.meta?this:new U(b,this.s,this.shift,this.root,this.ha,this.B)};
g.Z=function(a,b){if(32>this.s-ee(this)){a=this.ha.length;for(var c=Array(a+1),d=0;;)if(d<a)c[d]=this.ha[d],d+=1;else break;c[a]=b;return new U(this.meta,this.s+1,this.shift,this.root,c,null)}a=(c=this.s>>>5>1<<this.shift)?this.shift+5:this.shift;c?(c=de(null),c.h[0]=this.root,d=fe(null,this.shift,new ce(null,this.ha)),c.h[1]=d):c=ge(this,this.shift,this.root,new ce(null,this.ha));return new U(this.meta,this.s+1,a,c,[b],null)};
g.call=function(a){switch(arguments.length-1){case 1:return this.c(arguments[1]);case 2:return this.g(arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",A.c(arguments.length-1)].join(""));}};g.apply=function(a,b){return this.call.apply(this,[this].concat(Ba(b)))};g.c=function(a){return this.W(null,a)};g.g=function(a,b){return this.la(null,a,b)};
var W=new ce(null,[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null]),Cc=new U(null,0,5,W,[],gc);U.prototype[Aa]=function(){return dc(this)};
function te(a){if(w(ue.c?ue.c(a):ue.call(null,a)))a=new U(null,2,5,W,[ve.c?ve.c(a):ve.call(null,a),we.c?we.c(a):we.call(null,a)],null);else if(Pc(a))a=Jc(a,null);else if(xa(a))a:{var b=a.length;if(32>b)a=new U(null,b,5,W,a,null);else for(var c=32,d=(new U(null,32,5,W,a.slice(0,32),null)).Sa(null);;)if(c<b){var e=c+1;d=Ad.g(d,a[c]);c=e}else{a=xb(d);break a}}else a=xb(Zc(wb,vb(Cc),a));return a}
function xe(a,b,c,d,e){this.ka=a;this.node=b;this.i=c;this.off=d;this.meta=e;this.B=null;this.l=32375020;this.A=1536}g=xe.prototype;g.toString=function(){return Kb(this)};g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return N(this,b,0);case 2:return N(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.c=function(b){return N(this,b,0)};a.g=function(b,c){return N(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return Q(this,c,P(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return Q(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.c=a;b.g=function(c,d){return Q(this,c,d)};return b}();g.R=function(){return this.meta};g.$=function(){if(this.off+1<this.node.length){var a=this.ka;var b=this.node,c=this.i,d=this.off+1;a=re?re(a,b,c,d):se.call(null,a,b,c,d);return null==a?null:a}return this.yb()};
g.S=function(){var a=this.B;return null!=a?a:this.B=a=fc(this)};g.P=function(a,b){return vc(this,b)};g.V=function(){return K};g.ba=function(a,b){return le(this.ka,b,this.i+this.off,P(this.ka))};g.ca=function(a,b,c){return me(this.ka,b,c,this.i+this.off,P(this.ka))};g.Y=function(){return this.node[this.off]};g.da=function(){if(this.off+1<this.node.length){var a=this.ka;var b=this.node,c=this.i,d=this.off+1;a=re?re(a,b,c,d):se.call(null,a,b,c,d);return null==a?K:a}return this.ib(null)};g.O=function(){return this};
g.qb=function(){var a=this.node;return new td(a,this.off,a.length)};g.ib=function(){var a=this.i+this.node.length;if(a<Ea(this.ka)){var b=this.ka,c=he(this.ka,a);return re?re(b,c,a,0):se.call(null,b,c,a,0)}return K};g.T=function(a,b){return b===this.meta?this:ye?ye(this.ka,this.node,this.i,this.off,b):se.call(null,this.ka,this.node,this.i,this.off,b)};g.Z=function(a,b){return R(b,this)};
g.yb=function(){var a=this.i+this.node.length;if(a<Ea(this.ka)){var b=this.ka,c=he(this.ka,a);return re?re(b,c,a,0):se.call(null,b,c,a,0)}return null};xe.prototype[Aa]=function(){return dc(this)};
function se(a){switch(arguments.length){case 3:var b=arguments[0],c=arguments[1],d=arguments[2];return new xe(b,ie(b,c),c,d,null);case 4:return re(arguments[0],arguments[1],arguments[2],arguments[3]);case 5:return ye(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4]);default:throw Error(["Invalid arity: ",A.c(arguments.length)].join(""));}}function re(a,b,c,d){return new xe(a,b,c,d,null)}function ye(a,b,c,d,e){return new xe(a,b,c,d,e)}
function ze(a,b){return a===b.J?b:new ce(a,Ba(b.h))}function pe(a){return new ce({},Ba(a.h))}function qe(a){var b=[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null];Rc(a,0,b,0,a.length);return b}var Ae=function Ae(a,b,c,d){c=ze(a.root.J,c);var f=a.s-1>>>b&31;if(5===b)a=d;else{var h=c.h[f];null!=h?(b-=5,a=Ae.H?Ae.H(a,b,h,d):Ae.call(null,a,b,h,d)):a=fe(a.root.J,b-5,d)}c.h[f]=a;return c};
function oe(a,b,c,d){this.s=a;this.shift=b;this.root=c;this.ha=d;this.A=88;this.l=275}g=oe.prototype;
g.Ua=function(a,b){if(this.root.J){if(32>this.s-ee(this))this.ha[this.s&31]=b;else{a=new ce(this.root.J,this.ha);var c=[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null];c[0]=b;this.ha=c;this.s>>>5>1<<this.shift?(b=[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],c=this.shift+
5,b[0]=this.root,b[1]=fe(this.root.J,this.shift,a),this.root=new ce(this.root.J,b),this.shift=c):this.root=Ae(this,this.shift,this.root,a)}this.s+=1;return this}throw Error("conj! after persistent!");};g.$a=function(){if(this.root.J){this.root.J=null;var a=this.s-ee(this),b=Array(a);Rc(this.ha,0,b,0,a);return new U(null,this.s,this.shift,this.root,b,null)}throw Error("persistent! called twice");};
g.Ta=function(a,b,c){if("number"===typeof b)return Be(this,b,c);throw Error("TransientVector's key for assoc! must be a number.");};
function Be(a,b,c){if(a.root.J){if(0<=b&&b<a.s){if(ee(a)<=b)a.ha[b&31]=c;else{var d=function k(f,h){h=ze(a.root.J,h);if(0===f)h.h[b&31]=c;else{var l=b>>>f&31;f=k(f-5,h.h[l]);h.h[l]=f}return h}(a.shift,a.root);a.root=d}return a}if(b===a.s)return a.Ua(null,c);throw Error(["Index ",A.c(b)," out of bounds for TransientVector of length",A.c(a.s)].join(""));}throw Error("assoc! after persistent!");}g.U=function(){if(this.root.J)return this.s;throw Error("count after persistent!");};
g.W=function(a,b){if(this.root.J)return ie(this,b)[b&31];throw Error("nth after persistent!");};g.la=function(a,b,c){return 0<=b&&b<this.s?this.W(null,b):c};g.ia=function(a,b){return this.M(null,b,null)};g.M=function(a,b,c){if(this.root.J)return"number"===typeof b?this.la(null,b,c):c;throw Error("lookup after persistent!");};
g.call=function(a){switch(arguments.length-1){case 1:return this.c(arguments[1]);case 2:return this.g(arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",A.c(arguments.length-1)].join(""));}};g.apply=function(a,b){return this.call.apply(this,[this].concat(Ba(b)))};g.c=function(a){return this.ia(null,a)};g.g=function(a,b){return this.M(null,a,b)};function Ce(){this.l=2097152;this.A=0}Ce.prototype.P=function(){return!1};var De=new Ce;
function Ee(a,b){return Tc(Nc(b)&&!Oc(b)?P(a)===P(b)?(null!=a?a.l&1048576||u===a.sc||(a.l?0:y(hb,a)):y(hb,a))?dd(function(c,d,e){return F.g(Wb.j(b,d,De),e)?!0:new jc(!1)},!0,a):Nd(function(c){return F.g(Wb.j(b,J(c),De),J(M(c)))},a):null:null)}function Fe(a){this.D=a}Fe.prototype.next=function(){if(null!=this.D){var a=J(this.D),b=S(a,0,null);a=S(a,1,null);this.D=M(this.D);return{value:[b,a],done:!1}}return{value:null,done:!0}};function Ge(a){this.D=a}
Ge.prototype.next=function(){if(null!=this.D){var a=J(this.D);this.D=M(this.D);return{value:[a,a],done:!1}}return{value:null,done:!0}};
function Gc(a,b){if(b instanceof E)a:{var c=a.length;b=b.Da;for(var d=0;;){if(c<=d){a=-1;break a}if(a[d]instanceof E&&b===a[d].Da){a=d;break a}d+=2}}else if("string"==typeof b||"number"===typeof b)a:for(c=a.length,d=0;;){if(c<=d){a=-1;break a}if(b===a[d]){a=d;break a}d+=2}else if(b instanceof Vb)a:for(c=a.length,b=b.str,d=0;;){if(c<=d){a=-1;break a}if(a[d]instanceof Vb&&b===a[d].str){a=d;break a}d+=2}else if(null==b)a:for(b=a.length,c=0;;){if(b<=c){a=-1;break a}if(null==a[c]){a=c;break a}c+=2}else a:for(c=
a.length,d=0;;){if(c<=d){a=-1;break a}if(F.g(b,a[d])){a=d;break a}d+=2}return a}function ne(a,b){this.key=a;this.m=b;this.B=null;this.l=166619935;this.A=0}g=ne.prototype;g.Ya=function(a,b){switch(b){case 0:return new ne(0,this.key);case 1:return new ne(1,this.m);default:return null}};
g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return N(this,b,0);case 2:return N(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.c=function(b){return N(this,b,0)};a.g=function(b,c){return N(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return Q(this,c,P(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return Q(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.c=a;b.g=function(c,d){return Q(this,c,d)};return b}();g.ia=function(a,b){return this.la(null,b,null)};g.M=function(a,b,c){return this.la(null,b,c)};g.W=function(a,b){if(0===b)return this.key;if(1===b)return this.m;throw Error("Index out of bounds");};
g.la=function(a,b,c){return 0===b?this.key:1===b?this.m:c};g.ub=function(a,b){return(new U(null,2,5,W,[this.key,this.m],null)).ub(a,b)};g.R=function(){return null};g.U=function(){return 2};g.Lb=function(){return this.key};g.Mb=function(){return this.m};g.Cc=function(){return this.m};g.Dc=function(){return new U(null,1,5,W,[this.key],null)};g.lb=function(){return new H([this.m,this.key],0,null)};g.S=function(){var a=this.B;return null!=a?a:this.B=a=fc(this)};g.P=function(a,b){return vc(this,b)};
g.V=function(){return null};g.ba=function(a,b){a:if(a=this.U(null),0===a)b=b.o?b.o():b.call(null);else for(var c=this.W(null,0),d=1;;)if(d<a){var e=this.W(null,d);c=b.g?b.g(c,e):b.call(null,c,e);if(kc(c)){b=ab(c);break a}d+=1}else{b=c;break a}return b};g.ca=function(a,b,c){a:{a=this.U(null);var d=c;for(c=0;;)if(c<a){var e=this.W(null,c);d=b.g?b.g(d,e):b.call(null,d,e);if(kc(d)){b=ab(d);break a}c+=1}else{b=d;break a}}return b};
g.Ja=function(a,b,c){return Fc.j(new U(null,2,5,W,[this.key,this.m],null),b,c)};g.O=function(){return new H([this.key,this.m],0,null)};g.T=function(a,b){return Jc(new U(null,2,5,W,[this.key,this.m],null),b)};g.Z=function(a,b){return new U(null,3,5,W,[this.key,this.m,b],null)};g.call=function(a){switch(arguments.length-1){case 1:return this.c(arguments[1]);case 2:return this.g(arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",A.c(arguments.length-1)].join(""));}};
g.apply=function(a,b){return this.call.apply(this,[this].concat(Ba(b)))};g.c=function(a){return this.W(null,a)};g.g=function(a,b){return this.la(null,a,b)};function ue(a){return null!=a?a.l&2048||u===a.vc?!0:!1:!1}function He(a,b,c){this.h=a;this.i=b;this.ma=c;this.l=32374990;this.A=0}g=He.prototype;g.toString=function(){return Kb(this)};
g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return N(this,b,0);case 2:return N(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.c=function(b){return N(this,b,0)};a.g=function(b,c){return N(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return Q(this,c,P(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return Q(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.c=a;b.g=function(c,d){return Q(this,c,d)};return b}();g.R=function(){return this.ma};g.$=function(){return this.i<this.h.length-2?new He(this.h,this.i+2,null):null};g.U=function(){return(this.h.length-this.i)/2};g.S=function(){return fc(this)};g.P=function(a,b){return vc(this,b)};
g.V=function(){return K};g.ba=function(a,b){return xc(b,this)};g.ca=function(a,b,c){return zc(b,c,this)};g.Y=function(){return new ne(this.h[this.i],this.h[this.i+1])};g.da=function(){return this.i<this.h.length-2?new He(this.h,this.i+2,null):K};g.O=function(){return this};g.T=function(a,b){return b===this.ma?this:new He(this.h,this.i,b)};g.Z=function(a,b){return R(b,this)};He.prototype[Aa]=function(){return dc(this)};function Ie(a,b){this.h=a;this.i=0;this.s=b}
Ie.prototype.fa=function(){return this.i<this.s};Ie.prototype.next=function(){var a=new ne(this.h[this.i],this.h[this.i+1]);this.i+=2;return a};function v(a,b,c,d){this.meta=a;this.s=b;this.h=c;this.B=d;this.l=16647951;this.A=139268}g=v.prototype;g.Ya=function(a,b){a=Gc(this.h,b);return-1===a?null:new ne(this.h[a],this.h[a+1])};g.toString=function(){return Kb(this)};g.keys=function(){return dc(Je.c?Je.c(this):Je.call(null,this))};g.entries=function(){return new Fe(G(G(this)))};
g.values=function(){return dc(Ke.c?Ke.c(this):Ke.call(null,this))};g.has=function(a){return Uc(this,a)};g.get=function(a,b){return this.M(null,a,b)};g.forEach=function(a){for(var b=G(this),c=null,d=0,e=0;;)if(e<d){var f=c.W(null,e),h=S(f,0,null);f=S(f,1,null);a.g?a.g(f,h):a.call(null,f,h);e+=1}else if(b=G(b))Qc(b)?(c=Cb(b),b=Db(b),h=c,d=P(c),c=h):(c=J(b),h=S(c,0,null),f=S(c,1,null),a.g?a.g(f,h):a.call(null,f,h),b=M(b),c=null,d=0),e=0;else return null};g.ia=function(a,b){return this.M(null,b,null)};
g.M=function(a,b,c){a=Gc(this.h,b);return-1===a?c:this.h[a+1]};g.kb=function(a,b,c){a=this.h.length;for(var d=0;;)if(d<a){var e=this.h[d],f=this.h[d+1];c=b.j?b.j(c,e,f):b.call(null,c,e,f);if(kc(c))return ab(c);d+=2}else return c};g.Ca=function(){return new Ie(this.h,2*this.s)};g.R=function(){return this.meta};g.U=function(){return this.s};g.S=function(){var a=this.B;return null!=a?a:this.B=a=hc(this)};
g.P=function(a,b){if(Nc(b)&&!Oc(b))if(a=this.h.length,this.s===b.U(null))for(var c=0;;)if(c<a){var d=b.M(null,this.h[c],Sc);if(d!==Sc)if(F.g(this.h[c+1],d))c+=2;else return!1;else return!1}else return!0;else return!1;else return!1};g.Sa=function(){return new Le(this.h.length,Ba(this.h))};g.V=function(){return db(Md,this.meta)};g.ba=function(a,b){return ad(this,b)};g.ca=function(a,b,c){return bd(this,b,c)};
g.tb=function(a,b){if(0<=Gc(this.h,b)){a=this.h.length;var c=a-2;if(0===c)return this.V(null);c=Array(c);for(var d=0,e=0;;){if(d>=a)return new v(this.meta,this.s-1,c,null);F.g(b,this.h[d])?d+=2:(c[e]=this.h[d],c[e+1]=this.h[d+1],e+=2,d+=2)}}else return this};
g.Ja=function(a,b,c){a=Gc(this.h,b);if(-1===a){if(this.s<Me){a=this.h;for(var d=a.length,e=Array(d+2),f=0;;)if(f<d)e[f]=a[f],f+=1;else break;e[d]=b;e[d+1]=c;return new v(this.meta,this.s+1,e,null)}return db(Ta(be.g(Ne,this),b,c),this.meta)}if(c===this.h[a+1])return this;b=Ba(this.h);b[a+1]=c;return new v(this.meta,this.s,b,null)};g.O=function(){var a=this.h;return 0<=a.length-2?new He(a,0,null):null};g.T=function(a,b){return b===this.meta?this:new v(b,this.s,this.h,this.B)};
g.Z=function(a,b){if(Pc(b))return this.Ja(null,La(b,0),La(b,1));a=this;for(b=G(b);;){if(null==b)return a;var c=J(b);if(Pc(c))a=Ta(a,La(c,0),La(c,1)),b=M(b);else throw Error("conj on a map takes map entries or seqables of map entries");}};g.call=function(a){switch(arguments.length-1){case 1:return this.c(arguments[1]);case 2:return this.g(arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",A.c(arguments.length-1)].join(""));}};g.apply=function(a,b){return this.call.apply(this,[this].concat(Ba(b)))};
g.c=function(a){return this.ia(null,a)};g.g=function(a,b){return this.M(null,a,b)};var Md=new v(null,0,[],ic),Me=8;v.prototype[Aa]=function(){return dc(this)};function Le(a,b){this.Va={};this.len=a;this.h=b;this.l=259;this.A=56}g=Le.prototype;g.U=function(){if(this.Va)return gd(this.len);throw Error("count after persistent!");};g.ia=function(a,b){return this.M(null,b,null)};g.M=function(a,b,c){if(this.Va)return a=Gc(this.h,b),-1===a?c:this.h[a+1];throw Error("lookup after persistent!");};
g.Ua=function(a,b){if(this.Va){if(ue(b))return this.Ta(null,ve.c?ve.c(b):ve.call(null,b),we.c?we.c(b):we.call(null,b));if(Pc(b))return this.Ta(null,b.c?b.c(0):b.call(null,0),b.c?b.c(1):b.call(null,1));a=G(b);for(b=this;;){var c=J(a);if(w(c))a=M(a),b=yb(b,ve.c?ve.c(c):ve.call(null,c),we.c?we.c(c):we.call(null,c));else return b}}else throw Error("conj! after persistent!");};g.$a=function(){if(this.Va)return this.Va=!1,new v(null,gd(this.len),this.h,null);throw Error("persistent! called twice");};
g.Ta=function(a,b,c){if(this.Va){a=Gc(this.h,b);if(-1===a){if(this.len+2<=2*Me)return this.len+=2,this.h.push(b),this.h.push(c),this;a=Oe.g?Oe.g(this.len,this.h):Oe.call(null,this.len,this.h);return yb(a,b,c)}c!==this.h[a+1]&&(this.h[a+1]=c);return this}throw Error("assoc! after persistent!");};g.call=function(a){switch(arguments.length-1){case 1:return this.c(arguments[1]);case 2:return this.g(arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",A.c(arguments.length-1)].join(""));}};
g.apply=function(a,b){return this.call.apply(this,[this].concat(Ba(b)))};g.c=function(a){return this.M(null,a,null)};g.g=function(a,b){return this.M(null,a,b)};function Oe(a,b){for(var c=vb(Ne),d=0;;)if(d<a)c=yb(c,b[d],b[d+1]),d+=2;else return c}function Pe(){this.m=!1}function Qe(a,b){return a===b?!0:a===b||a instanceof E&&b instanceof E&&a.Da===b.Da?!0:F.g(a,b)}function Re(a,b,c){a=Ba(a);a[b]=c;return a}
function Se(a,b){var c=Array(a.length-2);Rc(a,0,c,0,2*b);Rc(a,2*(b+1),c,2*b,c.length-2*b);return c}function Te(a,b,c,d){a=a.Ma(b);a.h[c]=d;return a}function Ue(a,b,c){for(var d=a.length,e=0,f=c;;)if(e<d){c=a[e];if(null!=c){var h=a[e+1];c=b.j?b.j(f,c,h):b.call(null,f,c,h)}else c=a[e+1],c=null!=c?c.fb(b,f):f;if(kc(c))return c;e+=2;f=c}else return f}function Ve(a){this.h=a;this.i=0;this.Ha=this.gb=null}
Ve.prototype.advance=function(){for(var a=this.h.length;;)if(this.i<a){var b=this.h[this.i],c=this.h[this.i+1];null!=b?b=this.gb=new ne(b,c):null!=c?(b=Ib(c),b=b.fa()?this.Ha=b:!1):b=!1;this.i+=2;if(b)return!0}else return!1};Ve.prototype.fa=function(){var a=null!=this.gb;return a?a:(a=null!=this.Ha)?a:this.advance()};
Ve.prototype.next=function(){if(null!=this.gb){var a=this.gb;this.gb=null;return a}if(null!=this.Ha)return a=this.Ha.next(),this.Ha.fa()||(this.Ha=null),a;if(this.advance())return this.next();throw Error("No such element");};Ve.prototype.remove=function(){return Error("Unsupported operation")};function We(a,b,c){this.J=a;this.K=b;this.h=c;this.A=131072;this.l=0}g=We.prototype;
g.Ma=function(a){if(a===this.J)return this;var b=hd(this.K),c=Array(0>b?4:2*(b+1));Rc(this.h,0,c,0,2*b);return new We(a,this.K,c)};g.cb=function(){return Xe?Xe(this.h):Ye.call(null,this.h)};g.fb=function(a,b){return Ue(this.h,a,b)};g.Na=function(a,b,c,d){var e=1<<(b>>>a&31);if(0===(this.K&e))return d;var f=hd(this.K&e-1);e=this.h[2*f];f=this.h[2*f+1];return null==e?f.Na(a+5,b,c,d):Qe(c,e)?f:d};
g.Fa=function(a,b,c,d,e,f){var h=1<<(c>>>b&31),k=hd(this.K&h-1);if(0===(this.K&h)){var l=hd(this.K);if(2*l<this.h.length){a=this.Ma(a);b=a.h;f.m=!0;c=2*(l-k);f=2*k+(c-1);for(l=2*(k+1)+(c-1);0!==c;)b[l]=b[f],--l,--c,--f;b[2*k]=d;b[2*k+1]=e;a.K|=h;return a}if(16<=l){k=[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null];k[c>>>b&31]=Ze.Fa(a,b+5,c,d,e,f);for(e=d=0;;)if(32>d)0===(this.K>>>d&1)?
d+=1:(k[d]=null!=this.h[e]?Ze.Fa(a,b+5,Sb(this.h[e]),this.h[e],this.h[e+1],f):this.h[e+1],e+=2,d+=1);else break;return new $e(a,l+1,k)}b=Array(2*(l+4));Rc(this.h,0,b,0,2*k);b[2*k]=d;b[2*k+1]=e;Rc(this.h,2*k,b,2*(k+1),2*(l-k));f.m=!0;a=this.Ma(a);a.h=b;a.K|=h;return a}l=this.h[2*k];h=this.h[2*k+1];if(null==l)return l=h.Fa(a,b+5,c,d,e,f),l===h?this:Te(this,a,2*k+1,l);if(Qe(d,l))return e===h?this:Te(this,a,2*k+1,e);f.m=!0;f=b+5;d=af?af(a,f,l,h,c,d,e):bf.call(null,a,f,l,h,c,d,e);e=2*k;k=2*k+1;a=this.Ma(a);
a.h[e]=null;a.h[k]=d;return a};
g.Ea=function(a,b,c,d,e){var f=1<<(b>>>a&31),h=hd(this.K&f-1);if(0===(this.K&f)){var k=hd(this.K);if(16<=k){h=[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null];h[b>>>a&31]=Ze.Ea(a+5,b,c,d,e);for(d=c=0;;)if(32>c)0===(this.K>>>c&1)?c+=1:(h[c]=null!=this.h[d]?Ze.Ea(a+5,Sb(this.h[d]),this.h[d],this.h[d+1],e):this.h[d+1],d+=2,c+=1);else break;return new $e(null,k+1,h)}a=Array(2*(k+1));Rc(this.h,
0,a,0,2*h);a[2*h]=c;a[2*h+1]=d;Rc(this.h,2*h,a,2*(h+1),2*(k-h));e.m=!0;return new We(null,this.K|f,a)}var l=this.h[2*h];f=this.h[2*h+1];if(null==l)return k=f.Ea(a+5,b,c,d,e),k===f?this:new We(null,this.K,Re(this.h,2*h+1,k));if(Qe(c,l))return d===f?this:new We(null,this.K,Re(this.h,2*h+1,d));e.m=!0;e=this.K;k=this.h;a+=5;a=cf?cf(a,l,f,b,c,d):bf.call(null,a,l,f,b,c,d);c=2*h;h=2*h+1;d=Ba(k);d[c]=null;d[h]=a;return new We(null,e,d)};
g.bb=function(a,b,c,d){var e=1<<(b>>>a&31);if(0===(this.K&e))return d;var f=hd(this.K&e-1);e=this.h[2*f];f=this.h[2*f+1];return null==e?f.bb(a+5,b,c,d):Qe(c,e)?new ne(e,f):d};g.eb=function(a,b,c){var d=1<<(b>>>a&31);if(0===(this.K&d))return this;var e=hd(this.K&d-1),f=this.h[2*e],h=this.h[2*e+1];return null==f?(a=h.eb(a+5,b,c),a===h?this:null!=a?new We(null,this.K,Re(this.h,2*e+1,a)):this.K===d?null:new We(null,this.K^d,Se(this.h,e))):Qe(c,f)?new We(null,this.K^d,Se(this.h,e)):this};g.Ca=function(){return new Ve(this.h)};
var Ze=new We(null,0,[]);function df(a){this.h=a;this.i=0;this.Ha=null}df.prototype.fa=function(){for(var a=this.h.length;;){if(null!=this.Ha&&this.Ha.fa())return!0;if(this.i<a){var b=this.h[this.i];this.i+=1;null!=b&&(this.Ha=Ib(b))}else return!1}};df.prototype.next=function(){if(this.fa())return this.Ha.next();throw Error("No such element");};df.prototype.remove=function(){return Error("Unsupported operation")};function $e(a,b,c){this.J=a;this.s=b;this.h=c;this.A=131072;this.l=0}g=$e.prototype;
g.Ma=function(a){return a===this.J?this:new $e(a,this.s,Ba(this.h))};g.cb=function(){return ef?ef(this.h):ff.call(null,this.h)};g.fb=function(a,b){for(var c=this.h.length,d=0;;)if(d<c){var e=this.h[d];if(null!=e){b=e.fb(a,b);if(kc(b))return b;d+=1}else d+=1}else return b};g.Na=function(a,b,c,d){var e=this.h[b>>>a&31];return null!=e?e.Na(a+5,b,c,d):d};
g.Fa=function(a,b,c,d,e,f){var h=c>>>b&31,k=this.h[h];if(null==k)return a=Te(this,a,h,Ze.Fa(a,b+5,c,d,e,f)),a.s+=1,a;b=k.Fa(a,b+5,c,d,e,f);return b===k?this:Te(this,a,h,b)};g.Ea=function(a,b,c,d,e){var f=b>>>a&31,h=this.h[f];if(null==h)return new $e(null,this.s+1,Re(this.h,f,Ze.Ea(a+5,b,c,d,e)));a=h.Ea(a+5,b,c,d,e);return a===h?this:new $e(null,this.s,Re(this.h,f,a))};g.bb=function(a,b,c,d){var e=this.h[b>>>a&31];return null!=e?e.bb(a+5,b,c,d):d};
g.eb=function(a,b,c){var d=b>>>a&31,e=this.h[d];if(null!=e){a=e.eb(a+5,b,c);if(a===e)d=this;else if(null==a)if(8>=this.s)a:{e=this.h;a=e.length;b=Array(2*(this.s-1));c=0;for(var f=1,h=0;;)if(c<a)c!==d&&null!=e[c]?(b[f]=e[c],f+=2,h|=1<<c,c+=1):c+=1;else{d=new We(null,h,b);break a}}else d=new $e(null,this.s-1,Re(this.h,d,a));else d=new $e(null,this.s,Re(this.h,d,a));return d}return this};g.Ca=function(){return new df(this.h)};
function gf(a,b,c){b*=2;for(var d=0;;)if(d<b){if(Qe(c,a[d]))return d;d+=2}else return-1}function hf(a,b,c,d){this.J=a;this.Ia=b;this.s=c;this.h=d;this.A=131072;this.l=0}g=hf.prototype;g.Ma=function(a){if(a===this.J)return this;var b=Array(2*(this.s+1));Rc(this.h,0,b,0,2*this.s);return new hf(a,this.Ia,this.s,b)};g.cb=function(){return Xe?Xe(this.h):Ye.call(null,this.h)};g.fb=function(a,b){return Ue(this.h,a,b)};
g.Na=function(a,b,c,d){a=gf(this.h,this.s,c);return 0>a?d:Qe(c,this.h[a])?this.h[a+1]:d};
g.Fa=function(a,b,c,d,e,f){if(c===this.Ia){b=gf(this.h,this.s,d);if(-1===b){if(this.h.length>2*this.s)return b=2*this.s,c=2*this.s+1,a=this.Ma(a),a.h[b]=d,a.h[c]=e,f.m=!0,a.s+=1,a;c=this.h.length;b=Array(c+2);Rc(this.h,0,b,0,c);b[c]=d;b[c+1]=e;f.m=!0;d=this.s+1;a===this.J?(this.h=b,this.s=d,a=this):a=new hf(this.J,this.Ia,d,b);return a}return this.h[b+1]===e?this:Te(this,a,b+1,e)}return(new We(a,1<<(this.Ia>>>b&31),[null,this,null,null])).Fa(a,b,c,d,e,f)};
g.Ea=function(a,b,c,d,e){return b===this.Ia?(a=gf(this.h,this.s,c),-1===a?(a=2*this.s,b=Array(a+2),Rc(this.h,0,b,0,a),b[a]=c,b[a+1]=d,e.m=!0,new hf(null,this.Ia,this.s+1,b)):F.g(this.h[a+1],d)?this:new hf(null,this.Ia,this.s,Re(this.h,a+1,d))):(new We(null,1<<(this.Ia>>>a&31),[null,this])).Ea(a,b,c,d,e)};g.bb=function(a,b,c,d){a=gf(this.h,this.s,c);return 0>a?d:Qe(c,this.h[a])?new ne(this.h[a],this.h[a+1]):d};
g.eb=function(a,b,c){a=gf(this.h,this.s,c);return-1===a?this:1===this.s?null:new hf(null,this.Ia,this.s-1,Se(this.h,gd(a)))};g.Ca=function(){return new Ve(this.h)};function bf(a){switch(arguments.length){case 6:return cf(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]);case 7:return af(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6]);default:throw Error(["Invalid arity: ",A.c(arguments.length)].join(""));}}
function cf(a,b,c,d,e,f){var h=Sb(b);if(h===d)return new hf(null,h,2,[b,c,e,f]);var k=new Pe;return Ze.Ea(a,h,b,c,k).Ea(a,d,e,f,k)}function af(a,b,c,d,e,f,h){var k=Sb(c);if(k===e)return new hf(null,k,2,[c,d,f,h]);var l=new Pe;return Ze.Fa(a,b,k,c,d,l).Fa(a,b,e,f,h,l)}function jf(a,b,c,d,e){this.meta=a;this.nodes=b;this.i=c;this.D=d;this.B=e;this.l=32374988;this.A=0}g=jf.prototype;g.toString=function(){return Kb(this)};
g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return N(this,b,0);case 2:return N(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.c=function(b){return N(this,b,0)};a.g=function(b,c){return N(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return Q(this,c,P(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return Q(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.c=a;b.g=function(c,d){return Q(this,c,d)};return b}();g.R=function(){return this.meta};g.$=function(){if(null==this.D){var a=this.nodes,b=this.i+2;return kf?kf(a,b,null):Ye.call(null,a,b,null)}a=this.nodes;b=this.i;var c=M(this.D);return kf?kf(a,b,c):Ye.call(null,a,b,c)};
g.S=function(){var a=this.B;return null!=a?a:this.B=a=fc(this)};g.P=function(a,b){return vc(this,b)};g.V=function(){return K};g.ba=function(a,b){return xc(b,this)};g.ca=function(a,b,c){return zc(b,c,this)};g.Y=function(){return null==this.D?new ne(this.nodes[this.i],this.nodes[this.i+1]):J(this.D)};
g.da=function(){var a=this,b=null==a.D?function(){var c=a.nodes,d=a.i+2;return kf?kf(c,d,null):Ye.call(null,c,d,null)}():function(){var c=a.nodes,d=a.i,e=M(a.D);return kf?kf(c,d,e):Ye.call(null,c,d,e)}();return null!=b?b:K};g.O=function(){return this};g.T=function(a,b){return b===this.meta?this:new jf(b,this.nodes,this.i,this.D,this.B)};g.Z=function(a,b){return R(b,this)};jf.prototype[Aa]=function(){return dc(this)};
function Ye(a){switch(arguments.length){case 1:return Xe(arguments[0]);case 3:return kf(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",A.c(arguments.length)].join(""));}}function Xe(a){return kf(a,0,null)}function kf(a,b,c){if(null==c)for(c=a.length;;)if(b<c){if(null!=a[b])return new jf(null,a,b,null,null);var d=a[b+1];if(w(d)&&(d=d.cb(),w(d)))return new jf(null,a,b+2,d,null);b+=2}else return null;else return new jf(null,a,b,c,null)}
function lf(a,b,c,d,e){this.meta=a;this.nodes=b;this.i=c;this.D=d;this.B=e;this.l=32374988;this.A=0}g=lf.prototype;g.toString=function(){return Kb(this)};g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return N(this,b,0);case 2:return N(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.c=function(b){return N(this,b,0)};a.g=function(b,c){return N(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return Q(this,c,P(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return Q(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.c=a;b.g=function(c,d){return Q(this,c,d)};return b}();g.R=function(){return this.meta};g.$=function(){var a=this.nodes,b=this.i,c=M(this.D);return mf?mf(a,b,c):ff.call(null,a,b,c)};g.S=function(){var a=this.B;return null!=a?a:this.B=a=fc(this)};
g.P=function(a,b){return vc(this,b)};g.V=function(){return K};g.ba=function(a,b){return xc(b,this)};g.ca=function(a,b,c){return zc(b,c,this)};g.Y=function(){return J(this.D)};g.da=function(){var a=this.nodes;var b=this.i,c=M(this.D);a=mf?mf(a,b,c):ff.call(null,a,b,c);return null!=a?a:K};g.O=function(){return this};g.T=function(a,b){return b===this.meta?this:new lf(b,this.nodes,this.i,this.D,this.B)};g.Z=function(a,b){return R(b,this)};lf.prototype[Aa]=function(){return dc(this)};
function ff(a){switch(arguments.length){case 1:return ef(arguments[0]);case 3:return mf(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",A.c(arguments.length)].join(""));}}function ef(a){return mf(a,0,null)}function mf(a,b,c){if(null==c)for(c=a.length;;)if(b<c){var d=a[b];if(w(d)&&(d=d.cb(),w(d)))return new lf(null,a,b+1,d,null);b+=1}else return null;else return new lf(null,a,b,c,null)}function nf(a,b){this.ea=a;this.Db=b;this.wb=!1}
nf.prototype.fa=function(){return!this.wb||this.Db.fa()};nf.prototype.next=function(){if(this.wb)return this.Db.next();this.wb=!0;return new ne(null,this.ea)};nf.prototype.remove=function(){return Error("Unsupported operation")};function of(a,b,c,d,e,f){this.meta=a;this.s=b;this.root=c;this.ga=d;this.ea=e;this.B=f;this.l=16123663;this.A=139268}g=of.prototype;g.Ya=function(a,b){return null==b?this.ga?new ne(null,this.ea):null:null==this.root?null:this.root.bb(0,Sb(b),b,null)};g.toString=function(){return Kb(this)};
g.keys=function(){return dc(Je.c?Je.c(this):Je.call(null,this))};g.entries=function(){return new Fe(G(G(this)))};g.values=function(){return dc(Ke.c?Ke.c(this):Ke.call(null,this))};g.has=function(a){return Uc(this,a)};g.get=function(a,b){return this.M(null,a,b)};
g.forEach=function(a){for(var b=G(this),c=null,d=0,e=0;;)if(e<d){var f=c.W(null,e),h=S(f,0,null);f=S(f,1,null);a.g?a.g(f,h):a.call(null,f,h);e+=1}else if(b=G(b))Qc(b)?(c=Cb(b),b=Db(b),h=c,d=P(c),c=h):(c=J(b),h=S(c,0,null),f=S(c,1,null),a.g?a.g(f,h):a.call(null,f,h),b=M(b),c=null,d=0),e=0;else return null};g.ia=function(a,b){return this.M(null,b,null)};g.M=function(a,b,c){return null==b?this.ga?this.ea:c:null==this.root?c:this.root.Na(0,Sb(b),b,c)};
g.kb=function(a,b,c){a=this.ga?b.j?b.j(c,null,this.ea):b.call(null,c,null,this.ea):c;kc(a)?b=ab(a):null!=this.root?(b=this.root.fb(b,a),b=kc(b)?lc.c?lc.c(b):lc.call(null,b):b):b=a;return b};g.Ca=function(){var a=this.root?Ib(this.root):Kd();return this.ga?new nf(this.ea,a):a};g.R=function(){return this.meta};g.U=function(){return this.s};g.S=function(){var a=this.B;return null!=a?a:this.B=a=hc(this)};g.P=function(a,b){return Ee(this,b)};g.Sa=function(){return new pf(this.root,this.s,this.ga,this.ea)};
g.V=function(){return db(Ne,this.meta)};g.tb=function(a,b){if(null==b)return this.ga?new of(this.meta,this.s-1,this.root,!1,null,null):this;if(null==this.root)return this;a=this.root.eb(0,Sb(b),b);return a===this.root?this:new of(this.meta,this.s-1,a,this.ga,this.ea,null)};
g.Ja=function(a,b,c){if(null==b)return this.ga&&c===this.ea?this:new of(this.meta,this.ga?this.s:this.s+1,this.root,!0,c,null);a=new Pe;b=(null==this.root?Ze:this.root).Ea(0,Sb(b),b,c,a);return b===this.root?this:new of(this.meta,a.m?this.s+1:this.s,b,this.ga,this.ea,null)};g.O=function(){if(0<this.s){var a=null!=this.root?this.root.cb():null;return this.ga?R(new ne(null,this.ea),a):a}return null};g.T=function(a,b){return b===this.meta?this:new of(b,this.s,this.root,this.ga,this.ea,this.B)};
g.Z=function(a,b){if(Pc(b))return this.Ja(null,La(b,0),La(b,1));a=this;for(b=G(b);;){if(null==b)return a;var c=J(b);if(Pc(c))a=Ta(a,La(c,0),La(c,1)),b=M(b);else throw Error("conj on a map takes map entries or seqables of map entries");}};g.call=function(a){switch(arguments.length-1){case 1:return this.c(arguments[1]);case 2:return this.g(arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",A.c(arguments.length-1)].join(""));}};g.apply=function(a,b){return this.call.apply(this,[this].concat(Ba(b)))};
g.c=function(a){return this.ia(null,a)};g.g=function(a,b){return this.M(null,a,b)};var Ne=new of(null,0,null,!1,null,ic);function qf(a,b){for(var c=a.length,d=0,e=vb(Ne);;)if(d<c){var f=d+1;e=yb(e,a[d],b[d]);d=f}else return xb(e)}of.prototype[Aa]=function(){return dc(this)};function pf(a,b,c,d){this.J={};this.root=a;this.count=b;this.ga=c;this.ea=d;this.l=259;this.A=56}
function rf(a,b,c){if(a.J){if(null==b)a.ea!==c&&(a.ea=c),a.ga||(a.count+=1,a.ga=!0);else{var d=new Pe;b=(null==a.root?Ze:a.root).Fa(a.J,0,Sb(b),b,c,d);b!==a.root&&(a.root=b);d.m&&(a.count+=1)}return a}throw Error("assoc! after persistent!");}g=pf.prototype;g.U=function(){if(this.J)return this.count;throw Error("count after persistent!");};g.ia=function(a,b){return null==b?this.ga?this.ea:null:null==this.root?null:this.root.Na(0,Sb(b),b)};
g.M=function(a,b,c){return null==b?this.ga?this.ea:c:null==this.root?c:this.root.Na(0,Sb(b),b,c)};g.Ua=function(a,b){a:if(this.J)if(ue(b))a=rf(this,ve.c?ve.c(b):ve.call(null,b),we.c?we.c(b):we.call(null,b));else if(Pc(b))a=rf(this,b.c?b.c(0):b.call(null,0),b.c?b.c(1):b.call(null,1));else for(a=G(b),b=this;;){var c=J(a);if(w(c))a=M(a),b=rf(b,ve.c?ve.c(c):ve.call(null,c),we.c?we.c(c):we.call(null,c));else{a=b;break a}}else throw Error("conj! after persistent");return a};
g.$a=function(){if(this.J){this.J=null;var a=new of(null,this.count,this.root,this.ga,this.ea,null)}else throw Error("persistent! called twice");return a};g.Ta=function(a,b,c){return rf(this,b,c)};g.call=function(a){switch(arguments.length-1){case 1:return this.c(arguments[1]);case 2:return this.g(arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",A.c(arguments.length-1)].join(""));}};g.apply=function(a,b){return this.call.apply(this,[this].concat(Ba(b)))};
g.c=function(a){return this.ia(null,a)};g.g=function(a,b){return this.M(null,a,b)};var X=function X(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;return X.v(0<c.length?new H(c.slice(0),0,null):null)};X.v=function(a){for(var b=G(a),c=vb(Ne);;)if(b){a=M(M(b));var d=J(b);b=J(M(b));c=yb(c,d,b);b=a}else return xb(c)};X.F=0;X.C=function(a){return this.v(G(a))};function sf(a,b){this.G=a;this.ma=b;this.l=32374988;this.A=0}g=sf.prototype;g.toString=function(){return Kb(this)};
g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return N(this,b,0);case 2:return N(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.c=function(b){return N(this,b,0)};a.g=function(b,c){return N(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return Q(this,c,P(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return Q(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.c=a;b.g=function(c,d){return Q(this,c,d)};return b}();g.R=function(){return this.ma};g.$=function(){var a=(null!=this.G?this.G.l&128||u===this.G.Za||(this.G.l?0:y(Oa,this.G)):y(Oa,this.G))?this.G.$(null):M(this.G);return null==a?null:new sf(a,null)};g.S=function(){return fc(this)};
g.P=function(a,b){return vc(this,b)};g.V=function(){return K};g.ba=function(a,b){return xc(b,this)};g.ca=function(a,b,c){return zc(b,c,this)};g.Y=function(){return this.G.Y(null).key};g.da=function(){var a=(null!=this.G?this.G.l&128||u===this.G.Za||(this.G.l?0:y(Oa,this.G)):y(Oa,this.G))?this.G.$(null):M(this.G);return null!=a?new sf(a,null):K};g.O=function(){return this};g.T=function(a,b){return b===this.ma?this:new sf(this.G,b)};g.Z=function(a,b){return R(b,this)};sf.prototype[Aa]=function(){return dc(this)};
function Je(a){return(a=G(a))?new sf(a,null):null}function ve(a){return Xa(a)}function tf(a,b){this.G=a;this.ma=b;this.l=32374988;this.A=0}g=tf.prototype;g.toString=function(){return Kb(this)};g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return N(this,b,0);case 2:return N(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.c=function(b){return N(this,b,0)};a.g=function(b,c){return N(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return Q(this,c,P(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return Q(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.c=a;b.g=function(c,d){return Q(this,c,d)};return b}();g.R=function(){return this.ma};g.$=function(){var a=(null!=this.G?this.G.l&128||u===this.G.Za||(this.G.l?0:y(Oa,this.G)):y(Oa,this.G))?this.G.$(null):M(this.G);return null==a?null:new tf(a,null)};g.S=function(){return fc(this)};
g.P=function(a,b){return vc(this,b)};g.V=function(){return K};g.ba=function(a,b){return xc(b,this)};g.ca=function(a,b,c){return zc(b,c,this)};g.Y=function(){return this.G.Y(null).m};g.da=function(){var a=(null!=this.G?this.G.l&128||u===this.G.Za||(this.G.l?0:y(Oa,this.G)):y(Oa,this.G))?this.G.$(null):M(this.G);return null!=a?new tf(a,null):K};g.O=function(){return this};g.T=function(a,b){return b===this.ma?this:new tf(this.G,b)};g.Z=function(a,b){return R(b,this)};tf.prototype[Aa]=function(){return dc(this)};
function Ke(a){return(a=G(a))?new tf(a,null):null}function we(a){return Ya(a)}function uf(a){this.Wa=a}uf.prototype.fa=function(){return this.Wa.fa()};uf.prototype.next=function(){if(this.Wa.fa())return this.Wa.next().key;throw Error("No such element");};uf.prototype.remove=function(){return Error("Unsupported operation")};function vf(a,b,c){this.meta=a;this.Ka=b;this.B=c;this.l=15077647;this.A=139268}g=vf.prototype;g.toString=function(){return Kb(this)};g.keys=function(){return dc(G(this))};
g.entries=function(){return new Ge(G(G(this)))};g.values=function(){return dc(G(this))};g.has=function(a){return Uc(this,a)};g.forEach=function(a){for(var b=G(this),c=null,d=0,e=0;;)if(e<d){var f=c.W(null,e),h=S(f,0,null);f=S(f,1,null);a.g?a.g(f,h):a.call(null,f,h);e+=1}else if(b=G(b))Qc(b)?(c=Cb(b),b=Db(b),h=c,d=P(c),c=h):(c=J(b),h=S(c,0,null),f=S(c,1,null),a.g?a.g(f,h):a.call(null,f,h),b=M(b),c=null,d=0),e=0;else return null};g.ia=function(a,b){return this.M(null,b,null)};
g.M=function(a,b,c){a=Ua(this.Ka,b);return w(a)?Xa(a):c};g.Ca=function(){return new uf(Ib(this.Ka))};g.R=function(){return this.meta};g.U=function(){return Ea(this.Ka)};g.S=function(){var a=this.B;return null!=a?a:this.B=a=hc(this)};g.P=function(a,b){if(Lc(b))if(P(this)===P(b))try{return dd(function(c,d){return(c=Uc(b,d))?c:new jc(!1)},!0,this.Ka)}catch(c){if(c instanceof Error)return!1;throw c;}else return!1;else return!1};g.Sa=function(){return new wf(vb(this.Ka))};g.V=function(){return db(xf,this.meta)};
g.O=function(){return Je(this.Ka)};g.T=function(a,b){return b===this.meta?this:new vf(b,this.Ka,this.B)};g.Z=function(a,b){return new vf(this.meta,Fc.j(this.Ka,b,null),null)};g.call=function(a){switch(arguments.length-1){case 1:return this.c(arguments[1]);case 2:return this.g(arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",A.c(arguments.length-1)].join(""));}};g.apply=function(a,b){return this.call.apply(this,[this].concat(Ba(b)))};g.c=function(a){return this.ia(null,a)};
g.g=function(a,b){return this.M(null,a,b)};var xf=new vf(null,Md,ic);vf.prototype[Aa]=function(){return dc(this)};function wf(a){this.Pa=a;this.A=136;this.l=259}g=wf.prototype;g.Ua=function(a,b){this.Pa=yb(this.Pa,b,null);return this};g.$a=function(){return new vf(null,xb(this.Pa),null)};g.U=function(){return P(this.Pa)};g.ia=function(a,b){return this.M(null,b,null)};g.M=function(a,b,c){return Ra(this.Pa,b,Sc)===Sc?c:b};
g.call=function(a){switch(arguments.length-1){case 1:return this.c(arguments[1]);case 2:return this.g(arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",A.c(arguments.length-1)].join(""));}};g.apply=function(a,b){return this.call.apply(this,[this].concat(Ba(b)))};g.c=function(a){return Ra(this.Pa,a,Sc)===Sc?null:a};g.g=function(a,b){return Ra(this.Pa,a,Sc)===Sc?b:a};
function pd(a){if(null!=a&&(a.A&4096||u===a.Ob))return a.name;if("string"===typeof a)return a;throw Error(["Doesn't support name: ",A.c(a)].join(""));}function zf(a,b){return new qd(null,function(){var c=G(b);if(c){var d=J(c);d=a.c?a.c(d):a.call(null,d);c=w(d)?R(J(c),zf(a,bc(c))):null}else c=null;return c},null)}
function Yi(){var a=Zi;return function(){function b(k,l,m){return new U(null,2,5,W,[a.j?a.j(k,l,m):a.call(null,k,l,m),ed.j?ed.j(k,l,m):ed.call(null,k,l,m)],null)}function c(k,l){return new U(null,2,5,W,[a.g?a.g(k,l):a.call(null,k,l),ed.g?ed.g(k,l):ed.call(null,k,l)],null)}function d(k){return new U(null,2,5,W,[a.c?a.c(k):a.call(null,k),ed.c?ed.c(k):ed.call(null,k)],null)}function e(){return new U(null,2,5,W,[a.o?a.o():a.call(null),ed.o?ed.o():ed.call(null)],null)}var f=null,h=function(){function k(m,
n,p,q){var r=null;if(3<arguments.length){r=0;for(var x=Array(arguments.length-3);r<x.length;)x[r]=arguments[r+3],++r;r=new H(x,0,null)}return l.call(this,m,n,p,r)}function l(m,n,p,q){return new U(null,2,5,W,[Jd(a,m,n,p,q),Jd(ed,m,n,p,q)],null)}k.F=3;k.C=function(m){var n=J(m);m=M(m);var p=J(m);m=M(m);var q=J(m);m=bc(m);return l(n,p,q,m)};k.v=l;return k}();f=function(k,l,m,n){switch(arguments.length){case 0:return e.call(this);case 1:return d.call(this,k);case 2:return c.call(this,k,l);case 3:return b.call(this,
k,l,m);default:var p=null;if(3<arguments.length){p=0;for(var q=Array(arguments.length-3);p<q.length;)q[p]=arguments[p+3],++p;p=new H(q,0,null)}return h.v(k,l,m,p)}throw Error("Invalid arity: "+arguments.length);};f.F=3;f.C=h.C;f.o=e;f.c=d;f.g=c;f.j=b;f.v=h.v;return f}()}
var Af=function Af(a,b){var d=a.exec(b);if(null==d)return null;var e=d[0],f=1===d.length?e:te(d);return R(f,new qd(null,function(){var h=e.length;h=d.index+(1>h?1:h);return h<=b.length?(h=b.substring(h),Af.g?Af.g(a,h):Af.call(null,a,h)):null},null))};
function Bf(a,b,c,d,e,f,h){var k=qa;qa=null==qa?null:qa-1;try{if(null!=qa&&0>qa)return sb(a,"#");sb(a,c);if(0===wa.c(f))G(h)&&sb(a,function(){var r=Cf.c(f);return w(r)?r:"..."}());else{if(G(h)){var l=J(h);b.j?b.j(l,a,f):b.call(null,l,a,f)}for(var m=M(h),n=wa.c(f)-1;;)if(!m||null!=n&&0===n){G(m)&&0===n&&(sb(a,d),sb(a,function(){var r=Cf.c(f);return w(r)?r:"..."}()));break}else{sb(a,d);var p=J(m);c=a;h=f;b.j?b.j(p,c,h):b.call(null,p,c,h);var q=M(m);c=n-1;m=q;n=c}}return sb(a,e)}finally{qa=k}}
function Df(a,b){b=G(b);for(var c=null,d=0,e=0;;)if(e<d){var f=c.W(null,e);sb(a,f);e+=1}else if(b=G(b))c=b,Qc(c)?(b=Cb(c),d=Db(c),c=b,f=P(b),b=d,d=f):(f=J(c),sb(a,f),b=M(c),c=null,d=0),e=0;else return null}var Ef={'"':'\\"',"\\":"\\\\","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t"};function Ff(a){return['"',A.c(a.replace(/[\\"\b\f\n\r\t]/g,function(b){return Ef[b]})),'"'].join("")}function Gf(a,b){return Tc(Wb.g(a,ua))?null!=b&&(b.l&131072||u===b.Nb)?null!=Kc(b):!1:!1}
function Hf(a,b,c){if(null==a)return sb(b,"nil");if(Gf(c,a)){sb(b,"^");var d=Kc(a);Y.j?Y.j(d,b,c):Y.call(null,d,b,c);sb(b," ")}if(a.Cb)return a.Wb(b);if(null!=a?a.l&2147483648||u===a.X||(a.l?0:y(tb,a)):y(tb,a))return ub(a,b,c);if(!0===a||!1===a)return sb(b,A.c(a));if("number"===typeof a)return sb(b,isNaN(a)?"##NaN":a===Number.POSITIVE_INFINITY?"##Inf":a===Number.NEGATIVE_INFINITY?"##-Inf":A.c(a));if(null!=a&&a.constructor===Object)return sb(b,"#js "),d=Xd.g(function(f){var h=/[A-Za-z_\*\+\?!\-'][\w\*\+\?!\-']*/;
if("string"===typeof f)h=h.exec(f),h=null!=h&&F.g(h[0],f)?1===h.length?h[0]:te(h):null;else throw new TypeError("re-matches must match against a string.");return new ne(null!=h?od.c(f):f,a[f])},la(a)),If.H?If.H(d,Y,b,c):If.call(null,d,Y,b,c);if(xa(a))return Bf(b,Y,"#js ["," ","]",c,a);if("string"==typeof a)return w(ta.c(c))?sb(b,Ff(a)):sb(b,a);if("function"==t(a)){var e=a.name;c=w(function(){var f=null==e;return f?f:/^[\s\xa0]*$/.test(e)}())?"Function":e;return Df(b,wc(["#object[",c,w(!1)?[' "',A.c(a),
'"'].join(""):"","]"]))}if(a instanceof Date)return c=function(f,h){for(f=A.c(f);;)if(f.length<h)f=["0",f].join("");else return f},Df(b,wc(['#inst "',A.c(a.getUTCFullYear()),"-",c(a.getUTCMonth()+1,2),"-",c(a.getUTCDate(),2),"T",c(a.getUTCHours(),2),":",c(a.getUTCMinutes(),2),":",c(a.getUTCSeconds(),2),".",c(a.getUTCMilliseconds(),3),"-",'00:00"']));if(a instanceof RegExp)return Df(b,wc(['#"',a.source,'"']));if(Ca(a))return Df(b,wc(["#object[",a.toString(),"]"]));if(w(function(){var f=null==a?null:
a.constructor;return null==f?null:f.mb}()))return Df(b,wc(["#object[",a.constructor.mb.replace(/\//g,"."),"]"]));e=function(){var f=null==a?null:a.constructor;return null==f?null:f.name}();c=w(function(){var f=null==e;return f?f:/^[\s\xa0]*$/.test(e)}())?"Object":e;return null==a.constructor?Df(b,wc(["#object[",c,"]"])):Df(b,wc(["#object[",c," ",A.c(a),"]"]))}function Y(a,b,c){var d=Jf.c(c);return w(d)?(c=Fc.j(c,Lf,Hf),d.j?d.j(a,b,c):d.call(null,a,b,c)):Hf(a,b,c)}
function Mf(a,b){var c=new ma;a:{var d=new Jb(c);Y(J(a),d,b);a=G(M(a));for(var e=null,f=0,h=0;;)if(h<f){var k=e.W(null,h);sb(d," ");Y(k,d,b);h+=1}else if(a=G(a))e=a,Qc(e)?(a=Cb(e),f=Db(e),e=a,k=P(a),a=f,f=k):(k=J(e),sb(d," "),Y(k,d,b),a=M(e),e=null,f=0),h=0;else break a}return c}function Nf(a){return a instanceof Vb?Xb.g(null,pd(a)):od.g(null,pd(a))}
function Of(a){if(w(!1)){var b=G(a),c=G(b),d=J(c);M(c);S(d,0,null);S(d,1,null);c=null==a?null:null!=a&&(a.l&4||u===a.Hb)?a.V(null):(null!=a?a.l&4||u===a.Hb||(a.l?0:y(Fa,a)):y(Fa,a))?Ga(a):null;for(a=null;;){d=a;b=G(b);a=J(b);var e=M(b),f=a;a=S(f,0,null);b=S(f,1,null);if(w(f))if(a instanceof E||a instanceof Vb)if(w(d))if(F.g(d,nd(a)))c=Fc.j(c,Nf(a),b),a=d,b=e;else return null;else if(d=nd(a),w(d))c=Fc.j(c,Nf(a),b),a=d,b=e;else return null;else return null;else return new U(null,2,5,W,[d,c],null)}}else return null}
function Pf(a,b,c,d,e){return Bf(d,function(f,h,k){var l=Xa(f);c.j?c.j(l,h,k):c.call(null,l,h,k);sb(h," ");f=Ya(f);return c.j?c.j(f,h,k):c.call(null,f,h,k)},[A.c(a),"{"].join(""),", ","}",e,G(b))}function If(a,b,c,d){var e=Nc(a)?Of(a):null,f=S(e,0,null);e=S(e,1,null);return w(f)?Pf(["#:",A.c(f)].join(""),e,b,c,d):Pf(null,a,b,c,d)}Yb.prototype.X=u;Yb.prototype.N=function(a,b,c){sb(b,"#'");return Y(this.Oa,b,c)};H.prototype.X=u;H.prototype.N=function(a,b,c){return Bf(b,Y,"("," ",")",c,this)};
qd.prototype.X=u;qd.prototype.N=function(a,b,c){return Bf(b,Y,"("," ",")",c,this)};ne.prototype.X=u;ne.prototype.N=function(a,b,c){return Bf(b,Y,"["," ","]",c,this)};jf.prototype.X=u;jf.prototype.N=function(a,b,c){return Bf(b,Y,"("," ",")",c,this)};He.prototype.X=u;He.prototype.N=function(a,b,c){return Bf(b,Y,"("," ",")",c,this)};ec.prototype.X=u;ec.prototype.N=function(a,b,c){return Bf(b,Y,"("," ",")",c,this)};xe.prototype.X=u;xe.prototype.N=function(a,b,c){return Bf(b,Y,"("," ",")",c,this)};
ld.prototype.X=u;ld.prototype.N=function(a,b,c){return Bf(b,Y,"("," ",")",c,this)};Zd.prototype.X=u;Zd.prototype.N=function(a,b,c){return Bf(b,Y,"("," ",")",c,this)};uc.prototype.X=u;uc.prototype.N=function(a,b,c){return Bf(b,Y,"("," ",")",c,this)};of.prototype.X=u;of.prototype.N=function(a,b,c){return If(this,Y,b,c)};lf.prototype.X=u;lf.prototype.N=function(a,b,c){return Bf(b,Y,"("," ",")",c,this)};vf.prototype.X=u;vf.prototype.N=function(a,b,c){return Bf(b,Y,"#{"," ","}",c,this)};
ud.prototype.X=u;ud.prototype.N=function(a,b,c){return Bf(b,Y,"("," ",")",c,this)};Rd.prototype.X=u;Rd.prototype.N=function(a,b,c){sb(b,"#object[cljs.core.Atom ");Y(new v(null,1,[Qf,this.state],null),b,c);return sb(b,"]")};tf.prototype.X=u;tf.prototype.N=function(a,b,c){return Bf(b,Y,"("," ",")",c,this)};U.prototype.X=u;U.prototype.N=function(a,b,c){return Bf(b,Y,"["," ","]",c,this)};id.prototype.X=u;id.prototype.N=function(a,b){return sb(b,"()")};v.prototype.X=u;
v.prototype.N=function(a,b,c){return If(this,Y,b,c)};sf.prototype.X=u;sf.prototype.N=function(a,b,c){return Bf(b,Y,"("," ",")",c,this)};Dc.prototype.X=u;Dc.prototype.N=function(a,b,c){return Bf(b,Y,"("," ",")",c,this)};Vb.prototype.Xa=u;Vb.prototype.Ra=function(a,b){if(b instanceof Vb)return Ub(this,b);throw Error(["Cannot compare ",A.c(this)," to ",A.c(b)].join(""));};E.prototype.Xa=u;
E.prototype.Ra=function(a,b){if(b instanceof E)return md(this,b);throw Error(["Cannot compare ",A.c(this)," to ",A.c(b)].join(""));};U.prototype.Xa=u;U.prototype.Ra=function(a,b){if(Pc(b))return Wc(this,b);throw Error(["Cannot compare ",A.c(this)," to ",A.c(b)].join(""));};ne.prototype.Xa=u;ne.prototype.Ra=function(a,b){if(Pc(b))return Wc(this,b);throw Error(["Cannot compare ",A.c(this)," to ",A.c(b)].join(""));};function Rf(){}
function Sf(a){if(null!=a&&null!=a.Jb)a=a.Jb(a);else{var b=Sf[t(null==a?null:a)];if(null!=b)a=b.c?b.c(a):b.call(null,a);else if(b=Sf._,null!=b)a=b.c?b.c(a):b.call(null,a);else throw z("IEncodeJS.-clj-\x3ejs",a);}return a}function Tf(a,b){(null!=a?u===a.Ib||(a.Xb?0:y(Rf,a)):y(Rf,a))?a=Sf(a):"string"===typeof a||"number"===typeof a||a instanceof E||a instanceof Vb?a=b.c?b.c(a):b.call(null,a):(a=wc([a]),b=ra(),a=null==a||ya(G(a))?"":A.c(Mf(a,b)));return a}
var Uf=function Uf(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;return Uf.v(arguments[0],1<c.length?new H(c.slice(1),0,null):null)};
Uf.v=function(a,b){b=null!=b&&(b.l&64||u===b.I)?T(X,b):b;var c=Wb.j(b,Vf,pd),d=function h(f){if(null==f)return null;if(null!=f?u===f.Ib||(f.Xb?0:y(Rf,f)):y(Rf,f))return Sf(f);if(f instanceof E)return c.c?c.c(f):c.call(null,f);if(f instanceof Vb)return A.c(f);if(Nc(f)){var k={};f=G(f);for(var l=null,m=0,n=0;;)if(n<m){var p=l.W(null,n),q=S(p,0,null);p=S(p,1,null);q=Tf(q,d);p=h(p);k[q]=p;n+=1}else if(f=G(f))Qc(f)?(m=Cb(f),f=Db(f),l=m,m=P(m)):(m=J(f),l=S(m,0,null),m=S(m,1,null),l=Tf(l,d),m=h(m),k[l]=
m,f=M(f),l=null,m=0),n=0;else break;return k}if(null==f?0:null!=f?f.l&8||u===f.pc||(f.l?0:y(Ha,f)):y(Ha,f)){k=[];f=G(Xd.g(h,f));l=null;for(n=m=0;;)if(n<m)q=l.W(null,n),k.push(q),n+=1;else if(f=G(f))l=f,Qc(l)?(f=Cb(l),n=Db(l),l=f,m=P(f),f=n):(f=J(l),k.push(f),f=M(l),l=null,m=0),n=0;else break;return k}return f};return d(a)};Uf.F=1;Uf.C=function(a){var b=J(a);a=M(a);return this.v(b,a)};var Wf=new E(null,"cursorGroupBackward","cursorGroupBackward",-1004717331),Xf=new E(null,"ns","ns",441598760),Cj=new E("cursor","mapped","cursor/mapped",1625530272),Yf=new E(null,"slurp-forward","slurp-forward",-866284566),Zf=new E(null,"selectLine","selectLine",1983247755),yf=new E(null,"selection-return","selection-return",267226206),$f=new E(null,"selectGroupForward","selectGroupForward",1344873433),ag=new E(null,"table","table",-564943036),Qf=new E(null,"val","val",128701612),bg=new E(null,"redo",
"redo",501190664),cg=new E(null,"doc","doc",1913296891),dg=new E(null,"moveLineUp","moveLineUp",-529618675),eg=new E(null,"line","line",212345235),fg=new E(null,"arglists","arglists",1661989754),gg=new E(null,"selectLineEnd","selectLineEnd",-1578526086),hg=new E(null,"cursorDocStart","cursorDocStart",2008312830),ig=new E(null,"deleteToLineEnd","deleteToLineEnd",-1184097633),jg=new E(null,"indentMore","indentMore",-290419447),Ij=new Vb(Ci,"format","codemirror-next.clojure.extensions.formatting/format",
41831636,null),ua=new E(null,"meta","meta",1499536964),kg=new E(null,"barf-backward","barf-backward",434854195),lg=new E(null,"cursorPageDown","cursorPageDown",-1143253131),mg=new E(null,"mac","mac",-1879391650),ng=new E(null,"barf-forward","barf-forward",1278612337),og=new E(null,"from","from",1815293044),pg=new E(null,"selectPageDown","selectPageDown",226562613),qg=new E(null,"deleteCharBackward","deleteCharBackward",-618312025),rg=new E(null,"cursorPageUp","cursorPageUp",-716828715),sg=new E(null,
"cursorGroupLeft","cursorGroupLeft",1639995020),tg=new E(null,"selectGroupLeft","selectGroupLeft",347862780),ug=new E(null,"selectCharLeft","selectCharLeft",1894248154),vg=new E(null,"end-line","end-line",1837326455),wg=new E(null,"copyLineDown","copyLineDown",735523711),xg=new E(null,"cursorGroupRight","cursorGroupRight",-2025899051),yg=new E(null,"nav-left","nav-left",845947876),zg=new E(null,"start","start",-355208981),Ag=new E(null,"tag","tag",-1290361223),Bg=new E(null,"cursorLineDown","cursorLineDown",
180576864),Cg=new E(null,"selectSyntaxLeft","selectSyntaxLeft",807644921),Dg=new E(null,"range","range",1639692286),Eg=new Vb(aa,"unwrap","codemirror-next.clojure.commands/unwrap",-1222968235,null),Fg=new E(null,"selectDocEnd","selectDocEnd",496449813),Ld=new Vb(null,"meta18778","meta18778",854846428,null),Vj=new E(null,"cursor","cursor",1011937484),Gg=new E(null,"name","name",1843675177),Hg=new E(null,"test","test",577538877),Ig=new E(null,"end-column","end-column",1425389514),Jg=new E(null,"nav-right",
"nav-right",591041267),Kg=new E(null,"shift","shift",997140064),Lg=new E(null,"cursorSyntaxRight","cursorSyntaxRight",636695810),Jf=new E(null,"alt-impl","alt-impl",670969595),ti=new Vb(null,"selection-return","selection-return",1907757733,null),Mg=new E(null,"selectDocStart","selectDocStart",-217268371),Ng=new E(null,"deleteCharForward","deleteCharForward",823474956),Og=new E(null,"deleteGroupBackward","deleteGroupBackward",616768113),Pg=new E(null,"selectLineUp","selectLineUp",-255594686),Qg=new E(null,
"selectAll","selectAll",869127842),Rg=new E(null,"cursorDocEnd","cursorDocEnd",-1298653903),Sg=new E(null,"simplifySelection","simplifySelection",-449871290),ui=new Vb(aa,"selection-return","codemirror-next.clojure.commands/selection-return",183378793,null),va=new E(null,"dup","dup",556298533),Tg=new Vb(aa,"kill","codemirror-next.clojure.commands/kill",676830540,null),Ug=new E(null,"selectParentSyntax","selectParentSyntax",1969233071),Vg=new E(null,"indentSelection","indentSelection",1509202288),
Wg=new E(null,"cursorGroupForward","cursorGroupForward",1231480632),Xg=new E(null,"nav-select-right","nav-select-right",-455278613),Fj=new E(null,"cellpadding","cellpadding",-1752450238),wa=new E(null,"print-length","print-length",1931866356),Yg=new E(null,"unwrap","unwrap",-1399175462),Zg=new E(null,"selectLineDown","selectLineDown",1741100604),sa=new E(null,"flush-on-newline","flush-on-newline",-151457939),$g=new E(null,"undo","undo",-1818036302),ah=new E(null,"selectGroupBackward","selectGroupBackward",
1569543117),bh=new E(null,"nav-select-left","nav-select-left",-1033285138),ch=new E(null,"selectSyntaxRight","selectSyntaxRight",327843753),dh=new E(null,"moveLineDown","moveLineDown",1443953910),Fi=new E(null,"selection-grow","selection-grow",1627169352),eh=new E(null,"cursorLineUp","cursorLineUp",-1375841219),fh=new E(null,"selectCharRight","selectCharRight",1049825195),gh=new E(null,"i","i",-1386841315),hh=new E(null,"column","column",2078222095),ih=new E(null,"key","key",-1516042587),jh=new E(null,
"tr","tr",-1424774646),kh=new E(null,"selectLineBoundaryForward","selectLineBoundaryForward",904508598),lh=new E(null,"to","to",192099007),mh=new E(null,"b","b",1482224470),nh=new E(null,"selectPageUp","selectPageUp",152840428),oh=new E(null,"splitLine","splitLine",-1338533189),ph=new E(null,"td","td",1479933353),qh=new Vb(null,"state","state",-348086572,null),rh=new E(null,"run","run",-1821166653),sh=new E(null,"redoSelection","redoSelection",412268254),th=new E(null,"cursorLineBoundaryForward",
"cursorLineBoundaryForward",-1283359997),uh=new E(null,"deleteLine","deleteLine",-1681049426),vh=new E(null,"changes","changes",1492088),wh=new Vb(null,"kill","kill",1628195952,null),Dj=new Vb(aa,"selection-grow","codemirror-next.clojure.commands/selection-grow",135101379,null),xh=new E(null,"cursorLineBoundaryBackward","cursorLineBoundaryBackward",1373049802),yh=new E(null,"kill","kill",-12335575),zi=new E(null,"div","div",1057191632),Lf=new E(null,"fallback-impl","fallback-impl",-1501286995),zh=
new E(null,"insertNewlineAndIndent","insertNewlineAndIndent",-542382007),Ah=new E(null,"preventDefault","preventDefault",-1714933772),Ai=new E(null,"pre","pre",2118456869),ta=new E(null,"readably","readably",1129599760),Bh=new E(null,"deleteGroupForward","deleteGroupForward",596007091),Ch=new E(null,"selectLineBoundaryBackward","selectLineBoundaryBackward",-1443564123),Vf=new E(null,"keyword-fn","keyword-fn",-64566675),Dh=new E(null,"cursorCharRight","cursorCharRight",-739900583),Eh=new E(null,"transposeChars",
"transposeChars",1566260285),Fh=new E(null,"file","file",-1269645878),Gh=new E(null,"cursorCharLeft","cursorCharLeft",-1572589780),Hh=new E(null,"copyLineUp","copyLineUp",-1013016402),Ih=new E(null,"cursorMatchingBracket","cursorMatchingBracket",-1943122872),Jh=new E(null,"selectGroupRight","selectGroupRight",482375806),Kh=new E(null,"end","end",-268185958),Lh=new E(null,"cursorSyntaxLeft","cursorSyntaxLeft",-558944440),Mh=new Vb(null,aa,aa,1149809327,null),Nh=new E(null,"indent","indent",-148200125),
Oh=new E(null,"insert","insert",1286475395),Ph=new E(null,"cursorLineStart","cursorLineStart",-1505072960),Qh=new E(null,"slurp-backward","slurp-backward",-1615745159),Hj=new Vb(null,"selection-grow","selection-grow",-1027266417,null),Lj=new Vb(null,Ci,Ci,-1229249038,null),Rh=new E(null,"undoSelection","undoSelection",628691449),Sh=new Vb(null,"js","js",-886355190,null),Th=new E(null,"indentLess","indentLess",-115385364),hk=new E(null,"from-to","from-to",-640428401),bk=new Vb(null,"format","format",
333606761,null),Uh=new E(null,"cursorLineEnd","cursorLineEnd",-234219178),Vh=new E(null,"selectLineStart","selectLineStart",1211557745),Wh=new Vb(null,"unwrap","unwrap",241356065,null),Cf=new E(null,"more-marker","more-marker",-14717935);ba={Zb:{mc:function(a){return{from:a.start+1,to:a.end-1}},Map:function(a){return{from:a.start+1,to:a.end-1}},Set:function(a){return{from:a.start+1,to:a.end-1}},kc:function(a){return{from:a.start+1,to:a.end-1}}},languageData:{Ac:{line:";;"}},styleTags:{"VarName/Symbol":"variableName definition",dc:"atom",ec:"atom",Boolean:"atom",fc:"+emphasis",hc:"comment",Comment:"lineComment",Number:"number",String:"string",ic:"atom",lc:"null",Symbol:"labelName",jc:"lineComment",RegExp:"regexp"}};var Xh={},Yh={},Zh=[];function $h(a,b){var c=Yh[a];if(void 0!==c)return c;try{Zh.push(a);var d=Xh[a],e=shadow$provide[a];if(void 0===d){if(void 0===e)throw"Module not provided: "+a;d={exports:{}};Xh[a]=d}if(e){delete shadow$provide[a];try{e.call(d,ca,$h,d,d.exports)}catch(h){throw console.warn("shadow-cljs - failed to load",a),h;}if(b){var f=b.globals;if(f)for(a=0;a<f.length;a++)window[f[a]]=d.exports}}}finally{Zh.pop()}return d.exports}$h.cache={};$h.resolve=function(a){return a};
function ai(a){return $h(a,{})};var bi=ai(0);var Jj=ai(1);var ci=ai(2);var di=ai(5);var ei=ai(6);ai(7);var fi=ai(8);var gi=ai(9);var hi=ai(10);var ii=ai(11);ai(13);var ji=ai(14);function ki(a){return a instanceof E?pd(a):a};function Ej(){var a=/----/;a="/(?:)/"===A.c(a)?Bc.g(te(R("",Xd.g(A,G("# codemirror-clojure\n\nLive demo (auto-build): https://nextjournal.github.io/codemirror.next-clojure/\n\ndev: `shadow-cljs watch app`\n\n----\n\nIn progress:\n\n\nNext:\n\n\n\nDone\n\n- [x] Expand/contract region\n- [x] Barf\n- [x] Slurp\n- [x] Format whitespace (necessary for commands like Slurp to behave nicely)\n- [x] Navigate left/right by sexp\n- [x] cannot 'indent-all', changes on one line don't affect measurements taken on subsequent lines\n- [x] operators are recognized (lists with symbol in 1st position)\n- [x] Unwrap current collection\n- [x] Kill (remove all children of current node starting on current line)\n- [x] GitHub Action to publish demo site to github.io\n- [x] indentation\n- [x] odd error recovery behaviour - a `#` token can't be deleted\n- [x] deletion\n")))),
""):te(A.c("# codemirror-clojure\n\nLive demo (auto-build): https://nextjournal.github.io/codemirror.next-clojure/\n\ndev: `shadow-cljs watch app`\n\n----\n\nIn progress:\n\n\nNext:\n\n\n\nDone\n\n- [x] Expand/contract region\n- [x] Barf\n- [x] Slurp\n- [x] Format whitespace (necessary for commands like Slurp to behave nicely)\n- [x] Navigate left/right by sexp\n- [x] cannot 'indent-all', changes on one line don't affect measurements taken on subsequent lines\n- [x] operators are recognized (lists with symbol in 1st position)\n- [x] Unwrap current collection\n- [x] Kill (remove all children of current node starting on current line)\n- [x] GitHub Action to publish demo site to github.io\n- [x] indentation\n- [x] odd error recovery behaviour - a `#` token can't be deleted\n- [x] deletion\n").split(a));
if(1<P(a))a:for(;;)if(""===(null==a?null:vi(a)))a=null==a?null:wi(a);else break a;return a};function mi(a,b){a=0<a?a:0;b=b.doc.length;return a<b?a:b};function ni(a,b){return w(b.c?b.c(a):b.call(null,a))?a:null}function oi(a,b){return a>b?{from:b,to:a}:{from:a,to:b}}function pi(a,b){return null!=b?(a.dispatch(b),!0):!1}
function qi(a,b){return a.update(a.changeByRange(function(c){var d=b.c?b.c(c):b.call(null,c);if(null==d)d=null;else{d=ni(d,Nc);d=null!=d&&(d.l&64||u===d.I)?T(X,d):d;var e=Wb.g(d,Cj),f=Wb.g(d,Vj),h=Wb.g(d,hk),k=Wb.g(d,Dg);d=Wb.g(d,vh);d=w(d)?a.changes(Uf(d)):null;w(e)?h=ci.EditorSelection.cursor(d.mapPos(e)):w(f)?h=ci.EditorSelection.cursor(f):w(h)?(e=h.c?h.c(0):h.call(null,0),h=h.c?h.c(1):h.call(null,1),h=ci.EditorSelection.range(e,h)):h=w(k)?k:void 0;e={};w(d)&&(e.changes=d);w(h)&&(e.range=h);d=
e}return w(d)?d:{range:c}}))}function ri(a){for(var b=[],c=arguments.length,d=0;;)if(d<c)b.push(arguments[d]),d+=1;else break;return Kj(arguments[0],arguments[1],2<b.length?new H(b.slice(2),0,null):null)}
function Kj(a,b,c){c=S(c,0,null);c=null!=c&&(c.l&64||u===c.I)?T(X,c):c;var d=Wb.j(c,og,0),e=Wb.g(c,lh);c=a.doc.iterLines(0);for(var f=c.next(),h=[],k=d,l=1;;){var m=f,n=null!=m&&(m.l&64||u===m.I)?T(X,m):m,p=function(){var C=n;if(null!=C&&"done"in C)return C.done}(),q=function(){var C=n;if(null!=C&&"value"in C)return C.value}();if(w(function(){var C=p;return w(C)?C:d>e}()))return a.update({changes:a.changes(h)});f=c.next();m=function(){var C=b.j?b.j(k,q,l):b.call(null,k,q,l);if(w(C)){var D=h;D.push(C);
return D}return h}();var r=k+1+q.length,x=l+1;h=m;k=r;l=x}}
function ck(a,b){var c=new Rd(-1),d=a.doc;return a.update(a.changeByRange(function(e){var f=null!=e&&(e.l&64||u===e.I)?T(X,e):e;var h=null!=f&&"to"in f?f.to:void 0;e=null!=f&&"anchor"in f?f.anchor:void 0;var k=null!=f&&"head"in f?f.head:void 0;var l=null!=f&&"from"in f?f.from:void 0;l=d.lineAt(l);var m=null!=l&&(l.l&64||u===l.I)?T(X,l):l;var n=null!=m&&"number"in m?m.number:void 0;var p=null!=m&&"to"in m?m.to:void 0;for(l=[];;){n>ab(c)&&(Sd(c,n),b.j?b.j(m,l,f):b.call(null,m,l,f));if(h<=p)return f=
a.changes(l),{changes:l,range:ci.EditorSelection.range(f.mapPos(e,1),f.mapPos(k,1))};m=d.lineAt(p+1)}}))}
function li(a,b){var c=null!=a&&(a.l&64||u===a.I)?T(X,a):a;a=null!=c&&"state"in c?c.state:void 0;a=null!=a&&(a.l&64||u===a.I)?T(X,a):a;var d=null!=a&&"doc"in a?a.doc:void 0;c=null!=c&&"changes"in c?c.changes:void 0;var e=new Rd(-1),f=[];c.iterChanges(function(k,l,m,n){k=d.lineAt(m);m=null!=k&&(k.l&64||u===k.I)?T(X,k):k;k=null!=m&&"number"in m?m.number:void 0;l=null!=m&&"to"in m?m.to:void 0;for(;;){k>ab(e)&&(Sd(e,k),b.g?b.g(m,f):b.call(null,m,f));if(n<=l)return null;m=d.lineAt(l+1)}});var h=a.changes(f);
a=a.selection.map(h);return{changes:c.compose(h),selection:a}}function si(a){a=null!=a&&(a.l&64||u===a.I)?T(X,a):a;a=null!=a&&"selection"in a?a.selection:void 0;a=null!=a&&(a.l&64||u===a.I)?T(X,a):a;a=null!=a&&"ranges"in a?a.ranges:void 0;return!Nd(function(b){return b.empty},a)};function ak(a){return a.parent.childBefore(a.start)}function Gj(a){return a.parent.childAfter(a.end)}
var Mj=function(){var a=new v(null,4,'()[]{}""'.split(""),null);return dd(function(b,c,d){return Fc.j(b,d,c)},a,a)}(),Yj=new vf(null,new v(null,13,["#?",null,"#'",null,"'",null,"`",null,'"',null,"~@",null,"~",null,"#^",null,"##",null,"#",null,"^",null,"#_",null,"@",null],null),null),ik=be.g(new vf(null,new v(null,3,["(",null,"{",null,"[",null],null),null),Yj),jk=new vf(null,new v(null,4,["]",null,")",null,'"',null,"}",null],null),null),xk=new vf(null,new v(null,4,["Map",null,"Vector",null,"List",
null,"Set",null],null),null),ek=new vf(null,new v(null,12,["Ignored",null,"ReaderConditional",null,"Meta",null,"RegExp",null,"Unquote",null,"Deref",null,"AnonymousFunction",null,"Var",null,"SyntaxQuote",null,"NamespacedMap",null,"UnquoteSplice",null,"Quote",null],null),null),kk=be.g(ik,jk);function Gi(a){if("string"===typeof a)return a;var b=a.name;return w(b)?b:a.type.name}var vk=Qd.j(Tc,ik,Gi),wk=Qd.j(Tc,jk,Gi);Qd.j(Tc,kk,Gi);var Ii=Qd.j(Tc,ik,Gi),Ji=Qd.j(Tc,jk,Gi);
function Wd(a){var b=Uc(xk,Gi(a));if(b)return b;a=a.firstChild;a=null==a?null:Gi(a);return null==a?null:Yj.c?Yj.c(a):Yj.call(null,a)}function Ki(a){return"String"===Gi(a)}function Zj(a){return"LineComment"===Gi(a)}function Li(a){var b=null!=a&&(a.l&64||u===a.I)?T(X,a):a;a=null!=b&&"firstChild"in b?b.firstChild:void 0;b=null!=b&&"lastChild"in b?b.lastChild:void 0;var c=Gi(a);c=Mj.c?Mj.c(c):Mj.call(null,c);return w(c)?F.g(c,Gi(b))&&!F.g(a.end,b.end):!0}
var Mi=function Mi(a){var c=a.parent;return null==c?null:R(c,new qd(null,function(){return Mi.c?Mi.c(c):Mi.call(null,c)},null))};function Ni(a,b){return w(b.c?b.c(a):b.call(null,a))?a:Zc(function(c,d){return w(b.c?b.c(d):b.call(null,d))?new jc(d):null},null,Mi(a))}
function yk(a,b,c){a:switch(c){case 1:var d=a.childAfter(b);break a;case -1:d=a.childBefore(b);break a;default:throw Error(["No matching clause: ",A.c(c)].join(""));}return null==d?null:R(d,new qd(null,function(){var e=yk;a:switch(c){case 1:var f=d.end;break a;case -1:f=d.start;break a;default:throw Error(["No matching clause: ",A.c(c)].join(""));}return e(a,f,c)},null))}function Pi(a){var b=Gi(a);return w(Wd(b))?2===P(yk(a,a.start,1)):Ki(b)?a.firstChild.end===a.lastChild.start:!1}
function zk(a){return oi(a.start,a.end)}function Ri(a,b){return Tc(a.depth<b.depth&&a.start<=b.start&&a.end>=b.end)}function Wj(a,b,c){var d=new Rd(Cc);a.iterate({from:b,to:c,enter:function(e,f,h){var k=Gi(e);if(("Program"===k?0:Uc(xk,k)?0:!w(ek.c?ek.c(k):ek.call(null,k)))&&ya(e.prop(Jj.NodeProp.error)))return Td.j(d,Bc,[Gi(e),f,h]),!1}});return ab(d)}
function Si(a,b){if(a.start===b.start&&a.end===b.end&&a.depth===b.depth)return null;var c=Vc(b.start,a.start);switch(c){case 0:return Ri(b,a)?a.parent:Ri(a,b)?a.firstChild:null;case -1:if(Ri(a,b))return a.lastChild;b=ak(a);return w(b)?b:a.parent;case 1:if(Ri(a,b))return a.firstChild;b=Gj(a);return w(b)?b:a.parent;default:throw Error(["No matching clause: ",A.c(c)].join(""));}}function Ti(a,b){return zf(ed,$d(function(c){return Si(c,b)},a))}
function Ui(a){var b=Wd(a);return w(b)?b:Ki(a)||"RegExp"===Gi(a)}
function Ak(a,b,c){c=Xc(Vc,new U(null,2,5,W,[b,c],null));b=S(c,0,null);c=S(c,1,null);var d=a.tree.resolve(b,1),e=a.tree.resolve(c,-1);a=w(Ui(d))?d.start:b;b=w(Ui(e))?e.end:c;b=Zc(function(f,h){var k=S(f,0,null);f=S(f,1,null);return new U(null,2,5,W,[Ri(h,d)?h.start:k,Ri(h,e)?h.end:f],null)},new U(null,2,5,W,[a,b],null),Xd.g(function(f){var h=Gi(f);h=kk.c?kk.c(h):kk.call(null,h);return w(h)?f.parent:f},Ti(d,e)));a=S(b,0,null);b=S(b,1,null);return ci.EditorSelection.range(a,b)}
function Zi(a){var b=null!=a&&(a.l&64||u===a.I)?T(X,a):a;a=null!=b&&"start"in b?b.start:void 0;var c=null!=b&&"end"in b?b.end:void 0;var d=null!=b&&"firstChild"in b?b.firstChild:void 0;b=null!=b&&"lastChild"in b?b.lastChild:void 0;return{start:w(vk(d))?d.end:a,end:w(wk(b))?b.start:c}}function fk(a){a=a.parent;a=null==a?null:a.firstChild;a=null==a?null:Gi(a);return null==a?null:ni(a,Yj)}function lk(a){return[A.c(fk(a)),Gi(a.firstChild)].join("")}function mk(a){return w(fk(a))?a.parent:a};(function(a){if(Lc(a))return Jc(a,null);a=G(a);if(null==a)return xf;if(a instanceof H&&0===a.i){a=a.h;for(var b=a.length,c=vb(xf),d=0;;)if(d<b)wb(c,a[d]),d+=1;else break;return xb(c)}for(c=vb(xf);;)if(null!=a)b=M(a),c=wb(c,B(a)),a=b;else return xb(c)})(Xd.g(function(a){return a.charCodeAt(0)},new U(null,4,5,W,[" ","n","r",","],null)));var Z=ai(15);var Nj=ii.indentNodeProp.add(function(a){a=null!=a&&(a.l&64||u===a.I)?T(X,a):a;var b=null!=a&&"name"in a?a.name:void 0;return function(c){c=null!=c&&(c.l&64||u===c.I)?T(X,c):c;var d=null!=c&&"node"in c?c.node:void 0;return F.g("Program",b)?0:w(Wd(b))?(c=c.column(d.firstChild.end),F.g("List",Gi(d))&&F.g("Operator",function(){var e=null==d?null:d.childAfter(d.firstChild.end);return null==e?null:Gi(e)}())?c+1:c):-1}});
function Oj(a,b){return Zc(function(c,d){d=d.g?d.g(a,b):d.call(null,a,b);return-1<d?new jc(d):c},-1,a.state.facet(ci.EditorState.indentation))}function Pj(a){var b={};return new ci.IndentContext(a,function(c){c=ki(c);return null!=b&&c in b?b[c]:-1})}
function Qj(a,b,c){return Zc(function(d,e){var f=S(e,0,null),h=null!=f,k=h?f[0]:null;f=h?f[1]:null;h=S(e,1,null);var l=null!=h;e=l?h[2]:null;h=l?h[0]:null;k=w(jk.c?jk.c(k):jk.call(null,k))?0:w(ik.c?ik.c(h):ik.call(null,h))?0:"KeywordPrefix"===h?0:1;switch(Vc(f-e,k)){case 0:return d;case 1:return d.push({from:0===k?e:e+1,to:f}),d;case -1:return d.push({from:e,insert:" "}),d;default:return d}},[],Bj(2,1,Wj(a.tree,c,b)))}
function Rj(a,b){b=G(b);for(var c=null,d=0,e=0;;)if(e<d){var f=c.W(null,e);a.push(f);e+=1}else if(b=G(b))c=b,Qc(c)?(b=Cb(c),e=Db(c),c=b,d=P(b),b=e):(b=J(c),a.push(b),b=M(c),c=null,d=0),e=0;else break;return a}
function Sj(a,b,c,d,e){var f=/^\s*/.exec(d)[0].length,h=function(){var k=ni(Oj(b,c),Pd(yj));if(null==k)return null;var l=Vc(k,f);switch(l){case 0:return null;case 1:return{from:c+f,insert:a.indentString(k-f)};case -1:return{from:c+k,to:c+f};default:throw Error(["No matching clause: ",A.c(l)].join(""));}}();d=Qj(a,c+f,c+P(d));e=w(d)?Rj(e,d):e;w(h)&&e.push(h);return e}
function Tj(a){var b=Pj(a);return ck(a,function(c,d){var e=null!=c&&(c.l&64||u===c.I)?T(X,c):c;c=null!=e&&"from"in e?e.from:void 0;e=null!=e&&"content"in e?e.content:void 0;return Sj(a,b,c,e,d)})}function Uj(a){var b=Pj(a);return ri(a,function(c,d){return Sj(a,b,c,d,[])})}function Xj(a){return si(a)?Tj(a):Uj(a)}
var Bi=ci.EditorState.transactionFilter.of(function(a){var b=a.state,c=Pj(b),d=li(a,function(e,f){return Sj(b,c,e.from,e.content,f)});return a.startState.update(function(){var e=null!=d?d:{};e.filter=!1;return e}())});function Wi(){var a=Xi,b=new U(null,2,5,W,["",Cc],null);a:{var c=Af(/\||<[^>]*?>|[^<>|]+/,'(defn lezer-clojure\n  "This is a showcase for `lezer-clojure`, an grammar for Clojure/Script to\n  enable a decent editor experience in the browser."\n  {:added "0.1"}\n  [demo]\n  nil ;; nil\n  (+ 1 1.0 1/5 1E3 042 +042 -042) ;; numbers\n  :hi :hi/ho ::ho :*+!-_? :abc:def:ghi ;; keywords\n  true false ;; booleans\n  :hello #_ :ignored ;; ignore next form\n  #"[A-Z]" ;; regex\n  ^{:meta/data \'is-data} \'too\n  (if (test? \x3cdemo\x3e)\n    (inc demo)|\n    (dec demo)))\n  #\n    [ ]\n    #"a"\na b(c|)d e');
break a;throw new TypeError("re-seq must match against a string.");}c=Zc(function(d,e){var f=S(d,0,null);d=S(d,1,null);if(F.g(e,"|"))e=new U(null,2,5,W,[f,Bc.g(d,ci.EditorSelection.cursor(f.length))],null);else if(0==e.lastIndexOf("\x3c",0)){var h=W,k=P(e)-1;e=new U(null,2,5,h,[[f,e.substring(1,k)].join(""),Bc.g(d,ci.EditorSelection.range(f.length,f.length+(P(e)-2)))],null)}else e=new U(null,2,5,W,[[f,A.c(e)].join(""),d],null);return e},b,c);b=S(c,0,null);c=S(c,1,null);return ci.EditorState.create({doc:b,
selection:G(c)?ci.EditorSelection.create(Yc(c)):void 0,extensions:function(){var d=[ci.EditorState.allowMultipleSelections.of(!0)];w(a)&&d.push(a);return d}()})};function Bk(a){return Od(function(b){return ya(b.empty)},a.ranges)}
var Ck=ci.StateField.define({create:function(a){return function(){function b(c){if(0<arguments.length)for(var d=0,e=Array(arguments.length-0);d<e.length;)e[d]=arguments[d+0],++d;return a}b.F=0;b.C=function(c){G(c);return a};b.v=function(){return a};return b}()}(K),update:function(a,b){b=null!=b&&(b.l&64||u===b.I)?T(X,b):b;var c=null!=b&&"state"in b?b.state:void 0;c=null!=c&&(c.l&64||u===c.I)?T(X,c):c;var d=null!=c&&"selection"in c?c.selection:void 0;b=null!=b&&"docChanged"in b?b.docChanged:void 0;
return w(b)?K:ya(Bk(d))?new Dc(null,d,null,1,null):w(function(){var e=null==a?null:J(M(a));return null==e?null:e.eq(d)}())?Aj(1,a):w(function(){var e=null==a?null:J(a);return null==e?null:e.eq(d)}())?a:Bc.g(a,d)}}),Dk=[Ck];function Hi(a){return function(b){var c=null!=b&&(b.l&64||u===b.I)?T(X,b):b;b=null!=c&&"state"in c?c.state:void 0;c=null!=c&&"dispatch"in c?c.dispatch:void 0;b=a.c?a.c(b):a.call(null,b);null!=b&&(c.c?c.c(b):c.call(null,b));return!0}}
function bj(a){return qi(a,function(b){var c=null!=b&&(b.l&64||u===b.I)?T(X,b):b;b=null!=c&&"from"in c?c.from:void 0;c=null!=c&&"empty"in c?c.empty:void 0;return w(c)?(c=a.tree.resolve(b,-1),c=null==c?null:Ni(c,Wd),c=null==c?null:ni(c,Li),w(c)?new v(null,2,[Vj,b-1,vh,new U(null,2,5,W,[zk(c.firstChild),zk(c.lastChild)],null)],null):null):null})}
function cj(a){return qi(a,function(b){var c=null!=b&&(b.l&64||u===b.I)?T(X,b):b;var d=null!=c&&"from"in c?c.from:void 0;b=null!=c&&"to"in c?c.to:void 0;c=null!=c&&"empty"in c?c.empty:void 0;var e=w(c)?function(){var f=a.tree.resolve(d),h=Ni(f,function(m){var n=Wd(m);return w(n)?n:F.g("String",Gi(m))||F.g("Program",Gi(m))}),k=a.doc.lineAt(d).to,l=w(h)?yk(h,d,1):null;f=w(h)?function(){var m=null==l?null:zf(Ud(function(n){return n.start<=k}),l);return null==m?null:Ac(m)}():null;f=Ki(h)?function(){var m=
A.c(a.doc.slice(h.start,h.end)).substring(d-h.start).indexOf("\n");return 0>m?h.end-1:d+m+1}():w(f)?w(Ji(f))?f.start:f.end:w(function(){var m=J(l);m=null==m?null:m.start;return null==m?null:m>k}())?J(l).start:null;return w(f)?new v(null,2,[Vj,d,vh,new v(null,2,[og,d,lh,f],null)],null):null}():null;return w(e)?e:w(c)?null:new v(null,2,[Vj,d,vh,oi(d,b)],null)})}
function dj(a,b,c){var d=function(){var e=Ni(a.tree.resolve(b),function(h){var k=Wd(h);return w(k)?k:null==h.parent});e=null==e?null:yk(e,b,c);e=null==e?null:J(e);if(null==e)return null;a:switch(c){case -1:var f=zg;break a;case 1:f=Kh;break a;default:throw Error(["No matching clause: ",A.c(c)].join(""));}f=ki(f);if(null!=e&&f in e)return e[f]}();return w(d)?d:mi(b+c,a)}
function ej(a){return function(b){return qi(b,function(c){var d=null!=c&&(c.l&64||u===c.I)?T(X,c):c;c=null!=d&&"from"in d?d.from:void 0;var e=null!=d&&"to"in d?d.to:void 0;d=null!=d&&"empty"in d?d.empty:void 0;if(w(d))c=new v(null,1,[Vj,dj(b,c,a)],null);else{c=oi(c,e);b:switch(a){case -1:e=og;break b;case 1:e=lh;break b;default:throw Error(["No matching clause: ",A.c(a)].join(""));}e=ki(e);c=null!=c&&e in c?c[e]:void 0;c=new v(null,1,[Vj,c],null)}return c})}}
function fj(a){return function(b){return qi(b,function(c){var d=null!=c&&(c.l&64||u===c.I)?T(X,c):c;c=null!=d&&"from"in d?d.from:void 0;var e=null!=d&&"to"in d?d.to:void 0;d=null!=d&&"empty"in d?d.empty:void 0;if(w(d))c=new v(null,1,[Dg,Ak(b,c,dj(b,c,a))],null);else{a:switch(c=oi(c,e),e=null!=c&&(c.l&64||u===c.I)?T(X,c):c,c=null!=e&&"from"in e?e.from:void 0,e=null!=e&&"to"in e?e.to:void 0,a){case 1:c=Ak(b,c,dj(b,e,a));break a;case -1:c=Ak(b,dj(b,c,a),e);break a;default:throw Error(["No matching clause: ",
A.c(a)].join(""));}c=new v(null,1,[Dg,c],null)}return c})}}function Ek(a,b){var c=function(){var h=a.tree.resolve(b,-1);return null==h?null:ni(h,function(k){k=null!=k&&(k.l&64||u===k.I)?T(X,k):k;k=null!=k&&"end"in k?k.end:void 0;return F.g(b,k)})}(),d=function(){var h=a.tree.resolve(b,1);return null==h?null:ni(h,function(k){k=null!=k&&(k.l&64||u===k.I)?T(X,k):k;k=null!=k&&"start"in k?k.start:void 0;return F.g(b,k)})}(),e=a.tree.resolve(b);var f=ni(c,Vd(Qi,Pd(vk)));return w(f)?f:w(d)?d:w(c)?c:e}
function Fk(a,b,c){a=Ek(a,c);return J(ae(function(d){var e=null!=d&&(d.l&64||u===d.I)?T(X,d):d;d=null!=e&&"start"in e?e.start:void 0;e=null!=e&&"end"in e?e.end:void 0;return d<=b&&e>=c&&!(d===b&&e===c)},R(a,Vi(Yi(),wc([Mi(a)])))))}
function ok(a){return qi(a,function(b){var c=null!=b&&(b.l&64||u===b.I)?T(X,b):b;var d=null!=c&&"from"in c?c.from:void 0;var e=null!=c&&"to"in c?c.to:void 0;b=null!=c&&"empty"in c?c.empty:void 0;return w(b)?new v(null,1,[Dg,function(){var f=Ek(a,d);f=null==f?null:Ak(a,f.start,f.end);return w(f)?f:c}()],null):new v(null,1,[Dg,function(){var f=Fk(a,d,e);f=null==f?null:ci.EditorSelection.range(f.start,f.end);return w(f)?f:c}()],null)})}
function pk(a){var b=J(M(a.field(Ck)));return w(b)?a.update({selection:b}):qi(a,function(c){return new v(null,1,[Vj,c.from],null)})}
function gj(a){return function(b){return qi(b,function(c){var d=null!=c&&(c.l&64||u===c.I)?T(X,c):c;c=null!=d&&"from"in d?d.from:void 0;d=null!=d&&"empty"in d?d.empty:void 0;if(w(d)){var e=Ni(b.tree.resolve(c,void 0),Vd(Wd,function(h){a:switch(a){case 1:h=null==h?null:mk(h);h=null==h?null:Gj(h);h=null==h?null:Ji(h);break a;case -1:h=null==h?null:mk(h);h=null==h?null:ak(h);h=null==h?null:Ii(h);break a;default:throw Error(["No matching clause: ",A.c(a)].join(""));}return ya(h)}));if(w(e)){a:switch(a){case 1:var f=
J(Ei(Zj,zf(ed,$d(Gj,Gj(mk(e))))));break a;case -1:f=J(Ei(Zj,zf(ed,$d(ak,ak(mk(e))))));break a;default:throw Error(["No matching clause: ",A.c(a)].join(""));}return w(f)?new v(null,2,[Cj,c,vh,function(){switch(a){case 1:var h=e.lastChild,k=W,l=new v(null,2,[og,f.end,Oh,Gi(h)],null);h=zk(h);h=null!=h?h:{};h.insert=" ";return new U(null,2,5,k,[l,h],null);case -1:return h=lk(e),k=mk(e).start,new U(null,2,5,W,[new v(null,3,[og,k,lh,k+h.length,Oh," "],null),new v(null,2,[og,f.start,Oh,h],null)],null);default:throw Error(["No matching clause: ",
A.c(a)].join(""));}}()],null):null}}return null})}}
function hj(a){return function(b){return qi(b,function(c){c=null!=c&&(c.l&64||u===c.I)?T(X,c):c;var d=null!=c&&"from"in c?c.from:void 0;c=null!=c&&"empty"in c?c.empty:void 0;if(w(c)){var e=Ni(b.tree.resolve(d,void 0),Wd);if(w(e))switch(a){case 1:c=function(){var l=e.lastChild;l=null==l?null:zf(ed,$d(ak,ak(l)));l=null==l?null:Ei(Zj,l);l=null==l?null:Aj(1,l);return null==l?null:J(l)}();if(w(c)){var f=c;return new v(null,2,[Vj,function(){var l=f.end;return l<d?l:d}(),vh,new U(null,2,5,W,[new v(null,
2,[og,f.end,Oh,Gi(e.lastChild)],null),function(){var l=zk(e.lastChild);l=null!=l?l:{};l.insert=" ";return l}()],null)],null)}return null;case -1:c=function(){var l=e.firstChild;l=null==l?null:zf(ed,$d(Gj,Gj(l)));l=null==l?null:Ei(Zj,l);l=null==l?null:Aj(1,l);return null==l?null:J(l)}();if(w(c)){var h=c,k=lk(e);c=mk(e).start;return new v(null,2,[Vj,function(){var l=h.start+k.length;return d>l?d:l}(),vh,new U(null,2,5,W,[new v(null,2,[og,h.start,Oh,k],null),new v(null,3,[og,c,lh,c+k.length,Oh,b.indentString(k.length)],
null)],null)],null)}return null;default:throw Error(["No matching clause: ",A.c(a)].join(""));}else return null}else return null})}}
var ij=qf([Ph,Bg,Lg,Qg,Pg,Nh,th,yg,Ch,Sg,qg,bg,Ih,Fi,Lh,zh,jg,yh,ch,xh,Yf,Zf,fh,Xg,nh,sg,Ng,Gh,Th,dg,Wf,Mg,ah,Hh,uh,bh,Ug,Vg,Rg,Og,ng,Vh,$g,Bh,kg,Jg,Fg,pg,lg,rg,xg,kh,dh,Uh,Wg,Rh,Cg,Dh,Qh,$f,gg,Yg,ug,oh,Zg,tg,Eh,eh,yf,Jh,sh,hg,ig,wg],[Z.cursorLineStart,Z.cursorLineDown,Z.cursorSyntaxRight,Z.selectAll,Z.selectLineUp,Hi(new Yb(function(){return Xj},Ij,qf([Xf,Gg,Fh,Ig,hh,eg,vg,fg,cg,Hg],[Lj,bk,"codemirror_next/clojure/extensions/formatting.cljs",13,1,143,143,kd(new U(null,1,5,W,[qh],null)),null,w(Xj)?
Xj.Yb:null]))),Z.cursorLineBoundaryForward,Hi(ej(-1)),Z.selectLineBoundaryBackward,Z.simplifySelection,Z.deleteCharBackward,gi.redo,Z.cursorMatchingBracket,Hi(new Yb(function(){return ok},Dj,qf([Xf,Gg,Fh,Ig,hh,eg,vg,fg,cg,Hg],[Mh,Hj,"codemirror_next/clojure/commands.cljs",21,1,122,122,kd(new U(null,1,5,W,[Jc(qh,new v(null,1,[Ag,Sh],null))],null)),null,w(ok)?ok.Yb:null]))),Z.cursorSyntaxLeft,Z.insertNewlineAndIndent,Z.indentMore,Hi(new Yb(function(){return cj},Tg,qf([Xf,Gg,Fh,Ig,hh,eg,vg,fg,cg,Hg],
[Mh,wh,"codemirror_next/clojure/commands.cljs",11,1,31,31,kd(new U(null,1,5,W,[Jc(qh,new v(null,1,[Ag,Sh],null))],null)),null,w(cj)?cj.Yb:null]))),Z.selectSyntaxRight,Z.cursorLineBoundaryBackward,Hi(gj(1)),Z.selectLine,Z.selectCharRight,Hi(fj(1)),Z.selectPageUp,Z.cursorGroupLeft,Z.deleteCharForward,Z.cursorCharLeft,Z.indentLess,Z.moveLineUp,Z.cursorGroupBackward,Z.selectDocStart,Z.selectGroupBackward,Z.copyLineUp,Z.deleteLine,Hi(fj(-1)),Z.selectParentSyntax,Z.indentSelection,Z.cursorDocEnd,Z.deleteGroupBackward,
Hi(hj(1)),Z.selectLineStart,gi.undo,Z.deleteGroupForward,Hi(hj(-1)),Hi(ej(1)),Z.selectDocEnd,Z.selectPageDown,Z.cursorPageDown,Z.cursorPageUp,Z.cursorGroupRight,Z.selectLineBoundaryForward,Z.moveLineDown,Z.cursorLineEnd,Z.cursorGroupForward,gi.undoSelection,Z.selectSyntaxLeft,Z.cursorCharRight,Hi(gj(-1)),Z.selectGroupForward,Z.selectLineEnd,Hi(new Yb(function(){return bj},Eg,qf([Xf,Gg,Fh,Ig,hh,eg,vg,fg,cg,Hg],[Mh,Wh,"codemirror_next/clojure/commands.cljs",13,1,19,19,kd(new U(null,1,5,W,[qh],null)),
null,w(bj)?bj.Yb:null]))),Z.selectCharLeft,Z.splitLine,Z.selectLineDown,Z.selectGroupLeft,Z.transposeChars,Z.cursorLineUp,Hi(new Yb(function(){return pk},ui,qf([Xf,Gg,Fh,Ig,hh,eg,vg,fg,cg,Hg],[Mh,ti,"codemirror_next/clojure/commands.cljs",23,1,133,133,kd(new U(null,1,5,W,[Jc(qh,new v(null,1,[Ag,Sh],null))],null)),null,w(pk)?pk.Yb:null]))),Z.selectGroupRight,gi.redoSelection,Z.cursorDocStart,Z.deleteToLineEnd,Z.copyLineDown]);dd(function(a,b,c){return Fc.j(a,c,b)},Md,ij);function jj(a){var b=null!=a&&(a.l&64||u===a.I)?T(X,a):a;return qi(b,function(c){var d=null!=c&&(c.l&64||u===c.I)?T(X,c):c;c=null!=d&&"empty"in d?d.empty:void 0;var e=null!=d&&"head"in d?d.head:void 0;d=null!=d&&"anchor"in d?d.anchor:void 0;e=oi(e,d);e=null!=e&&(e.l&64||u===e.I)?T(X,e):e;var f=null!=e&&"from"in e?e.from:void 0;if(ya(c))return new v(null,2,[Vj,f,vh,e],null);var h=b.tree.resolve(f,-1),k=Gi(h),l=h.parent;c=w(w(l)?!Li(l):l)?null:w(function(){var m=Ji(h);return w(m)?f===l.end:m}())?new v(null,
1,[Vj,f-1],null):w(function(){var m=Mj.c?Mj.c(k):Mj.call(null,k);return w(m)?h.start===l.start:m}())?Pi(h.parent)?new v(null,2,[Vj,l.start,vh,new U(null,1,5,W,[oi(l.start,l.end)],null)],null):new v(null,1,[Vj,f],null):w(function(){var m=b.tree.resolve(f-1,-1);return null==m?null:ni(m,Vd(function(n){return F.g(f-1,n.end)},Zj))}())?new v(null,1,[Vj,f-1],null):null;return w(c)?c:new v(null,2,[Vj,f-1,vh,oi(function(){var m=f-1;return 0>m?0:m}(),f)],null)})}
function lj(a,b){var c=Mj.c?Mj.c(b):Mj.call(null,b);return qi(a,function(d){var e=null!=d&&(d.l&64||u===d.I)?T(X,d):d;var f=null!=e&&"from"in e?e.from:void 0;d=null!=e&&"head"in e?e.head:void 0;var h=null!=e&&"empty"in e?e.empty:void 0;ya(h)?(h=null!=e&&"to"in e?e.to:void 0,e=null!=e&&"anchor"in e?e.anchor:void 0,f=new v(null,2,[vh,new U(null,2,5,W,[new v(null,2,[Oh,b,og,f],null),new v(null,2,[Oh,c,og,h],null)],null),hk,new U(null,2,5,W,[e+b.length,d+b.length],null)],null)):f=w(F.g(b,'"')?Ni(a.tree.resolve(f,
void 0),Ki):!1)?new v(null,2,[vh,new v(null,2,[Oh,'\\"',og,d],null),Vj,d+2],null):null;return w(f)?f:new v(null,2,[vh,new v(null,2,[Oh,[b,c].join(""),og,d],null),Vj,d+b.length],null)})}
function mj(a){a=null!=a&&(a.l&64||u===a.I)?T(X,a):a;var b=null!=a&&"selection"in a?a.selection:void 0;var c=null!=b&&(b.l&64||u===b.I)?T(X,b):b;b=null!=c&&"primaryIndex"in c?c.primaryIndex:void 0;var d=null!=a&&"doc"in a?a.doc:void 0;c=null!=c&&"ranges"in c?c.ranges:void 0;c=Zc(function(e,f){f=null!=f&&(f.l&64||u===f.I)?T(X,f):f;var h=null!=f&&"empty"in f?f.empty:void 0;f=null!=f&&"head"in f?f.head:void 0;w(h)&&(h=d.sliceString(f,f+2),h=h.slice(0,bi.codePointSize(bi.codePointAt(h,0))),h=jk.c?jk.c(h):
jk.call(null,h));return w(h)?(e.push(ci.EditorSelection.cursor(f+1)),e):new jc(null)},[],c);return null==c?null:a.update({selection:ci.EditorSelection.create(c,b),scrollIntoView:!0})}
var nj=ei.EditorView.domEventHandlers({keydown:function(a,b){a=null!=a&&(a.l&64||u===a.I)?T(X,a):a;var c=null!=a&&"metaKey"in a?a.metaKey:void 0;var d=null!=a&&"ctrlKey"in a?a.ctrlKey:void 0;var e=null!=a&&"keyCode"in a?a.keyCode:void 0;b=null!=b&&(b.l&64||u===b.I)?T(X,b):b;var f=null!=b&&"state"in b?b.state:void 0;if(w(w(c)?c:d))return!1;if(8===e)return pi(b,jj(f));a=di.keyName(a);return pi(b,w(Mj.c?Mj.c(a):Mj.call(null,a))?lj(f,a):w(jk.c?jk.c(a):jk.call(null,a))?mj(f):null)}});function oj(a){return dd(function(b,c,d){var e=Wb.g(b,c);return null==e?Hc.g(b,c):Fc.j(b,c,d.c?d.c(e):d.call(null,e))},a,new v(null,2,[rh,ij,Kg,ij],null))}
var pj=qf([Ph,Bg,Qg,th,qg,bg,zh,xh,Ng,Gh,Wf,Rg,Og,$g,Bh,lg,rg,Uh,Wg,Rh,Dh,oh,Eh,eh,sh,hg],[new U(null,2,5,W,[new v(null,1,[mg,"Cmd-ArrowLeft"],null),new v(null,2,[mg,"Ctrl-a",Kg,Vh],null)],null),new U(null,2,5,W,[new v(null,2,[ih,"ArrowDown",Kg,Zg],null),new v(null,2,[mg,"Ctrl-n",Kg,Zg],null)],null),new U(null,1,5,W,[new v(null,1,[ih,"Mod-a"],null)],null),new U(null,1,5,W,[new v(null,2,[ih,"End",Kg,kh],null)],null),new U(null,2,5,W,[new v(null,1,[ih,"Backspace"],null),new v(null,1,[mg,"Ctrl-h"],null)],
null),new U(null,1,5,W,[new v(null,3,[ih,"Mod-y",mg,"Mod-Shift-z",Ah,!0],null)],null),new U(null,1,5,W,[new v(null,1,[ih,"Enter"],null)],null),new U(null,1,5,W,[new v(null,2,[ih,"Home",Kg,Ch],null)],null),new U(null,2,5,W,[new v(null,1,[ih,"Delete"],null),new v(null,1,[mg,"Ctrl-d"],null)],null),new U(null,2,5,W,[new v(null,2,[ih,"ArrowLeft",Kg,ug],null),new v(null,2,[mg,"Ctrl-b",Kg,ug],null)],null),new U(null,1,5,W,[new v(null,2,[mg,"Alt-b",Kg,ah],null)],null),new U(null,3,5,W,[new v(null,2,[mg,"Cmd-ArrowDown",
Kg,Fg],null),new v(null,2,[ih,"Mod-End",Kg,Fg],null),new v(null,1,[mg,"Alt-\x3e"],null)],null),new U(null,2,5,W,[new v(null,2,[ih,"Mod-Backspace",mg,"Ctrl-Alt-Backspace"],null),new v(null,1,[mg,"Ctrl-Alt-h"],null)],null),new U(null,1,5,W,[new v(null,2,[ih,"Mod-z",Ah,!0],null)],null),new U(null,3,5,W,[new v(null,2,[ih,"Mod-Delete",mg,"Alt-Backspace"],null),new v(null,1,[mg,"Alt-Delete"],null),new v(null,1,[mg,"Alt-d"],null)],null),new U(null,3,5,W,[new v(null,2,[mg,"Ctrl-ArrowDown",Kg,pg],null),new v(null,
2,[ih,"PageDown",Kg,pg],null),new v(null,1,[mg,"Ctrl-v"],null)],null),new U(null,3,5,W,[new v(null,2,[mg,"Ctrl-ArrowUp",Kg,nh],null),new v(null,2,[ih,"PageUp",Kg,nh],null),new v(null,1,[mg,"Alt-v"],null)],null),new U(null,2,5,W,[new v(null,1,[mg,"Cmd-ArrowRight"],null),new v(null,2,[mg,"Ctrl-e",Kg,gg],null)],null),new U(null,1,5,W,[new v(null,2,[mg,"Alt-f",Kg,$f],null)],null),new U(null,1,5,W,[new v(null,2,[ih,"Mod-u",Ah,!0],null)],null),new U(null,2,5,W,[new v(null,2,[ih,"ArrowRight",Kg,fh],null),
new v(null,2,[mg,"Ctrl-f",Kg,fh],null)],null),new U(null,1,5,W,[new v(null,1,[mg,"Ctrl-o"],null)],null),new U(null,1,5,W,[new v(null,1,[mg,"Ctrl-t"],null)],null),new U(null,2,5,W,[new v(null,2,[ih,"ArrowUp",Kg,Pg],null),new v(null,2,[mg,"Ctrl-p",Kg,Pg],null)],null),new U(null,1,5,W,[new v(null,3,[ih,"Alt-u",mg,"Mod-Shift-u",Ah,!0],null)],null),new U(null,3,5,W,[new v(null,2,[mg,"Cmd-ArrowUp",Kg,Mg],null),new v(null,2,[ih,"Mod-Home",Kg,Mg],null),new v(null,1,[mg,"Alt-\x3c"],null)],null)]),qj=qf([Nh,
yg,Fi,yh,Yf,ng,kg,Jg,Qh,Yg,yf],[new U(null,1,5,W,[new v(null,2,[ih,"Alt-Tab",cg,"Indent document (or selection)"],null)],null),new U(null,1,5,W,[new v(null,4,[ih,"Alt-ArrowLeft",Kg,bh,cg,"Move cursor one unit to the left (shift: selects this region)",Ah,!0],null)],null),new U(null,2,5,W,[new v(null,2,[cg,"Grow selections",ih,"Alt-ArrowUp"],null),new v(null,1,[ih,"Mod-1"],null)],null),new U(null,1,5,W,[new v(null,3,[ih,"Ctrl-k",cg,"Remove all forms from cursor to end of line",Ah,!0],null)],null),new U(null,
2,5,W,[new v(null,3,[ih,"Ctrl-ArrowRight",cg,"Expand collection to include form to the right",Ah,!0],null),new v(null,2,[ih,"Mod-Shift-k",Ah,!0],null)],null),new U(null,2,5,W,[new v(null,3,[ih,"Ctrl-ArrowLeft",cg,"Shrink collection forwards by one form",Ah,!0],null),new v(null,2,[ih,"Mod-Shift-j",Ah,!0],null)],null),new U(null,1,5,W,[new v(null,2,[cg,"Shrink collection backwards by one form",ih,"Ctrl-Alt-ArrowRight"],null)],null),new U(null,1,5,W,[new v(null,4,[ih,"Alt-ArrowRight",Kg,Xg,cg,"Move cursor one unit to the right (shift: selects this region)",
Ah,!0],null)],null),new U(null,1,5,W,[new v(null,3,[cg,"Grow collection backwards by one form",ih,"Ctrl-Alt-ArrowLeft",Ah,!0],null)],null),new U(null,1,5,W,[new v(null,3,[ih,"Alt-s",cg,"Lift contents of collection into parent",Ah,!0],null)],null),new U(null,2,5,W,[new v(null,2,[cg,"Shrink selections",ih,"Alt-ArrowDown"],null),new v(null,1,[ih,"Mod-2"],null)],null)]),rj=function(a,b){if(w(Od(ed,b))){var c=function(d,e){var f=Xa(e),h=Ya(e);return Uc(d,f)?Fc.j(d,f,function(){var k=Wb.g(d,f);return a.g?
a.g(k,h):a.call(null,k,h)}()):Fc.j(d,f,h)};return cd(function(d,e){return Zc(c,w(d)?d:Md,G(e))},b)}return null}(Bc,wc([Hc.v(pj,xg,wc([sg])),qj]));var sj=ji.buildParser('@top[name\x3dProgram] { expression* }\n\n@skip { whitespace | LineComment | Discard }\nexpression { Boolean | Nil | Deref | Quote | SyntaxQuote | Unquote | UnquoteSplice | Symbol | Number | Meta | Keyword | List | Vector | Map | String | Character | Set | NamespacedMap | RegExp | Var | ReaderConditional | DataLiteral | SymbolicValue | AnonymousFunction | FnArg }\nDiscard { "#_" expression }\n\n@precedence { operator @left}\n\nList { "(" Operator? expression* ")" }\nVector { "[" expression* "]" }\nMap { "{" expression* "}" }\n\n\n@skip {} {\n  Set { "#" Map }\n  AnonymousFunction { "#" List }\n  NamespacedMap { "#" KeywordPrefix Map }\n  RegExp { "#" String }\n  Var { "#\'" Symbol }\n  ReaderConditional { "#?" (List | Deref) }\n  DataLiteral { "#" ident }\n  SymbolicValue { "##" simpleIdent }\n  Meta { ("^" | "#^") expression}\n  String { \'"\' StringContent? \'"\' }\n}\n\nDeref { "@" expression }\nQuote { "\'" expression }\nSyntaxQuote { "`" expression }\nUnquote { "~" expression }\nUnquoteSplice { "~@" expression }\nSymbol { ident }\nOperator { !operator ident }\n\n@tokens {\n\n\n  "["\n  "{"\n  "("\n\n  "#"\n  "##"\n  "#\'"\n  "#?"\n  "#^"\n  "#_"\n\n  \'"\'\n  "\'"\n  "`"\n  "~"\n  "~@"\n  "^"\n  "@"\n\n\n  "]"\n  "}"\n  ")"\n\n  whitespace { (std.whitespace | ",")+ }\n\n  LineComment { ";" ![\\n]* }\n\n  identStart { std.asciiLetter | $[\x3c\x3e_\x3d?!*+\\-$\\u{a1}-\\u{10ff}] }\n  identChar { identStart (std.digit | ":" | "." | "\'" | "#")* }\n  simpleIdent { identStart identChar* }\n  qualifiedIdent { simpleIdent "/" identChar+ }\n  ident { simpleIdent | qualifiedIdent }\n\n  keyword { ":" ":"? ident }\n  Keyword { keyword }\n  KeywordPrefix { keyword }\n\n  Number {\n    ("+" | "-")? (std.digit+ ("." std.digit* "M"?)? | "." std.digit+) (("e" | "E") ("+" | "-")? std.digit+ "M"?)? |\n    ("+" | "-")? std.digit+ ("M" | "N") |\n    ("+" | "-")? std.digit+ "/" std.digit+ |\n    ("+" | "-")? "0x" (std.digit | $[a-fA-F])+ |\n    "0b" $[01]+ |\n    "0o" $[0-7]+\n  }\n  @precedence { Number, ident }\n\n  StringContent {\n    (!["] | "\\\\" _)+\n  }\n\n  Character { "\\\\" (std.asciiLetter | std.digit | "@")+ }\n\n  FnArg[name\x3dSymbol] { "%" (std.digit* | "\x26"?) }\n\n}\n\nBoolean { @specialize\x3cident, "true" | "false"\x3e }\nNil { @specialize\x3cident, "nil"\x3e }\n\n@detectDelim\n'),
tj=ii.LezerSyntax.define(sj.withProps(Nj,ii.foldNodeProp.add(ba.Zb),fi.styleTags(ba.styleTags)),ba.languageData),uj=new Rd(Cc),Xi=[gi.history(),tj,hi.bracketMatching(),fi.defaultHighlighter,ei.multipleSelections(),nj,ei.keymap(function(a){return Uf(dd(function(b,c,d){return be.g(b,Xd.g(function(e){return oj(Fc.j(e,rh,c))},d))},Cc,a))}(rj)),Dk,Bi];function vj(){var a=Wi();Td.j(uj,Bc,new ei.EditorView({state:a,parent:document.querySelector("#editor")}))}
function wj(a,b){var c=Nc(J(b))?new U(null,2,5,W,[J(b),bc(b)],null):new U(null,2,5,W,[null,b],null);b=S(c,0,null);c=S(c,1,null);return["\x3c",pd(a),A.c(dd(function(d,e,f){return[A.c(d)," ",pd(e),"\x3d'",A.c(f),"'"].join("")},"",b)),"\x3e",A.c(T(A,c)),"\x3c/",pd(a),"\x3e"].join("")}
function xj(){for(var a=G(ab(uj)),b=null,c=0,d=0;;)if(d<c){var e=b.W(null,d);e.destroy.call(e);d+=1}else if(a=G(a))b=a,Qc(b)?(a=Cb(b),d=Db(b),b=a,c=P(a),a=d):(a=J(b),a.destroy.call(a),a=M(b),b=null,c=0),d=0;else break;vj();a=document.getElementById("docs");(null!=a?a:{}).innerHTML=wj(zi,wc([wj(ag,wc([new v(null,1,[Fj,5],null),Zc(function(f,h){var k=S(h,0,null);h=S(h,1,null);h=S(h,0,null);var l=null!=h&&(h.l&64||u===h.I)?T(X,h):h;h=Wb.g(l,ih);var m=Wb.g(l,Kg);l=Wb.g(l,cg);return[A.c(f),wj(jh,wc([wj(ph,
wc([wj(mh,wc([pd(k)]))])),wj(ph,wc([h])),wj(ph,wc([w(m)?wj(gh,wc(["+Shift ",wj(mh,wc([m]))])):null])),wj(ph,wc([l]))]))].join("")},"",Di()),"\x3c/table\x3e"])),wj(Ai,wc([J(M(Ej()))]))]));Ac(ab(uj)).focus()};try{xj()}catch(a){throw console.error("An error occurred when calling (codemirror-next.clojure/render)"),a;};
}).call(this);