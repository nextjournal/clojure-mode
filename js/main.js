var shadow$provide = {};
(function(){
shadow$provide[0]=function(ja,Ta,xb,F){function Ea(A){Ea="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(q){return typeof q}:function(q){return q&&"function"===typeof Symbol&&q.constructor===Symbol&&q!==Symbol.prototype?"symbol":typeof q};return Ea(A)}function Va(A,q){if(q&&("object"===Ea(q)||"function"===typeof q))return q;if(void 0===A)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return A}function ha(A,q,u){ha="undefined"!==typeof Reflect&&
Reflect.get?Reflect.get:function(v,B,J){for(;!Object.prototype.hasOwnProperty.call(v,B)&&(v=ya(v),null!==v););if(v)return B=Object.getOwnPropertyDescriptor(v,B),B.get?B.get.call(J):B.value};return ha(A,q,u||A)}function ya(A){ya=Object.setPrototypeOf?Object.getPrototypeOf:function(q){return q.__proto__||Object.getPrototypeOf(q)};return ya(A)}function Y(A,q){if("function"!==typeof q&&null!==q)throw new TypeError("Super expression must either be null or a function");A.prototype=Object.create(q&&q.prototype,
{constructor:{value:A,writable:!0,configurable:!0}});q&&fa(A,q)}function fa(A,q){fa=Object.setPrototypeOf||function(u,v){u.__proto__=v;return u};return fa(A,q)}function ia(A,q){if(!(A instanceof q))throw new TypeError("Cannot call a class as a function");}function qa(A,q){for(var u=0;u<q.length;u++){var v=q[u];v.enumerable=v.enumerable||!1;v.configurable=!0;"value"in v&&(v.writable=!0);Object.defineProperty(A,v.key,v)}}function Q(A,q,u){q&&qa(A.prototype,q);u&&qa(A,u);return A}function $a(A){return 127462<=
A&&127487>=A}function U(A,q){if(q==A.length)return q;var u;if(u=q)u=A.charCodeAt(q),u=56320<=u&&57344>u;u&&(u=A.charCodeAt(q-1),u=55296<=u&&56320>u);u&&q--;u=jb(A,q);for(q+=va(u);q<A.length;){var v=jb(A,q),B;if(!(B=u==kb||v==kb))a:{for(B=1;B<za.length;B+=2)if(za[B]>v){B=za[B-1]<=v;break a}B=!1}if(B)q+=va(v),u=v;else if($a(v)){v=0;for(B=q-2;0<=B&&$a(jb(A,B));)v++,B-=2;if(0==v%2)break;else q+=2}else break}return q}function sa(A,q){for(;0<q;){var u=U(A,q-2);if(u<q)return u;q--}return 0}function jb(A,
q){var u=A.charCodeAt(q);if(!(55296<=u&&56320>u)||q+1==A.length)return u;A=A.charCodeAt(q+1);return 56320<=A&&57344>A?(u-55296<<10)+(A-56320)+65536:u}function va(A){return 65536>A?1:2}function ab(A){return wa[ma=(ma+1)%cb]=A}function db(A){var q=-1,u=!0,v=!1,B=void 0;try{for(var J=A[Symbol.iterator](),O;!(u=(O=J.next()).done);u=!0)q+=O.value.length+1}catch(P){v=!0,B=P}finally{try{if(!u&&null!=J["return"])J["return"]()}finally{if(v)throw B;}}return q}function Ua(A,q){for(var u=2<arguments.length&&
void 0!==arguments[2]?arguments[2]:0,v=3<arguments.length&&void 0!==arguments[3]?arguments[3]:1E9,B=0,J=0,O=!0;J<A.length&&B<=v;J++){var P=A[J],X=B+P.length;X>=u&&(X>v&&(P=P.slice(0,v-B)),B<u&&(P=P.slice(u-B)),O?(q[q.length-1]+=P,O=!1):q.push(P));B=X+1}return q}function lb(A,q){if(A.length!=q.length||A.lines!=q.lines)return!1;A=new D(A);q=new D(q);for(var u=0,v=0;;){if(A.lineBreak!=q.lineBreak||A.done!=q.done)return!1;if(A.done)return!0;if(A.lineBreak)A.next(),q.next(),u=v=0;else{var B=A.value.slice(u),
J=q.value.slice(v);if(B.length==J.length){if(B!=J)return!1;A.next();q.next();u=v=0}else if(B.length>J.length){if(B.slice(0,J.length)!=J)return!1;u+=J.length;q.next();v=0}else{if(J.slice(0,B.length)!=B)return!1;v+=B.length;A.next();u=0}}}}Object.defineProperty(F,"__esModule",{value:!0});F.codePointAt=jb;F.codePointSize=va;F.countColumn=function(A,q,u){for(var v=0;v<A.length;)9==A.charCodeAt(v)?(q+=u-q%u,v++):(q++,v=U(A,v));return q};F.findColumn=function(A,q,u,v){for(var B=0;B<A.length;){if(q>=u)return{offset:B,
leftOver:0};q+=9==A.charCodeAt(B)?v-q%v:1;B=U(A,B)}return{offset:A.length,leftOver:u-q}};F.fromCodePoint=function(A){if(65535>=A)return String.fromCharCode(A);A-=65536;return String.fromCharCode((A>>10)+55296,(A&1023)+56320)};F.nextClusterBreak=U;F.prevClusterBreak=sa;F.Text=F.Line=void 0;var za="lc 34 7n 7 7b 19    2  2   20 b 1c l g  2t 7 2 6 2 2  4 z  u r 2j b 1m 9 9  o 4  9  3  5 17 3 3b f  w 1j    4 8 4  3 7 a 2 t  1m    2 4 8  9  a 2 q  2 2 1l  4 2 4 2 2 3 3  u 2 3  b 2 1l  4 5  2 4  k 2 m 6   1m   2  4 8  7 3 a 2 u  1n    c  9  14  3  1l 3 5 3  4 7 2 b 2 t  1m  2  2  3  5 2 7 2 b 2 s 2 1l 2   2 4 8  9  a 2 t  20  4  2 3   8  29  2 7 c 8 2q  2 9 b 6 22 2 r      1j e  5  2 5 b  10 9  2u 4  6  2 2 2 p 2 4 3 g 4 d  2 2 6  f  jj 3 qa 3 t 3 t 2 u 2 1s 2  7 8  2 b 9  19 3 3b 2 y  3a 3 4 2 9  6 3 63 2 2  1m   7     2 8 6 a 2  1c h 1r 4 1c 7   5  14 9 c 2 w 4 2 2  3 1k   2 3   3 1m 8 2 2 48 3  d  7 4  6  3 2 5i 1m  5 ek  5f x 2da 3 3x  2o w fe 6 2x 2 n9w 4  a w 2 28 2 7k  3  4  p 2 5  47 2 q i d  12 8 p b 1a 3 1c  2 4 2 2 13  1v 6 2 2 2 2 c  8  1b  1f   3 2 2 5 2   16 2 8  6m  2  4  fn4  kh g g g a6 2 gt  6a  45 5 1ae 3  2 5 4 14 3 4  4l 2 fx 4 ar 2 49 b 4w  1i f 1k 3 1d 4 2 2 1x 3 10 5  8 1q  c 2 1g 9 a 4 2  2n 3 2   2 6  4g  3 8 l 2 1l 2     m  e 7 3 5 5f 8 2 3   n  29  2 6   2   2  2 6j  2 4 6 2  2 r 2 2d 8 2   2 2y    2 6   2t 3 2 4  5 77 9  2 6t  a 2   4  40 4 2 2 4  w a 14 6 2 4 8  9 6 2 3 1a d  2 ba 7  6   2a m 2 7  2  2 3e 6 3   2  7   20 2 3    9n 2 f0b 5 1n 7 t4  1r 4 29  f5k 2 43q   3 4 5 8 8 2 7 u 4 44 3 1iz 1j 4 1e 8  e  m 5  f 11s 7  h 2 7  2  5 79 7 c5 4 15s 7 31 7 240 5 gx7k 2o 3k 6o".split(" ").map(function(A){return A?
parseInt(A,36):1});for(ja=1;ja<za.length;ja++)za[ja]+=za[ja-1];var kb=8205,Ja=function(){function A(){ia(this,A)}Q(A,[{key:"lineAt",value:function(q){if(0>q||q>this.length)throw new RangeError("Invalid position ".concat(q," in document of length ").concat(this.length));var u=!0,v=!1,B=void 0;try{for(var J=wa[Symbol.iterator](),O;!(u=(O=J.next()).done);u=!0){var P=O.value;if(P.doc==this&&P.from<=q&&P.to>=q)return P}}catch(X){v=!0,B=X}finally{try{if(!u&&null!=J["return"])J["return"]()}finally{if(v)throw B;
}}return ab(this.lineInner(q,!1,1,0).finish(this))}},{key:"line",value:function(q){if(1>q||q>this.lines)throw new RangeError("Invalid line number ".concat(q," in ").concat(this.lines,"-line document"));var u=!0,v=!1,B=void 0;try{for(var J=wa[Symbol.iterator](),O;!(u=(O=J.next()).done);u=!0){var P=O.value;if(P.doc==this&&P.number==q)return P}}catch(X){v=!0,B=X}finally{try{if(!u&&null!=J["return"])J["return"]()}finally{if(v)throw B;}}return ab(this.lineInner(q,!0,1,0).finish(this))}},{key:"replace",
value:function(q,u,v){var B=[];this.decompose(0,q,B);B.push(v);this.decompose(u,this.length,B);return H.from(B,this.length-(u-q)+v.length)}},{key:"append",value:function(q){return 0==this.length?q:0==q.length?this:H.from([this,q],this.length+q.length)}},{key:"slice",value:function(q){var u=1<arguments.length&&void 0!==arguments[1]?arguments[1]:this.length,v=[];this.decompose(q,u,v);return H.from(v,u-q)}},{key:"eq",value:function(q){return this==q||lb(this,q)}},{key:"iter",value:function(){return new D(this,
0<arguments.length&&void 0!==arguments[0]?arguments[0]:1)}},{key:"iterRange",value:function(q){return new R(this,q,1<arguments.length&&void 0!==arguments[1]?arguments[1]:this.length)}},{key:"iterLines",value:function(){return new N(this,0<arguments.length&&void 0!==arguments[0]?arguments[0]:0)}},{key:"toString",value:function(){return this.sliceString(0)}},{key:"toJSON",value:function(){for(var q=[],u=this.iterLines();!u.next().done;)q.push(u.value);return q}}],[{key:"of",value:function(q){if(0==
q.length)throw new RangeError("A document must have at least one line");if(1==q.length&&!q[0]&&A.empty)return A.empty;var u=db(q);return 1024>u?new ta(q,u):H.from(ta.split(q,[]),u)}}]);return A}();F.Text=Ja;"undefined"!=typeof Symbol&&(Ja.prototype[Symbol.iterator]=function(){return this.iter()});var wa=[],ma=-1,cb=10,ta=function(A){function q(u){var v=1<arguments.length&&void 0!==arguments[1]?arguments[1]:db(u);ia(this,q);var B=Va(this,ya(q).call(this));B.text=u;B.length=v;return B}Y(q,A);Q(q,[{key:"lineInner",
value:function(u,v,B,J){for(var O=0;;O++){var P=this.text[O],X=J+P.length;if((v?B:X)>=u)return new V(J,X,B,P);J=X+1;B++}}},{key:"decompose",value:function(u,v,B){B.push(new q(Ua(this.text,[""],u,v),Math.min(v,this.length)-Math.max(0,u)))}},{key:"lastLineLength",value:function(){return this.text[this.text.length-1].length}},{key:"firstLineLength",value:function(){return this.text[0].length}},{key:"replace",value:function(u,v,B){var J=this.length+B.length-(v-u);return 1024<=J||!(B instanceof q)?ha(ya(q.prototype),
"replace",this).call(this,u,v,B):new q(Ua(this.text,Ua(B.text,Ua(this.text,[""],0,u)),v),J)}},{key:"sliceString",value:function(u){for(var v=1<arguments.length&&void 0!==arguments[1]?arguments[1]:this.length,B=2<arguments.length&&void 0!==arguments[2]?arguments[2]:"\n",J="",O=0,P=0;O<=v&&P<this.text.length;P++){var X=this.text[P],ka=O+X.length;O>u&&P&&(J+=B);u<ka&&v>O&&(J+=X.slice(Math.max(0,u-O),v-O));O=ka+1}return J}},{key:"flatten",value:function(u){u[u.length-1]+=this.text[0];for(var v=1;v<this.text.length;v++)u.push(this.text[v])}},
{key:"lines",get:function(){return this.text.length}},{key:"children",get:function(){return null}}],[{key:"split",value:function(u,v){var B=[],J=-1,O=!0,P=!1,X=void 0;try{for(var ka=u[Symbol.iterator](),Ka;!(O=(Ka=ka.next()).done);O=!0)for(var Ca=Ka.value;;){var eb=J+Ca.length+1;if(512>eb){J=eb;B.push(Ca);break}u=512-J-1;var pb=Ca.charCodeAt(u);56320<=pb&&57344>pb&&u++;B.push(Ca.slice(0,u));v.push(new q(B,512));Ca=Ca.slice(u);J=-1;B=[]}}catch(fb){P=!0,X=fb}finally{try{if(!O&&null!=ka["return"])ka["return"]()}finally{if(P)throw X;
}}-1!=J&&v.push(new q(B,J));return v}}]);return q}(Ja),H=function(A){function q(u,v){ia(this,q);var B=Va(this,ya(q).call(this));B.children=u;B.length=v;B.lines=1;v=!0;var J=!1,O=void 0;try{for(var P=u[Symbol.iterator](),X;!(v=(X=P.next()).done);v=!0)B.lines+=X.value.lines-1}catch(ka){J=!0,O=ka}finally{try{if(!v&&null!=P["return"])P["return"]()}finally{if(J)throw O;}}return B}Y(q,A);Q(q,[{key:"lineInner",value:function(u,v,B,J){for(var O=0;;O++){var P=this.children[O],X=J+P.length,ka=B+P.lines-1;if((v?
ka:X)>=u)return u=P.lineInner(u,v,B,J),v=void 0,u.from==J&&(v=this.lineLengthTo(O))&&(u.from-=v,u.content=null),u.to==X&&(v=this.lineLengthFrom(O+1))&&(u.to+=v,u.content=null),u;J=X;B=ka}}},{key:"decompose",value:function(u,v,B){for(var J=0,O=0;O<v&&J<this.children.length;J++){var P=this.children[J],X=O+P.length;u<X&&v>O&&(O>=u&&X<=v?B.push(P):P.decompose(u-O,v-O,B));O=X}}},{key:"lineLengthTo",value:function(u){var v=0;for(--u;0<=u;u--){var B=this.children[u];if(1<B.lines)return v+B.lastLineLength();
v+=B.length}return v}},{key:"lastLineLength",value:function(){return this.lineLengthTo(this.children.length)}},{key:"lineLengthFrom",value:function(u){for(var v=0;u<this.children.length;u++){var B=this.children[u];if(1<B.lines)return v+B.firstLineLength();v+=B.length}return v}},{key:"firstLineLength",value:function(){return this.lineLengthFrom(0)}},{key:"replace",value:function(u,v,B){if(512>B.length&&512>v-u)for(var J=B.length-(v-u),O=0,P=0;O<this.children.length;O++){var X=this.children[O],ka=P+
X.length;if(u>=P&&v<=ka&&X.length+J<this.length+J>>2&&0<X.length+J)return ka=this.children.slice(),ka[O]=X.replace(u-P,v-P,B),new q(ka,this.length+J);P=ka}return ha(ya(q.prototype),"replace",this).call(this,u,v,B)}},{key:"sliceString",value:function(u){for(var v=1<arguments.length&&void 0!==arguments[1]?arguments[1]:this.length,B=2<arguments.length&&void 0!==arguments[2]?arguments[2]:"\n",J="",O=0,P=0;P<v&&O<this.children.length;O++){var X=this.children[O],ka=P+X.length;if(u<ka&&v>P){X=X.sliceString(u-
P,v-P,B);if(u>=P&&v<=ka)return X;J+=X}P=ka}return J}},{key:"flatten",value:function(u){var v=!0,B=!1,J=void 0;try{for(var O=this.children[Symbol.iterator](),P;!(v=(P=O.next()).done);v=!0)P.value.flatten(u)}catch(X){B=!0,J=X}finally{try{if(!v&&null!=O["return"])O["return"]()}finally{if(B)throw J;}}}}],[{key:"from",value:function(u,v){function B(ua){var Aa=ua.length;if(Aa)if(Aa>pb&&ua instanceof q){Aa=!0;var bb=!1;var Wa=void 0;try{for(var rb=ua.children[Symbol.iterator](),Xa;!(Aa=(Xa=rb.next()).done);Aa=
!0)B(Xa.value)}catch(Hb){bb=!0,Wa=Hb}finally{try{if(!Aa&&null!=rb["return"])rb["return"]()}finally{if(bb)throw Wa;}}}else Aa>fb&&(Oa>fb||0==Oa)?(J(),gb.push(ua)):ua instanceof ta&&0<Oa&&(bb=Ba[Ba.length-1])instanceof ta&&512>=ua.length+bb.length?(Oa+=Aa,Ba[Ba.length-1]=new ta(Ua(ua.text,bb.text.slice()),ua.length+bb.length)):(Oa+Aa>eb&&J(),Oa+=Aa,Ba.push(ua))}function J(){0!=Oa&&(gb.push(1==Ba.length?Ba[0]:q.from(Ba,Oa)),Oa=0,Ba.length=0)}if(!u.every(function(ua){return ua instanceof Ja}))throw Error("NOP");
if(1024>v){var O=[""],P=!0,X=!1,ka=void 0;try{for(var Ka=u[Symbol.iterator](),Ca;!(P=(Ca=Ka.next()).done);P=!0)Ca.value.flatten(O)}catch(ua){X=!0,ka=ua}finally{try{if(!P&&null!=Ka["return"])Ka["return"]()}finally{if(X)throw ka;}}return new ta(O,v)}var eb=Math.max(512,v>>3),pb=eb<<1,fb=eb>>1,gb=[],Oa=0,Ba=[];Ka=!0;Ca=!1;X=void 0;try{for(O=u[Symbol.iterator]();!(Ka=(P=O.next()).done);Ka=!0)B(P.value)}catch(ua){Ca=!0,X=ua}finally{try{if(!Ka&&null!=O["return"])O["return"]()}finally{if(Ca)throw X;}}J();
return 1==gb.length?gb[0]:new q(gb,v)}}]);return q}(Ja);Ja.empty=Ja.of([""]);var D=function(){function A(q){var u=1<arguments.length&&void 0!==arguments[1]?arguments[1]:1;ia(this,A);this.dir=u;this.lineBreak=this.done=!1;this.value="";this.nodes=[q];this.offsets=[0<u?0:q instanceof ta?q.text.length:q.children.length]}Q(A,[{key:"next",value:function(){for(var q=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0;;){var u=this.nodes.length-1;if(0>u)return this.done=!0,this.value="",this.lineBreak=
!1,this;var v=this.nodes[u],B=this.offsets[u];if(v instanceof ta)if(B==(0<this.dir?0:v.text.length)||this.lineBreak){var J=v.text[B-(0>this.dir?1:0)];this.offsets[u]=B+=this.dir;B==(0<this.dir?v.text.length:0)&&(this.nodes.pop(),this.offsets.pop());this.lineBreak=!1;if(J.length>Math.max(0,q))return this.value=0==q?J:0<this.dir?J.slice(q):J.slice(0,J.length-q),this;q-=J.length}else{this.lineBreak=!0;if(0==q)return this.value="\n",this;q--}else B==(0<this.dir?v.children.length:0)?(this.nodes.pop(),
this.offsets.pop()):(v=v.children[0<this.dir?B:B-1],J=v.length,this.offsets[u]=B+this.dir,q>J?q-=J:(this.nodes.push(v),this.offsets.push(0<this.dir?0:v instanceof ta?v.text.length:v.children.length)))}}}]);return A}(),R=function(){function A(q,u,v){ia(this,A);this.value="";this.cursor=new D(q,u>v?-1:1);u>v?(this.skip=q.length-u,this.limit=u-v):(this.skip=u,this.limit=v-u)}Q(A,[{key:"next",value:function(){if(0>=this.limit)this.limit=-1;else{var q=this.cursor.next(this.skip),u=q.value,v=q.lineBreak;
q=q.done;this.skip=0;this.value=u;v=v?1:u.length;v>this.limit&&(this.value=0<this.cursor.dir?u.slice(0,this.limit):u.slice(v-this.limit));this.limit=q||0==this.value.length?-1:this.limit-this.value.length}return this}},{key:"lineBreak",get:function(){return this.cursor.lineBreak}},{key:"done",get:function(){return 0>this.limit}}]);return A}(),N=function(){function A(q){var u=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0;ia(this,A);this.value="";this.done=!1;this.cursor=q.iter();this.skip=
u}Q(A,[{key:"next",value:function(){if(this.cursor.done)return this.done=!0,this.value="",this;for(this.value="";;){var q=this.cursor.next(this.skip),u=q.value,v=q.lineBreak;q=q.done;this.skip=0;if(q||v)return this;this.value+=u}}},{key:"lineBreak",get:function(){return!1}}]);return A}(),V=function(){function A(q,u,v,B){ia(this,A);this.from=q;this.to=u;this.number=v;this.content=B}Q(A,[{key:"slice",value:function(){var q=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0,u=1<arguments.length&&
void 0!==arguments[1]?arguments[1]:this.length;if(q==u)return"";if("string"==typeof this.content)return this.content.slice(q,u);this.content||(this.content=new aa(this.doc,this.from));var v=this.content.slice(q,u);0==q&&u==this.length&&(this.content=v);return v}},{key:"finish",value:function(q){this.doc=q;return this}},{key:"findClusterBreak",value:function(q,u){if(0>q||q>this.length)throw new RangeError("Invalid position given to Line.findClusterBreak");if("string"==this.content){var v=this.from;
var B=this.content}else v=Math.max(0,q-256),B=this.slice(v,Math.min(this.length,v+512));return(u?U:sa)(B,q-v)+v}},{key:"length",get:function(){return this.to-this.from}}]);return A}();F.Line=V;var aa=function(){function A(q,u){ia(this,A);this.doc=q;this.start=u;this.strings=this.cursor=null}Q(A,[{key:"slice",value:function(q,u){this.cursor||(this.cursor=this.doc.iter(),this.strings=[this.cursor.next(this.start).value]);for(var v="",B=0,J=0;;J++){J==this.strings.length&&this.strings.push(this.cursor.next().value);
var O=this.strings[J],P=B;B+=O.length;if(!(B<=q)&&(v+=O.slice(Math.max(0,q-P),Math.min(O.length,u-P)),B>=u))return v}}}]);return A}()};
shadow$provide[1]=function(sa,Ra,ub,D){function Na(I){function r(w,N,T,Q,H){var M=p.id,P=p.start,Z=p.end,ha=p.size,Ca=P-w;if(0>ha)T.push(y[M]),Q.push(Ca),p.next();else{var Fa=t[M],Ma;if(Ma=Z-P<=n){var Xa=p.pos-N;var bb=p.fork();var gb=Ma=N=0,Hb=bb.end-n;Xa=bb.pos-Xa;a:for(;bb.pos>Xa;){var Db=bb.size,yb=bb.pos-Db;if(0>Db||yb<Xa||bb.start<Hb)break;var zb=bb.id>=u?4:0,hb=bb.start;for(bb.next();bb.pos>yb;){if(0>bb.size)break a;bb.id>=u&&(zb+=4);bb.next()}Ma=hb;N+=Db;gb+=zb}Ma=bb=4<N?{size:N,start:Ma,
skip:gb}:null}if(Ma){Ca=new Uint16Array(bb.size-bb.skip);ha=p.pos-bb.size;for(P=Ca.length;p.pos>ha;)P=q(bb.start,Ca,P);Z=new La(Ca,Z-bb.start,L,H);Ca=bb.start-w}else{ha=p.pos-ha;p.next();w=[];H=[];M=M>=L.types.length?M-(L.types.length-u):-1;if(-1<M)for(Fa=t[M];p.pos>ha;)r(P,ha,w,H,p.id==M?Fa:Ia.none);else for(;p.pos>ha;)r(P,ha,w,H,Ia.none);w.reverse();H.reverse();Z=-1<M&&w.length>U?Ka(Fa,Fa,w,H,0,w.length,0,n,Z-P):new qa(Fa,w,H,Z-P)}T.push(Z);Q.push(Ca)}}function q(w,N,T){var Q=p.id,H=p.start,M=p.end,
P=p.size;p.next();var Z=T;if(4<P)for(P=p.pos-(P-4);p.pos>P;)T=q(w,N,T);Q<u&&(N[--T]=Z,N[--T]=M-w,N[--T]=H-w,N[--T]=Q);return T}var B=I.buffer,L=I.group,O=I.topID;O=void 0===O?0:O;var A=I.maxBufferLength,n=void 0===A?D.DefaultBufferLength:A;A=I.reused;var y=void 0===A?[]:A;I=I.minRepeatType;var u=void 0===I?L.types.length:I,p=Array.isArray(B)?new ba(B,B.length):B,t=L.types;B=[];for(I=[];0<p.pos;)r(0,0,B,I,Ia.none);A=B.length?I[0]+B[0].length:0;return new qa(L.types[O],B.reverse(),I.reverse(),A)}function Ka(I,
r,q,B,L,O,A,n,y){var u=[],p=[];if(y<=n)for(;L<O;L++)u.push(q[L]),p.push(B[L]-A);else for(var t=Math.max(n,Math.ceil(1.5*y/U));L<O;){var w=L,N=B[L];for(L++;L<O&&!(B[L]+q[L].length-N>t);L++);if(L==w+1){w=q[w];if(w instanceof qa&&w.type==r&&w.length>t<<1){for(var T=0;T<w.children.length;T++)u.push(w.children[T]),p.push(w.positions[T]+N-A);continue}u.push(w)}else if(L==w+1)u.push(q[w]);else{w=Ka(r,r,q,B,w,L,N,n,B[L-1]+q[L-1].length-N);if(T=r!=Ia.none){a:{T=0;for(var Q=w.children;T<Q.length;T++)if(Q[T].type==
r){T=!0;break a}T=!1}T=!T}T&&(w=new qa(Ia.none,w.children,w.positions,w.length));u.push(w)}p.push(N-A)}return new qa(I,u,p,y)}var Da=this&&this.__extends||function(){var I=function(r,q){I=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(B,L){B.__proto__=L}||function(B,L){for(var O in L)L.hasOwnProperty(O)&&(B[O]=L[O])};return I(r,q)};return function(r,q){function B(){this.constructor=r}I(r,q);r.prototype=null===q?Object.create(q):(B.prototype=q.prototype,new B)}}();Object.defineProperty(D,
"__esModule",{value:!0});D.DefaultBufferLength=1024;var Ta=function(){function I(r,q){this.enter=r;this.leave=q;this.result=void 0}Object.defineProperty(I.prototype,"done",{get:function(){return void 0!==this.result},enumerable:!0,configurable:!0});I.prototype.doEnter=function(r,q,B){r=this.enter(r,q,B);if(void 0===r)return!0;!1!==r&&(this.result=r);return!1};return I}(),wa=0,xa=function(){function I(r){r=(void 0===r?{}:r).deserialize;this.id=wa++;this.deserialize=r||function(){throw Error("This node type doesn't define a deserialize function");
}}I.string=function(){return new I({deserialize:function(r){return r}})};I.number=function(){return new I({deserialize:Number})};I.flag=function(){return new I({deserialize:function(){return!0}})};I.prototype.set=function(r,q){r[this.id]=q;return r};I.prototype.add=function(r){return new Ba(this,"function"==typeof r?r:Ia.match(r))};I.error=I.flag();I.skipped=I.flag();I.closedBy=new I({deserialize:function(r){return r.split(" ")}});I.openedBy=new I({deserialize:function(r){return r.split(" ")}});I.top=
I.flag();return I}();D.NodeProp=xa;var Ba=function(){return function(I,r){this.prop=I;this.f=r}}();D.NodePropSource=Ba;var Ia=function(){function I(r,q,B){this.name=r;this.props=q;this.id=B}I.prototype.prop=function(r){return this.props[r.id]};I.match=function(r){var q=Object.create(null),B;for(B in r)for(var L=0,O=B.split(" ");L<O.length;L++)q[O[L]]=r[B];return function(A){return q[A.name]}};I.none=new I("",Object.create(null),0);return I}();D.NodeType=Ia;sa=function(){function I(r){this.types=r;
for(var q=0;q<r.length;q++)if(r[q].id!=q)throw new RangeError("Node type ids should correspond to array positions when creating a node group");}I.prototype.extend=function(){for(var r=[],q=0;q<arguments.length;q++)r[q]=arguments[q];q=[];for(var B=0,L=this.types;B<L.length;B++){for(var O=L[B],A=null,n=0,y=r;n<y.length;n++){var u=y[n],p=u.f(O);if(void 0!==p){if(!A){A=Object.create(null);for(var t in O.props)A[t]=O.props[t]}A[u.prop.id]=p}}q.push(A?new Ia(O.name,A,O.id):O)}return new I(q)};return I}();
D.NodeGroup=sa;sa=function(){function I(){}Object.defineProperty(I.prototype,"name",{get:function(){return this.type.name},enumerable:!0,configurable:!0});Object.defineProperty(I.prototype,"depth",{get:function(){for(var r=0,q=this.parent;q;q=q.parent)r++;return r},enumerable:!0,configurable:!0});Object.defineProperty(I.prototype,"root",{get:function(){for(var r=this;r.parent;)r=r.parent;return r},enumerable:!0,configurable:!0});I.prototype.resolve=function(r,q){void 0===q&&(q=0);var B=this.resolveAt(r);
if(0!=q)for(;;){var L=0>q?B.childBefore(r):B.childAfter(r);if(!L||(0>q?L.end:L.start)!=r)break;B=L}return B};Object.defineProperty(I.prototype,"firstChild",{get:function(){return this.childAfter(this.start-1)},enumerable:!0,configurable:!0});Object.defineProperty(I.prototype,"lastChild",{get:function(){return this.childBefore(this.end+1)},enumerable:!0,configurable:!0});return I}();D.Subtree=sa;var qa=function(I){function r(q,B,L,O){var A=I.call(this)||this;A.type=q;A.children=B;A.positions=L;A.length=
O;return A}Da(r,I);Object.defineProperty(r.prototype,"start",{get:function(){return 0},enumerable:!0,configurable:!0});Object.defineProperty(r.prototype,"end",{get:function(){return this.length},enumerable:!0,configurable:!0});r.prototype.toString=function(){var q=this.children.map(function(B){return B.toString()}).join();return this.name?(/\W/.test(this.name)&&!this.type.prop(xa.error)?JSON.stringify(this.name):this.name)+(q.length?"("+q+")":""):q};r.prototype.partial=function(q,B,L,O,A){for(var n=
0;n<this.children.length;n++){var y=this.positions[n];if(y>B)break;var u=this.children[n],p=y+u.length;p<q||(q<=y&&B>=p?(O.push(u),A.push(y+L)):u instanceof r&&u.partial(q-y,B-y,L+y,O,A))}};r.prototype.applyChanges=function(q){function B(t,w,N){var T=-1;t.iterate({from:w,to:0>N?0:t.length,enter:function(){return 0>T?void 0:!1},leave:function(Q,H,M){0>T&&(0>N?M<=w:H>=w)&&!Q.prop(xa.error)&&(T=0>N?Math.min(w,M-1):Math.max(w,H+1))}});return-1<T?T:0>N?0:t.length}if(0==q.length)return this;for(var L=[],
O=[],A=0,n=0,y=0;;n++){var u=n==q.length?null:q[n],p=u?B(this,u.fromA,-1):this.length;p>y&&this.partial(y,p,A,L,O);if(!u)break;y=B(this,u.toA,1);A+=u.toB-u.fromB-(u.toA-u.fromA)}return new r(Ia.none,L,O,this.length+A)};r.prototype.cut=function(q){if(q>=this.length)return this;for(var B=[],L=[],O=0;O<this.children.length;O++){var A=this.positions[O];if(A>=q)break;var n=this.children[O];B.push(A+n.length<=q?n:n.cut(q-A));L.push(A)}return new r(this.type,B,L,q)};r.prototype.iterate=function(q){var B=
q.from;B=void 0===B?this.start:B;var L=q.to;L=void 0===L?this.end:L;q=new Ta(q.enter,q.leave);this.iterInner(B,L,0,q);return q.result};r.prototype.iterInner=function(q,B,L,O){if(!this.type.name||O.doEnter(this.type,L,L+this.length)){if(q<=B)for(var A=0;A<this.children.length&&!O.done;A++){var n=this.children[A],y=this.positions[A]+L,u=y+n.length;if(y>B)break;u<q||n.iterInner(q,B,y,O)}else for(A=this.children.length-1;0<=A&&!O.done;A--){n=this.children[A];y=this.positions[A]+L;u=y+n.length;if(u<B)break;
y>q||n.iterInner(q,B,y,O)}O.leave&&this.type.name&&O.leave(this.type,L,L+this.length)}};r.prototype.resolveAt=function(q){if(za==this)for(var B=ja;;){var L=B.parent;if(!L)break;if(B.start<q&&B.end>q)return B.resolve(q);B=L}za=this;return ja=this.resolveInner(q,0,this)};r.prototype.childBefore=function(q){return this.findChild(q,-1,0,this)};r.prototype.childAfter=function(q){return this.findChild(q,1,0,this)};r.prototype.findChild=function(q,B,L,O){for(var A=0;A<this.children.length;A++){var n=this.positions[A]+
L,y=-1;if(n>=q)if(0>B&&0<A)y=A-1;else if(0<B)y=A;else break;0>y&&(n+this.children[A].length>q||0>B&&A==this.children.length-1)&&(y=A);if(0<=y&&(n=this.children[y],y=this.positions[y]+L,0!=n.length||y!=q)){if(n instanceof r)return n.type.name?new Ea(n,y,O):n.findChild(q,B,y,O);var u=n.findIndex(q,B,y,0,n.buffer.length);if(-1<u)return new ka(n,y,u,O)}}return null};r.prototype.resolveInner=function(q,B,L){return(B=this.findChild(q,0,B,L))?B.resolveAt(q):L};r.prototype.append=function(q){if(q.children.length&&
q.positions[0]<this.length)throw Error("Can't append overlapping trees");return new r(this.type,this.children.concat(q.children),this.positions.concat(q.positions),q.length)};r.prototype.balance=function(q){void 0===q&&(q=D.DefaultBufferLength);return this.children.length<=U?this:Ka(this.type,Ia.none,this.children,this.positions,0,this.children.length,0,q,this.length)};r.build=function(q){return Na(q)};r.empty=new r(Ia.none,[],[],0);return r}(sa);D.Tree=qa;qa.prototype.parent=null;var za=qa.empty,
ja=qa.empty,La=function(){function I(r,q,B,L){void 0===L&&(L=Ia.none);this.buffer=r;this.length=q;this.group=B;this.type=L}I.prototype.toString=function(){for(var r=[],q=0;q<this.buffer.length;)q=this.childToString(q,r);return r.join(",")};I.prototype.childToString=function(r,q){var B=this.buffer[r+3],L=this.group.types[this.buffer[r]],O=L.name;/\W/.test(O)&&!L.prop(xa.error)&&(O=JSON.stringify(O));r+=4;if(B>r){for(L=[];r<B;)r=this.childToString(r,L);O+="("+L.join(",")+")"}q.push(O);return r};I.prototype.cut=
function(r){for(var q=0;q<this.buffer.length&&this.buffer[q+1]<r;)q+=4;for(var B=new Uint16Array(q),L=0;L<q;L+=4)B[L]=this.buffer[L],B[L+1]=this.buffer[L+1],B[L+2]=Math.min(r,this.buffer[L+2]),B[L+3]=Math.min(this.buffer[L+3],q);return new I(B,Math.min(r,this.length),this.group)};I.prototype.iterate=function(r){var q=r.from;q=void 0===q?0:q;var B=r.to;B=void 0===B?this.length:B;r=new Ta(r.enter,r.leave);this.iterInner(q,B,0,r);return r.result};I.prototype.iterInner=function(r,q,B,L){if(r<=q)for(var O=
0;O<this.buffer.length;)O=this.iterChild(r,q,B,O,L);else this.iterRev(r,q,B,0,this.buffer.length,L)};I.prototype.iterChild=function(r,q,B,L,O){var A=this.group.types[this.buffer[L++]],n=this.buffer[L++]+B,y=this.buffer[L++]+B,u=this.buffer[L++];if(n>q)return this.buffer.length;if(y>=r&&O.doEnter(A,n,y)){for(;L<u&&!O.done;)L=this.iterChild(r,q,B,L,O);O.leave&&O.leave(A,n,y)}return u};I.prototype.parentNodesByEnd=function(r,q){for(var B=this,L=[],O=function(A){var n=B.buffer[A+3];if(n==A+4)return n;
for(var y=A+4;y<n;)y=O(y);L.push(A);return n};r<q;)r=O(r);return L};I.prototype.iterRev=function(r,q,B,L,O,A){var n=this,y=this.parentNodesByEnd(L,O),u=-1,p=-1,t=function(){0<y.length?(u=y.pop(),p=n.buffer[u+3]):p=-1};t();a:for(;O>L&&!A.done;){for(;p==O;){var w=u,N=this.buffer[w],T=this.buffer[w+1]+B,Q=this.buffer[w+2]+B;t();if(T<=r&&Q>=q&&!A.doEnter(this.group.types[N],T,Q)){for(O=w;p>w;)t();continue a}}w=this.buffer[--O];N=this.buffer[--O]+B;T=this.buffer[--O]+B;Q=this.buffer[--O];T>r||N<q||(w!=
O+4||A.doEnter(this.group.types[Q],T,N))&&A.leave&&A.leave(this.group.types[Q],T,N)}};I.prototype.findIndex=function(r,q,B,L,O){for(var A=-1,n=this.buffer;L<O;){var y=n[L+1]+B,u=n[L+2]+B,p=y==u&&y==r;if(y>=r){if(0<q&&!p)return L;break}if(u>r)return L;p||(A=L);L=n[L+3]}return 0>q?A:-1};return I}();D.TreeBuffer=La;var Ea=function(I){function r(q,B,L){var O=I.call(this)||this;O.node=q;O.start=B;O.parent=L;return O}Da(r,I);Object.defineProperty(r.prototype,"type",{get:function(){return this.node.type},
enumerable:!0,configurable:!0});Object.defineProperty(r.prototype,"end",{get:function(){return this.start+this.node.length},enumerable:!0,configurable:!0});r.prototype.resolveAt=function(q){return q<=this.start||q>=this.end?this.parent.resolveAt(q):this.node.resolveInner(q,this.start,this)};r.prototype.childBefore=function(q){return this.node.findChild(q,-1,this.start,this)};r.prototype.childAfter=function(q){return this.node.findChild(q,1,this.start,this)};r.prototype.toString=function(){return this.node.toString()};
r.prototype.iterate=function(q){var B=q.from;B=void 0===B?this.start:B;var L=q.to;L=void 0===L?this.end:L;q=new Ta(q.enter,q.leave);this.node.iterInner(B,L,this.start,q);return q.result};return r}(sa),ka=function(I){function r(q,B,L,O){var A=I.call(this)||this;A.buffer=q;A.bufferStart=B;A.index=L;A.parent=O;return A}Da(r,I);Object.defineProperty(r.prototype,"type",{get:function(){return this.buffer.group.types[this.buffer.buffer[this.index]]},enumerable:!0,configurable:!0});Object.defineProperty(r.prototype,
"start",{get:function(){return this.buffer.buffer[this.index+1]+this.bufferStart},enumerable:!0,configurable:!0});Object.defineProperty(r.prototype,"end",{get:function(){return this.buffer.buffer[this.index+2]+this.bufferStart},enumerable:!0,configurable:!0});Object.defineProperty(r.prototype,"endIndex",{get:function(){return this.buffer.buffer[this.index+3]},enumerable:!0,configurable:!0});r.prototype.childBefore=function(q){q=this.buffer.findIndex(q,-1,this.bufferStart,this.index+4,this.endIndex);
return 0>q?null:new r(this.buffer,this.bufferStart,q,this)};r.prototype.childAfter=function(q){q=this.buffer.findIndex(q,1,this.bufferStart,this.index+4,this.endIndex);return 0>q?null:new r(this.buffer,this.bufferStart,q,this)};r.prototype.iterate=function(q){var B=q.from;B=void 0===B?this.start:B;var L=q.to;L=void 0===L?this.end:L;q=new Ta(q.enter,q.leave);B<=L?this.buffer.iterChild(B,L,this.bufferStart,this.index,q):this.buffer.iterRev(B,L,this.bufferStart,this.index,this.endIndex,q);return q.result};
r.prototype.resolveAt=function(q){if(q<=this.start||q>=this.end)return this.parent.resolveAt(q);var B=this.buffer.findIndex(q,0,this.bufferStart,this.index+4,this.endIndex);return 0>B?this:(new r(this.buffer,this.bufferStart,B,this)).resolveAt(q)};r.prototype.toString=function(){var q=[];this.buffer.childToString(this.index,q);return q.join("")};return r}(sa),ba=function(){function I(r,q){this.buffer=r;this.index=q}Object.defineProperty(I.prototype,"id",{get:function(){return this.buffer[this.index-
4]},enumerable:!0,configurable:!0});Object.defineProperty(I.prototype,"start",{get:function(){return this.buffer[this.index-3]},enumerable:!0,configurable:!0});Object.defineProperty(I.prototype,"end",{get:function(){return this.buffer[this.index-2]},enumerable:!0,configurable:!0});Object.defineProperty(I.prototype,"size",{get:function(){return this.buffer[this.index-1]},enumerable:!0,configurable:!0});Object.defineProperty(I.prototype,"pos",{get:function(){return this.index},enumerable:!0,configurable:!0});
I.prototype.next=function(){this.index-=4};I.prototype.fork=function(){return new I(this.buffer,this.index)};return I}(),U=8};
shadow$provide[2]=function(ja,Ta,xb,F){function Ea(x){Ea="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(m){return typeof m}:function(m){return m&&"function"===typeof Symbol&&m.constructor===Symbol&&m!==Symbol.prototype?"symbol":typeof m};return Ea(x)}function Va(x){Va=Object.setPrototypeOf?Object.getPrototypeOf:function(m){return m.__proto__||Object.getPrototypeOf(m)};return Va(x)}function ha(x,m){if("function"!==typeof m&&null!==m)throw new TypeError("Super expression must either be null or a function");
x.prototype=Object.create(m&&m.prototype,{constructor:{value:x,writable:!0,configurable:!0}});m&&ya(x,m)}function ya(x,m){ya=Object.setPrototypeOf||function(l,k){l.__proto__=k;return l};return ya(x,m)}function Y(x,m){if(!(x instanceof m))throw new TypeError("Cannot call a class as a function");}function fa(x,m){for(var l=0;l<m.length;l++){var k=m[l];k.enumerable=k.enumerable||!1;k.configurable=!0;"value"in k&&(k.writable=!0);Object.defineProperty(x,k.key,k)}}function ia(x,m,l){m&&fa(x.prototype,m);
l&&fa(x,l);return x}function qa(x,m,l){var k=3<arguments.length&&void 0!==arguments[3]?arguments[3]:!1;if(!(0==m&&0>=l)){var p=x.length-2;0<=p&&0>=l&&l==x[p+1]?x[p]+=m:0==m&&0==x[p]?x[p+1]+=l:k?(x[p]+=m,x[p+1]+=l):x.push(m,l)}}function Q(x,m,l){if(0!=l.length)if(m=m.length-2>>1,m<x.length)x[x.length-1]=x[x.length-1].append(l);else{for(;x.length<m;)x.push(D.Text.empty);x.push(l)}}function $a(x,m,l){for(var k=x.inserted,p=0,r=0,y=0;y<x.sections.length;){var C=x.sections[y++],I=x.sections[y++];if(0>
I)p+=C,r+=C;else{for(var K=p,L=r,G=D.Text.empty;;){K+=C;L+=I;I&&k&&(G=G.append(k[y-2>>1]));if(l||y==x.sections.length||0>x.sections[y+1])break;C=x.sections[y++];I=x.sections[y++]}m(p,K,r,L,G);p=K;r=L}}}function U(x,m,l){for(var k=[],p=3<arguments.length&&void 0!==arguments[3]&&arguments[3]?[]:null,r=new q(x),y=new q(m),C=0,I=0;;)if(-1==r.ins)C+=r.len,r.next();else if(-1==y.ins&&I<C){var K=Math.min(y.len,C-I);y.forward(K);qa(k,K,-1);I+=K}else if(0<=y.ins&&(r.done||I<C||I==C&&(y.len<r.len||y.len==r.len&&
!l))){for(qa(k,y.ins,-1);C>I&&!r.done&&C+r.len<I+y.len;)C+=r.len,r.next();I+=y.len;y.next()}else if(0<=r.ins){K=0;for(var L=C+r.len;;)if(0<=y.ins&&I>C&&I+y.len<L)K+=y.ins,I+=y.len,y.next();else if(-1==y.ins&&I<L){var G=Math.min(y.len,L-I);K+=G;y.forward(G);I+=G}else break;qa(k,K,r.ins);p&&Q(p,k,r.text);C=L;r.next()}else{if(r.done&&y.done)return p?new A(k,p):new aa(k);throw Error("Mismatched change set lengths");}}function sa(x,m){for(var l=[],k=2<arguments.length&&void 0!==arguments[2]&&arguments[2]?
[]:null,p=new q(x),r=new q(m),y=!1;;){if(p.done&&r.done)return k?new A(l,k):new aa(l);if(0==p.ins)qa(l,p.len,0,y),p.next();else if(0!=r.len||r.done){if(p.done||r.done)throw Error("Mismatched change set lengths");var C=Math.min(p.len2,r.len),I=l.length;if(-1==p.ins){var K=-1==r.ins?-1:r.off?0:r.ins;qa(l,C,K,y);k&&K&&Q(k,l,r.text)}else-1==r.ins?(qa(l,p.off?0:p.len,C,y),k&&Q(k,l,p.textBit(C))):(qa(l,p.off?0:p.len,r.off?0:r.ins,y),k&&!r.off&&Q(k,l,r.text));y=(p.ins>C||0<=r.ins&&r.len>C)&&(y||l.length>
I);p.forward2(C);r.forward(C)}else qa(l,0,r.ins,y),k&&Q(k,l,r.text),r.next()}}function jb(x){var m=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0;m=x[m];x.sort(function(y,C){return y.from-C.from});m=x.indexOf(m);for(var l=1;l<x.length;l++){var k=x[l],p=x[l-1];if(k.empty?k.from<=p.to:k.from<p.to){var r=p.from;p=Math.max(k.to,p.to);l<=m&&m--;x.splice(--l,2,k.anchor>k.head?v.range(p,r):v.range(r,p))}}return new v(x,m)}function va(x,m){var l=!0,k=!1,p=void 0;try{for(var r=x.ranges[Symbol.iterator](),
y;!(l=(y=r.next()).done);l=!0)if(y.value.to>m)throw new RangeError("Selection points outside of document");}catch(C){k=!0,p=C}finally{try{if(!l&&null!=r["return"])r["return"]()}finally{if(k)throw p;}}}function ab(x,m){return x==m||x.length==m.length&&x.every(function(l,k){return l===m[k]})}function db(x,m,l){if(x.length!=m.length)return!1;for(var k=0;k<x.length;k++)if(!l(x[k],m[k]))return!1;return!0}function Ua(x,m,l){var k=l.map(function(C){return x[C.id]}),p=l.map(function(C){return C.type}),r=
k.filter(function(C){return!(C&1)}),y=x[m.id]>>1;return function(C,I){var K=I?I.reconfigure?I.startState.config.address[m.id]:y<<1:null,L=null==K,G=!0,T=!1,Z=void 0;try{for(var ba=r[Symbol.iterator](),ca;!(G=(ca=ba.next()).done);G=!0)wa(C,ca.value)&1&&(L=!0)}catch(Pa){T=!0,Z=Pa}finally{try{if(!G&&null!=ba["return"])ba["return"]()}finally{if(T)throw Z;}}if(!L)return 0;L=[];for(G=0;G<k.length;G++)if(T=ma(C,k[G]),2==p[G]){Z=!0;ba=!1;ca=void 0;try{for(var da=T[Symbol.iterator](),ra;!(Z=(ra=da.next()).done);Z=
!0)L.push(ra.value)}catch(Pa){ba=!0,ca=Pa}finally{try{if(!Z&&null!=da["return"])da["return"]()}finally{if(ba)throw ca;}}}else L.push(T);da=m.combine(L);if(null!=K&&m.compare(da,ma(I.startState,K)))return 0;C.values[y]=da;return 1}}function lb(x,m){if(!X.hasOwnProperty(m))throw new RangeError("Invalid precedence: ".concat(m));return new ka(x,X[m])}function za(x,m){return x?lb(m,x):m}function kb(x){return(Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(x):[]).concat(Object.keys(x))}function Ja(x,
m){function l(G,T){var Z=p.get(G);if(null!=Z){if(Z>=T)return;var ba=k[Z].indexOf(G);-1<ba&&k[Z].splice(ba,1)}p.set(G,T);if(Array.isArray(G)){Z=!0;ba=!1;var ca=void 0;try{for(var da=G[Symbol.iterator](),ra;!(Z=(ra=da.next()).done);Z=!0)l(ra.value,T)}catch(Pa){ba=!0,ca=Pa}finally{try{if(!Z&&null!=da["return"])da["return"]()}finally{if(ba)throw ca;}}}else if(G instanceof Ka){if(G.tag in r)throw new RangeError("Duplicate use of tag '".concat(String(G.tag),"' in extensions"));r[G.tag]=!0;l(m[G.tag]||G.extension,
T)}else G.extension?l(G.extension,T):G instanceof ka?l(G.e,G.prec):(k[T].push(G),G instanceof P&&l(G.facets,T))}var k=[[],[],[],[]],p=new Map,r=Object.create(null);l(x,X["default"]);x=!0;var y=!1,C=void 0;try{for(var I=kb(m)[Symbol.iterator](),K;!(x=(K=I.next()).done);x=!0){var L=K.value;L in r||"full"==L||!m[L]||(r[L]=!0,l(m[L],X["default"]))}}catch(G){y=!0,C=G}finally{try{if(!x&&null!=I["return"])I["return"]()}finally{if(y)throw C;}}return k.reduce(function(G,T){return G.concat(T)})}function wa(x,
m){if(m&1)return 2;m>>=1;var l=x.status[m];if(4==l)throw Error("Cyclic dependency between fields and/or facets");if(l&2)return l;x.status[m]=4;l=x.config.dynamicSlots[m](x,x.applying);return x.status[m]=2|l}function ma(x,m){return m&1?x.config.staticValues[m>>1]:x.values[m>>1]}function cb(x,m,l){var k=m.reconfigure;if(k&&k.append){k=Object.assign({},k);var p="undefined"==typeof Symbol?"__append"+Math.floor(4294967295*Math.random()):Symbol("appendConf");k[p]=k.append;k.append=void 0}p=m.selection;
return{changes:m.changes instanceof A?m.changes:A.of(m.changes||[],l,x.facet(pb)),selection:p&&(p instanceof v?p:v.single(p.anchor,p.head)),effects:m.effects?Array.isArray(m.effects)?m.effects:[m.effects]:rb,annotations:m.annotations?Array.isArray(m.annotations)?m.annotations:[m.annotations]:rb,scrollIntoView:!!m.scrollIntoView,reconfigure:k}}function ta(x,m,l){var k=cb(x,m.length?m[0]:{},x.doc.length);m.length&&!1===m[0].filter&&(l=!1);for(var p=1;p<m.length;p++){!1===m[p].filter&&(l=!1);var r=!!m[p].sequential,
y=void 0,C=k;k=cb(x,m[p],r?k.changes.newLength:x.doc.length);if(r){var I=k.changes;var K=A.empty(k.changes.length);r=C.changes.compose(k.changes)}else I=k.changes.map(C.changes),K=C.changes.mapDesc(k.changes,!0),r=C.changes.compose(I);k={changes:r,selection:k.selection?k.selection.map(K):null===(y=C.selection)||void 0===y?void 0:y.map(I),effects:Aa.mapEffects(C.effects,I).concat(Aa.mapEffects(k.effects,K)),annotations:C.annotations.length?C.annotations.concat(k.annotations):k.annotations,scrollIntoView:C.scrollIntoView||
k.scrollIntoView,reconfigure:k.reconfigure?k.reconfigure.full||!C.reconfigure?k.reconfigure:Object.assign({},C.reconfigure,k.reconfigure):C.reconfigure}}x=new Wa(x,k.changes,k.selection,k.effects,k.annotations,k.reconfigure,k.scrollIntoView);if(l){l=x.startState;p=m=!0;y=!1;C=void 0;try{var L=l.facet(fb)[Symbol.iterator]();for(var G;!(p=(G=L.next()).done);p=!0){var T=G.value,Z=T(x);if(!1===Z){m=!1;break}if(Array.isArray(Z)){if(!0===m)var ba=Z;else a:{k=m;r=Z;K=[];for(var ca=I=0;;){if(I<k.length&&
(ca==r.length||r[ca]>=k[I])){var da=k[I++];var ra=k[I++]}else if(ca<r.length)da=r[ca++],ra=r[ca++];else{ba=K;break a}!K.length||K[K.length-1]<da?K.push(da,ra):K[K.length-1]<ra&&(K[K.length-1]=ra)}}m=ba}}}catch(Pa){y=!0,C=Pa}finally{try{if(!p&&null!=L["return"])L["return"]()}finally{if(y)throw C;}}!0!==m&&(!1===m?(G=x.changes.invertedDesc,L=A.empty(l.doc.length)):(G=x.changes.filter(m),L=G.changes,G=G.filtered.invertedDesc),x=new Wa(l,L,x.selection&&x.selection.map(G),Aa.mapEffects(x.effects,G),x.annotations,
x.reconfigure,x.scrollIntoView));L=l.facet(gb);for(G=L.length-1;0<=G;G--)T=L[G](x),x=T instanceof Wa?T:Array.isArray(T)&&1==T.length&&T[0]instanceof Wa?T[0]:ta(l,Array.isArray(T)?T:[T],!1);L=x}else L=x;return L}function H(x){return function(m){if(!/\S/.test(m))return Xa.Space;a:if(Ib)var l=Ib.test(m);else{for(l=0;l<m.length;l++){var k=m[l];if(/\w/.test(k)||"Â€"<k&&(k.toUpperCase()!=k.toLowerCase()||Hb.test(k))){l=!0;break a}}l=!1}if(l)return Xa.Word;for(l=0;l<x.length;l++)if(-1<m.indexOf(x[l]))return Xa.Word;
return Xa.Other}}Object.defineProperty(F,"__esModule",{value:!0});F.combineConfig=function(x,m){var l=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{},k={},p=!0,r=!1,y=void 0;try{for(var C=x[Symbol.iterator](),I;!(p=(I=C.next()).done);p=!0)for(var K=I.value,L=0,G=Object.keys(K);L<G.length;L++){var T=G[L],Z=K[T],ba=k[T];if(void 0===ba)k[T]=Z;else if(ba!==Z&&void 0!==Z)if(Object.hasOwnProperty.call(l,T))k[T]=l[T](ba,Z);else throw Error("Config merge conflict for field "+T);}}catch(da){r=!0,
y=da}finally{try{if(!p&&null!=C["return"])C["return"]()}finally{if(r)throw y;}}for(var ca in m)void 0===k[ca]&&(k[ca]=m[ca]);return k};F.precedence=lb;F.tagExtension=function(x,m){return new Ka(x,m)};Object.defineProperty(F,"Text",{enumerable:!0,get:function(){return D.Text}});F.languageDataProp=F.Transaction=F.StateField=F.StateEffectType=F.StateEffect=F.SelectionRange=F.MapMode=F.IndentContext=F.Facet=F.EditorState=F.EditorSelection=F.CharCategory=F.ChangeSet=F.ChangeDesc=F.AnnotationType=F.Annotation=
void 0;var D=Ta(0),R=Ta(1),N=/\r\n?|\n/,V;F.MapMode=V;(function(x){x[x.Simple=0]="Simple";x[x.TrackDel=1]="TrackDel";x[x.TrackBefore=2]="TrackBefore";x[x.TrackAfter=3]="TrackAfter"})(V||(F.MapMode=V={}));var aa=function(){function x(m){Y(this,x);this.sections=m}ia(x,[{key:"iterGaps",value:function(m){for(var l=0,k=0,p=0;l<this.sections.length;){var r=this.sections[l++],y=this.sections[l++];0>y?(m(k,p,r),p+=r):p+=y;k+=r}}},{key:"iterChangedRanges",value:function(m){$a(this,m,1<arguments.length&&void 0!==
arguments[1]?arguments[1]:!1)}},{key:"composeDesc",value:function(m){return this.empty?m:m.empty?this:sa(this,m)}},{key:"mapDesc",value:function(m){var l=1<arguments.length&&void 0!==arguments[1]?arguments[1]:!1;return m.empty?this:U(this,m,l)}},{key:"mapPos",value:function(m){for(var l=1<arguments.length&&void 0!==arguments[1]?arguments[1]:-1,k=2<arguments.length&&void 0!==arguments[2]?arguments[2]:V.Simple,p=0,r=0,y=0;y<this.sections.length;){var C=this.sections[y++],I=this.sections[y++],K=p+C;
if(0>I){if(K>m)return r+(m-p);r+=C}else{if(k!=V.Simple&&K>=m&&(k==V.TrackDel&&p<m&&K>m||k==V.TrackBefore&&p<m||k==V.TrackAfter&&K>m))return-1;if(K>m||K==m&&0>l&&!C)return m==p||0>l?r:r+I;r+=I}p=K}if(m>p)throw new RangeError("Position ".concat(m," is out of range for changeset of length ").concat(p));return r}},{key:"mapPosStable",value:function(m){for(var l=1<arguments.length&&void 0!==arguments[1]?arguments[1]:-1,k=0,p=0,r=0,y=0;y<this.sections.length;){var C=this.sections[y++],I=this.sections[y++],
K=k+C;if(0>I){if(K>m)return p+Math.max(0,m-k);r=p+=C}else{if(0>=l&&K>=m)return r;p+=I}k=K}return p}},{key:"touchesRange",value:function(m){for(var l=1<arguments.length&&void 0!==arguments[1]?arguments[1]:m,k=0,p=0;k<this.sections.length&&p<=l;){var r=this.sections[k++],y=this.sections[k++];r=p+r;if(0<=y&&p<=l&&r>=m)return p<m&&r>l?"cover":!0;p=r}return!1}},{key:"toString",value:function(){for(var m="",l=0;l<this.sections.length;){var k=this.sections[l++],p=this.sections[l++];m+=(m?" ":"")+k+(0<=p?
":"+p:"")}return m}},{key:"length",get:function(){for(var m=0,l=0;l<this.sections.length;l+=2)m+=this.sections[l];return m}},{key:"newLength",get:function(){for(var m=0,l=0;l<this.sections.length;l+=2){var k=this.sections[l+1];m+=0>k?this.sections[l]:k}return m}},{key:"empty",get:function(){return 0==this.sections.length||2==this.sections.length&&0>this.sections[1]}},{key:"invertedDesc",get:function(){for(var m=[],l=0;l<this.sections.length;){var k=this.sections[l++],p=this.sections[l++];0>p?m.push(k,
p):m.push(p,k)}return new x(m)}}]);return x}();F.ChangeDesc=aa;var A=function(x){function m(l,k){Y(this,m);l=Va(m).call(this,l);if(!l||"object"!==Ea(l)&&"function"!==typeof l){if(void 0===this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");l=this}l.inserted=k;return l}ha(m,x);ia(m,[{key:"apply",value:function(l){if(this.length!=l.length)throw new RangeError("Applying change set to a document with the wrong length");$a(this,function(k,p,r,y,C){return l=l.replace(r,
r+(p-k),C)},!1);return l}},{key:"mapDesc",value:function(l){return U(this,l,1<arguments.length&&void 0!==arguments[1]?arguments[1]:!1,!0)}},{key:"invert",value:function(l){for(var k=this.sections.slice(),p=[],r=0,y=0;r<k.length;r+=2){var C=k[r],I=k[r+1];if(0<=I){k[r]=I;k[r+1]=C;for(I=r>>1;p.length<I;)p.push(D.Text.empty);p.push(C?l.slice(y,y+C):D.Text.empty)}y+=C}return new m(k,p)}},{key:"compose",value:function(l){return this.empty?l:l.empty?this:sa(this,l,!0)}},{key:"map",value:function(l){var k=
1<arguments.length&&void 0!==arguments[1]?arguments[1]:!1;return l.empty?this:U(this,l,k,!0)}},{key:"iterChanges",value:function(l){$a(this,l,1<arguments.length&&void 0!==arguments[1]?arguments[1]:!1)}},{key:"filter",value:function(l){var k=[],p=[],r=[],y=new q(this),C=0,I=0;a:for(;;){for(var K=C==l.length?1E9:l[C++];I<K||I==K&&0==y.len;){if(y.done)break a;var L=Math.min(y.len,K-I);qa(r,L,-1);var G=-1==y.ins?-1:0==y.off?y.ins:0;qa(k,L,G);0<G&&Q(p,k,y.text);y.forward(L);I+=L}for(K=l[C++];I<K;){if(y.done)break a;
L=Math.min(y.len,K-I);qa(k,L,-1);qa(r,L,-1==y.ins?-1:0==y.off?y.ins:0);y.forward(L);I+=L}}return{changes:new m(k,p),filtered:new aa(r)}}},{key:"toJSON",value:function(){for(var l=[],k=0;k<this.sections.length;k+=2){var p=this.sections[k],r=this.sections[k+1];0>r?l.push(p):0==r?l.push([p]):l.push([p,this.inserted[k>>1].toJSON()])}return l}},{key:"desc",get:function(){return new aa(this.sections)}}],[{key:"of",value:function(l,k,p){function r(){if(0<arguments.length&&void 0!==arguments[0]&&arguments[0]||
C.length){K<k&&qa(C,k-K,-1);var G=new m(C,I);L=L?L.compose(G.map(L)):G;C=[];I=[];K=0}}function y(G){if(Array.isArray(G)){var T=!0,Z=!1,ba=void 0;try{for(var ca=G[Symbol.iterator](),da;!(T=(da=ca.next()).done);T=!0)y(da.value)}catch(ra){Z=!0,ba=ra}finally{try{if(!T&&null!=ca["return"])ca["return"]()}finally{if(Z)throw ba;}}}else if(G instanceof m){if(G.length!=k)throw new RangeError("Mismatched change set length (got ".concat(G.length,", expected ").concat(k,")"));r();L=L?L.compose(G.map(L)):G}else{T=
G.from;Z=G.to;Z=void 0===Z?T:Z;G=G.insert;if(T>Z||0>T||Z>k)throw new RangeError("Invalid change range ".concat(T," to ").concat(Z," (in doc of length ").concat(k,")"));G=G?"string"==typeof G?D.Text.of(G.split(p||N)):G:D.Text.empty;ba=G.length;if(T!=Z||0!=ba)T<K&&r(),T>K&&qa(C,T-K,-1),qa(C,Z-T,ba),Q(I,C,G),K=Z}}var C=[],I=[],K=0,L=null;y(l);r(!L);return L}},{key:"empty",value:function(l){return new m(l?[l,-1]:[],[])}},{key:"fromJSON",value:function(l){for(var k=[],p=[],r=0;r<l.length;r++){var y=l[r];
if("number"==typeof y)k.push(y,-1);else if(1==y.length)k.push(y[0],0);else{for(;p.length<r-1;)p.push(D.Text.empty);p[r]=D.Text.of(y[1]);k.push(y[0],p[r].length)}}return new m(k,p)}}]);return m}(aa);F.ChangeSet=A;var q=function(){function x(m){Y(this,x);this.set=m;this.i=0;this.next()}ia(x,[{key:"next",value:function(){var m=this.set.sections;this.i<m.length?(this.len=m[this.i++],this.ins=m[this.i++]):(this.len=0,this.ins=-2);this.off=0}},{key:"textBit",value:function(m){var l=this.set.inserted,k=
this.i-2>>1;return k>=l.length&&!m?D.Text.empty:l[k].slice(this.off,null==m?void 0:this.off+m)}},{key:"forward",value:function(m){m==this.len?this.next():(this.len-=m,this.off+=m)}},{key:"forward2",value:function(m){-1==this.ins?this.forward(m):m==this.ins?this.next():(this.ins-=m,this.off+=m)}},{key:"done",get:function(){return-2==this.ins}},{key:"len2",get:function(){return 0>this.ins?this.len:this.ins}},{key:"text",get:function(){var m=this.set.inserted,l=this.i-2>>1;return l>=m.length?D.Text.empty:
m[l]}}]);return x}(),u=function(){function x(m,l,k){Y(this,x);this.from=m;this.to=l;this.flags=k}ia(x,[{key:"map",value:function(m){var l=m.mapPos(this.from);m=m.mapPos(this.to);return l==this.from&&m==this.to?this:new x(l,m,this.flags)}},{key:"extend",value:function(m){var l=1<arguments.length&&void 0!==arguments[1]?arguments[1]:m;return m<=this.anchor&&l>=this.anchor?v.range(m,l):v.range(this.anchor,Math.abs(m-this.anchor)>Math.abs(l-this.anchor)?m:l)}},{key:"eq",value:function(m){return this.anchor==
m.anchor&&this.head==m.head}},{key:"toJSON",value:function(){return{anchor:this.anchor,head:this.head}}},{key:"anchor",get:function(){return this.flags&16?this.to:this.from}},{key:"head",get:function(){return this.flags&16?this.from:this.to}},{key:"empty",get:function(){return this.from==this.to}},{key:"assoc",get:function(){return this.flags&4?-1:this.flags&8?1:0}},{key:"bidiLevel",get:function(){var m=this.flags&3;return 3==m?null:m}},{key:"goalColumn",get:function(){var m=this.flags>>5;return 33554431==
m?void 0:m}}],[{key:"fromJSON",value:function(m){if(!m||"number"!=typeof m.anchor||"number"!=typeof m.head)throw new RangeError("Invalid JSON representation for SelectionRange");return v.range(m.anchor,m.head)}}]);return x}();F.SelectionRange=u;var v=function(){function x(m){var l=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0;Y(this,x);this.ranges=m;this.primaryIndex=l}ia(x,[{key:"map",value:function(m){return m.empty?this:x.create(this.ranges.map(function(l){return l.map(m)}),this.primaryIndex)}},
{key:"eq",value:function(m){if(this.ranges.length!=m.ranges.length||this.primaryIndex!=m.primaryIndex)return!1;for(var l=0;l<this.ranges.length;l++)if(!this.ranges[l].eq(m.ranges[l]))return!1;return!0}},{key:"asSingle",value:function(){return 1==this.ranges.length?this:new x([this.primary])}},{key:"addRange",value:function(m){var l=1<arguments.length&&void 0!==arguments[1]?arguments[1]:!0;return x.create([m].concat(this.ranges),l?0:this.primaryIndex+1)}},{key:"replaceRange",value:function(m){var l=
1<arguments.length&&void 0!==arguments[1]?arguments[1]:this.primaryIndex,k=this.ranges.slice();k[l]=m;return x.create(k,this.primaryIndex)}},{key:"toJSON",value:function(){return{ranges:this.ranges.map(function(m){return m.toJSON()}),primaryIndex:this.primaryIndex}}},{key:"primary",get:function(){return this.ranges[this.primaryIndex]}}],[{key:"fromJSON",value:function(m){if(!m||!Array.isArray(m.ranges)||"number"!=typeof m.primaryIndex||m.primaryIndex>=m.ranges.length)throw new RangeError("Invalid JSON representation for EditorSelection");
return new x(m.ranges.map(function(l){return u.fromJSON(l)}),m.primaryIndex)}},{key:"single",value:function(m){return new x([x.range(m,1<arguments.length&&void 0!==arguments[1]?arguments[1]:m)],0)}},{key:"create",value:function(m){var l=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0;if(0==m.length)throw new RangeError("A selection needs at least one range");for(var k=0,p=0;p<m.length;p++){var r=m[p];if(r.empty?r.from<=k:r.from<k)return jb(m.slice(),l);k=r.to}return new x(m,l)}},{key:"cursor",
value:function(m){var l=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,k=2<arguments.length?arguments[2]:void 0,p=3<arguments.length?arguments[3]:void 0;return new u(m,m,(0==l?0:0>l?4:8)|(null==k?3:Math.min(2,k))|(null!==p&&void 0!==p?p:33554431)<<5)}},{key:"range",value:function(m,l,k){k=(null!==k&&void 0!==k?k:33554431)<<5;return l<m?new u(l,m,16|k):new u(m,l,k)}}]);return x}();F.EditorSelection=v;var B=0,J=function(){function x(m,l,k,p){Y(this,x);this.combine=m;this.compareInput=l;this.compare=
k;this.isStatic=p;this.id=B++;this["default"]=m([])}ia(x,[{key:"of",value:function(m){return new O([],this,0,m)}},{key:"compute",value:function(m,l){if(this.isStatic)throw Error("Can't compute a static facet");return new O(m,this,1,l)}},{key:"computeN",value:function(m,l){if(this.isStatic)throw Error("Can't compute a static facet");return new O(m,this,2,l)}},{key:"from",value:function(m,l){var k=this;return function(p){return za(l,k.compute([p],function(r){return m(r.field(p))}))}}},{key:"nFrom",
value:function(m,l){var k=this;return function(p){return za(l,k.computeN([p],function(r){return m(r.field(p))}))}}}],[{key:"define",value:function(){var m=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return new x(m.combine||function(l){return l},m.compareInput||function(l,k){return l===k},m.compare||(m.combine?function(l,k){return l===k}:ab),!!m["static"])}}]);return x}();F.Facet=J;var O=function(){function x(m,l,k,p){Y(this,x);this.dependencies=m;this.facet=l;this.type=k;this.value=
p;this.id=B++}ia(x,[{key:"dynamicSlot",value:function(m){var l=this.value,k=this.facet.compareInput,p=m[this.id]>>1,r=2==this.type,y=!1,C=!1,I=[],K=!0,L=!1,G=void 0;try{for(var T=this.dependencies[Symbol.iterator](),Z;!(K=(Z=T.next()).done);K=!0){var ba=Z.value;"doc"==ba?y=!0:"selection"==ba?C=!0:0==(m[ba.id]&1)&&I.push(m[ba.id])}}catch(ca){L=!0,G=ca}finally{try{if(!K&&null!=T["return"])T["return"]()}finally{if(L)throw G;}}return function(ca,da){if(!da||da.reconfigure)ca.values[p]=l(ca);else{if(!(y&&
da.docChanged||C&&(da.docChanged||da.selection)||I.some(function(Pa){return 0<(wa(ca,Pa)&1)})))return 0;var ra=l(ca);da=da.startState.values[p];if(r?db(ra,da,k):k(ra,da))return 0;ca.values[p]=ra}return 1}}}]);return x}(),P=function(){function x(m,l,k,p,r){Y(this,x);this.id=m;this.createF=l;this.updateF=k;this.compareF=p;this.facets=r}ia(x,[{key:"slot",value:function(m){var l=this,k=m[this.id]>>1;return function(p,r){if(!r)return p.values[k]=l.createF(p),1;var y=0;if(r.reconfigure){var C=r.startState.config.address[l.id];
C=null==C?null:C>>1;C=null==C?l.createF(r.startState):r.startState.values[C];y=1}else C=r.startState.values[k];r=l.updateF(C,r);y||l.compareF(C,r)||(y=1);y&&(p.values[k]=r);return y}}}],[{key:"define",value:function(m){var l=[],k=new x(B++,m.create,m.update,m.compare||function(L,G){return L===G},l);if(m.provide){var p=!0,r=!1,y=void 0;try{for(var C=m.provide[Symbol.iterator](),I;!(p=(I=C.next()).done);p=!0){var K=I.value;K instanceof J?l.push(K.compute([k],function(L){return L.field(k)})):l.push(K(k))}}catch(L){r=
!0,y=L}finally{try{if(!p&&null!=C["return"])C["return"]()}finally{if(r)throw y;}}}return k}}]);return x}();F.StateField=P;var X={fallback:3,"default":2,extend:1,override:0},ka=function k(m,l){Y(this,k);this.e=m;this.prec=l},Ka=function p(l,k){Y(this,p);this.tag=l;this.extension=k},Ca=function(){function l(k,p,r,y,C){Y(this,l);this.source=k;this.replacements=p;this.dynamicSlots=r;this.address=y;this.staticValues=C;for(this.statusTemplate=[];this.statusTemplate.length<C.length;)this.statusTemplate.push(0)}
ia(l,[{key:"staticFacet",value:function(k){var p=this.address[k.id];return null==p?k["default"]:this.staticValues[p>>1]}}],[{key:"resolve",value:function(k){var p=1<arguments.length&&void 0!==arguments[1]?arguments[1]:Object.create(null),r=2<arguments.length?arguments[2]:void 0,y=[],C=Object.create(null),I=!0,K=!1,L=void 0;try{for(var G=Ja(k,p)[Symbol.iterator](),T;!(I=(T=G.next()).done);I=!0){var Z=T.value;Z instanceof P?y.push(Z):(C[Z.facet.id]||(C[Z.facet.id]=[])).push(Z)}}catch(M){K=!0,L=M}finally{try{if(!I&&
null!=G["return"])G["return"]()}finally{if(K)throw L;}}var ba=Object.create(null),ca=[],da=[];I=function(){var M=Pa[ra];ba[M.id]=da.length<<1;da.push(function(Qa){return M.slot(Qa)})};for(var ra=0,Pa=y;ra<Pa.length;ra++)I();y=function(M){var Qa=C[M],Fa=Qa[0].facet;if(Qa.every(function(Ga){return 0==Ga.type})){ba[Fa.id]=ca.length<<1|1;var La=Fa.combine(Qa.map(function(Ga){return Ga.value}));M=r?r.config.address[Fa.id]:null;null!=M&&(M=ma(r,M),Fa.compare(La,M)&&(La=M));ca.push(La)}else{M=!0;var Jb=
!1,Kb=void 0;try{var Ya=function(){var Ga=yb.value;0==Ga.type?(ba[Ga.id]=ca.length<<1|1,ca.push(Ga.value)):(ba[Ga.id]=da.length<<1,da.push(function(Pb){return Ga.dynamicSlot(Pb)}))};La=Qa[Symbol.iterator]();for(var yb;!(M=(yb=La.next()).done);M=!0)Ya()}catch(Ga){Jb=!0,Kb=Ga}finally{try{if(!M&&null!=La["return"])La["return"]()}finally{if(Jb)throw Kb;}}ba[Fa.id]=da.length<<1;da.push(function(Ga){return Ua(Ga,Fa,Qa)})}};for(var Qb in C)y(Qb);return new l(k,p,da.map(function(M){return M(ba)}),ba,ca)}}]);
return l}(),eb=J.define({combine:function(l){return l.some(function(k){return k})},"static":!0}),pb=J.define({combine:function(l){return l.length?l[0]:void 0},"static":!0}),fb=J.define(),gb=J.define();ja=new R.NodeProp;F.languageDataProp=ja;var Oa=J.define();ja=function(){function l(k){var p=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};Y(this,l);this.state=k;this.options=p}ia(l,[{key:"textAfterPos",value:function(k){var p,r,y=null===(p=this.options)||void 0===p?void 0:p.simulateBreak;
return k==y&&(null===(r=this.options)||void 0===r?0:r.simulateDoubleBreak)?"":this.state.sliceDoc(k,Math.min(k+100,null!=y&&y>k?y:1E9,this.state.doc.lineAt(k).to))}},{key:"countColumn",value:function(k,p){return(0,D.countColumn)(0>p?k:k.slice(0,p),0,this.state.tabSize)}},{key:"lineIndent",value:function(k){var p,r=null===(p=this.options)||void 0===p?void 0:p.overrideIndentation;if(r&&(p=r(k.from),-1<p))return p;k=k.slice(0,Math.min(100,k.length));return this.countColumn(k,k.search(/\S/))}},{key:"column",
value:function(k){var p,r=this.state.doc.lineAt(k),y=r.slice(0,k-r.from);k=this.countColumn(y,k-r.from);r=(null===(p=this.options)||void 0===p?0:p.overrideIndentation)?this.options.overrideIndentation(r.from):-1;-1<r&&(k+=r-this.countColumn(y,y.search(/\S/)));return k}},{key:"unit",get:function(){return this.state.indentUnit}}]);return l}();F.IndentContext=ja;var Ba=function(){function l(k,p){Y(this,l);this.type=k;this.value=p}ia(l,null,[{key:"define",value:function(){return new ua}}]);return l}();
F.Annotation=Ba;var ua=function(){function l(){Y(this,l)}ia(l,[{key:"of",value:function(k){return new Ba(this,k)}}]);return l}();F.AnnotationType=ua;var Aa=function(){function l(k,p){Y(this,l);this.type=k;this.value=p}ia(l,[{key:"map",value:function(k){k=this.type.map(this.value,k);return void 0===k?void 0:k==this.value?this:new l(this.type,k)}},{key:"is",value:function(k){return this.type==k}}],[{key:"define",value:function(){return new bb((0<arguments.length&&void 0!==arguments[0]?arguments[0]:
{}).map||function(k){return k})}},{key:"mapEffects",value:function(k,p){if(!k.length)return k;var r=[],y=!0,C=!1,I=void 0;try{for(var K=k[Symbol.iterator](),L;!(y=(L=K.next()).done);y=!0){var G=L.value.map(p);G&&r.push(G)}}catch(T){C=!0,I=T}finally{try{if(!y&&null!=K["return"])K["return"]()}finally{if(C)throw I;}}return r}}]);return l}();F.StateEffect=Aa;var bb=function(){function l(k){Y(this,l);this.map=k}ia(l,[{key:"of",value:function(k){return new Aa(this,k)}}]);return l}();F.StateEffectType=bb;
var Wa=function(){function l(k,p,r,y,C,I,K){Y(this,l);this.startState=k;this.changes=p;this.selection=r;this.effects=y;this.annotations=C;this.reconfigure=I;this.scrollIntoView=K;this._state=this._doc=null;r&&va(r,p.newLength);C.some(function(L){return L.type==l.time})||(this.annotations=C.concat(l.time.of(Date.now())))}ia(l,[{key:"annotation",value:function(k){var p=!0,r=!1,y=void 0;try{for(var C=this.annotations[Symbol.iterator](),I;!(p=(I=C.next()).done);p=!0){var K=I.value;if(K.type==k)return K.value}}catch(L){r=
!0,y=L}finally{try{if(!p&&null!=C["return"])C["return"]()}finally{if(r)throw y;}}}},{key:"newDoc",get:function(){return this._doc||(this._doc=this.changes.apply(this.startState.doc))}},{key:"newSelection",get:function(){return this.selection||this.startState.selection.map(this.changes)}},{key:"state",get:function(){this._state||this.startState.applyTransaction(this);return this._state}},{key:"docChanged",get:function(){return!this.changes.empty}}]);return l}();F.Transaction=Wa;Wa.time=Ba.define();
Wa.userEvent=Ba.define();Wa.addToHistory=Ba.define();var rb=[],Xa;F.CharCategory=Xa;(function(l){l[l.Word=0]="Word";l[l.Space=1]="Space";l[l.Other=2]="Other"})(Xa||(F.CharCategory=Xa={}));var Hb=/[\u00df\u0587\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/;try{var Ib=RegExp("[\\p{Alphabetic}\\p{Number}_]","u")}catch(l){}ja=function(){function l(k,p,r){var y=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;Y(this,l);this.config=k;this.doc=p;
this.selection=r;this.applying=null;this.status=k.statusTemplate.slice();if(y&&!y.reconfigure)this.values=y.startState.values.slice();else if(this.values=k.dynamicSlots.map(function(L){return null}),y)for(var C in k.address){var I=k.address[C],K=y.startState.config.address[C];null!=K&&0==(I&1)&&(this.values[I>>1]=ma(y.startState,K))}if(this.applying=y)y._state=this;for(y=0;y<this.config.dynamicSlots.length;y++)wa(this,y<<1);this.applying=null}ia(l,[{key:"field",value:function(k){var p=1<arguments.length&&
void 0!==arguments[1]?arguments[1]:!0,r=this.config.address[k.id];if(null==r){if(p)throw new RangeError("Field is not present in this state");}else return wa(this,r),ma(this,r)}},{key:"update",value:function(){for(var k=arguments.length,p=Array(k),r=0;r<k;r++)p[r]=arguments[r];return ta(this,p,!0)}},{key:"applyTransaction",value:function(k){var p=this.config;k.reconfigure&&(p=Ca.resolve(k.reconfigure.full||p.source,Object.assign(p.replacements,k.reconfigure,{full:void 0}),this));new l(p,k.newDoc,
k.newSelection,k)}},{key:"replaceSelection",value:function(k){"string"==typeof k&&(k=this.toText(k));return this.changeByRange(function(p){return{changes:{from:p.from,to:p.to,insert:k},range:v.cursor(p.from+k.length)}})}},{key:"changeByRange",value:function(k){var p=this.selection,r=k(p.ranges[0]),y=this.changes(r.changes);r=[r.range];for(var C=1;C<p.ranges.length;C++){for(var I=k(p.ranges[C]),K=this.changes(I.changes),L=K.map(y),G=0;G<C;G++)r[G]=r[G].map(L);r.push(I.range.map(y.mapDesc(K,!0)));y=
y.compose(L)}return{changes:y,selection:v.create(r,p.primaryIndex)}}},{key:"changes",value:function(){var k=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[];return k instanceof A?k:A.of(k,this.doc.length,this.facet(l.lineSeparator))}},{key:"toText",value:function(k){return D.Text.of(k.split(this.facet(l.lineSeparator)||N))}},{key:"sliceDoc",value:function(){return this.doc.sliceString(0<arguments.length&&void 0!==arguments[0]?arguments[0]:0,1<arguments.length&&void 0!==arguments[1]?arguments[1]:
this.doc.length,this.lineBreak)}},{key:"facet",value:function(k){var p=this.config.address[k.id];if(null==p)return k["default"];wa(this,p);return ma(this,p)}},{key:"toJSON",value:function(){return{doc:this.sliceDoc(),selection:this.selection.toJSON()}}},{key:"indentString",value:function(k){var p="";if(9==this.facet(l.indentUnit).charCodeAt(0))for(;k>=this.tabSize;)p+="\t",k-=this.tabSize;for(var r=0;r<k;r++)p+=" ";return p}},{key:"phrase",value:function(k){var p=!0,r=!1,y=void 0;try{for(var C=this.facet(l.phrases)[Symbol.iterator](),
I;!(p=(I=C.next()).done);p=!0){var K=I.value;if(Object.prototype.hasOwnProperty.call(K,k))return K[k]}}catch(L){r=!0,y=L}finally{try{if(!p&&null!=C["return"])C["return"]()}finally{if(r)throw y;}}return k}},{key:"charCategorizer",value:function(k){return H(this.languageDataAt("wordChars",k).join(""))}},{key:"languageDataAt",value:function(k,p){for(var r=[],y=this.facet(l.syntax),C=y.length?0:1;2>C;C++){var I=this.facet(C?Oa:y[0].languageDataFacetAt(this,p)),K=!0,L=!1,G=void 0;try{for(var T=I[Symbol.iterator](),
Z;!(K=(Z=T.next()).done);K=!0){var ba=Z.value;Object.prototype.hasOwnProperty.call(ba,k)&&r.push(ba[k])}}catch(ca){L=!0,G=ca}finally{try{if(!K&&null!=T["return"])T["return"]()}finally{if(L)throw G;}}}return r}},{key:"tabSize",get:function(){return this.facet(l.tabSize)}},{key:"lineBreak",get:function(){return this.facet(l.lineSeparator)||"\n"}},{key:"indentUnit",get:function(){var k=this.facet(l.indentUnit);return 9==k.charCodeAt(0)?this.tabSize*k.length:k.length}},{key:"tree",get:function(){var k=
this.facet(l.syntax);return k.length?k[0].getTree(this):R.Tree.empty}}],[{key:"fromJSON",value:function(k){var p=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};if(!k||"string"!=typeof k.doc)throw new RangeError("Invalid JSON representation for EditorState");return l.create({doc:k.doc,selection:v.fromJSON(k.selection),extensions:p.extensions})}},{key:"create",value:function(){var k=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},p=Ca.resolve(k.extensions||[]),r=k.doc instanceof
D.Text?k.doc:D.Text.of((k.doc||"").split(p.staticFacet(l.lineSeparator)||N));k=k.selection?k.selection instanceof v?k.selection:v.single(k.selection.anchor,k.selection.head):v.single(0);va(k,r.length);p.staticFacet(eb)||(k=k.asSingle());return new l(p,r,k)}}]);return l}();F.EditorState=ja;ja.allowMultipleSelections=eb;ja.indentation=J.define();ja.tabSize=J.define({combine:function(l){return l.length?l[0]:4}});ja.lineSeparator=pb;ja.indentUnit=J.define({combine:function(l){if(!l.length)return"  ";
if(!/^(?: +|\t+)$/.test(l[0]))throw Error("Invalid indent unit: "+JSON.stringify(l[0]));return l[0]}});ja.phrases=J.define();ja.syntax=J.define();ja.globalLanguageData=Oa;ja.foldable=J.define();ja.changeFilter=fb;ja.transactionFilter=gb};
shadow$provide[3]=function(sa,Ra,ub,D){function Na(za,ja){return"undefined"==typeof Symbol?"__"+za+(ja?Math.floor(1E8*Math.random()):""):ja?Symbol(za):Symbol.for(za)}function Ka(za,ja,La){if("object"!=typeof ja)throw new RangeError("Expected style object, got "+JSON.stringify(ja));var Ea=[],ka=function(U){if(/^@/.test(U)){var I=[];Ka(za,ja[U],I);La.push(U+" {"+I.join(" ")+"}")}else if(/&/.test(U))Ka(za.split(/\s*,\s*/).map(function(r){return U.replace(/&/g,r)}).join(", "),ja[U],La);else if("specificity"!=
U){if("object"==typeof ja[U])throw new RangeError("The value of a property ("+U+") should be a primitive value.");Ea.push(U.replace(/_.*/,"").replace(/[A-Z]/g,function(r){return"-"+r.toLowerCase()})+": "+ja[U])}},ba;for(ba in ja)ka(ba);Ea.length&&La.push(za+" {"+Ea.join("; ")+"}")}var Da=Na("Í¼"),Ta=Na("styleSet",1),wa=Na("rules",1),xa="undefined"==typeof sa?window:sa,Ba=D.StyleModule=function(za,ja){this[wa]=[];for(var La in za){var Ea=za[La].specificity||0,ka=Ba.newName(),ba=La;if(!1!==(ja&&ja.generateClasses)){var U=
ka;ba="."+ka;for(ka=0;ka<Ea;ka++){var I="Í¼_"+(ka?ka.toString(36):"");ba+="."+I;U+=" "+I}this[La]=U}Ka(ba,za[La],this[wa])}};Ba.newName=function(){var za=xa[Da]||1;xa[Da]=za+1;return"Í¼"+za.toString(36)};Ba.prototype=Object.create(null);Ba.mount=function(za,ja){(za[Ta]||new qa(za)).mount(Array.isArray(ja)?ja:[ja])};var Ia=null,qa=function(za){if(za.adoptedStyleSheets&&"undefined"!=typeof CSSStyleSheet){if(Ia)return za.adoptedStyleSheets=[Ia.sheet].concat(za.adoptedStyleSheets),za[Ta]=Ia;this.sheet=
new CSSStyleSheet;za.adoptedStyleSheets=[this.sheet].concat(za.adoptedStyleSheets);Ia=this}else this.styleTag=(za.ownerDocument||za).createElement("style"),za=za.head||za,za.insertBefore(this.styleTag,za.firstChild);this.modules=[]};qa.prototype.mount=function(za){for(var ja=this.sheet,La=0,Ea=0,ka=0;ka<za.length;ka++){var ba=za[ka],U=this.modules.indexOf(ba);U<Ea&&-1<U&&(this.modules.splice(U,1),Ea--,U=-1);if(-1==U){if(this.modules.splice(Ea++,0,ba),ja)for(U=0;U<ba[wa].length;U++)ja.insertRule(ba[wa][U],
La++)}else{for(;Ea<U;)La+=this.modules[Ea++][wa].length;La+=ba[wa].length;Ea++}}if(!ja){za="";for(ja=0;ja<this.modules.length;ja++)za+=this.modules[ja][wa].join("\n")+"\n";this.styleTag.textContent=za}}};
shadow$provide[4]=function(sa,Ra,ub,D){function Na(U,I){if(!(U instanceof I))throw new TypeError("Cannot call a class as a function");}function Ka(U,I){for(var r=0;r<I.length;r++){var q=I[r];q.enumerable=q.enumerable||!1;q.configurable=!0;"value"in q&&(q.writable=!0);Object.defineProperty(U,q.key,q)}}function Da(U,I,r){I&&Ka(U.prototype,I);r&&Ka(U,r);return U}function Ta(U,I){return U.from-I.from||U.value.startSide-I.value.startSide}function wa(U,I){var r=new Map,q=!0,B=!1,L=void 0;try{for(var O=
U[Symbol.iterator](),A;!(q=(A=O.next()).done);q=!0){var n=A.value;for(U=0;U<n.chunk.length;U++)500>n.chunk[U].maxPoint&&r.set(n.chunk[U],n.chunkPos[U])}}catch(t){B=!0,L=t}finally{try{if(!q&&null!=O["return"])O["return"]()}finally{if(B)throw L;}}q=new Set;B=!0;L=!1;O=void 0;try{for(var y=I[Symbol.iterator](),u;!(B=(u=y.next()).done);B=!0){var p=u.value;for(I=0;I<p.chunk.length;I++)r.get(p.chunk[I])==p.chunkPos[I]&&q.add(p.chunk[I])}}catch(t){L=!0,O=t}finally{try{if(!B&&null!=y["return"])y["return"]()}finally{if(L)throw O;
}}return q}function xa(U,I){for(var r=U[I];;){var q=(I<<1)+1;if(q>=U.length)break;var B=U[q];q+1<U.length&&0<=B.compare(U[q+1])&&(B=U[q+1],q++);if(0>r.compare(B))break;U[q]=r;U[I]=B;I=q}}function Ba(U,I,r,q,B,L){U["goto"](I);r["goto"](q);B=q+B;var O=q;for(I=q-I;;){q=U.to+I-r.to||U.endSide-r.endSide;var A=0>q?U.to+I:r.to,n=Math.min(A,B);if(U.point||r.point)U.point&&r.point&&(U.point==r.point||U.point.eq(r.point))||L.comparePoint(O,n,U.point,r.point);else{var y;if(y=n>O){a:{y=U.active;var u=r.active;
if(y.length!=u.length)y=!1;else{var p=0;b:for(;p<y.length;p++){for(var t=0;t<u.length;t++)if(y[p]==u[p]||y[p].eq(u[t]))continue b;y=!1;break a}y=!0}}y=!y}y&&L.compareRange(O,n,U.active,r.active)}if(A>B)break;O=A;0>=q&&U.next();0<=q&&r.next()}}function Ia(U,I){for(var r=-1,q=1E9,B=0;B<I.length;B++)0>(I[B]-q||U[B].endSide-U[r].endSide)&&(r=B,q=I[B]);return r}Object.defineProperty(D,"__esModule",{value:!0});D.RangeValue=D.RangeSetBuilder=D.RangeSet=D.Range=void 0;sa=Ra(2);Ra=function(){function U(){Na(this,
U)}Da(U,[{key:"eq",value:function(I){return this==I}},{key:"range",value:function(I){return new qa(I,1<arguments.length&&void 0!==arguments[1]?arguments[1]:I,this)}}]);return U}();D.RangeValue=Ra;Ra.prototype.startSide=Ra.prototype.endSide=0;Ra.prototype.point=!1;Ra.prototype.mapMode=sa.MapMode.TrackDel;var qa=function B(I,r,q){Na(this,B);this.from=I;this.to=r;this.value=q};D.Range=qa;var za=function(){function I(r,q,B,L){Na(this,I);this.from=r;this.to=q;this.value=B;this.maxPoint=L}Da(I,[{key:"findIndex",
value:function(r,q){var B=2<arguments.length&&void 0!==arguments[2]?arguments[2]:1E9*q,L=3<arguments.length&&void 0!==arguments[3]?arguments[3]:0;if(0>=r)return L;for(var O=0>q?this.to:this.from,A=O.length;;){if(L==A)return L;var n=L+A>>1,y=O[n]-r||(0>q?this.value[n].startSide:this.value[n].endSide)-B;if(n==L)return 0<=y?L:A;0<=y?A=n:L=n+1}}},{key:"between",value:function(r,q,B,L){q=this.findIndex(q,-1);for(B=this.findIndex(B,1,void 0,q);q<B;q++)if(!1===L(this.from[q]+r,this.to[q]+r,this.value[q]))return!1}},
{key:"map",value:function(r,q){for(var B=[],L=[],O=[],A=-1,n=-1,y=0;y<this.value.length;y++){var u=this.value[y],p=this.from[y]+r,t=this.to[y]+r;if(p==t){t=q.mapPos(p,u.startSide,u.mapMode);if(0>t)continue;p=t}else if(p=q.mapPos(p,u.startSide),t=q.mapPos(t,u.endSide),p>t||p==t&&0<u.startSide&&0>=u.endSide)continue;0>(t-p||u.endSide-u.startSide)||(0>A&&(A=p),u.point&&(n=Math.max(n,t-p)),B.push(u),L.push(p-A),O.push(t-A))}return{mapped:B.length?new I(L,O,B,n):null,pos:A}}},{key:"length",get:function(){return this.to[this.to.length-
1]}}]);return I}(),ja=function(){function I(r,q){var B=2<arguments.length&&void 0!==arguments[2]?arguments[2]:I.empty,L=3<arguments.length?arguments[3]:void 0;Na(this,I);this.chunkPos=r;this.chunk=q;this.nextLayer=B;this.maxPoint=L}Da(I,[{key:"chunkEnd",value:function(r){return this.chunkPos[r]+this.chunk[r].length}},{key:"update",value:function(r){var q=r.add;q=void 0===q?[]:q;var B=r.sort,L=r.filter,O=r.filterFrom;O=void 0===O?0:O;r=r.filterTo;r=void 0===r?this.length:r;if(0==q.length&&!L)return this;
(void 0===B?0:B)&&q.slice().sort(Ta);if(this==I.empty)return q.length?I.of(q):this;B=(new Ea(this,null,-1))["goto"](0);for(var A=0,n=[],y=new La;B.value||A<q.length;)if(A<q.length&&0<=(B.from-q[A].from||B.startSide-q[A].value.startSide)){var u=q[A++];y.addInner(u.from,u.to,u.value)||n.push(u)}else if(1==B.rangeIndex&&B.chunkIndex<this.chunk.length&&(A==q.length||this.chunkEnd(B.chunkIndex)<q[A].from)&&(!L||O>this.chunkEnd(B.chunkIndex)||r<this.chunkPos[B.chunkIndex])&&y.addChunk(this.chunkPos[B.chunkIndex],
this.chunk[B.chunkIndex]))B.nextChunk();else{if(!L||O>B.to||r<B.from||L(B.from,B.to,B.value))y.addInner(B.from,B.to,B.value)||n.push(new qa(B.from,B.to,B.value));B.next()}return y.finishInner(this.nextLayer!=I.empty||n.length?this.nextLayer.update({add:n,filter:L,filterFrom:O,filterTo:r}):I.empty)}},{key:"map",value:function(r){if(0==r.length||this==I.empty)return this;for(var q=[],B=[],L=-1,O=0;O<this.chunk.length;O++){var A=this.chunkPos[O],n=this.chunk[O],y=r.touchesRange(A,A+n.length);!1===y?
(L=Math.max(L,n.maxPoint),q.push(n),B.push(r.mapPos(A))):!0===y&&(n=n.map(A,r),A=n.mapped,n=n.pos,A&&(L=Math.max(L,A.maxPoint),q.push(A),B.push(n)))}r=this.nextLayer.map(r);return 0==q.length?r:new I(B,q,r,L)}},{key:"between",value:function(r,q,B){if(this!=I.empty){for(var L=0;L<this.chunk.length;L++){var O=this.chunkPos[L],A=this.chunk[L];if(q>=O&&r<=O+A.length&&!1===A.between(O,r-O,q-O,B))return}this.nextLayer.between(r,q,B)}}},{key:"iter",value:function(){var r=0<arguments.length&&void 0!==arguments[0]?
arguments[0]:0;return ka.from([this])["goto"](r)}},{key:"length",get:function(){var r=this.chunk.length-1;return 0>r?0:Math.max(this.chunkEnd(r),this.nextLayer.length)}},{key:"size",get:function(){if(this==I.empty)return 0;var r=this.nextLayer.size,q=!0,B=!1,L=void 0;try{for(var O=this.chunk[Symbol.iterator](),A;!(q=(A=O.next()).done);q=!0)r+=A.value.value.length}catch(n){B=!0,L=n}finally{try{if(!q&&null!=O["return"])O["return"]()}finally{if(B)throw L;}}return r}}],[{key:"iter",value:function(r){var q=
1<arguments.length&&void 0!==arguments[1]?arguments[1]:0;return ka.from(r)["goto"](q)}},{key:"compare",value:function(r,q,B,L){var O,A=null!==(O=L.minPointSize)&&void 0!==O?O:-1;O=r.filter(function(t){return 500<=t.maxPoint||t!=I.empty&&0>q.indexOf(t)&&t.maxPoint>=A});var n=q.filter(function(t){return 500<=t.maxPoint||t!=I.empty&&0>r.indexOf(t)&&t.maxPoint>=A}),y=wa(O,n),u=new ba(O,y,A),p=new ba(n,y,A);B.iterGaps(function(t,w,N){return Ba(u,t,p,w,N,L)});B.empty&&0==B.length&&Ba(u,0,p,0,0,L)}},{key:"spans",
value:function(r,q,B,L){var O;r=(new ba(r,null,null!==(O=L.minPointSize)&&void 0!==O?O:-1))["goto"](q);for(O=q;;){var A=Math.min(r.to,B);r.point?L.point(O,A,r.point,r.pointFrom<q,r.to>B):A>O&&L.span(O,A,r.active);if(r.to>B)break;O=r.to;r.next()}}},{key:"of",value:function(r){var q=1<arguments.length&&void 0!==arguments[1]?arguments[1]:!1,B=new La,L=!0,O=!1,A=void 0;try{for(var n=(r instanceof qa?[r]:q?r.slice().sort(Ta):r)[Symbol.iterator](),y;!(L=(y=n.next()).done);L=!0){var u=y.value;B.add(u.from,
u.to,u.value)}}catch(p){O=!0,A=p}finally{try{if(!L&&null!=n["return"])n["return"]()}finally{if(O)throw A;}}return B.finish()}}]);return I}();D.RangeSet=ja;ja.empty=new ja([],[],null,-1);ja.empty.nextLayer=ja.empty;var La=function(){function I(){Na(this,I);this.chunks=[];this.chunkPos=[];this.chunkStart=-1;this.last=null;this.lastTo=this.lastFrom=-1E9;this.from=[];this.to=[];this.value=[];this.setMaxPoint=this.maxPoint=-1;this.nextLayer=null}Da(I,[{key:"finishChunk",value:function(r){this.chunks.push(new za(this.from,
this.to,this.value,this.maxPoint));this.chunkPos.push(this.chunkStart);this.chunkStart=-1;this.setMaxPoint=Math.max(this.setMaxPoint,this.maxPoint);this.maxPoint=-1;r&&(this.from=[],this.to=[],this.value=[])}},{key:"add",value:function(r,q,B){this.addInner(r,q,B)||(this.nextLayer||(this.nextLayer=new I)).add(r,q,B)}},{key:"addInner",value:function(r,q,B){var L=r-this.lastTo||B.startSide-this.last.endSide;if(0>=L&&0>(r-this.lastFrom||B.startSide-this.last.startSide))throw Error("Ranges must be added sorted by `from` position and `startSide`");
if(0>L)return!1;250==this.from.length&&this.finishChunk(!0);0>this.chunkStart&&(this.chunkStart=r);this.from.push(r-this.chunkStart);this.to.push(q-this.chunkStart);this.last=B;this.lastFrom=r;this.lastTo=q;this.value.push(B);B.point&&(this.maxPoint=Math.max(this.maxPoint,q-r));return!0}},{key:"addChunk",value:function(r,q){if(0>(r-this.lastTo||q.value[0].startSide-this.last.endSide))return!1;this.from.length&&this.finishChunk(!0);this.setMaxPoint=Math.max(this.setMaxPoint,q.maxPoint);this.chunks.push(q);
this.chunkPos.push(r);var B=q.value.length-1;this.last=q.value[B];this.lastFrom=q.from[B]+r;this.lastTo=q.to[B]+r;return!0}},{key:"finish",value:function(){return this.finishInner(ja.empty)}},{key:"finishInner",value:function(r){this.from.length&&this.finishChunk(!1);if(0==this.chunks.length)return r;r=new ja(this.chunkPos,this.chunks,this.nextLayer?this.nextLayer.finishInner(r):r,this.setMaxPoint);this.from=null;return r}}]);return I}();D.RangeSetBuilder=La;var Ea=function(){function I(r,q,B){Na(this,
I);this.layer=r;this.skip=q;this.minPoint=B}Da(I,[{key:"goto",value:function(r){var q=1<arguments.length&&void 0!==arguments[1]?arguments[1]:-1E9;this.chunkIndex=this.rangeIndex=0;this.gotoInner(r,q,!1);return this}},{key:"gotoInner",value:function(r,q,B){for(;this.chunkIndex<this.layer.chunk.length;){var L=this.layer.chunk[this.chunkIndex];if(!(this.skip&&this.skip.has(L)||this.layer.chunkEnd(this.chunkIndex)<r||L.maxPoint<this.minPoint))break;this.chunkIndex++;B=!1}r=this.chunkIndex==this.layer.chunk.length?
0:this.layer.chunk[this.chunkIndex].findIndex(r-this.layer.chunkPos[this.chunkIndex],-1,q);if(!B||this.rangeIndex<r)this.rangeIndex=r;this.next()}},{key:"forward",value:function(r,q){0>(this.to-r||this.endSide-q)&&this.gotoInner(r,q,!0)}},{key:"next",value:function(){for(;;)if(this.chunkIndex==this.layer.chunk.length){this.from=this.to=1E9;this.value=null;break}else{var r=this.layer.chunkPos[this.chunkIndex],q=this.layer.chunk[this.chunkIndex];this.from=r+q.from[this.rangeIndex];this.to=r+q.to[this.rangeIndex];
this.value=q.value[this.rangeIndex];if(++this.rangeIndex==q.value.length){this.chunkIndex++;if(this.skip)for(;this.chunkIndex<this.layer.chunk.length&&this.skip.has(this.layer.chunk[this.chunkIndex]);)this.chunkIndex++;this.rangeIndex=0}if(0>this.minPoint||this.value.point&&this.to-this.from>=this.minPoint)break}}},{key:"nextChunk",value:function(){this.chunkIndex++;this.rangeIndex=0;this.next()}},{key:"compare",value:function(r){return this.from-r.from||this.startSide-r.startSide||this.to-r.to||
this.endSide-r.endSide}},{key:"startSide",get:function(){return this.value?this.value.startSide:0}},{key:"endSide",get:function(){return this.value?this.value.endSide:0}}]);return I}(),ka=function(){function I(r){Na(this,I);this.heap=r}Da(I,[{key:"goto",value:function(r){var q=1<arguments.length&&void 0!==arguments[1]?arguments[1]:-1E9,B=!0,L=!1,O=void 0;try{for(var A=this.heap[Symbol.iterator](),n;!(B=(n=A.next()).done);B=!0)n.value["goto"](r,q)}catch(y){L=!0,O=y}finally{try{if(!B&&null!=A["return"])A["return"]()}finally{if(L)throw O;
}}for(q=this.heap.length>>1;0<=q;q--)xa(this.heap,q);this.next();return this}},{key:"forward",value:function(r,q){var B=!0,L=!1,O=void 0;try{for(var A=this.heap[Symbol.iterator](),n;!(B=(n=A.next()).done);B=!0)n.value.forward(r,q)}catch(y){L=!0,O=y}finally{try{if(!B&&null!=A["return"])A["return"]()}finally{if(L)throw O;}}for(B=this.heap.length>>1;0<=B;B--)xa(this.heap,B);0>(this.to-r||this.value.endSide-q)&&this.next()}},{key:"next",value:function(){if(0==this.heap.length)this.from=this.to=1E9,this.value=
null;else{var r=this.heap[0];this.from=r.from;this.to=r.to;(this.value=r.value)&&r.next();xa(this.heap,0)}}},{key:"startSide",get:function(){return this.value?this.value.startSide:0}}],[{key:"from",value:function(r){var q=1<arguments.length&&void 0!==arguments[1]?arguments[1]:null,B=2<arguments.length&&void 0!==arguments[2]?arguments[2]:-1,L=[],O=!0,A=!1,n=void 0;try{for(var y=r[Symbol.iterator](),u;!(O=(u=y.next()).done);O=!0)for(var p=u.value;p!=ja.empty;p=p.nextLayer)p.maxPoint>=B&&L.push(new Ea(p,
q,B))}catch(t){A=!0,n=t}finally{try{if(!O&&null!=y["return"])y["return"]()}finally{if(A)throw n;}}return 1==L.length?L[0]:new I(L)}}]);return I}(),ba=function(){function I(r,q,B){Na(this,I);this.minPoint=B;this.active=[];this.activeTo=[];this.minActive=-1;this.point=null;this.pointFrom=0;this.to=-1E9;this.endSide=0;this.cursor=ka.from(r,q,B)}Da(I,[{key:"goto",value:function(r){var q=1<arguments.length&&void 0!==arguments[1]?arguments[1]:-1E9;this.cursor["goto"](r,q);this.active.length=this.activeTo.length=
0;this.minActive=-1;this.to=r;this.endSide=q;this.next();return this}},{key:"forward",value:function(r,q){for(;-1<this.minActive&&0>(this.activeTo[this.minActive]-r||this.active[this.minActive].endSide-q);)this.removeActive(this.minActive);this.cursor.forward(r,q)}},{key:"removeActive",value:function(r){var q=this.active,B=q.pop();r!=q.length&&(q[r]=B);q=this.activeTo;B=q.pop();r!=q.length&&(q[r]=B);this.minActive=Ia(this.active,this.activeTo)}},{key:"next",value:function(){var r=this.to;for(this.point=
null;;){var q=this.minActive;if(-1<q&&0>(this.activeTo[q]-this.cursor.from||this.active[q].endSide-this.cursor.startSide)){if(this.activeTo[q]>r){this.to=this.activeTo[q];this.endSide=this.active[q].endSide;break}this.removeActive(q)}else if(this.cursor.value)if(this.cursor.from>r){this.to=this.cursor.from;this.endSide=this.cursor.startSide;break}else if(q=this.cursor.value,q.point){this.point=q;this.pointFrom=this.cursor.from;this.to=this.cursor.to;this.endSide=q.endSide;this.cursor.next();this.to>
r&&this.forward(this.to,this.endSide);break}else this.active.push(q),this.activeTo.push(this.cursor.to),this.minActive=Ia(this.active,this.activeTo),this.cursor.next();else{this.to=this.endSide=1E9;break}}}}]);return I}()};
shadow$provide[5]=function(sa,Ra,ub,D){Object.defineProperty(D,"__esModule",{value:!0});var Na={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"\x3d",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",
162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"\x3d",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",229:"q"},Ka={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"\x26",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"\x3c",189:"_",190:"\x3e",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"',229:"Q"};sa="undefined"!=typeof navigator&&/Chrome\/(\d+)/.exec(navigator.userAgent);var Da="undefined"!=typeof navigator&&/Apple Computer/.test(navigator.vendor);
Ra="undefined"!=typeof navigator&&/Gecko\/\d+/.test(navigator.userAgent);ub="undefined"!=typeof navigator&&/Mac/.test(navigator.platform);var Ta="undefined"!=typeof navigator&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent),wa=sa&&(ub||57>+sa[1])||Ra&&ub;for(sa=0;10>sa;sa++)Na[48+sa]=Na[96+sa]=String(sa);for(sa=1;24>=sa;sa++)Na[sa+111]="F"+sa;for(sa=65;90>=sa;sa++)Na[sa]=String.fromCharCode(sa+32),Ka[sa]=String.fromCharCode(sa);for(var xa in Na)Ka.hasOwnProperty(xa)||(Ka[xa]=
Na[xa]);D.base=Na;D.keyName=function(Ba){Ba=!(wa&&(Ba.ctrlKey||Ba.altKey||Ba.metaKey)||(Da||Ta)&&Ba.shiftKey&&Ba.key&&1==Ba.key.length)&&Ba.key||(Ba.shiftKey?Ka:Na)[Ba.keyCode]||Ba.key||"Unidentified";"Esc"==Ba&&(Ba="Escape");"Del"==Ba&&(Ba="Delete");"Left"==Ba&&(Ba="ArrowLeft");"Up"==Ba&&(Ba="ArrowUp");"Right"==Ba&&(Ba="ArrowRight");"Down"==Ba&&(Ba="ArrowDown");return Ba};D.shift=Ka};
shadow$provide[6]=function(ja,Ta,xb,F){function Ea(e,b,a){Ea="undefined"!==typeof Reflect&&Reflect.get?Reflect.get:function(c,d,f){for(;!Object.prototype.hasOwnProperty.call(c,d)&&(c=Y(c),null!==c););if(c)return d=Object.getOwnPropertyDescriptor(c,d),d.get?d.get.call(f):d.value};return Ea(e,b,a||e)}function Va(e){Va="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(b){return typeof b}:function(b){return b&&"function"===typeof Symbol&&b.constructor===Symbol&&b!==Symbol.prototype?
"symbol":typeof b};return Va(e)}function ha(e,b){return!b||"object"!==Va(b)&&"function"!==typeof b?ya(e):b}function ya(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Y(e){Y=Object.setPrototypeOf?Object.getPrototypeOf:function(b){return b.__proto__||Object.getPrototypeOf(b)};return Y(e)}function fa(e,b){if("function"!==typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(b&&
b.prototype,{constructor:{value:e,writable:!0,configurable:!0}});b&&ia(e,b)}function ia(e,b){ia=Object.setPrototypeOf||function(a,c){a.__proto__=c;return a};return ia(e,b)}function qa(e){if(Array.isArray(e)){var b=0;for(var a=Array(e.length);b<e.length;b++)a[b]=e[b];b=a}else b=void 0;b||(b=Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)?Array.from(e):void 0);if(!(e=b))throw new TypeError("Invalid attempt to spread non-iterable instance");return e}function Q(e,
b){if(!(e instanceof b))throw new TypeError("Cannot call a class as a function");}function $a(e,b){for(var a=0;a<b.length;a++){var c=b[a];c.enumerable=c.enumerable||!1;c.configurable=!0;"value"in c&&(c.writable=!0);Object.defineProperty(e,c.key,c)}}function U(e,b,a){b&&$a(e.prototype,b);a&&$a(e,a);return e}function sa(e){return e.getSelection?e.getSelection():document.getSelection()}function jb(e){var b=e.isCollapsed;b&&la.chrome&&e.rangeCount&&!e.getRangeAt(0).collapsed&&(b=!1);return b}function va(e,
b){if(!b.anchorNode)return!1;try{return e.contains(3==b.anchorNode.nodeType?b.anchorNode.parentNode:b.anchorNode)}catch(a){return!1}}function ab(e){if(3==e.nodeType){var b=document.createRange();b.setEnd(e,e.nodeValue.length);b.setStart(e,0);return b.getClientRects()}return 1==e.nodeType?e.getClientRects():[]}function db(e,b,a,c){return a?lb(e,b,a,c,-1)||lb(e,b,a,c,1):!1}function Ua(e){for(var b=0;;b++)if(e=e.previousSibling,!e)return b}function lb(e,b,a,c,d){for(;;){if(e==a&&b==c)return!0;if(b==
(0>d?0:za(e))){if("DIV"==e.nodeName)return!1;var f=e.parentNode;if(!f||1!=f.nodeType)return!1;b=Ua(e)+(0>d?0:1);e=f}else if(1==e.nodeType)e=e.childNodes[b+(0>d?-1:0)],b=0>d?za(e):0;else return!1}}function za(e){return 3==e.nodeType?e.nodeValue.length:e.childNodes.length}function kb(e,b){b=b?e.left:e.right;return{left:b,right:b,top:e.top,bottom:e.bottom}}function Ja(e){if(e.setActive)return e.setActive();if(zb)return e.focus(zb);for(var b=[],a=e;a&&(b.push(a,a.scrollTop,a.scrollLeft),a!=a.ownerDocument);a=
a.parentNode);e.focus(null==zb?{get preventScroll(){zb={preventScroll:!0};return!0}}:void 0);if(!zb)for(zb=!1,e=0;e<b.length;){a=b[e++];var c=b[e++],d=b[e++];a.scrollTop!=c&&(a.scrollTop=c);a.scrollLeft!=d&&(a.scrollLeft=d)}}function wa(e){var b=e.nextSibling;e.parentNode.removeChild(e);return b}function ma(e,b){for(var a in e)"class"==a&&b["class"]?b["class"]+=" "+e["class"]:"style"==a&&b.style?b.style+=";"+e.style:b[a]=e[a];return b}function cb(e,b){if(e==b)return!0;if(!e||!b)return!1;var a=Object.keys(e),
c=Object.keys(b);if(a.length!=c.length)return!1;for(var d=0;d<a.length;d++){var f=a[d];if(-1==c.indexOf(f)||e[f]!==b[f])return!1}return!0}function ta(e,b,a){if(b)for(var c in b)a&&c in a||e.removeAttribute(c);if(a)for(var d in a)b&&b[d]==a[d]||e.setAttribute(d,a[d])}function H(e,b,a,c){var d=b,f=b,g=0;0==b&&0>a||b==c&&0<=a?la.chrome||la.gecko||(b?(d--,g=1):(f++,g=-1)):0>a?d--:f++;b=document.createRange();b.setEnd(e,f);b.setStart(e,d);e=b.getBoundingClientRect();return g?kb(e,0>g):e}function D(e){var b=
e.inclusiveStart,a=e.inclusiveEnd;null==b&&(b=e.inclusive);null==a&&(a=e.inclusive);return{start:b||!1,end:a||!1}}function R(e,b,a){var c=a.length-1;0<=c&&a[c]+4>e?a[c]=Math.max(a[c],b):a.push(e,b)}function N(e,b){var a=Object.create(null),c;for(c in b){var d=c.split(/\s*,\s*/).map(function(f){var g=e,h;g==Rb&&(h=/^(.*?)@(light|dark)$/.exec(f))&&(g="dark"==h[2]?sc:tc,f=h[1]);f=f.split(".");g="."+g+("wrap"==f[0]?"":" ");for(h=1;h<=f.length;h++)g+=".cm-"+f.slice(0,h).join("-");return g}).join(", ");
a[d]=b[c]}return new Qa.StyleModule(a,{generateClasses:!1})}function V(e){e=e.split(".");for(var b="",a=1;a<=e.length;a++)b+=(b?" ":"")+"cm-"+e.slice(0,a).join("-");return b}function aa(e){for(var b=[],a=0;a<e.length;a++)b.push(1<<+e[a]);return b}function A(e,b){var a=e.length;b=b==uc?1:2;if(!e||1==b&&!dd.test(e))return[new sb(0,a,0)];for(var c=0,d=b,f=b;c<a;c++){var g=e.charCodeAt(c);g=247>=g?ed[g]:1424<=g&&1524>=g?2:1536<=g&&1785>=g?fd[g-1536]:1774<=g&&2220>=g?4:8192<=g&&8203>=g?256:8204==g?256:
1;512==g?g=d:8==g&&4==f&&(g=16);xa[c]=4==g?2:g;g&7&&(f=g);d=g}f=0;for(e=g=b;f<a;f++){c=xa[f];if(128==c)f<a-1&&g==xa[f+1]&&g&24?c=xa[f]=g:xa[f]=256;else if(64==c){for(d=f+1;d<a&&64==xa[d];)d++;for(g=f&&8==g||d<a&&8==xa[d]?1==e?1:8:256;f<d;f++)xa[f]=g;f=d-1}else 8==c&&1==e&&(xa[f]=1);g=c;c&7&&(e=c)}for(c=0;c<a;c++)if(256==xa[c]){for(e=c+1;e<a&&256==xa[e];)e++;d=1==(c?xa[c-1]:b);for(d=d==(1==(e<a?xa[e]:b))?d?1:2:b;c<e;c++)xa[c]=d;c=e-1}e=[];if(1==b)for(b=0;b<a;){c=b;for(d=1!=xa[b++];b<a&&d==(1!=xa[b]);)b++;
if(d)for(d=b;d>c;){f=d;for(g=2!=xa[--d];d>c&&g==(2!=xa[d-1]);)d--;e.push(new sb(d,f,g?2:1))}else e.push(new sb(c,b,0))}else for(b=0;b<a;){c=b;for(d=2==xa[b++];b<a&&d==(2==xa[b]);)b++;e.push(new sb(c,b,d?1:2))}return e}function q(e,b,a,c,d){var f,g=c.head-e.from,h=-1;if(0==g){if(!d||!e.length)return null;b[0].level!=a&&(g=b[0].side(!1,a),h=0)}else if(g==e.length){if(d)return null;var n=b[b.length-1];n.level!=a&&(g=n.side(!0,a),h=b.length-1)}0>h&&(h=sb.find(b,g,null!==(f=c.bidiLevel)&&void 0!==f?f:
-1,c.assoc));c=b[h];g==c.side(d,a)&&(c=b[h+=d?1:-1],g=c.side(!d,a));n=d==(c.dir==a);f=e.findClusterBreak(g,n);vc=e.slice(Math.min(g,f),Math.max(g,f));return f!=c.side(d,a)?M.EditorSelection.cursor(f+e.from,n?-1:1,c.level):(b=h==(d?b.length-1:0)?null:b[h+(d?1:-1)])||c.level==a?b&&b.level<c.level?M.EditorSelection.cursor(b.side(!d,a)+e.from,0,b.level):M.EditorSelection.cursor(f+e.from,0,c.level):M.EditorSelection.cursor(d?e.to:e.from,d?-1:1,a)}function u(e,b){var a,c;null==e[b]&&(a=e[b-1])instanceof
Ab&&(c=e[b+1])instanceof Ab&&e.splice(b-1,3,new Ab(a.length+1+c.length))}function v(e,b,a){var c=new gd;Fa.RangeSet.compare(e,b,a,c);return c.changes}function B(e,b,a){e=e.facet(wc);if(e.length)e[0](b);else if(window.onerror)window.onerror(String(b),a,void 0,void 0,b);else a?console.error(a+":",b):console.error(b)}function J(e,b,a){var c=[],d=e,f=0;Fa.RangeSet.spans(a.facet(wb),e,b,{span:function(){},point:function(g,h){g>d&&(c.push({from:d,to:g}),f+=g-d);d=h},minPointSize:20});d<b&&(c.push({from:d,
to:b}),f+=b-d);return{total:f,ranges:c}}function O(e,b){var a=e.ranges;if(0>=b)return a[0].from;if(1<=b)return a[a.length-1].to;e=Math.floor(e.total*b);for(b=0;;b++){var c=a[b],d=c.from;c=c.to-d;if(e<=c)return d+e;e-=c}}function P(e,b){var a=0,c=!0,d=!1,f=void 0;try{for(var g=e.ranges[Symbol.iterator](),h;!(c=(h=g.next()).done);c=!0){var n=h.value,t=n.from,w=n.to;if(b<=w){a+=b-t;break}a+=w-t}}catch(z){d=!0,f=z}finally{try{if(!c&&null!=g["return"])g["return"]()}finally{if(d)throw f;}}return a/e.total}
function X(e,b){var a=!0,c=!1,d=void 0;try{for(var f=e[Symbol.iterator](),g;!(a=(g=f.next()).done);a=!0){var h=g.value;if(b(h))return h}}catch(n){c=!0,d=n}finally{try{if(!a&&null!=f["return"])f["return"]()}finally{if(c)throw d;}}}function ka(e,b){var a=sa(e.root);a=a.focusNode&&Ka(a.focusNode,a.focusOffset,0);if(!a)return na.none;var c=e.docView.nearest(a),d=a;if(c instanceof Zb){var f=c.posAtStart;var g=f+c.length;d=c.dom}else if(c instanceof mb){for(;d.parentNode!=c.dom;)d=d.parentNode;for(g=d.previousSibling;g&&
!Ra.get(g);)g=g.previousSibling;f=g=g?Ra.get(g).posAtEnd:c.posAtStart}else return na.none;c=b.mapPos(f,1);b=Math.max(c,b.mapPos(g,-1));g=a.nodeValue;e=e.state;if(b-c<g.length)if(e.sliceDoc(c,Math.min(e.doc.length,c+g.length))==g)b=c+g.length;else if(e.sliceDoc(Math.max(0,b-g.length),b)==g)c=b-g.length;else return na.none;else if(e.sliceDoc(c,b)!=g)return na.none;return na.set(na.replace({widget:new hd({top:d,text:a})}).range(c,b))}function Ka(e,b,a){for(;;){if(3==e.nodeType)return e;if(1==e.nodeType&&
0<b&&0>=a)e=e.childNodes[b-1],b=za(e);else if(1==e.nodeType&&b<e.childNodes.length&&0<=a)e=e.childNodes[b],b=0;else return null}}function Ca(e,b){return 1!=e.nodeType?0:(b&&"false"==e.childNodes[b-1].contentEditable?1:0)|(b<e.childNodes.length&&"false"==e.childNodes[b].contentEditable?2:0)}function eb(e,b,a){var c=new id;Fa.RangeSet.compare(e,b,a,c);return c.changes}function pb(e,b){var a=2<arguments.length&&void 0!==arguments[2]?arguments[2]:1,c=e.charCategorizer(b),d=e.doc.lineAt(b),f=b-d.from;
if(0==d.length)return M.EditorSelection.cursor(b);0==f?a=1:f==d.length&&(a=-1);var g=f,h=f;0>a?g=d.findClusterBreak(f,!1):h=d.findClusterBreak(f,!0);for(a=c(d.slice(g,h));0<g;){f=d.findClusterBreak(g,!1);if(c(d.slice(f,g))!=a)break;g=f}for(;h<d.length;){f=d.findClusterBreak(h,!0);if(c(d.slice(h,f))!=a)break;h=f}return M.EditorSelection.range(g+d.from,h+d.from)}function fb(e,b){return e.top<b.bottom-1&&e.bottom>b.top+1}function gb(e,b){return b<e.top?{top:b,left:e.left,right:e.right,bottom:e.bottom}:
e}function Oa(e,b){return b>e.bottom?{top:e.top,left:e.left,right:e.right,bottom:b}:e}function Ba(e,b,a){for(var c,d,f,g,h,n,t,w,z=e.firstChild;z;z=z.nextSibling)for(var E=ab(z),W=0;W<E.length;W++){var S=E[W];d&&fb(d,S)&&(S=gb(Oa(S,d.bottom),d.top));var ea=S.left>b?S.left-b:Math.max(0,b-S.right),pa=S.top>a?S.top-a:Math.max(0,a-S.bottom);if(0==ea&&0==pa)return 3==z.nodeType?ua(z,b,a):Ba(z,b,a);if(!c||g>pa||g==pa&&f>ea)c=z,d=S,f=ea,g=pa;0==ea?a>S.bottom&&(!t||t.bottom<S.bottom)?(h=z,t=S):a<S.top&&(!w||
w.top>S.top)&&(n=z,w=S):t&&fb(t,S)?t=Oa(t,S.bottom):w&&fb(w,S)&&(w=gb(w,S.top))}t&&t.bottom>=a?(c=h,d=t):w&&w.top<=a&&(c=n,d=w);if(!c)return{node:e,offset:0};g=Math.max(d.left,Math.min(d.right,b));if(3==c.nodeType)return ua(c,g,a);if(!f&&"true"==c.contentEditable)return Ba(c,g,a);b=Array.prototype.indexOf.call(e.childNodes,c)+(b>=(d.left+d.right)/2?1:0);return{node:e,offset:b}}function ua(e,b,a){for(var c=e.nodeValue.length,d=document.createRange(),f=0;f<c;f++){d.setEnd(e,f+1);d.setStart(e,f);for(var g=
d.getClientRects(),h=0;h<g.length;h++){var n=g[h];if(n.top!=n.bottom&&n.left-1<=b&&n.right+1>=b&&n.top-1<=a&&n.bottom+1>=a){a=b=b>=(n.left+n.right)/2;if(la.chrome||la.gecko)d.setEnd(e,f),d.getBoundingClientRect().left==n.right&&(a=!b);return{node:e,offset:f+(a?1:0)}}}}return{node:e,offset:0}}function Aa(e,b){for(var a=b.x,c=b.y,d=2<arguments.length&&void 0!==arguments[2]?arguments[2]:-1,f=e.contentDOM.getBoundingClientRect(),g,h=e.defaultLineHeight/2,n=!1;;){g=e.blockAtHeight(c,f.top);if(g.top>c||
g.bottom<c){d=g.top>c?-1:1;c=Math.min(g.bottom-h,Math.max(g.top+h,c));if(n)return-1;n=!0}if(g.type==Da.Text)break;c=0<d?g.bottom+h:g.top-h}d=g.from;if(d<e.viewport.from)return 0==e.viewport.from?0:-1;if(d>e.viewport.to)return e.viewport.to==e.state.doc.length?e.state.doc.length:-1;a=Math.max(f.left+1,Math.min(f.right-1,a));g=e.root;h=g.elementFromPoint(a,c);f=-1;if(h&&e.contentDOM.contains(h)&&!(e.docView.nearest(h)instanceof $b))if(g.caretPositionFromPoint){if(g=g.caretPositionFromPoint(a,c)){var t=
g.offsetNode;f=g.offset}}else g.caretRangeFromPoint&&(g=g.caretRangeFromPoint(a,c))&&(t=g.startContainer,f=g.startOffset);t||(t=mb.find(e.docView,d),a=Ba(t.dom,a,c),t=a.node,f=a.offset);return e.docView.posFromDOM(t,f)}function bb(e,b,a,c){for(var d=e.state.doc.lineAt(b.head),f=e.bidiSpans(d),g=null;;){var h=q(d,f,e.textDirection,b,a),n=vc;if(!h){if(d.number==(a?e.state.doc.lines:1))return b;n="\n";d=e.state.doc.line(d.number+(a?1:-1));f=e.bidiSpans(d);h=M.EditorSelection.cursor(a?d.from:d.to)}if(!g){if(!c)return h;
g=c(n)}else if(!g(n))return b;b=h}}function Wa(e,b,a){var c=e.state.charCategorizer(b),d=c(a);return function(f){f=c(f);d==M.CharCategory.Space&&(d=f);return d==f}}function rb(e,b){if(e.state.selection.primary.empty)return!1;e=sa(e.root);if(0==e.rangeCount)return!0;e=e.getRangeAt(0).getClientRects();for(var a=0;a<e.length;a++){var c=e[a];if(c.left<=b.clientX&&c.right>=b.clientX&&c.top<=b.clientY&&c.bottom>=b.clientY)return!0}return!1}function Xa(e,b){if(!b.bubbles)return!0;if(b.defaultPrevented)return!1;
for(var a=b.target,c;a!=e.contentDOM;a=a.parentNode)if(!a||11==a.nodeType||(c=Ra.get(a))&&c.ignoreEvent(b))return!1;return!0}function Hb(e){var b=e.dom.parentNode;if(b){var a=b.appendChild(document.createElement("textarea"));a.style.cssText="position: fixed; left: -10000px; top: 10px";a.focus();setTimeout(function(){e.focus();a.remove();Ib(e,a.value)},50)}}function Ib(e,b){var a=e.state,c=1,d=a.toText(b),f=d.lines==a.selection.ranges.length;var g=ac&&a.selection.ranges.every(function(h){return h.empty})&&
ac==d.toString()?{changes:a.selection.ranges.map(function(h){return a.doc.lineAt(h.from)}).filter(function(h,n,t){return 0==n||t[n-1]!=h}).map(function(h){return{from:h.from,insert:(f?d.line(c++).slice():b)+a.lineBreak}})}:f?a.changeByRange(function(h){var n=d.line(c++);return{changes:{from:h.from,to:h.to,insert:n.slice()},range:M.EditorSelection.cursor(h.from+n.length)}}):a.replaceSelection(d);e.dispatch(g,{annotations:M.Transaction.userEvent.of("paste"),scrollIntoView:!0})}function x(e,b,a,c){if(1==
c)return M.EditorSelection.cursor(b,a);if(2==c)return pb(e.state,b,a);if(a=mb.find(e.docView,b))return M.EditorSelection.range(a.posAtStart,a.posAtEnd);e=e.state.doc.lineAt(b);return M.EditorSelection.range(e.from,e.to)}function m(e,b){var a=e.posAtCoords({x:b.clientX,y:b.clientY});if(0>a)a=null;else{var c=b.clientX;b=b.clientY;var d=mb.find(e.docView,a);if(d){var f=a-d.posAtStart;c=0==f?1:f==d.length?-1:(e=d.coordsAt(f,-1))&&xc(c,b,e)?-1:(d=d.coordsAt(f,1))&&xc(c,b,d)?1:e&&b>=e.top&&b<=e.bottom?
-1:1}else c=1;a={pos:a,bias:c}}return a}function l(e){if(!jd)return e.detail;var b=yc;yc=e;return zc=!b||b.timeStamp>Date.now()-400&&2>Math.abs(b.clientX-e.clientX)&&2>Math.abs(b.clientY-e.clientY)?(zc+1)%3:1}function k(e,b){var a=m(e,b),c=l(b),d=e.state.selection,f=a,g=b;return{update:function(h){h.changes&&(a&&(a.pos=h.changes.mapPos(a.pos)),d=d.map(h.changes))},get:function(h,n,t){if(h.clientX==g.clientX&&h.clientY==g.clientY)var w=f;else w=f=m(e,h),g=h;if(!w||!a)return d;h=x(e,w.pos,w.bias,c);
if(a.pos!=w.pos&&!n){var z=x(e,a.pos,a.bias,c);w=Math.min(z.from,h.from);z=Math.max(z.to,h.to);h=w<h.from?M.EditorSelection.range(w,z):M.EditorSelection.range(z,w)}return n?d.replaceRange(d.primary.extend(h.from,h.to)):t?d.addRange(h):M.EditorSelection.create([h])}}}function p(e,b){var a=e.dom.parentNode;if(a){var c=a.appendChild(document.createElement("textarea"));c.style.cssText="position: fixed; left: -10000px; top: 10px";c.value=b;c.focus();c.selectionEnd=b.length;c.selectionStart=0;setTimeout(function(){c.remove();
e.focus()},50)}}function r(e,b,a){for(;b;){var c=Ra.get(b);if(c&&c.parent==e)return c;c=b.parentNode;b=c!=e.dom?c:0<a?b.nextSibling:b.previousSibling}return null}function y(e,b,a,c){var d,f=e.state.selection.primary,g;if(-1<b&&(g=e.docView.domBoundsAround(b,a,0))){var h=g;b=h.from;var n=h.to;h=e.docView.impreciseHead||e.docView.impreciseAnchor?[]:K(e.contentDOM,e.root);a=new kd(h);a.readRange(g.startDOM,g.endDOM);h=L(h,b);g=f.from;var t=null;8===e.inputState.lastKeyCode&&e.inputState.lastKeyTime>
Date.now()-100&&(g=f.to,t="end");(g=C(e.state.doc.sliceString(b,n,"ï·š"),a.text,g-b,t))&&(d={from:b+g.from,to:b+g.toA,insert:M.Text.of(a.text.slice(g.from,g.toB).split("ï·š"))})}else e.hasFocus&&(b=sa(e.root),a=e.docView,g=a.impreciseHead,a=a.impreciseAnchor,g=g&&g.node==b.focusNode&&g.offset==b.focusOffset?e.state.selection.primary.head:e.docView.posFromDOM(b.focusNode,b.focusOffset),b=a&&a.node==b.anchorNode&&a.offset==b.anchorOffset?e.state.selection.primary.anchor:jb(b)?g:e.docView.posFromDOM(b.anchorNode,
b.anchorOffset),g!=f.head||b!=f.anchor)&&(h=M.EditorSelection.single(b,g));if(d||h)if(!d&&c&&!f.empty&&h&&h.primary.empty&&(d={from:f.from,to:f.to,insert:e.state.doc.slice(f.from,f.to)}),d){var w=e.state;if(!la.android||!(d.from==f.from&&d.to==f.to&&1==d.insert.length&&2==d.insert.lines&&G(e,"Enter",10)||d.from==f.from-1&&d.to==f.to&&0==d.insert.length&&G(e,"Backspace",8)||d.from==f.from&&d.to==f.to+1&&0==d.insert.length&&G(e,"Delete",46))){var z=d.insert.toString();e.state.facet(Ac).some(function(E){return E(e,
d.from,d.to,z)})||(d.from>=f.from&&d.to<=f.to&&d.to-d.from>=(f.to-f.from)/3?(h=f.from<d.from?w.doc.sliceString(f.from,d.from,"ï·š"):"",f=f.to>d.to?w.doc.sliceString(d.to,f.to,"ï·š"):"",f=w.replaceSelection(M.Text.of((h+d.insert.sliceString(0,void 0,"ï·š")+f).split("ï·š")))):(f=w.changes(d),f={changes:f,selection:h&&!w.selection.primary.eq(h.primary)&&h.primary.to<=f.newLength?w.selection.replaceRange(h.primary):void 0}),e.dispatch(f,{scrollIntoView:!0,annotations:M.Transaction.userEvent.of("input")}))}}else h&&
!h.primary.eq(f)&&(f=!1,e.inputState.lastSelectionTime>Date.now()-50&&("keyboardselection"==e.inputState.lastSelectionOrigin?f=!0:w=M.Transaction.userEvent.of(e.inputState.lastSelectionOrigin)),e.dispatch({selection:h,scrollIntoView:f,annotations:w}))}function C(e,b,a,c){for(var d=Math.min(e.length,b.length),f=0;f<d&&e.charCodeAt(f)==b.charCodeAt(f);)f++;if(f==d&&e.length==b.length)return null;d=e.length;for(var g=b.length;0<d&&0<g&&e.charCodeAt(d-1)==b.charCodeAt(g-1);)d--,g--;"end"==c&&(a-=d+Math.max(0,
f-Math.min(d,g))-f);d<f&&e.length<b.length?(f-=a<=f&&a>=d?f-a:0,g=f+(g-d),d=f):g<f&&(f-=a<=f&&a>=g?f-a:0,d=f+(d-g),g=f);return{from:f,toA:d,toB:g}}function I(e){return 1==e.nodeType&&/^(DIV|P|LI|UL|OL|BLOCKQUOTE|DD|DT|H\d|SECTION|PRE)$/.test(e.nodeName)}function K(e,b){var a=[];if(b.activeElement!=e)return a;var c=sa(b);e=c.anchorNode;b=c.anchorOffset;var d=c.focusNode;c=c.focusOffset;e&&(a.push(new Bc(e,b)),d==e&&c==b||a.push(new Bc(d,c)));return a}function L(e,b){if(0==e.length)return null;var a=
e[0].pos;e=2==e.length?e[1].pos:a;return-1<a&&-1<e?M.EditorSelection.single(a+b,e+b):null}function G(e,b,a){a={key:b,code:b,keyCode:a,which:a,cancelable:!0};b=new KeyboardEvent("keydown",a);e.contentDOM.dispatchEvent(b);a=new KeyboardEvent("keyup",a);e.contentDOM.dispatchEvent(a);return b.defaultPrevented||a.defaultPrevented}function T(e,b){return null==e?b.getBoundingClientRect().top:e}function Z(){window.addEventListener("resize",function(){-1==bc&&(bc=setTimeout(ba,50))})}function ba(){bc=-1;for(var e=
document.querySelectorAll(".cm-content"),b=0;b<e.length;b++){var a=Ra.get(e[b]);a&&a.editorView.requestMeasure()}}function ca(e,b,a){b.altKey&&(e="Alt-"+e);b.ctrlKey&&(e="Ctrl-"+e);b.metaKey&&(e="Meta-"+e);!1!==a&&b.shiftKey&&(e="Shift-"+e);return e}function da(e){var b=1<arguments.length&&void 0!==arguments[1]?arguments[1]:ld,a=Object.create(null),c=Object.create(null),d=function(Sa,Ma){var Bb=c[Sa];if(null==Bb)c[Sa]=Ma;else if(Bb!=Ma)throw Error("Key binding "+Sa+" is used both as a regular binding and as a multi-stroke prefix");
},f=function(Sa,Ma,Bb,cc){var Sb=a[Sa]||(a[Sa]=Object.create(null)),fc=Ma.split(/ (?!$)/).map(function(tb){tb=tb.split(/-(?!$)/);var Na=tb[tb.length-1];"Space"==Na&&(Na=" ");for(var Tb,Lb,Cc,dc,ec=0;ec<tb.length-1;++ec){var Cb=tb[ec];if(/^(cmd|meta|m)$/i.test(Cb))dc=!0;else if(/^a(lt)?$/i.test(Cb))Tb=!0;else if(/^(c|ctrl|control)$/i.test(Cb))Lb=!0;else if(/^s(hift)?$/i.test(Cb))Cc=!0;else if(/^mod$/i.test(Cb))"mac"==b?dc=!0:Lb=!0;else throw Error("Unrecognized modifier name: "+Cb);}Tb&&(Na="Alt-"+
Na);Lb&&(Na="Ctrl-"+Na);dc&&(Na="Meta-"+Na);Cc&&(Na="Shift-"+Na);return Na});Ma=function(tb){var Na=fc.slice(0,tb).join(" ");d(Na,!0);Sb[Na]||(Sb[Na]={preventDefault:!0,commands:[function(Tb){var Lb=ub={view:Tb,prefix:Na,scope:Sa};setTimeout(function(){ub==Lb&&(ub=null)},md);return!0}]})};for(var gc=1;gc<fc.length;gc++)Ma(gc);Ma=fc.join(" ");d(Ma,!1);Ma=Sb[Ma]||(Sb[Ma]={preventDefault:!1,commands:[]});Ma.commands.push(Bb);cc&&(Ma.preventDefault=!0)},g=!0,h=!1,n=void 0;try{for(var t=e[Symbol.iterator](),
w;!(g=(w=t.next()).done);g=!0){var z=w.value,E=z[b]||z.key;if(E){var W=!0,S=!1,ea=void 0;try{for(var pa=(z.scope?z.scope.split(" "):["editor"])[Symbol.iterator](),nb;!(W=(nb=pa.next()).done);W=!0){var qb=nb.value;f(qb,E,z.run,z.preventDefault);z.shift&&f(qb,"Shift-"+E,z.shift,z.preventDefault)}}catch(Sa){S=!0,ea=Sa}finally{try{if(!W&&null!=pa["return"])pa["return"]()}finally{if(S)throw ea;}}}}}catch(Sa){h=!0,n=Sa}finally{try{if(!g&&null!=t["return"])t["return"]()}finally{if(h)throw n;}}return a}function ra(e,
b,a,c){var d=(0,Jb.keyName)(b),f=1==d.length&&" "!=d,g="";ub&&ub.view==a&&ub.scope==c&&(g=ub.prefix+" ",ub=null);var h=!!g,n=function(ea){if(ea){var pa=!0,nb=!1,qb=void 0;try{for(var Sa=ea.commands[Symbol.iterator](),Ma;!(pa=(Ma=Sa.next()).done);pa=!0){var Bb=Ma.value;if(Bb(a))return!0}}catch(cc){nb=!0,qb=cc}finally{try{if(!pa&&null!=Sa["return"])Sa["return"]()}finally{if(nb)throw qb;}}ea.preventDefault&&(h=!0)}return!1},t=!0,w=!1,z=void 0;try{for(var E=e[Symbol.iterator](),W;!(t=(W=E.next()).done);t=
!0){var S=W.value[c];e=void 0;if(S){if(n(S[g+ca(d,b,!f)]))return!0;if(f&&(b.shiftKey||b.altKey||b.metaKey)&&(e=Jb.base[b.keyCode])&&e!=d){if(n(S[g+ca(e,b,!0)]))return!0}else if(f&&b.shiftKey&&n(S[g+ca(d,b,!0)]))return!0}}}catch(ea){w=!0,z=ea}finally{try{if(!t&&null!=E["return"])E["return"]()}finally{if(w)throw z;}}return h}function Pa(e){var b=e.ranges;e=e.primaryIndex;if(1==b.length)return na.none;for(var a=[],c=0;c<b.length;c++)if(c!=e){var d=b[c];a.push(d.empty?hc.deco.range(d.from):nd.range(b[c].from,
b[c].to))}return na.set(a)}function Qb(){if(null==ic&&"undefined"!=typeof document&&document.body){var e=document.body.style;ic=null!=(e.tabSize||e.MozTabSize)}return ic||!1}Object.defineProperty(F,"__esModule",{value:!0});F.highlightSpecialChars=function(){var e=[Ub.of(0<arguments.length&&void 0!==arguments[0]?arguments[0]:{}),od];Qb()||e.push(pd);return e};F.indentOnInput=function(){return M.EditorState.transactionFilter.of(function(e){if(!e.docChanged||"input"!=e.annotation(M.Transaction.userEvent))return e;
var b=e.startState.languageDataAt("indentOnInput",e.startState.selection.primary.head);if(!b.length)return e;var a=e.newDoc,c=e.newSelection.primary.head,d=a.lineAt(c);if(c>d.from+Dc)return e;var f=a.sliceString(d.from,c);if(!b.some(function(z){return z.test(f)}))return e;var g=e.state,h=-1,n=[];b=!0;a=!1;c=void 0;try{d=function(){var z=g.doc.lineAt(w.value.head);if(z.from==h)return"continue";h=z.from;var E=Math.max.apply(Math,qa(g.facet(M.EditorState.indentation).map(function(S){return S(new M.IndentContext(g),
z.from)})));if(0>E)return"continue";var W=/^\s*/.exec(z.slice(0,Math.min(z.length,Dc)))[0];E=g.indentString(E);W!=E&&n.push({from:z.from,to:z.from+W.length,insert:E})};for(var t=g.selection.ranges[Symbol.iterator](),w;!(b=(w=t.next()).done);b=!0)d()}catch(z){a=!0,c=z}finally{try{if(!b&&null!=t["return"])t["return"]()}finally{if(a)throw c;}}return n.length?[e,{changes:n}]:e})};F.keymap=function(e,b){return[qd,jc.of(da(e,b))]};F.logException=B;F.multipleSelections=function(){return[M.EditorState.allowMultipleSelections.of(!0),
rd]};F.runScopeHandlers=function(e,b,a){return ra(e.state.facet(jc),b,e,a)};F.themeClass=V;Object.defineProperty(F,"Range",{enumerable:!0,get:function(){return Fa.Range}});F.__test=F.WidgetType=F.ViewUpdate=F.ViewPlugin=F.PluginField=F.EditorView=F.Direction=F.Decoration=F.BlockType=F.BlockInfo=F.BidiSpan=void 0;var M=Ta(2),Qa=Ta(3),Fa=Ta(4),La=Ta(0),Jb=Ta(5),Kb=function(e,b){var a=Array.isArray(e)?e:void 0;if(!a)if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)){a=
[];var c=!0,d=!1,f=void 0;try{for(var g=e[Symbol.iterator](),h;!(c=(h=g.next()).done)&&(a.push(h.value),!b||a.length!==b);c=!0);}catch(n){d=!0,f=n}finally{try{if(!c&&null!=g["return"])g["return"]()}finally{if(d)throw f;}}}else a=void 0;if(!(e=a))throw new TypeError("Invalid attempt to destructure non-iterable instance");return e}("undefined"!=typeof navigator?[navigator,document]:[{userAgent:"",vendor:"",platform:""},{documentElement:{style:{}}}],2),Ya=Kb[0],yb=Kb[1],Ga=/Edge\/(\d+)/.exec(Ya.userAgent),
Pb=/MSIE \d/.test(Ya.userAgent),kc=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(Ya.userAgent),Vb=!!(Pb||kc||Ga),Ec=!Vb&&/gecko\/(\d+)/i.test(Ya.userAgent),lc=!Vb&&/Chrome\/(\d+)/.exec(Ya.userAgent),Fc="webkitFontSmoothing"in yb.documentElement.style,la={mac:/Mac/.test(Ya.platform),ie:Vb,ie_version:Pb?yb.documentMode||6:kc?+kc[1]:Ga?+Ga[1]:0,gecko:Ec,gecko_version:Ec?+(/Firefox\/(\d+)/.exec(Ya.userAgent)||[0,0])[1]:0,chrome:!!lc,chrome_version:lc?+lc[1]:0,ios:!Vb&&/AppleWebKit/.test(Ya.userAgent)&&
/Mobile\/\w+/.test(Ya.userAgent),android:/Android\b/.test(Ya.userAgent),webkit:Fc,safari:/Apple Computer/.test(Ya.vendor),webkit_version:Fc?+(/\bAppleWebKit\/(\d+)/.exec(navigator.userAgent)||[0,0])[1]:0,tabSize:null!=yb.documentElement.style.tabSize?"tab-size":"-moz-tab-size"},sd=function(){function e(){Q(this,e);this.anchorNode=null;this.anchorOffset=0;this.focusNode=null;this.focusOffset=0}U(e,[{key:"eq",value:function(b){return this.anchorNode==b.anchorNode&&this.anchorOffset==b.anchorOffset&&
this.focusNode==b.focusNode&&this.focusOffset==b.focusOffset}},{key:"set",value:function(b){this.anchorNode=b.anchorNode;this.anchorOffset=b.anchorOffset;this.focusNode=b.focusNode;this.focusOffset=b.focusOffset}}]);return e}(),zb=null,hb=function(){function e(b,a){var c=2<arguments.length&&void 0!==arguments[2]?arguments[2]:!0;Q(this,e);this.node=b;this.offset=a;this.precise=c}U(e,null,[{key:"before",value:function(b,a){return new e(b.parentNode,Ua(b),a)}},{key:"after",value:function(b,a){return new e(b.parentNode,
Ua(b)+1,a)}}]);return e}(),td=[],Ra=function(){function e(){Q(this,e);this.dom=this.parent=null;this.dirty=2}U(e,[{key:"posBefore",value:function(b){var a=this.posAtStart,c=!0,d=!1,f=void 0;try{for(var g=this.children[Symbol.iterator](),h;!(c=(h=g.next()).done);c=!0){var n=h.value;if(n==b)return a;a+=n.length+n.breakAfter}}catch(t){d=!0,f=t}finally{try{if(!c&&null!=g["return"])g["return"]()}finally{if(d)throw f;}}throw new RangeError("Invalid child in posBefore");}},{key:"posAfter",value:function(b){return this.posBefore(b)+
b.length}},{key:"coordsAt",value:function(b,a){return null}},{key:"sync",value:function(b){if(this.dirty&2){var a=this.dom,c=null,d=!0,f=!1,g=void 0;try{for(var h=this.children[Symbol.iterator](),n;!(d=(n=h.next()).done);d=!0){var t=n.value;if(t.dirty){var w=c?c.nextSibling:a.firstChild;!w||t.dom||e.get(w)||t.reuseDOM(w);t.sync(b);t.dirty=0}b&&b.node==a&&c!=t.dom&&(b.written=!0);var z=a,E=t.dom,W=c?c.nextSibling:z.firstChild;if(E.parentNode==z)for(;W!=E;)W=wa(W);else z.insertBefore(E,W);c=t.dom}}catch(S){f=
!0,g=S}finally{try{if(!d&&null!=h["return"])h["return"]()}finally{if(f)throw g;}}(h=c?c.nextSibling:a.firstChild)&&b&&b.node==a&&(b.written=!0);for(;h;)h=wa(h)}else if(this.dirty&1){h=!0;n=!1;t=void 0;try{for(a=this.children[Symbol.iterator]();!(h=(c=a.next()).done);h=!0)d=c.value,d.dirty&&(d.sync(b),d.dirty=0)}catch(S){n=!0,t=S}finally{try{if(!h&&null!=a["return"])a["return"]()}finally{if(n)throw t;}}}}},{key:"reuseDOM",value:function(b){return!1}},{key:"localPosFromDOM",value:function(b,a){if(b==
this.dom)b=this.dom.childNodes[a];else{for(a=0==za(b)?0:0==a?-1:1;;){var c=b.parentNode;if(c==this.dom)break;0==a&&c.firstChild!=c.lastChild&&(a=b==c.firstChild?-1:1);b=c}b=0>a?b:b.nextSibling}if(b==this.dom.firstChild)return 0;for(;b&&!e.get(b);)b=b.nextSibling;if(!b)return this.length;for(c=a=0;;a++){var d=this.children[a];if(d.dom==b)return c;c+=d.length+d.breakAfter}}},{key:"domBoundsAround",value:function(b,a){for(var c=-1,d=-1,f=-1,g=-1,h=0,n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:
0;h<this.children.length;h++){var t=this.children[h],w=n+t.length;if(n<b&&w>a)return t.domBoundsAround(b,a,n);w>=b&&-1==c&&(c=h,d=n);if(w>=a&&-1==f){f=h;g=w;break}n=w+t.breakAfter}return{from:d,to:g,startDOM:(c?this.children[c-1].dom.nextSibling:null)||this.dom.firstChild,endDOM:f<this.children.length-1?this.children[f+1].dom:null}}},{key:"markDirty",value:function(){var b=0<arguments.length&&void 0!==arguments[0]?arguments[0]:!1;this.dirty&2||(this.dirty|=2,this.markParentsDirty(b))}},{key:"markParentsDirty",
value:function(b){for(var a=this.parent;a;a=a.parent){b&&(a.dirty|=2);if(a.dirty&1)break;a.dirty|=1;b=!1}}},{key:"setParent",value:function(b){this.parent!=b&&(this.parent=b,this.dirty&&this.markParentsDirty(!0))}},{key:"setDOM",value:function(b){this.dom=b;b.cmView=this}},{key:"replaceChildren",value:function(b,a){var c,d=2<arguments.length&&void 0!==arguments[2]?arguments[2]:td;this.markDirty();for(var f=b;f<a;f++)this.children[f].parent=null;(c=this.children).splice.apply(c,[b,a-b].concat(qa(d)));
for(c=0;c<d.length;c++)d[c].setParent(this)}},{key:"ignoreMutation",value:function(b){return!1}},{key:"ignoreEvent",value:function(b){return!1}},{key:"childCursor",value:function(){return new Gc(this.children,0<arguments.length&&void 0!==arguments[0]?arguments[0]:this.length,this.children.length)}},{key:"childPos",value:function(b){var a=1<arguments.length&&void 0!==arguments[1]?arguments[1]:1;return this.childCursor().findPos(b,a)}},{key:"toString",value:function(){var b=this.constructor.name.replace("View",
"");return b+(this.children.length?"("+this.children.join()+")":this.length?"["+("Text"==b?this.text:this.length)+"]":"")+(this.breakAfter?"#":"")}},{key:"editorView",get:function(){if(!this.parent)throw Error("Accessing view in orphan content view");return this.parent.editorView}},{key:"overrideDOMText",get:function(){return null}},{key:"posAtStart",get:function(){return this.parent?this.parent.posBefore(this):0}},{key:"posAtEnd",get:function(){return this.posAtStart+this.length}},{key:"rootView",
get:function(){for(var b=this;;){var a=b.parent;if(!a)return b;b=a}}}],[{key:"get",value:function(b){return b.cmView}}]);return e}();Ra.prototype.breakAfter=0;var Gc=function(){function e(b,a,c){Q(this,e);this.children=b;this.pos=a;this.i=c;this.off=0}U(e,[{key:"findPos",value:function(b){for(var a=1<arguments.length&&void 0!==arguments[1]?arguments[1]:1;;){if(b>this.pos||b==this.pos&&(0<a||0==this.i||this.children[this.i-1].breakAfter))return this.off=b-this.pos,this;var c=this.children[--this.i];
this.pos-=c.length+c.breakAfter}}}]);return e}(),ud=[],Zb=function(e){function b(){Q(this,b);return ha(this,Y(b).apply(this,arguments))}fa(b,e);U(b,[{key:"match",value:function(a){return!1}},{key:"getSide",value:function(){return 0}},{key:"children",get:function(){return ud}}]);return b}(Ra),mc=function(e){function b(a,c,d,f){Q(this,b);var g=ha(this,Y(b).call(this));g.text=a;g.tagName=c;g.attrs=f;g.textDOM=null;g["class"]=d;return g}fa(b,e);U(b,[{key:"createDOM",value:function(a){var c=this.tagName||
(this.attrs||this["class"]?"span":null);this.textDOM=a||document.createTextNode(this.text);if(c){a=document.createElement(c);a.appendChild(this.textDOM);this["class"]&&(a.className=this["class"]);if(this.attrs)for(var d in this.attrs)a.setAttribute(d,this.attrs[d]);this.setDOM(a)}else this.setDOM(this.textDOM)}},{key:"sync",value:function(a){this.dom||this.createDOM();if(this.textDOM.nodeValue!=this.text&&(a&&a.node==this.textDOM&&(a.written=!0),this.textDOM.nodeValue=this.text,a=this.dom,this.textDOM!=
a&&(this.dom.firstChild!=this.textDOM||a.lastChild!=this.textDOM))){for(;a.firstChild;)a.removeChild(a.firstChild);a.appendChild(this.textDOM)}}},{key:"reuseDOM",value:function(a){if(3!=a.nodeType)return!1;this.createDOM(a);return!0}},{key:"merge",value:function(a){var c=1<arguments.length&&void 0!==arguments[1]?arguments[1]:this.length,d=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(d&&(!(d instanceof b&&d.tagName==this.tagName&&d["class"]==this["class"]&&cb(d.attrs,this.attrs))||
256<this.length-(c-a)+d.length))return!1;this.text=this.text.slice(0,a)+(d?d.text:"")+this.text.slice(c);this.markDirty();return!0}},{key:"slice",value:function(a){return new b(this.text.slice(a,1<arguments.length&&void 0!==arguments[1]?arguments[1]:this.length),this.tagName,this["class"],this.attrs)}},{key:"localPosFromDOM",value:function(a,c){return a==this.textDOM?c:c?this.text.length:0}},{key:"domAtPos",value:function(a){return new hb(this.textDOM,a)}},{key:"domBoundsAround",value:function(a,
c,d){return{from:d,to:d+this.length,startDOM:this.dom,endDOM:this.dom.nextSibling}}},{key:"coordsAt",value:function(a,c){return H(this.textDOM,a,c,this.length)}},{key:"length",get:function(){return this.text.length}}]);return b}(Zb),$b=function(e){function b(a,c,d,f){Q(this,b);var g=ha(this,Y(b).call(this));g.widget=a;g.length=c;g.side=d;g.open=f;return g}fa(b,e);U(b,[{key:"slice",value:function(a){return b.create(this.widget,(1<arguments.length&&void 0!==arguments[1]?arguments[1]:this.length)-a,
this.side)}},{key:"sync",value:function(){this.dom&&this.widget.updateDOM(this.dom)||(this.setDOM(this.widget.toDOM(this.editorView)),this.dom.contentEditable="false")}},{key:"getSide",value:function(){return this.side}},{key:"merge",value:function(a){var c=1<arguments.length&&void 0!==arguments[1]?arguments[1]:this.length,d=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(d){if(!(d instanceof b&&d.open)||0<a&&!(d.open&1)||c<this.length&&!(d.open&2))return!1;if(!this.widget.compare(d.widget))throw Error("Trying to merge incompatible widgets");
}this.length=a+(d?d.length:0)+(this.length-c);return!0}},{key:"match",value:function(a){return a.length==this.length&&a instanceof b&&a.side==this.side&&this.widget.constructor==a.widget.constructor?(this.widget.eq(a.widget.value)||this.markDirty(!0),this.widget=a.widget,!0):!1}},{key:"ignoreMutation",value:function(){return!0}},{key:"ignoreEvent",value:function(a){return this.widget.ignoreEvent(a)}},{key:"domAtPos",value:function(a){return 0==a?hb.before(this.dom):hb.after(this.dom,a==this.length)}},
{key:"domBoundsAround",value:function(){return null}},{key:"coordsAt",value:function(a,c){c=this.dom.getClientRects();for(var d,f=0<a?c.length-1:0;!(d=c[f],0<a?0==f:f==c.length-1||d.top<d.bottom);f+=0<a?-1:1);return d}},{key:"overrideDOMText",get:function(){if(0==this.length)return La.Text.empty;for(var a=this;a.parent;)a=a.parent;a=(a=a.editorView)&&a.state.doc;var c=this.posAtStart;return a?a.slice(c,c+this.length):La.Text.empty}}],[{key:"create",value:function(a,c,d){return new (a.customView||
b)(a,c,d,3<arguments.length&&void 0!==arguments[3]?arguments[3]:0)}}]);return b}(Zb),vd=function(e){function b(){Q(this,b);return ha(this,Y(b).apply(this,arguments))}fa(b,e);U(b,[{key:"domAtPos",value:function(a){return new hb(this.widget.value.text,a)}},{key:"sync",value:function(){this.dom||this.setDOM(this.widget.toDOM(this.editorView))}},{key:"localPosFromDOM",value:function(a,c){return c?3==a.nodeType?Math.min(c,this.length):this.length:0}},{key:"ignoreMutation",value:function(){return!1}},{key:"coordsAt",
value:function(a,c){return H(this.widget.value.text,a,c,this.length)}},{key:"overrideDOMText",get:function(){return null}}]);return b}($b),vb=function(){function e(b){Q(this,e);this.value=b}U(e,[{key:"eq",value:function(b){return this.value===b}},{key:"updateDOM",value:function(b){return!1}},{key:"compare",value:function(b){return this==b||this.constructor==b.constructor&&this.eq(b.value)}},{key:"ignoreEvent",value:function(b){return!0}},{key:"estimatedHeight",get:function(){return-1}},{key:"customView",
get:function(){return null}}]);return e}();F.WidgetType=vb;var Da;F.BlockType=Da;(function(e){e[e.Text=0]="Text";e[e.WidgetBefore=1]="WidgetBefore";e[e.WidgetAfter=2]="WidgetAfter";e[e.WidgetRange=3]="WidgetRange"})(Da||(F.BlockType=Da={}));var na=function(e){function b(a,c,d,f){Q(this,b);var g=ha(this,Y(b).call(this));g.startSide=a;g.endSide=c;g.widget=d;g.spec=f;return g}fa(b,e);U(b,[{key:"hasHeight",value:function(){return this.widget?-1<this.widget.estimatedHeight:!1}},{key:"heightRelevant",get:function(){return!1}}],
[{key:"mark",value:function(a){return new wd(a)}},{key:"widget",value:function(a){var c=a.side||0;a.block&&(c+=(2E8+1)*(0<c?1:-1));return new Wb(a,c,c,!!a.block,a.widget||null,!1)}},{key:"replace",value:function(a){var c=!!a.block,d=D(a),f=d.start;d=d.end;return new Wb(a,c?-2E8*(f?2:1):1E8*(f?-1:1),c?2E8*(d?2:1):1E8*(d?1:-1),c,a.widget||null,!0)}},{key:"line",value:function(a){return new nc(a)}},{key:"set",value:function(a){return Fa.RangeSet.of(a,1<arguments.length&&void 0!==arguments[1]?arguments[1]:
!1)}}]);return b}(Fa.RangeValue);F.Decoration=na;na.none=Fa.RangeSet.empty;na.prototype.point=!1;var wd=function(e){function b(a){Q(this,b);var c=D(a),d=c.start;c=c.end;return ha(this,Y(b).call(this,1E8*(d?-1:1),1E8*(c?1:-1),null,a))}fa(b,e);U(b,[{key:"eq",value:function(a){return this==a||a instanceof b&&this.spec.tagName==a.spec.tagName&&this.spec["class"]==a.spec["class"]&&cb(this.spec.attributes||null,a.spec.attributes||null)}},{key:"range",value:function(a){var c=1<arguments.length&&void 0!==
arguments[1]?arguments[1]:a;if(a>=c)throw new RangeError("Mark decorations may not be empty");return Ea(Y(b.prototype),"range",this).call(this,a,c)}}]);return b}(na),nc=function(e){function b(a){Q(this,b);return ha(this,Y(b).call(this,-1E8,-1E8,null,a))}fa(b,e);U(b,[{key:"eq",value:function(a){return a instanceof b&&cb(this.spec.attributes,a.spec.attributes)}},{key:"range",value:function(a){var c=1<arguments.length&&void 0!==arguments[1]?arguments[1]:a;if(c!=a)throw new RangeError("Line decoration ranges must be zero-length");
return Ea(Y(b.prototype),"range",this).call(this,a,c)}}]);return b}(na);nc.prototype.mapMode=M.MapMode.TrackBefore;nc.prototype.point=!0;var Wb=function(e){function b(a,c,d,f,g,h){Q(this,b);a=ha(this,Y(b).call(this,c,d,g,a));a.block=f;a.isReplace=h;a.mapMode=f?0>c?M.MapMode.TrackBefore:M.MapMode.TrackAfter:M.MapMode.TrackDel;return a}fa(b,e);U(b,[{key:"eq",value:function(a){var c;if(c=a instanceof b){c=this.widget;var d=a.widget;c=c==d||!!(c&&d&&c.compare(d))}return c&&this.block==a.block&&this.startSide==
a.startSide&&this.endSide==a.endSide}},{key:"range",value:function(a){var c=1<arguments.length&&void 0!==arguments[1]?arguments[1]:a;if(this.isReplace&&(a>c||a==c&&0<this.startSide&&0>this.endSide))throw new RangeError("Invalid range for replacement decoration");if(!this.isReplace&&c!=a)throw new RangeError("Widget decorations can only have zero-length ranges");return Ea(Y(b.prototype),"range",this).call(this,a,c)}},{key:"type",get:function(){return this.startSide<this.endSide?Da.WidgetRange:0>this.startSide?
Da.WidgetBefore:Da.WidgetAfter}},{key:"heightRelevant",get:function(){return this.block||!!this.widget&&5<=this.widget.estimatedHeight}}]);return b}(na);Wb.prototype.point=!0;var Hc=M.Facet.define({combine:function(e){return e.join(" ")}}),Ic=M.Facet.define({combine:function(e){return-1<e.indexOf(!0)}}),Rb=Qa.StyleModule.newName(),tc=Qa.StyleModule.newName(),sc=Qa.StyleModule.newName(),xd=N(Rb,{wrap:{position:"relative !important",boxSizing:"border-box","\x26.cm-focused":{outline_fallback:"1px dotted #212121",
outline:"5px auto -webkit-focus-ring-color"},display:"flex !important",flexDirection:"column"},scroller:{display:"flex !important",alignItems:"flex-start !important",fontFamily:"monospace",lineHeight:1.4,height:"100%",overflowX:"auto"},content:{margin:0,flexGrow:2,minHeight:"100%",display:"block",whiteSpace:"pre",boxSizing:"border-box",padding:"4px 0",outline:"none"},"content@light":{caretColor:"black"},"content@dark":{caretColor:"white"},line:{display:"block",padding:"0 2px 0 4px"},button:{verticalAlign:"middle",
color:"inherit",fontSize:"70%",padding:".2em 1em",borderRadius:"3px"},"button@light":{backgroundImage:"linear-gradient(#eff1f5, #d9d9df)",border:"1px solid #888","\x26:active":{backgroundImage:"linear-gradient(#b4b4b4, #d0d3d6)"}},"button@dark":{backgroundImage:"linear-gradient(#555, #111)",border:"1px solid #888","\x26:active":{backgroundImage:"linear-gradient(#111, #333)"}},textfield:{verticalAlign:"middle",color:"inherit",fontSize:"70%",border:"1px solid silver",padding:".2em .5em"},"textfield@light":{backgroundColor:"white"},
"textfield@dark":{border:"1px solid #555",backgroundColor:"inherit"},secondarySelection:{backgroundColor_fallback:"#3297FD",color_fallback:"white !important",backgroundColor:"Highlight",color:"HighlightText !important"},secondaryCursor:{display:"inline-block",verticalAlign:"text-top",width:0,height:"1.15em",margin:"0 -0.7px -.7em"},"secondaryCursor@light":{borderLeft:"1.4px solid #555"},"secondaryCursor@dark":{borderLeft:"1.4px solid #ddd"}}),Jc=V("line"),mb=function(e){function b(){Q(this,b);var a=
ha(this,Y(b).apply(this,arguments));a.children=[];a.length=0;a.prevAttrs=void 0;a.attrs=null;a.breakAfter=0;return a}fa(b,e);U(b,[{key:"merge",value:function(a,c,d,f){if(d){if(!(d instanceof b))return!1;this.dom||d.transferDOM(this)}f&&this.setDeco(d?d.attrs:null);d=d?d.children:[];var g=this.childCursor(),h=g.findPos(c,1);f=h.i;h=h.off;var n=g.findPos(a,-1);g=n.i;n=n.off;a-=c;c=!0;var t=!1,w=void 0;try{for(var z=d[Symbol.iterator](),E;!(c=(E=z.next()).done);c=!0)a+=E.value.length}catch(W){t=!0,w=
W}finally{try{if(!c&&null!=z["return"])z["return"]()}finally{if(t)throw w;}}this.length+=a;if(g==f&&n){z=this.children[g];if(1==d.length&&z.merge(n,h,d[0]))return!0;if(0==d.length)return z.merge(n,h,null),!0;z=z.slice(h);z.merge(0,0,d[d.length-1])?d[d.length-1]=z:d.push(z);f++;h=0}h?(z=this.children[f],d.length&&z.merge(0,h,d[d.length-1])?d.pop():z.merge(0,h,null)):f<this.children.length&&d.length&&this.children[f].merge(0,0,d[d.length-1])&&d.pop();n?(z=this.children[g],d.length&&z.merge(n,void 0,
d[0])?d.shift():z.merge(n,void 0,null),g++):g&&d.length&&this.children[g-1].merge(this.children[g-1].length,void 0,d[0])&&d.shift();for(;g<f&&d.length&&this.children[f-1].match(d[d.length-1]);)d.pop(),f--;for(;g<f&&d.length&&this.children[g].match(d[0]);)d.shift(),g++;(d.length||g!=f)&&this.replaceChildren(g,f,d);return!0}},{key:"split",value:function(a){var c=new b;c.breakAfter=this.breakAfter;if(0==this.length)return c;var d=this.childPos(a),f=d.i;if(d=d.off)c.append(this.children[f].slice(d)),
this.children[f].merge(d,void 0,null),f++;for(d=f;d<this.children.length;d++)c.append(this.children[d]);for(;0<f&&0==this.children[f-1].length;)this.children[f-1].parent=null,f--;this.children.length=f;this.markDirty();this.length=a;return c}},{key:"transferDOM",value:function(a){this.dom&&(a.setDOM(this.dom),a.prevAttrs=void 0===this.prevAttrs?this.attrs:this.prevAttrs,this.prevAttrs=void 0,this.dom=null)}},{key:"setDeco",value:function(a){cb(this.attrs,a)||(this.dom&&(this.prevAttrs=this.attrs,
this.markDirty()),this.attrs=a)}},{key:"append",value:function(a){this.children.push(a);a.setParent(this);this.length+=a.length}},{key:"addLineDeco",value:function(a){if(a=a.spec.attributes)this.attrs=ma(a,this.attrs||{})}},{key:"domAtPos",value:function(a){for(var c=0,d=0;c<this.children.length;c++){var f=this.children[c],g=d+f.length;if(!(g==d&&0>=f.getSide())){if(a>d&&a<g&&f.dom.parentNode==this.dom)return f.domAtPos(a-d);if(a<=d)break;d=g}}for(;0<c;c--)if(a=this.children[c-1].dom,a.parentNode==
this.dom)return hb.after(a);return new hb(this.dom,0)}},{key:"sync",value:function(a){this.dom||(this.setDOM(document.createElement("div")),this.dom.className=Jc,this.prevAttrs=this.attrs?null:void 0);void 0!==this.prevAttrs&&(ta(this.dom,this.prevAttrs,this.attrs),this.dom.classList.add(Jc),this.prevAttrs=void 0);Ea(Y(b.prototype),"sync",this).call(this,a);a=this.dom.lastChild;a&&("BR"==a.nodeName||Ra.get(a)instanceof mc)||(a=document.createElement("BR"),a.cmIgnore=!0,this.dom.appendChild(a))}},
{key:"measureTextSize",value:function(){if(0==this.children.length||20<this.length)return null;var a=0,c=!0,d=!1,f=void 0;try{for(var g=this.children[Symbol.iterator](),h;!(c=(h=g.next()).done);c=!0){var n=h.value;if(!(n instanceof mc))return null;var t=ab(n.dom);if(1!=t.length)return null;a+=t[0].width}}catch(w){d=!0,f=w}finally{try{if(!c&&null!=g["return"])g["return"]()}finally{if(d)throw f;}}return{lineHeight:this.dom.getBoundingClientRect().height,charWidth:a/this.length}}},{key:"coordsAt",value:function(a,
c){for(var d=0,f=0;f<this.children.length;f++){var g=this.children[f],h=d+g.length;if(h!=d&&(0>=c||h==this.length?h>=a:h>a))return g.coordsAt(a-d,c);d=h}return this.dom.lastChild.getBoundingClientRect()}},{key:"match",value:function(a){return!1}},{key:"type",get:function(){return Da.Text}}],[{key:"find",value:function(a,c){for(var d=0,f=0;;d++){var g=a.children[d];f+=g.length;if(f>=c){if(g instanceof b)return g;if(g.length)return null}f+=g.breakAfter}}}]);return b}(Ra),yd=[],Kc=function(e){function b(a,
c,d){var f=3<arguments.length&&void 0!==arguments[3]?arguments[3]:0;Q(this,b);var g=ha(this,Y(b).call(this));g.widget=a;g.length=c;g.type=d;g.open=f;g.breakAfter=0;return g}fa(b,e);U(b,[{key:"merge",value:function(a,c,d){if(!(d instanceof b&&d.open)||0<a&&!(d.open&1)||c<this.length&&!(d.open&2))return!1;if(!this.widget.compare(d.widget))throw Error("Trying to merge an open widget with an incompatible node");this.length=a+d.length+(this.length-c);return!0}},{key:"domAtPos",value:function(a){return 0==
a?hb.before(this.dom):hb.after(this.dom,a==this.length)}},{key:"split",value:function(a){var c=this.length-a;this.length=a;return new b(this.widget,c,this.type)}},{key:"sync",value:function(){this.dom&&this.widget.updateDOM(this.dom)||(this.setDOM(this.widget.toDOM(this.editorView)),this.dom.contentEditable="false")}},{key:"domBoundsAround",value:function(){return null}},{key:"match",value:function(a){return a instanceof b&&a.type==this.type&&a.widget.constructor==this.widget.constructor?(a.widget.eq(this.widget.value)||
this.markDirty(!0),this.widget=a.widget,this.length=a.length,this.breakAfter=a.breakAfter,!0):!1}},{key:"children",get:function(){return yd}},{key:"overrideDOMText",get:function(){return this.parent?this.parent.view.state.doc.slice(this.posAtStart,this.posAtEnd):M.Text.empty}}]);return b}(Ra),zd=function(){function e(b,a,c){Q(this,e);this.doc=b;this.pos=a;this.end=c;this.content=[];this.curLine=null;this.breakAtStart=0;this.text="";this.textOff=0;this.cursor=b.iter();this.skip=a}U(e,[{key:"posCovered",
value:function(){if(0==this.content.length)return!this.breakAtStart&&this.doc.lineAt(this.pos).from!=this.pos;var b=this.content[this.content.length-1];return!b.breakAfter&&!(b instanceof Kc&&b.type==Da.WidgetBefore)}},{key:"getLine",value:function(){this.curLine||this.content.push(this.curLine=new mb);return this.curLine}},{key:"addWidget",value:function(b){this.curLine=null;this.content.push(b)}},{key:"finish",value:function(){this.posCovered()||this.getLine()}},{key:"buildText",value:function(b,
a,c,d,f){for(;0<b;){if(this.textOff==this.text.length){var g=this.cursor.next(this.skip);f=g.value;var h=g.lineBreak;g=g.done;this.skip=0;if(g)throw Error("Ran out of text content when drawing inline views");if(h){this.posCovered()||this.getLine();this.content.length?this.content[this.content.length-1].breakAfter=1:this.breakAtStart=1;this.curLine=null;b--;continue}else this.text=f,this.textOff=0}f=Math.min(this.text.length-this.textOff,b);this.getLine().append(new mc(this.text.slice(this.textOff,
this.textOff+f),a,c,d));b-=f;this.textOff+=f}}},{key:"span",value:function(b,a,c){var d=null,f=null,g=null,h=!0,n=!1,t=void 0;try{for(var w=c[Symbol.iterator](),z;!(h=(z=w.next()).done);h=!0){var E=z.value.spec;E.tagName&&(d=E.tagName);E["class"]&&(f=f?f+" "+E["class"]:E["class"]);if(E.attributes)for(var W in E.attributes){var S=E.attributes[W];null!=S&&("class"==W?f=f?f+" "+S:S:(g||(g={}),"style"==W&&g.style&&(S=g.style+";"+S),g[W]=S))}}}catch(ea){n=!0,t=ea}finally{try{if(!h&&null!=w["return"])w["return"]()}finally{if(n)throw t;
}}this.buildText(a-b,d,f,g,c);this.pos=a}},{key:"point",value:function(b,a,c,d,f){d=(d?1:0)|(f?2:0);b=a-b;c instanceof Wb?c.block?(f=c.type,f!=Da.WidgetAfter||this.posCovered()||this.getLine(),this.addWidget(new Kc(c.widget||new Lc("div"),b,f,d))):this.getLine().append($b.create(c.widget||new Lc("span"),b,c.startSide,d)):this.doc.lineAt(this.pos).from==this.pos&&this.getLine().addLineDeco(c);b&&(this.textOff+b<=this.text.length?this.textOff+=b:(this.skip+=b-(this.text.length-this.textOff),this.text=
"",this.textOff=0),this.pos=a)}}],[{key:"build",value:function(b,a,c,d){b=new e(b,a,c);Fa.RangeSet.spans(d,a,c,b);b.finish();return b}}]);return e}(),Lc=function(e){function b(){Q(this,b);return ha(this,Y(b).apply(this,arguments))}fa(b,e);U(b,[{key:"toDOM",value:function(){return document.createElement(this.value)}},{key:"updateDOM",value:function(a){return a.nodeName.toLowerCase()==this.value}}]);return b}(vb),Za;F.Direction=Za;(function(e){e[e.LTR=0]="LTR";e[e.RTL=1]="RTL"})(Za||(F.Direction=Za=
{}));var uc=Za.LTR,Ad=Za.RTL,ed=aa("88888888888888888888888888888888888666888888787833333333337888888000000000000000000000000008888880000000000000000000000000088888888888888888888888888888888888887866668888088888663380888308888800000000000000000000000800000000000000000000000000000008"),fd=aa("4444448826627288999999999992222222222222222222222222222222222222222222222229999999999999999999994444444444644222822222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222999999949999999229989999223333333333"),
dd=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/,sb=function(){function e(b,a,c){Q(this,e);this.from=b;this.to=a;this.level=c}U(e,[{key:"side",value:function(b,a){return this.dir==a==b?this.to:this.from}},{key:"dir",get:function(){return this.level%2?Ad:uc}}],[{key:"find",value:function(b,a,c,d){for(var f=-1,g=0;g<b.length;g++){var h=b[g];if(h.from<=a&&h.to>=a){if(h.level==c)return g;if(0>f||(0!=d?0>d?h.from<a:h.to>a:b[f].level>h.level))f=g}}if(0>f)throw new RangeError("Index out of range");return f}}]);
return e}();F.BidiSpan=sb;var xa=[],vc="",Mc=["pre-wrap","normal","pre-line"],Nc=function(){function e(){Q(this,e);this.doc=La.Text.empty;this.lineWrapping=!1;this.direction=Za.LTR;this.heightSamples={};this.lineHeight=14;this.charWidth=7;this.lineLength=30;this.heightChanged=!1}U(e,[{key:"heightForGap",value:function(b,a){var c=this.doc.lineAt(a).number-this.doc.lineAt(b).number+1;this.lineWrapping&&(c+=Math.ceil((a-b-c*this.lineLength*.5)/this.lineLength));return this.lineHeight*c}},{key:"heightForLine",
value:function(b){return this.lineWrapping?(1+Math.max(0,Math.ceil((b-this.lineLength)/(this.lineLength-5))))*this.lineHeight:this.lineHeight}},{key:"setDoc",value:function(b){this.doc=b;return this}},{key:"mustRefresh",value:function(b,a,c){for(var d=!1,f=0;f<b.length;f++){var g=b[f];0>g?f++:this.heightSamples[Math.floor(10*g)]||(d=!0,this.heightSamples[Math.floor(10*g)]=!0)}return d||-1<Mc.indexOf(a)!=this.lineWrapping||this.direction!=c}},{key:"refresh",value:function(b,a,c,d,f,g){var h=-1<Mc.indexOf(b);
b=Math.round(c)!=Math.round(this.lineHeight)||this.lineWrapping!=h||this.direction!=a;this.lineWrapping=h;this.direction=a;this.lineHeight=c;this.charWidth=d;this.lineLength=f;if(b)for(this.heightSamples={},a=0;a<g.length;a++)c=g[a],0>c?a++:this.heightSamples[Math.floor(10*c)]=!0;return b}}]);return e}(),Oc=function(){function e(b,a){Q(this,e);this.from=b;this.heights=a;this.index=0}U(e,[{key:"more",get:function(){return this.index<this.heights.length}}]);return e}(),Db=function(){function e(b,a,
c,d,f){Q(this,e);this.from=b;this.length=a;this.top=c;this.height=d;this.type=f}U(e,[{key:"join",value:function(b){var a=(Array.isArray(this.type)?this.type:[this]).concat(Array.isArray(b.type)?b.type:[b]);return new e(this.from,this.length+b.length,this.top,this.height+b.height,a)}},{key:"to",get:function(){return this.from+this.length}},{key:"bottom",get:function(){return this.top+this.height}}]);return e}();F.BlockInfo=Db;var oa;(function(e){e[e.ByPos=0]="ByPos";e[e.ByHeight=1]="ByHeight";e[e.ByPosNoHeight=
2]="ByPosNoHeight"})(oa||(oa={}));var ib=function(){function e(b,a){var c=2<arguments.length&&void 0!==arguments[2]?arguments[2]:2;Q(this,e);this.length=b;this.height=a;this.flags=c}U(e,[{key:"setHeight",value:function(b,a){this.height!=a&&(1E-4<Math.abs(this.height-a)&&(b.heightChanged=!0),this.height=a)}},{key:"replace",value:function(b,a,c){return e.of(c)}},{key:"decomposeLeft",value:function(b,a){a.push(this)}},{key:"decomposeRight",value:function(b,a){a.push(this)}},{key:"applyChanges",value:function(b,
a,c,d){for(var f=this,g=d.length-1;0<=g;g--){var h=d[g],n=h.fromA,t=h.toA,w=h.fromB;h=h.toB;var z=f.lineAt(n,oa.ByPosNoHeight,a,0,0),E=z.to>=t?z:f.lineAt(t,oa.ByPosNoHeight,a,0,0);h+=E.to-t;for(t=E.to;0<g&&z.from<=d[g-1].toA;)n=d[g-1].fromA,w=d[g-1].fromB,g--,n<z.from&&(z=f.lineAt(n,oa.ByPosNoHeight,a,0,0));w+=z.from-n;n=z.from;w=Bd.build(c,b,w,h);f=f.replace(n,t,w)}return f.updateHeight(c,0)}},{key:"outdated",get:function(){return 0<(this.flags&2)},set:function(b){this.flags=(b?2:0)|this.flags&-3}}],
[{key:"empty",value:function(){return new ob(0,0)}},{key:"of",value:function(b){if(1==b.length)return b[0];for(var a=0,c=b.length,d=0,f=0;;)if(a==c)if(d>2*f){var g=b[a-1];g["break"]?b.splice(--a,1,g.left,null,g.right):b.splice(--a,1,g.left,g.right);c+=1+g["break"];d-=g.size}else if(f>2*d)g=b[c],g["break"]?b.splice(c,1,g.left,null,g.right):b.splice(c,1,g.left,g.right),c+=2+g["break"],f-=g.size;else break;else d<f?(g=b[a++])&&(d+=g.size):(g=b[--c])&&(f+=g.size);d=0;null==b[a-1]?(d=1,a--):null==b[a]&&
(d=1,c++);return new Cd(e.of(b.slice(0,a)),d,e.of(b.slice(c)))}}]);return e}();ib.prototype.size=1;var Pc=function(e){function b(a,c,d){Q(this,b);a=ha(this,Y(b).call(this,a,c));a.type=d;return a}fa(b,e);U(b,[{key:"blockAt",value:function(a,c,d,f){return new Db(f,this.length,d,this.height,this.type)}},{key:"lineAt",value:function(a,c,d,f,g){return this.blockAt(0,d,f,g)}},{key:"forEachLine",value:function(a,c,d,f,g,h){h(this.blockAt(0,d,f,g))}},{key:"updateHeight",value:function(a){var c=1<arguments.length&&
void 0!==arguments[1]?arguments[1]:0,d=3<arguments.length?arguments[3]:void 0;d&&d.from<=c&&d.more&&this.setHeight(a,d.heights[d.index++]);this.outdated=!1;return this}},{key:"toString",value:function(){return"block(".concat(this.length,")")}}]);return b}(ib),ob=function(e){function b(a,c){Q(this,b);a=ha(this,Y(b).call(this,a,c,Da.Text));a.collapsed=0;a.widgetHeight=0;return a}fa(b,e);U(b,[{key:"replace",value:function(a,c,d){a=d[0];return 1==d.length&&(a instanceof b||a instanceof Ab&&a.flags&4)&&
10>Math.abs(this.length-a.length)?(a instanceof Ab?a=new b(a.length,this.height):a.height=this.height,this.outdated||(a.outdated=!1),a):ib.of(d)}},{key:"updateHeight",value:function(a){var c=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,d=2<arguments.length&&void 0!==arguments[2]?arguments[2]:!1,f=3<arguments.length?arguments[3]:void 0;f&&f.from<=c&&f.more?this.setHeight(a,f.heights[f.index++]):(d||this.outdated)&&this.setHeight(a,Math.max(this.widgetHeight,a.heightForLine(this.length-
this.collapsed)));this.outdated=!1;return this}},{key:"toString",value:function(){return"line(".concat(this.length).concat(this.collapsed?-this.collapsed:"").concat(this.widgetHeight?":"+this.widgetHeight:"",")")}}]);return b}(Pc),Ab=function(e){function b(a){Q(this,b);return ha(this,Y(b).call(this,a,0))}fa(b,e);U(b,[{key:"lines",value:function(a,c){var d=a.lineAt(c).number;a=a.lineAt(c+this.length).number;return{firstLine:d,lastLine:a,lineHeight:this.height/(a-d+1)}}},{key:"blockAt",value:function(a,
c,d,f){var g=this.lines(c,f),h=g.firstLine;f=g.lineHeight;a=Math.max(0,Math.min(g.lastLine-h,Math.floor((a-d)/f)));c=c.line(h+a);return new Db(c.from,c.length,d+f*a,f,Da.Text)}},{key:"lineAt",value:function(a,c,d,f,g){if(c==oa.ByHeight)return this.blockAt(a,d,f,g);if(c==oa.ByPosNoHeight)return f=d.lineAt(a),a=f.from,new Db(a,f.to-a,0,0,Da.Text);g=this.lines(d,g);c=g.firstLine;g=g.lineHeight;a=d.lineAt(a);return new Db(a.from,a.length,f+g*(a.number-c),g,Da.Text)}},{key:"forEachLine",value:function(a,
c,d,f,g,h){var n=this.lines(d,g);g=n.firstLine;n=n.lineHeight;for(var t=a;t<c;){var w=d.lineAt(t);t==a&&(f+=n*(w.number-g));h(new Db(w.from,w.length,f,f+=n,Da.Text));t=w.to+1}}},{key:"replace",value:function(a,c,d){c=this.length-c;if(0<c){var f=d[d.length-1];f instanceof b?d[d.length-1]=new b(f.length+c):d.push(null,new b(c-1))}0<a&&(c=d[0],c instanceof b?d[0]=new b(a+c.length):d.unshift(new b(a-1),null));return ib.of(d)}},{key:"decomposeLeft",value:function(a,c){c.push(new b(a-1),null)}},{key:"decomposeRight",
value:function(a,c){c.push(null,new b(this.length-a-1))}},{key:"updateHeight",value:function(a){var c=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,d=2<arguments.length&&void 0!==arguments[2]?arguments[2]:!1,f=3<arguments.length?arguments[3]:void 0,g=c+this.length;if(f&&f.from<=c+this.length&&f.more){d=[];var h=Math.max(c,f.from);for(f.from>c&&d.push((new b(f.from-c-1)).updateHeight(a,c));h<=g&&f.more;){c=a.doc.lineAt(h).length;d.length&&d.push(null);var n=new ob(c,f.heights[f.index++]);
n.outdated=!1;d.push(n);h+=c+1}h<=g&&d.push(null,(new b(g-h)).updateHeight(a,h));a.heightChanged=!0;return ib.of(d)}if(d||this.outdated)this.setHeight(a,a.heightForGap(c,c+this.length)),this.outdated=!1;return this}},{key:"toString",value:function(){return"gap(".concat(this.length,")")}}]);return b}(ib),Cd=function(e){function b(a,c,d){Q(this,b);c=ha(this,Y(b).call(this,a.length+c+d.length,a.height+d.height,c|(a.outdated||d.outdated?2:0)));c.left=a;c.right=d;c.size=a.size+d.size;return c}fa(b,e);
U(b,[{key:"blockAt",value:function(a,c,d,f){var g=d+this.left.height;return a<g||0==this.right.height?this.left.blockAt(a,c,d,f):this.right.blockAt(a,c,g,f+this.left.length+this["break"])}},{key:"lineAt",value:function(a,c,d,f,g){var h=f+this.left.height,n=g+this.left.length+this["break"],t=c==oa.ByHeight?a<h||0==this.right.height:a<n;a=t?this.left.lineAt(a,c,d,f,g):this.right.lineAt(a,c,d,h,n);if(this["break"]||(t?a.to<n:a.from>n))return a;c=c==oa.ByPosNoHeight?oa.ByPosNoHeight:oa.ByPos;return t?
a.join(this.right.lineAt(n,c,d,h,n)):this.left.lineAt(n,c,d,f,g).join(a)}},{key:"forEachLine",value:function(a,c,d,f,g,h){var n=f+this.left.height,t=g+this.left.length+this["break"];if(this["break"])a<t&&this.left.forEachLine(a,c,d,f,g,h),c>=t&&this.right.forEachLine(a,c,d,n,t,h);else{var w=this.lineAt(t,oa.ByPos,d,f,g);a<w.from&&this.left.forEachLine(a,w.from-1,d,f,g,h);w.to>=a&&w.from<=c&&h(w);c>w.to&&this.right.forEachLine(w.to+1,c,d,n,t,h)}}},{key:"replace",value:function(a,c,d){var f=this.left.length+
this["break"];if(c<f)return this.balanced(this.left.replace(a,c,d),this.right);if(a>this.left.length)return this.balanced(this.left,this.right.replace(a-f,c-f,d));f=[];0<a&&this.decomposeLeft(a,f);var g=f.length,h=!0,n=!1,t=void 0;try{for(var w=d[Symbol.iterator](),z;!(h=(z=w.next()).done);h=!0)f.push(z.value)}catch(E){n=!0,t=E}finally{try{if(!h&&null!=w["return"])w["return"]()}finally{if(n)throw t;}}0<a&&u(f,g-1);c<this.length&&(a=f.length,this.decomposeRight(c,f),u(f,a));return ib.of(f)}},{key:"decomposeLeft",
value:function(a,c){var d=this.left.length;if(a<=d)return this.left.decomposeLeft(a,c);c.push(this.left);this["break"]&&(d++,a>=d&&c.push(null));a>d&&this.right.decomposeLeft(a-d,c)}},{key:"decomposeRight",value:function(a,c){var d=this.left.length,f=d+this["break"];if(a>=f)return this.right.decomposeRight(a-f,c);a<d&&this.left.decomposeRight(a,c);this["break"]&&a<f&&c.push(null);c.push(this.right)}},{key:"balanced",value:function(a,c){if(a.size>2*c.size||c.size>2*a.size)return ib.of(this["break"]?
[a,null,c]:[a,c]);this.left=a;this.right=c;this.height=a.height+c.height;this.outdated=a.outdated||c.outdated;this.size=a.size+c.size;this.length=a.length+this["break"]+c.length;return this}},{key:"updateHeight",value:function(a){var c=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,d=2<arguments.length&&void 0!==arguments[2]?arguments[2]:!1,f=3<arguments.length?arguments[3]:void 0,g=this.left,h=this.right,n=c+g.length+this["break"],t=null;f&&f.from<=c+g.length&&f.more?t=g=g.updateHeight(a,
c,d,f):g.updateHeight(a,c,d);f&&f.from<=n+h.length&&f.more?t=h=h.updateHeight(a,n,d,f):h.updateHeight(a,n,d);if(t)return this.balanced(g,h);this.height=this.left.height+this.right.height;this.outdated=!1;return this}},{key:"toString",value:function(){return this.left+(this["break"]?" ":"-")+this.right}},{key:"break",get:function(){return this.flags&1}}]);return b}(ib),Bd=function(){function e(b,a){Q(this,e);this.pos=b;this.oracle=a;this.nodes=[];this.lineEnd=this.lineStart=-1;this.covering=null;this.writtenTo=
b}U(e,[{key:"span",value:function(b,a){if(-1<this.lineStart){b=Math.min(a,this.lineEnd);var c=this.nodes[this.nodes.length-1];c instanceof ob?c.length+=b-this.pos:(b>this.pos||!this.isCovered)&&this.nodes.push(new ob(b-this.pos,-1));this.writtenTo=b;a>b&&(this.nodes.push(null),this.writtenTo++,this.lineStart=-1)}this.pos=a}},{key:"point",value:function(b,a,c){if(b<a||c.heightRelevant){var d=c.widget?Math.max(0,c.widget.estimatedHeight):0;b=a-b;c.block?this.addBlock(new Pc(b,d,c.type)):(b||5<=d)&&
this.addLineDeco(d,b)}else a>b&&this.span(b,a);-1<this.lineEnd&&this.lineEnd<this.pos&&(this.lineEnd=this.oracle.doc.lineAt(this.pos).to)}},{key:"enterLine",value:function(){if(!(-1<this.lineStart)){var b=this.oracle.doc.lineAt(this.pos),a=b.from;b=b.to;this.lineStart=a;this.lineEnd=b;this.writtenTo<a&&((this.writtenTo<a-1||null==this.nodes[this.nodes.length-1])&&this.nodes.push(this.blankContent(this.writtenTo,a-1)),this.nodes.push(null));this.pos>a&&this.nodes.push(new ob(this.pos-a,-1));this.writtenTo=
this.pos}}},{key:"blankContent",value:function(b,a){var c=new Ab(a-b);this.oracle.doc.lineAt(b).to==a&&(c.flags|=4);return c}},{key:"ensureLine",value:function(){this.enterLine();var b=this.nodes.length?this.nodes[this.nodes.length-1]:null;if(b instanceof ob)return b;b=new ob(0,-1);this.nodes.push(b);return b}},{key:"addBlock",value:function(b){this.enterLine();b.type!=Da.WidgetAfter||this.isCovered||this.ensureLine();this.nodes.push(b);this.writtenTo=this.pos+=b.length;b.type!=Da.WidgetBefore&&(this.covering=
b)}},{key:"addLineDeco",value:function(b,a){var c=this.ensureLine();c.length+=a;c.collapsed+=a;c.widgetHeight=Math.max(c.widgetHeight,b);this.writtenTo=this.pos+=a}},{key:"finish",value:function(b){var a=0==this.nodes.length?null:this.nodes[this.nodes.length-1];!(-1<this.lineStart)||a instanceof ob||this.isCovered?(this.writtenTo<this.pos||null==a)&&this.nodes.push(this.blankContent(this.writtenTo,this.pos)):this.nodes.push(new ob(0,-1));a=!0;var c=!1,d=void 0;try{for(var f=this.nodes[Symbol.iterator](),
g;!(a=(g=f.next()).done);a=!0){var h=g.value;h instanceof ob&&h.updateHeight(this.oracle,b);b+=h?h.length:1}}catch(n){c=!0,d=n}finally{try{if(!a&&null!=f["return"])f["return"]()}finally{if(c)throw d;}}return this.nodes}},{key:"isCovered",get:function(){return this.covering&&this.nodes[this.nodes.length-1]==this.covering}},{key:"minPointSize",get:function(){return 0}}],[{key:"build",value:function(b,a,c,d){b=new e(c,b);Fa.RangeSet.spans(a,c,d,b);return b.finish(c)}}]);return e}(),gd=function(){function e(){Q(this,
e);this.changes=[]}U(e,[{key:"compareRange",value:function(){}},{key:"comparePoint",value:function(b,a,c,d){(b<a||c&&c.heightRelevant||d&&d.heightRelevant)&&R(b,a,this.changes)}},{key:"minPointSize",get:function(){return 0}}]);return e}(),Dd=[],Qc=M.Facet.define(),Rc=M.Facet.define(),Sc=M.Facet.define(),wc=M.Facet.define(),oc=M.Facet.define(),Ac=M.Facet.define(),pc=M.Facet.define({combine:function(e){return e.length?e[0]:!0}}),Eb=function(){function e(){Q(this,e)}U(e,null,[{key:"define",value:function(){return new e}}]);
return e}();F.PluginField=Eb;Eb.scrollMargins=Eb.define();var Ed=0,Mb=M.Facet.define(),Xb=function(){function e(b,a,c){Q(this,e);this.id=b;this.create=a;this.fields=c;this.extension=Mb.of(this)}U(e,[{key:"provide",value:function(b,a){return new e(this.id,this.create,this.fields.concat({field:b,get:a}))}},{key:"decorations",value:function(b){return this.provide(Tc,b||function(a){return a.decorations})}},{key:"eventHandlers",value:function(b){return this.provide(Uc,function(a){return{plugin:a,handlers:b}})}}],
[{key:"define",value:function(b){return new e(Ed++,b,[])}},{key:"fromClass",value:function(b){return e.define(function(a){return new b(a)})}}]);return e}();F.ViewPlugin=Xb;var Tc=Eb.define(),Uc=Eb.define(),Nb=function(){function e(b,a){Q(this,e);this.value=b;this.spec=a;this.updateFunc=this.value.update?this.value.update.bind(this.value):function(){}}U(e,[{key:"takeField",value:function(b,a){var c=!0,d=!1,f=void 0;try{for(var g=this.spec.fields[Symbol.iterator](),h;!(c=(h=g.next()).done);c=!0){var n=
h.value,t=n.get;n.field==b&&a.push(t(this.value))}}catch(w){d=!0,f=w}finally{try{if(!c&&null!=g["return"])g["return"]()}finally{if(d)throw f;}}}},{key:"update",value:function(b){try{return this.updateFunc(b),this}catch(a){B(b.state,a,"CodeMirror plugin crashed");if(this.value.destroy)try{this.value.destroy()}catch(c){}return e.dummy}}},{key:"destroy",value:function(b){try{this.value.destroy&&this.value.destroy()}catch(a){B(b.state,a,"CodeMirror plugin crashed")}}}],[{key:"create",value:function(b,
a){try{var c=b.create(a)}catch(d){return B(a.state,d,"CodeMirror plugin crashed"),e.dummy}return new e(c,b)}}]);return e}();Nb.dummy=new Nb({},Xb.define(function(){return{}}));var Vc=M.Facet.define({combine:function(e){return e.reduce(function(b,a){return ma(a,b)},{})}}),Wc=M.Facet.define({combine:function(e){return e.reduce(function(b,a){return ma(a,b)},{})}}),wb=M.Facet.define(),Ob=M.Facet.define(),Fb=function(){function e(b,a,c,d){Q(this,e);this.fromA=b;this.toA=a;this.fromB=c;this.toB=d}U(e,[{key:"join",
value:function(b){return new e(Math.min(this.fromA,b.fromA),Math.max(this.toA,b.toA),Math.min(this.fromB,b.fromB),Math.max(this.toB,b.toB))}},{key:"addToSet",value:function(b){for(var a=b.length,c=this;0<a;a--){var d=b[a-1];if(!(d.fromA>c.toA)){if(d.toA<c.fromA)break;c=c.join(d);b.splice(a-1,1)}}b.splice(a,0,c);return b}}],[{key:"extendWithRanges",value:function(b,a){if(0==a.length)return b;for(var c=[],d=0,f=0,g=0,h=0;;d++){var n=d==b.length?null:b[d];g-=h;for(var t=n?n.fromB:1E9;f<a.length&&a[f]<
t;){var w=a[f+1],z=Math.max(h,a[f]),E=Math.min(t,w);z<=E&&(new e(z+g,E+g,z,E)).addToSet(c);if(w>t)break;else f+=2}if(!n)return c;(new e(n.fromA,n.toA,n.fromB,n.toB)).addToSet(c);g=n.toA;h=n.toB}}}]);return e}(),qc=function(){function e(b,a){var c=2<arguments.length&&void 0!==arguments[2]?arguments[2]:Dd;Q(this,e);this.view=b;this.state=a;this.transactions=c;this.flags=0;this.prevState=b.state;this.changes=M.ChangeSet.empty(this.prevState.doc.length);var d=!0,f=!1,g=void 0;try{for(var h=c[Symbol.iterator](),
n;!(d=(n=h.next()).done);d=!0)this.changes=this.changes.compose(n.value.changes)}catch(w){f=!0,g=w}finally{try{if(!d&&null!=h["return"])h["return"]()}finally{if(f)throw g;}}var t=[];this.changes.iterChangedRanges(function(w,z,E,W){return t.push(new Fb(w,z,E,W))});this.changedRanges=t;c=b.hasFocus;c!=b.inputState.notifiedFocused&&(b.inputState.notifiedFocused=c,1!=this.flags);this.docChanged&&(this.flags|=2)}U(e,[{key:"viewportChanged",get:function(){return 0<(this.flags&4)}},{key:"heightChanged",
get:function(){return 0<(this.flags&2)}},{key:"focusChanged",get:function(){return 0<(this.flags&1)}},{key:"docChanged",get:function(){return this.transactions.some(function(b){return b.docChanged})}},{key:"selectionSet",get:function(){return this.transactions.some(function(b){return b.selection})}},{key:"empty",get:function(){return 0==this.flags&&0==this.transactions.length}}]);return e}();F.ViewUpdate=qc;var Yb=function(){function e(b,a,c){Q(this,e);this.from=b;this.to=a;this.size=c}U(e,[{key:"draw",
value:function(b){return na.replace({widget:new Fd({size:this.size,vertical:b})}).range(this.from,this.to)}}],[{key:"same",value:function(b,a){if(b.length!=a.length)return!1;for(var c=0;c<b.length;c++){var d=b[c],f=a[c];if(d.from!=f.from||d.to!=f.to||d.size!=f.size)return!1}return!0}}]);return e}(),Fd=function(e){function b(){Q(this,b);return ha(this,Y(b).apply(this,arguments))}fa(b,e);U(b,[{key:"toDOM",value:function(){var a=document.createElement("div");this.value.vertical?a.style.height=this.value.size+
"px":(a.style.width=this.value.size+"px",a.style.height="2px",a.style.display="inline-block");return a}},{key:"eq",value:function(a){return this.value.size==a.size&&this.value.vertical==a.vertical}},{key:"estimatedHeight",get:function(){return this.value.vertical?this.value.size:-1}}]);return b}(vb),Xc=function(){function e(b){Q(this,e);this.state=b;this.pixelViewport={left:0,right:window.innerWidth,top:0,bottom:0};this.paddingBottom=this.paddingTop=0;this.heightOracle=new Nc;this.heightMap=ib.empty();
this.scrollTo=null;this.printing=!1;this.visibleRanges=[];this.mustEnforceCursorAssoc=!1;this.heightMap=this.heightMap.applyChanges(b.facet(wb),La.Text.empty,this.heightOracle.setDoc(b.doc),[new Fb(0,0,0,b.doc.length)]);this.viewport=this.getViewport(0,null);this.lineGaps=this.ensureLineGaps([]);this.lineGapDeco=na.set(this.lineGaps.map(function(a){return a.draw(!1)}));this.computeVisibleRanges()}U(e,[{key:"update",value:function(b){var a=1<arguments.length&&void 0!==arguments[1]?arguments[1]:null,
c=this.state;this.state=b.state;var d=this.state.facet(wb),f=Fb.extendWithRanges(b.changedRanges,v(b.prevState.facet(wb),d,b?b.changes:M.ChangeSet.empty(this.state.doc.length))),g=this.heightMap.height;this.heightMap=this.heightMap.applyChanges(d,c.doc,this.heightOracle.setDoc(this.state.doc),f);this.heightMap.height!=g&&(b.flags|=2);c=f.length?this.mapViewport(this.viewport,b.changes):this.viewport;if(a&&(a.head<c.from||a.head>c.to)||!this.viewportIsAppropriate(c))c=this.getViewport(0,a);c.eq(this.viewport)||
(this.viewport=c,b.flags|=4);if(this.lineGaps.length||15E3<this.viewport.to-this.viewport.from)b.flags|=this.updateLineGaps(this.ensureLineGaps(this.mapLineGaps(this.lineGaps,b.changes)));this.computeVisibleRanges();a&&(this.scrollTo=a);!this.mustEnforceCursorAssoc&&b.selectionSet&&b.view.lineWrapping&&b.state.selection.primary.empty&&b.state.selection.primary.assoc&&(this.mustEnforceCursorAssoc=!0)}},{key:"measure",value:function(b,a){var c=b.dom,d="",f=Za.LTR;if(!a){var g=window.getComputedStyle(c);
d=g.whiteSpace;f="rtl"==g.direction?Za.RTL:Za.LTR;this.paddingTop=parseInt(g.paddingTop)||0;this.paddingBottom=parseInt(g.paddingBottom)||0}if(this.printing)g={top:-1E8,bottom:1E8,left:-1E8,right:1E8};else{g=this.paddingTop;var h=c.getBoundingClientRect(),n=Math.max(0,h.left),t=Math.min(innerWidth,h.right),w=Math.max(0,h.top),z=Math.min(innerHeight,h.bottom);for(c=c.parentNode;c;)if(1==c.nodeType){if((c.scrollHeight>c.clientHeight||c.scrollWidth>c.clientWidth)&&"visible"!=window.getComputedStyle(c).overflow){var E=
c.getBoundingClientRect();n=Math.max(n,E.left);t=Math.min(t,E.right);w=Math.max(w,E.top);z=Math.min(z,E.bottom)}c=c.parentNode}else if(11==c.nodeType)c=c.host;else break;g={left:n-h.left,right:t-h.left,top:w-(h.top+g),bottom:z-(h.top+g)}}n=g;g=n.top-this.pixelViewport.top;h=n.bottom-this.pixelViewport.bottom;this.pixelViewport=n;if(this.pixelViewport.bottom<=this.pixelViewport.top||this.pixelViewport.right<=this.pixelViewport.left)return 0;t=b.measureVisibleLineHeights();w=!1;n=0;a||(this.heightOracle.mustRefresh(t,
d,f)&&(a=b.measureTextSize(),w=a.charWidth,w=this.heightOracle.refresh(d,f,a.lineHeight,w,b.dom.clientWidth/w,t))&&(b.minWidth=0),0<g&&0<h?n=Math.max(g,h):0>g&&0>h&&(n=Math.min(g,h)));this.heightOracle.heightChanged=!1;this.heightMap=this.heightMap.updateHeight(this.heightOracle,0,w,new Oc(this.viewport.from,t));d=this.heightOracle.heightChanged?2:0;if(!this.viewportIsAppropriate(this.viewport,n)||this.scrollTo&&(this.scrollTo.head<this.viewport.from||this.scrollTo.head>this.viewport.to))this.viewport=
this.getViewport(n,this.scrollTo),d|=4;if(this.lineGaps.length||15E3<this.viewport.to-this.viewport.from)d|=this.updateLineGaps(this.ensureLineGaps(w?[]:this.lineGaps));this.computeVisibleRanges();this.mustEnforceCursorAssoc&&(this.mustEnforceCursorAssoc=!1,b.enforceCursorAssoc());return d}},{key:"getViewport",value:function(b,a){var c=.5-Math.max(-.5,Math.min(.5,b/1E3/2));b=this.heightMap;var d=this.state.doc,f=this.pixelViewport,g=f.top;f=f.bottom;c=new Gb(b.lineAt(g-1E3*c,oa.ByHeight,d,0,0).from,
b.lineAt(f+1E3*(1-c),oa.ByHeight,d,0,0).to);a&&(a.head<c.from?(a=b.lineAt(a.head,oa.ByPos,d,0,0).top,c=new Gb(b.lineAt(a-500,oa.ByHeight,d,0,0).from,b.lineAt(a+(f-g)+500,oa.ByHeight,d,0,0).to)):a.head>c.to&&(a=b.lineAt(a.head,oa.ByPos,d,0,0).bottom,c=new Gb(b.lineAt(a-(f-g)-500,oa.ByHeight,d,0,0).from,b.lineAt(a+500,oa.ByHeight,d,0,0).to)));return c}},{key:"mapViewport",value:function(b,a){var c=a.mapPos(b.from,-1);b=a.mapPos(b.to,1);return new Gb(this.heightMap.lineAt(c,oa.ByPos,this.state.doc,0,
0).from,this.heightMap.lineAt(b,oa.ByPos,this.state.doc,0,0).to)}},{key:"viewportIsAppropriate",value:function(b){var a=b.from,c=b.to,d=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,f=this.heightMap.lineAt(a,oa.ByPos,this.state.doc,0,0).top,g=this.heightMap.lineAt(c,oa.ByPos,this.state.doc,0,0).bottom;return(0==a||f<=this.pixelViewport.top-Math.max(10,Math.min(-d,250)))&&(c==this.state.doc.length||g>=this.pixelViewport.bottom+Math.max(10,Math.min(d,250)))&&f>this.pixelViewport.top-2E3&&
g<this.pixelViewport.bottom+2E3}},{key:"mapLineGaps",value:function(b,a){if(!b.length||a.empty)return b;var c=[],d=!0,f=!1,g=void 0;try{for(var h=b[Symbol.iterator](),n;!(d=(n=h.next()).done);d=!0){var t=n.value;a.touchesRange(t.from,t.to)||c.push(new Yb(a.mapPos(t.from),a.mapPos(t.to),t.size))}}catch(w){f=!0,g=w}finally{try{if(!d&&null!=h["return"])h["return"]()}finally{if(f)throw g;}}return c}},{key:"ensureLineGaps",value:function(b){var a=this,c=[];if(this.heightOracle.direction!=Za.LTR)return c;
this.heightMap.forEachLine(this.viewport.from,this.viewport.to,this.state.doc,0,0,function(d){if(!(1E4>d.length)){var f=J(d.from,d.to,a.state);if(!(1E4>f.total)){if(a.heightOracle.lineWrapping){var g=d.from!=a.viewport.from?d.from:O(f,(a.pixelViewport.top-d.top)/d.height);var h=d.to!=a.viewport.to?d.to:O(f,(a.pixelViewport.bottom-d.top)/d.height)}else h=f.total*a.heightOracle.charWidth,g=O(f,a.pixelViewport.left/h),h=O(f,a.pixelViewport.right/h);var n=a.state.selection.primary;n.from<=g&&n.to>=d.from&&
(g=n.from);n.from<=d.to&&n.to>=h&&(h=n.to);var t=g-1E4,w=h+1E4;t>d.from+5E3&&c.push(X(b,function(z){return z.from==d.from&&z.to>t-5E3&&z.to<t+5E3})||new Yb(d.from,t,a.gapSize(d,t,!0,f)));w<d.to-5E3&&c.push(X(b,function(z){return z.to==d.to&&z.from>w-5E3&&z.from<w+5E3})||new Yb(w,d.to,a.gapSize(d,w,!1,f)))}}});return c}},{key:"gapSize",value:function(b,a,c,d){if(this.heightOracle.lineWrapping)return d=b.height*P(d,a),c?d:b.height-d;b=P(d,a);return d.total*this.heightOracle.charWidth*(c?b:1-b)}},{key:"updateLineGaps",
value:function(b){var a=this;return Yb.same(b,this.lineGaps)?0:(this.lineGaps=b,this.lineGapDeco=na.set(b.map(function(c){return c.draw(a.heightOracle.lineWrapping)})),16)}},{key:"computeVisibleRanges",value:function(){var b=this.state.facet(wb);this.lineGaps.length&&(b=b.concat(this.lineGapDeco));var a=[];Fa.RangeSet.spans(b,this.viewport.from,this.viewport.to,{span:function(c,d){a.push({from:c,to:d})},point:function(){},minPointSize:20});this.visibleRanges=a}},{key:"lineAt",value:function(b,a){return this.heightMap.lineAt(b,
oa.ByPos,this.state.doc,a+this.paddingTop,0)}},{key:"lineAtHeight",value:function(b,a){return this.heightMap.lineAt(b,oa.ByHeight,this.state.doc,a+this.paddingTop,0)}},{key:"blockAtHeight",value:function(b,a){return this.heightMap.blockAt(b,this.state.doc,a+this.paddingTop,0)}},{key:"forEachLine",value:function(b,a,c,d){return this.heightMap.forEachLine(b,a,this.state.doc,d+this.paddingTop,0,c)}}]);return e}(),Gb=function(){function e(b,a){Q(this,e);this.from=b;this.to=a}U(e,[{key:"eq",value:function(b){return this.from==
b.from&&this.to==b.to}}]);return e}(),Gd=[],Yc=function(e){function b(a){Q(this,b);var c=ha(this,Y(b).call(this));c.view=a;c.viewports=Gd;c.compositionDeco=na.none;c.decorations=[];c.minWidth=0;c.minWidthFrom=0;c.minWidthTo=0;c.impreciseAnchor=null;c.impreciseHead=null;c.setDOM(a.contentDOM);c.children=[new mb];c.children[0].setParent(ya(c));c.updateInner([new Fb(0,0,0,a.state.doc.length)],c.updateDeco(),0);return c}fa(b,e);U(b,[{key:"update",value:function(a){var c=this,d,f=a.changedRanges;0<this.minWidth&&
f.length&&(f.every(function(n){var t=n.fromA;return n.toA<c.minWidthFrom||t>c.minWidthTo})?(this.minWidthFrom=a.changes.mapPos(this.minWidthFrom,1),this.minWidthTo=a.changes.mapPos(this.minWidthTo,1)):this.minWidth=0);null!==(d=this.view.inputState)&&void 0!==d&&d.composing?a.transactions.length&&(this.compositionDeco=ka(this.view,a.changes)):this.compositionDeco=na.none;d=(la.ie||la.chrome)&&!this.compositionDeco.size&&a&&a.state.doc.lines!=a.prevState.doc.lines;var g=this.decorations,h=this.updateDeco();
g=eb(g,h,a.changes);f=Fb.extendWithRanges(f,g);g=a.transactions.some(function(n){return"pointerselection"==n.annotation(M.Transaction.userEvent)});if(0==this.dirty&&0==f.length&&!(a.flags&20)&&a.state.selection.primary.from>=this.view.viewport.from&&a.state.selection.primary.to<=this.view.viewport.to)return this.updateSelection(d,g),!1;this.updateInner(f,h,a.prevState.doc.length,d,g);return!0}},{key:"updateInner",value:function(a,c,d){var f=this,g=3<arguments.length&&void 0!==arguments[3]?arguments[3]:
!1,h=4<arguments.length&&void 0!==arguments[4]?arguments[4]:!1;this.updateChildren(a,c,d);this.view.observer.ignore(function(){f.dom.style.height=f.view.viewState.heightMap.height+"px";f.dom.style.minWidth=f.minWidth?f.minWidth+"px":"";var n=la.chrome?{node:sa(f.view.root).focusNode,written:!1}:void 0;f.sync(n);f.dirty=0;if(null===n||void 0===n?0:n.written)g=!0;f.updateSelection(g,h);f.dom.style.height=""})}},{key:"updateChildren",value:function(a,c,d){d=this.childCursor(d);for(var f=a.length-1;;f--){var g=
0<=f?a[f]:null;if(!g)break;var h=g.fromA,n=g.toA,t=zd.build(this.view.state.doc,g.fromB,g.toB,c);g=t.content;t=t.breakAtStart;var w=d.findPos(n,1);n=w.i;w=w.off;h=d.findPos(h,-1);this.replaceRange(h.i,h.off,n,w,g,t)}}},{key:"replaceRange",value:function(a,c,d,f,g,h){var n=this.children[a],t=g.length?g[g.length-1]:null,w=t?t.breakAfter:h;if(a!=d||h||w||!(2>g.length)||!n.merge(c,f,g.length?t:null,0==c)){var z=this.children[d];f<z.length||z.children.length&&0==z.children[z.children.length-1].length?
(a==d&&(z=z.split(f),f=0),!w&&t&&z.merge(0,f,t,!0)?g[g.length-1]=z:((f||z.children.length&&0==z.children[0].length)&&z.merge(0,f,null,!1),g.push(z))):z.breakAfter&&(t?t.breakAfter=1:h=1);d++;n.breakAfter=h;0<c&&(!h&&g.length&&n.merge(c,n.length,g[0],!1)?n.breakAfter=g.shift().breakAfter:(c<n.length||n.children.length&&0==n.children[n.children.length-1].length)&&n.merge(c,n.length,null,!1),a++);for(;a<d&&g.length;)if(this.children[d-1].match(g[g.length-1]))d--,g.pop();else if(this.children[a].match(g[0]))a++,
g.shift();else break;(a<d||g.length)&&this.replaceChildren(a,d,g)}}},{key:"updateSelection",value:function(){var a=0<arguments.length&&void 0!==arguments[0]?arguments[0]:!1;if(1<arguments.length&&void 0!==arguments[1]&&arguments[1]||this.mayControlSelection()){var c=this.view.state.selection.primary,d=this.domAtPos(c.anchor),f=this.domAtPos(c.head),g=sa(this.root);(a||!g.focusNode||la.gecko&&c.empty&&Ca(g.focusNode,g.focusOffset)||!db(d.node,d.offset,g.anchorNode,g.anchorOffset)||!db(f.node,f.offset,
g.focusNode,g.focusOffset))&&this.view.observer.ignore(function(){if(c.empty){if(la.gecko){var h=Ca(d.node,d.offset);if(h&&3!=h){var n=Ka(d.node,d.offset,1==h?1:-1);n&&(d=new hb(n,1==h?0:n.nodeValue.length))}}g.collapse(d.node,d.offset);null!=c.bidiLevel&&null!=g.cursorBidiLevel&&(g.cursorBidiLevel=c.bidiLevel)}else g.extend?(g.collapse(d.node,d.offset),g.extend(f.node,f.offset)):(h=document.createRange(),c.anchor>c.head&&(n=[f,d],d=n[0],f=n[1]),h.setEnd(f.node,f.offset),h.setStart(d.node,d.offset),
g.removeAllRanges(),g.addRange(h))});this.impreciseAnchor=d.precise?null:new hb(g.anchorNode,g.anchorOffset);this.impreciseHead=f.precise?null:new hb(g.focusNode,g.focusOffset)}}},{key:"enforceCursorAssoc",value:function(){var a=this.view.state.selection.primary,c=sa(this.root);if(a.empty&&a.assoc&&c.modify){var d=mb.find(this,a.head);if(d){var f=d.posAtStart;a.head!=f&&a.head!=f+d.length&&(d=this.coordsAt(a.head,-1),f=this.coordsAt(a.head,1),!d||!f||d.bottom>f.top||(d=this.domAtPos(a.head+a.assoc),
c.collapse(d.node,d.offset),c.modify("move",0>a.assoc?"forward":"backward","lineboundary")))}}}},{key:"mayControlSelection",value:function(){return this.view.state.facet(pc)?this.root.activeElement==this.dom:va(this.dom,sa(this.root))}},{key:"nearest",value:function(a){for(;a;){var c=Ra.get(a);if(c&&c.rootView==this)return c;a=a.parentNode}return null}},{key:"posFromDOM",value:function(a,c){var d=this.nearest(a);if(!d)throw new RangeError("Trying to find position for a DOM position outside of the document");
return d.localPosFromDOM(a,c)+d.posAtStart}},{key:"domAtPos",value:function(a){var c=this.childCursor().findPos(a,-1);a=c.i;for(c=c.off;a<this.children.length-1;){var d=this.children[a];if(c<d.length||d instanceof mb)break;a++;c=0}return this.children[a].domAtPos(c)}},{key:"coordsAt",value:function(a,c){for(var d=this.length,f=this.children.length-1;;f--){var g=this.children[f];d=d-g.breakAfter-g.length;if(a>=d&&g.type!=Da.WidgetAfter)return g.coordsAt(a-d,c)}}},{key:"measureVisibleLineHeights",value:function(){var a=
[],c=this.view.viewState.viewport,d=c.from;c=c.to;for(var f=Math.max(this.view.scrollDOM.clientWidth,this.minWidth)+1,g=0,h=0;h<this.children.length;h++){var n=this.children[h],t=g+n.length;if(t>c)break;if(g>=d){a.push(n.dom.getBoundingClientRect().height);var w=n.dom.scrollWidth;w>f&&(this.minWidth=f=w,this.minWidthFrom=g,this.minWidthTo=t)}g=t+n.breakAfter}return a}},{key:"measureTextSize",value:function(){var a=this,c=!0,d=!1,f=void 0;try{for(var g=this.children[Symbol.iterator](),h;!(c=(h=g.next()).done);c=
!0){var n=h.value;if(n instanceof mb){var t=n.measureTextSize();if(t)return t}}}catch(W){d=!0,f=W}finally{try{if(!c&&null!=g["return"])g["return"]()}finally{if(d)throw f;}}var w=document.createElement("div"),z,E;w.className="cm-line";w.textContent="abc def ghi jkl mno pqr stu";this.view.observer.ignore(function(){a.dom.appendChild(w);var W=ab(w.firstChild)[0];z=w.getBoundingClientRect().height;E=W?W.width/27:7;w.remove()});return{lineHeight:z,charWidth:E}}},{key:"childCursor",value:function(){var a=
0<arguments.length&&void 0!==arguments[0]?arguments[0]:this.length,c=this.children.length;c&&(a-=this.children[--c].length);return new Gc(this.children,a,c)}},{key:"computeBlockGapDeco",value:function(){var a=this.view.viewState.viewport,c=[a],d=this.view.state.selection.primary,f=d.head,g=d.anchor;if(f<a.from||f>a.to)a=this.view.viewState.lineAt(f,0),c.push(new Gb(a.from,a.to));c.some(function(w){var z=w.to;return g>=w.from&&g<=z})||(a=this.view.viewState.lineAt(g,0),c.push(new Gb(a.from,a.to)));
this.viewports=c.sort(function(w,z){return w.from-z.from});a=[];for(f=d=0;;f++){var h=f==c.length?null:c[f],n=h?h.from-1:this.length;if(n>d){var t=this.view.viewState.lineAt(n,0).bottom-this.view.viewState.lineAt(d,0).top;a.push(na.replace({widget:new Hd(t),block:!0,inclusive:!0}).range(d,n))}if(!h)break;d=h.to+1}return na.set(a)}},{key:"updateDeco",value:function(){return this.decorations=[].concat(qa(this.view.state.facet(wb)),[this.computeBlockGapDeco(),this.view.viewState.lineGapDeco,this.compositionDeco],
qa(this.view.pluginField(Tc)))}},{key:"scrollPosIntoView",value:function(a,c){var d;if(a=this.coordsAt(a,c)){var f=d=c=0,g=0,h=!0,n=!1,t=void 0;try{for(var w=this.view.pluginField(Eb.scrollMargins)[Symbol.iterator](),z;!(h=(z=w.next()).done);h=!0){var E=z.value;if(E){var W=E.left,S=E.right,ea=E.top;var pa=E.bottom;null!=W&&(c=Math.max(c,W));null!=S&&(d=Math.max(d,S));null!=ea&&(f=Math.max(f,ea));null!=pa&&(g=Math.max(g,pa))}}}catch(nb){n=!0,t=nb}finally{try{if(!h&&null!=w["return"])w["return"]()}finally{if(n)throw t;
}}E=this.dom;w={left:a.left-c,top:a.top-f,right:a.right+d,bottom:a.bottom+g};z=E.ownerDocument.defaultView;for(E=E.parentNode;E;)if(1==E.nodeType){if(W=E==document.body)pa=0,a=z.innerWidth,c=0,d=z.innerHeight;else{if(E.scrollHeight<=E.clientHeight&&E.scrollWidth<=E.clientWidth){E=E.parentNode;continue}S=E.getBoundingClientRect();pa=S.left;a=S.left+E.clientWidth;c=S.top;d=S.top+E.clientHeight}ea=S=0;w.top<c?ea=-(c-w.top+5):w.bottom>d&&(ea=w.bottom-d+5);w.left<pa?S=-(pa-w.left+5):w.right>a&&(S=w.right-
a+5);if(S||ea)W?z.scrollBy(S,ea):(ea&&(pa=E.scrollTop,E.scrollTop+=ea,ea=E.scrollTop-pa),S&&(pa=E.scrollLeft,E.scrollLeft+=S,S=E.scrollLeft-pa),w={left:w.left-S,top:w.top-ea,right:w.right-S,bottom:w.bottom-ea});if(W)break;E=E.parentNode}else if(11==E.nodeType)E=E.host;else break}}},{key:"root",get:function(){return this.view.root}},{key:"editorView",get:function(){return this.view}},{key:"length",get:function(){return this.view.state.doc.length}}]);return b}(Ra),Hd=function(e){function b(){Q(this,
b);return ha(this,Y(b).apply(this,arguments))}fa(b,e);U(b,[{key:"toDOM",value:function(){var a=document.createElement("div");this.updateDOM(a);return a}},{key:"updateDOM",value:function(a){if(1E7>this.value){for(;a.lastChild;)a.lastChild.remove();a.style.height=this.value+"px"}else{a.style.height="";for(var c=this.value;0<c;c-=1E7)a.appendChild(document.createElement("div")).style.height=Math.min(c,1E7)+"px"}return!0}},{key:"estimatedHeight",get:function(){return this.value}}]);return b}(vb),hd=function(e){function b(){Q(this,
b);return ha(this,Y(b).apply(this,arguments))}fa(b,e);U(b,[{key:"eq",value:function(a){return this.value.top==a.top&&this.value.text==a.text}},{key:"toDOM",value:function(){return this.value.top}},{key:"ignoreEvent",value:function(){return!1}},{key:"customView",get:function(){return vd}}]);return b}(vb),id=function(){function e(){Q(this,e);this.changes=[]}U(e,[{key:"compareRange",value:function(b,a){R(b,a,this.changes)}},{key:"comparePoint",value:function(b,a){R(b,a,this.changes)}}]);return e}(),
Jd=function(){function e(b){var a=this;Q(this,e);this.lastKeyTime=this.lastKeyCode=0;this.lastSelectionOrigin=null;this.lastSelectionTime=0;this.registeredEvents=[];this.customHandlers=[];this.composing=!1;this.compositionEndedAt=0;this.mouseSelection=null;var c=function(f){var g=Ha[f];b.contentDOM.addEventListener(f,function(h){Xa(b,h)&&!a.ignoreDuringComposition(h)&&(a.mustFlushObserver(h)&&b.observer.forceFlush(),a.runCustomHandlers(f,b,h)?h.preventDefault():g(b,h))});a.registeredEvents.push(f)},
d;for(d in Ha)c(d);b.contentDOM.addEventListener("keydown",function(f){b.inputState.lastKeyCode=f.keyCode;b.inputState.lastKeyTime=Date.now()});b.root.activeElement==b.contentDOM&&b.dom.classList.add("cm-focused");this.notifiedFocused=b.hasFocus;this.ensureHandlers(b)}U(e,[{key:"setSelectionOrigin",value:function(b){this.lastSelectionOrigin=b;this.lastSelectionTime=Date.now()}},{key:"ensureHandlers",value:function(b){var a=this,c=this.customHandlers=b.pluginField(Uc),d=!0,f=!1,g=void 0;try{for(var h=
c[Symbol.iterator](),n;!(d=(n=h.next()).done);d=!0){var t=n.value;c=function(z){0>a.registeredEvents.indexOf(z)&&(a.registeredEvents.push(z),("scroll"!=z?b.contentDOM:b.scrollDOM).addEventListener(z,function(E){Xa(b,E)&&a.runCustomHandlers(z,b,E)&&E.preventDefault()}))};for(var w in t.handlers)c(w)}}catch(z){f=!0,g=z}finally{try{if(!d&&null!=h["return"])h["return"]()}finally{if(f)throw g;}}}},{key:"runCustomHandlers",value:function(b,a,c){var d=!0,f=!1,g=void 0;try{for(var h=this.customHandlers[Symbol.iterator](),
n;!(d=(n=h.next()).done);d=!0){var t=n.value,w=t.handlers[b];if(w)try{if(w.call(t.plugin,c,a)||c.defaultPrevented)return!0}catch(z){B(a.state,z)}}}catch(z){f=!0,g=z}finally{try{if(!d&&null!=h["return"])h["return"]()}finally{if(f)throw g;}}return!1}},{key:"ignoreDuringComposition",value:function(b){return/^key/.test(b.type)?this.composing?!0:la.safari&&500>b.timeStamp-this.compositionEndedAt?(this.compositionEndedAt=0,!0):!1:!1}},{key:"mustFlushObserver",value:function(b){return"keydown"==b.type||
"compositionend"==b.type}},{key:"startMouseSelection",value:function(b,a,c){this.mouseSelection&&this.mouseSelection.destroy();this.mouseSelection=new Id(this,b,a,c)}},{key:"update",value:function(b){this.mouseSelection&&this.mouseSelection.update(b);this.lastKeyCode=this.lastSelectionTime=0}},{key:"destroy",value:function(){this.mouseSelection&&this.mouseSelection.destroy()}}]);return e}(),Id=function(){function e(b,a,c,d){Q(this,e);this.inputState=b;this.view=a;this.startEvent=c;this.style=d;b=
a.contentDOM.ownerDocument;b.addEventListener("mousemove",this.move=this.move.bind(this));b.addEventListener("mouseup",this.up=this.up.bind(this));this.extend=c.shiftKey;if(b=a.state.facet(M.EditorState.allowMultipleSelections))b=a.state.facet(Qc),b=b.length?b[0](c):la.mac?c.metaKey:c.ctrlKey;this.multiple=b;b=a.state.facet(Rc);this.dragMove=b.length?b[0](c):la.mac?!c.altKey:!c.ctrlKey;this.dragging=rb(a,c)?null:!1;!1===this.dragging&&(c.preventDefault(),this.select(c))}U(e,[{key:"move",value:function(b){if(0==
b.buttons)return this.destroy();!1===this.dragging&&this.select(b)}},{key:"up",value:function(b){null==this.dragging&&this.select(this.startEvent);this.dragging||b.preventDefault();this.destroy()}},{key:"destroy",value:function(){var b=this.view.contentDOM.ownerDocument;b.removeEventListener("mousemove",this.move);b.removeEventListener("mouseup",this.up);this.inputState.mouseSelection=null}},{key:"select",value:function(b){b=this.style.get(b,this.extend,this.multiple);b.eq(this.view.state.selection)&&
b.primary.assoc==this.view.state.selection.primary.assoc||this.view.dispatch({selection:b,annotations:M.Transaction.userEvent.of("pointerselection"),scrollIntoView:!0})}},{key:"update",value:function(b){b.docChanged&&this.dragging&&(this.dragging=this.dragging.map(b.changes));this.style.update(b)}}]);return e}(),Ha=Object.create(null),Zc=la.ie&&15>la.ie_version||la.ios&&604>la.webkit_version;Ha.keydown=function(e,b){var a=(b.ctrlKey?1:0)|(b.metaKey?8:0)|(b.altKey?2:0)|(b.shiftKey?4:0),c=b.keyCode,
d=la.mac&&1==a;(8==c||d&&72==c||46==c||d&&68==c||27==c||a==(la.mac?8:1)&&(66==c||73==c||89==c||90==c))&&b.preventDefault();e.inputState.setSelectionOrigin("keyboardselection")};Ha.touchdown=Ha.touchmove=function(e){e.inputState.setSelectionOrigin("pointerselection")};Ha.mousedown=function(e,b){var a=null,c=!0,d=!1,f=void 0;try{for(var g=e.state.facet(Sc)[Symbol.iterator](),h;!(c=(h=g.next()).done);c=!0){var n=h.value;if(a=n(e,b))break}}catch(t){d=!0,f=t}finally{try{if(!c&&null!=g["return"])g["return"]()}finally{if(d)throw f;
}}a||0!=b.button||(a=k(e,b));a&&(e.root.activeElement!=e.contentDOM&&e.observer.ignore(function(){return Ja(e.contentDOM)}),e.inputState.startMouseSelection(e,b,a))};var xc=function(e,b,a){return b>=a.top&&b<=a.bottom&&e>=a.left&&e<=a.right},jd=la.ie&&11>=la.ie_version,yc=null,zc=0;Ha.dragstart=function(e,b){var a=e.state.selection.primary,c=e.inputState.mouseSelection;c&&(c.dragging=a);b.dataTransfer&&(b.dataTransfer.setData("Text",e.state.sliceDoc(a.from,a.to)),b.dataTransfer.effectAllowed="copyMove")};
Ha.drop=function(e,b){if(b.dataTransfer){var a=e.posAtCoords({x:b.clientX,y:b.clientY}),c=b.dataTransfer.getData("Text");0>a||!c||(b.preventDefault(),b=(b=e.inputState.mouseSelection)&&b.dragging&&b.dragMove?{from:b.dragging.from,to:b.dragging.to}:null,c={from:a,insert:c},c=e.state.changes(b?[b,c]:c),e.focus(),e.dispatch({changes:c,selection:{anchor:c.mapPos(a,-1),head:c.mapPos(a,1)},annotations:M.Transaction.userEvent.of("drop")}))}};Ha.paste=function(e,b){e.observer.flush();var a=Zc?null:b.clipboardData;
(a=a&&a.getData("text/plain"))?(Ib(e,a),b.preventDefault()):Hb(e)};var ac=null;Ha.copy=Ha.cut=function(e,b){var a=e.state;var c=[];var d=[];var f=!1,g=!0,h=!1,n=void 0;try{for(var t=a.selection.ranges[Symbol.iterator](),w;!(g=(w=t.next()).done);g=!0){var z=w.value;z.empty||(c.push(a.sliceDoc(z.from,z.to)),d.push(z))}}catch(ea){h=!0,n=ea}finally{try{if(!g&&null!=t["return"])t["return"]()}finally{if(h)throw n;}}if(!c.length){f=-1;g=!0;h=!1;n=void 0;try{for(var E=a.selection.ranges[Symbol.iterator](),
W;!(g=(W=E.next()).done);g=!0){var S=a.doc.lineAt(W.value.from);S.number>f&&(c.push(S.slice()),d.push({from:S.from,to:Math.min(a.doc.length,S.to+1)}));f=S.number}}catch(ea){h=!0,n=ea}finally{try{if(!g&&null!=E["return"])E["return"]()}finally{if(h)throw n;}}f=!0}if(a=c.join(a.lineBreak))ac=f?a:null,(c=Zc?null:b.clipboardData)?(b.preventDefault(),c.clearData(),c.setData("text/plain",a)):p(e,a),"cut"==b.type&&e.dispatch({changes:d,scrollIntoView:!0,annotations:M.Transaction.userEvent.of("cut")})};Ha.focus=
Ha.blur=function(e){setTimeout(function(){e.hasFocus!=e.inputState.notifiedFocused&&e.update([])},10)};Ha.beforeprint=function(e){e.viewState.printing=!0;e.requestMeasure();setTimeout(function(){e.viewState.printing=!1;e.requestMeasure()},2E3)};Ha.compositionstart=Ha.compositionupdate=function(e){e.inputState.composing||(e.docView.compositionDeco.size&&(e.observer.flush(),e.docView.compositionDeco.size&&e.update([])),e.inputState.composing=!0)};Ha.compositionend=function(e){e.inputState.composing=
!1;e.inputState.compositionEndedAt=Date.now();setTimeout(function(){e.inputState.composing||e.docView.compositionDeco.size&&e.update([])},50)};var Kd={childList:!0,characterData:!0,subtree:!0,characterDataOldValue:!0},rc=la.ie&&11>=la.ie_version,Ld=function(){function e(b,a,c){var d=this;Q(this,e);this.view=b;this.onChange=a;this.onScrollChanged=c;this.active=!1;this.ignoreSelection=new sd;this.delayedFlush=-1;this.queue=[];this.scrollTargets=[];this.intersection=null;this.intersecting=!1;this.parentCheck=
-1;this.dom=b.contentDOM;this.observer=new MutationObserver(function(f){var g=!0,h=!1,n=void 0;try{for(var t=f[Symbol.iterator](),w;!(g=(w=t.next()).done);g=!0)d.queue.push(w.value)}catch(z){h=!0,n=z}finally{try{if(!g&&null!=t["return"])t["return"]()}finally{if(h)throw n;}}la.ie&&11>=la.ie_version&&f.some(function(z){return"childList"==z.type&&z.removedNodes.length||"characterData"==z.type&&z.oldValue.length>z.target.nodeValue.length})?d.flushSoon():d.flush()});rc&&(this.onCharData=function(f){d.queue.push({target:f.target,
type:"characterData",oldValue:f.prevValue});d.flushSoon()});this.onSelectionChange=function(){if(d.view.root.activeElement==d.dom){if(la.ie&&11>=la.ie_version&&!d.view.state.selection.primary.empty){var f=sa(d.view.root);if(f.focusNode&&db(f.focusNode,f.focusOffset,f.anchorNode,f.anchorOffset))return d.flushSoon()}d.flush()}};this.start();this.onScroll=this.onScroll.bind(this);window.addEventListener("scroll",this.onScroll);"function"==typeof IntersectionObserver&&(this.intersection=new IntersectionObserver(function(f){0>
d.parentCheck&&(d.parentCheck=setTimeout(d.listenForScroll.bind(d),1E3));0<f[f.length-1].intersectionRatio!=d.intersecting&&(d.intersecting=!d.intersecting,d.onScroll())},{}),this.intersection.observe(this.dom));this.listenForScroll()}U(e,[{key:"onScroll",value:function(){this.intersecting&&(this.flush(),this.onScrollChanged())}},{key:"listenForScroll",value:function(){this.parentCheck=-1;for(var b=0,a=null,c=this.dom;c;)if(1==c.nodeType)!a&&b<this.scrollTargets.length&&this.scrollTargets[b]==c?b++:
a||(a=this.scrollTargets.slice(0,b)),a&&a.push(c),c=c.parentNode;else if(11==c.nodeType)c=c.host;else break;b<this.scrollTargets.length&&!a&&(a=this.scrollTargets.slice(0,b));if(a){b=!0;c=!1;var d=void 0;try{for(var f=this.scrollTargets[Symbol.iterator](),g;!(b=(g=f.next()).done);b=!0)g.value.removeEventListener("scroll",this.onScroll)}catch(t){c=!0,d=t}finally{try{if(!b&&null!=f["return"])f["return"]()}finally{if(c)throw d;}}f=!0;g=!1;b=void 0;try{for(var h=(this.scrollTargets=a)[Symbol.iterator](),
n;!(f=(n=h.next()).done);f=!0)n.value.addEventListener("scroll",this.onScroll)}catch(t){g=!0,b=t}finally{try{if(!f&&null!=h["return"])h["return"]()}finally{if(g)throw b;}}}}},{key:"ignore",value:function(b){if(!this.active)return b();try{return this.stop(),b()}finally{this.start(),this.clear()}}},{key:"start",value:function(){this.active||(this.observer.observe(this.dom,Kd),this.dom.ownerDocument.addEventListener("selectionchange",this.onSelectionChange),rc&&this.dom.addEventListener("DOMCharacterDataModified",
this.onCharData),this.active=!0)}},{key:"stop",value:function(){this.active&&(this.active=!1,this.observer.disconnect(),this.dom.ownerDocument.removeEventListener("selectionchange",this.onSelectionChange),rc&&this.dom.removeEventListener("DOMCharacterDataModified",this.onCharData))}},{key:"clearSelection",value:function(){this.ignoreSelection.set(sa(this.view.root))}},{key:"clear",value:function(){this.observer.takeRecords();this.queue.length=0;this.clearSelection()}},{key:"flushSoon",value:function(){var b=
this;0>this.delayedFlush&&(this.delayedFlush=window.setTimeout(function(){b.delayedFlush=-1;b.flush()},20))}},{key:"forceFlush",value:function(){0<=this.delayedFlush&&(window.clearTimeout(this.delayedFlush),this.delayedFlush=-1,this.flush())}},{key:"flush",value:function(){var b=this;if(!(0<=this.delayedFlush)){var a=this.queue,c=!0,d=!1,f=void 0;try{for(var g=this.observer.takeRecords()[Symbol.iterator](),h;!(c=(h=g.next()).done);c=!0)a.push(h.value)}catch(W){d=!0,f=W}finally{try{if(!c&&null!=g["return"])g["return"]()}finally{if(d)throw f;
}}a.length&&(this.queue=[]);c=sa(this.view.root);c=!this.ignoreSelection.eq(c)&&va(this.dom,c);if(0!=a.length||c){f=d=-1;g=!1;h=!0;var n=!1,t=void 0;try{for(var w=a[Symbol.iterator](),z;!(h=(z=w.next()).done);h=!0){var E=this.readMutation(z.value);E&&(E.typeOver&&(g=!0),-1==d?(d=E.from,f=E.to):(d=Math.min(E.from,d),f=Math.max(E.to,f)))}}catch(W){n=!0,t=W}finally{try{if(!h&&null!=w["return"])w["return"]()}finally{if(n)throw t;}}a=this.view.state;if(-1<d||c)this.onChange(d,f,g);this.view.state==a&&
(this.view.docView.dirty&&(this.ignore(function(){return b.view.docView.sync()}),this.view.docView.dirty=0),this.view.docView.updateSelection());this.clearSelection()}}}},{key:"readMutation",value:function(b){var a=this.view.docView.nearest(b.target);if(!a||a.ignoreMutation(b))return null;a.markDirty();if("childList"==b.type){var c=r(a,b.previousSibling||b.target.previousSibling,-1);b=r(a,b.nextSibling||b.target.nextSibling,1);return{from:c?a.posAfter(c):a.posAtStart,to:b?a.posBefore(b):a.posAtEnd,
typeOver:!1}}return{from:a.posAtStart,to:a.posAtEnd,typeOver:b.target.nodeValue==b.oldValue}}},{key:"destroy",value:function(){this.stop();this.intersection&&this.intersection.disconnect();var b=!0,a=!1,c=void 0;try{for(var d=this.scrollTargets[Symbol.iterator](),f;!(b=(f=d.next()).done);b=!0)f.value.removeEventListener("scroll",this.onScroll)}catch(g){a=!0,c=g}finally{try{if(!b&&null!=d["return"])d["return"]()}finally{if(a)throw c;}}window.removeEventListener("scroll",this.onScroll);clearTimeout(this.parentCheck)}}]);
return e}(),kd=function(){function e(b){Q(this,e);this.points=b;this.text=""}U(e,[{key:"readRange",value:function(b,a){if(b){for(var c=b.parentNode;;){this.findPointBefore(c,b);this.readNode(b);var d=b.nextSibling;if(d==a)break;var f=Ra.get(b),g=Ra.get(d);if((f?f.breakAfter:I(b))||(g?g.breakAfter:I(d))&&("BR"!=b.nodeName||b.cmIgnore))this.text+="ï·š";b=d}this.findPointBefore(c,a)}}},{key:"readNode",value:function(b){if(!b.cmIgnore){var a=Ra.get(b);a=a&&a.overrideDOMText;var c;null!=a?c=a.sliceString(0,
void 0,"ï·š"):3==b.nodeType?c=b.nodeValue:"BR"==b.nodeName?c=b.nextSibling?"ï·š":"":1==b.nodeType&&this.readRange(b.firstChild,null);null!=c&&(this.findPointIn(b,c.length),this.text+=c)}}},{key:"findPointBefore",value:function(b,a){var c=!0,d=!1,f=void 0;try{for(var g=this.points[Symbol.iterator](),h;!(c=(h=g.next()).done);c=!0){var n=h.value;n.node==b&&b.childNodes[n.offset]==a&&(n.pos=this.text.length)}}catch(t){d=!0,f=t}finally{try{if(!c&&null!=g["return"])g["return"]()}finally{if(d)throw f;}}}},{key:"findPointIn",
value:function(b,a){var c=!0,d=!1,f=void 0;try{for(var g=this.points[Symbol.iterator](),h;!(c=(h=g.next()).done);c=!0){var n=h.value;n.node==b&&(n.pos=this.text.length+Math.min(n.offset,a))}}catch(t){d=!0,f=t}finally{try{if(!c&&null!=g["return"])g["return"]()}finally{if(d)throw f;}}}}]);return e}(),Bc=function c(b,a){Q(this,c);this.node=b;this.offset=a;this.pos=-1},Ia=function(){function b(){var a=this,c=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};Q(this,b);this.plugins=[];this.editorAttrs=
{};this.contentAttrs={};this.bidiCache=[];this.updateState=2;this.measureScheduled=-1;this.measureRequests=[];this.contentDOM=document.createElement("div");this.scrollDOM=document.createElement("div");this.scrollDOM.className=V("scroller");this.scrollDOM.appendChild(this.contentDOM);this.dom=document.createElement("div");this.dom.appendChild(this.scrollDOM);this._dispatch=c.dispatch||function(d){return a.update([d])};this.dispatch=this.dispatch.bind(this);this.root=c.root||document;this.viewState=
new Xc(c.state||M.EditorState.create());this.plugins=this.state.facet(Mb).map(function(d){return Nb.create(d,a)});this.observer=new Ld(this,function(d,f,g){return y(a,d,f,g)},function(){return a.measure()});this.docView=new Yc(this);this.inputState=new Jd(this);this.mountStyles();this.updateAttrs();this.updateState=0;Z();this.requestMeasure();c.parent&&c.parent.appendChild(this.dom)}U(b,[{key:"dispatch",value:function(){var a;this._dispatch(1==arguments.length&&(0>=arguments.length?void 0:arguments[0])instanceof
M.Transaction?0>=arguments.length?void 0:arguments[0]:(a=this.state).update.apply(a,arguments))}},{key:"update",value:function(a){if(0!=this.updateState)throw Error("Calls to EditorView.update are not allowed while an update is in progress");this.updateState=2;var c=this.state,d=!0,f=!1,g=void 0;try{for(var h=a[Symbol.iterator](),n;!(d=(n=h.next()).done);d=!0){var t=n.value;if(t.startState!=c)throw new RangeError("Trying to update state with a transaction that doesn't start from the previous state.");
c=t.state}}catch(W){f=!0,g=W}finally{try{if(!d&&null!=h["return"])h["return"]()}finally{if(f)throw g;}}d=new qc(this,c,a);a=a.some(function(W){return W.scrollIntoView})?c.selection.primary:null;this.viewState.update(d,a);this.bidiCache=$c.update(this.bidiCache,d.changes);d.empty||this.updatePlugins(d);c=this.docView.update(d);this.state.facet(Ob)!=this.styleModules&&this.mountStyles();this.updateAttrs();this.updateState=0;(c||a||this.viewState.mustEnforceCursorAssoc)&&this.requestMeasure();a=!0;c=
!1;f=void 0;try{for(var w=this.state.facet(oc)[Symbol.iterator](),z;!(a=(z=w.next()).done);a=!0){var E=z.value;E(d)}}catch(W){c=!0,f=W}finally{try{if(!a&&null!=w["return"])w["return"]()}finally{if(c)throw f;}}}},{key:"setState",value:function(a){var c=this;if(0!=this.updateState)throw Error("Calls to EditorView.setState are not allowed while an update is in progress");this.updateState=2;var d=!0,f=!1,g=void 0;try{for(var h=this.plugins[Symbol.iterator](),n;!(d=(n=h.next()).done);d=!0)n.value.destroy(this)}catch(t){f=
!0,g=t}finally{try{if(!d&&null!=h["return"])h["return"]()}finally{if(f)throw g;}}this.viewState=new Xc(a);this.plugins=a.facet(Mb).map(function(t){return Nb.create(t,c)});this.docView=new Yc(this);this.inputState.ensureHandlers(this);this.mountStyles();this.updateAttrs();this.bidiCache=[];this.updateState=0;this.requestMeasure()}},{key:"updatePlugins",value:function(a){var c=a.prevState.facet(Mb),d=a.state.facet(Mb);if(c!=d){var f=[],g=[],h=!0,n=!1,t=void 0;try{for(var w=d[Symbol.iterator](),z;!(h=
(z=w.next()).done);h=!0){var E=z.value,W=c.indexOf(E);if(0>W)f.push(Nb.create(E,this));else{var S=this.plugins[W].update(a);g.push(S);f.push(S)}}}catch(qb){n=!0,t=qb}finally{try{if(!h&&null!=w["return"])w["return"]()}finally{if(n)throw t;}}a=!0;c=!1;d=void 0;try{for(var ea=this.plugins[Symbol.iterator](),pa;!(a=(pa=ea.next()).done);a=!0){var nb=pa.value;0>g.indexOf(nb)&&nb.destroy(this)}}catch(qb){c=!0,d=qb}finally{try{if(!a&&null!=ea["return"])ea["return"]()}finally{if(c)throw d;}}this.plugins=f;
this.inputState.ensureHandlers(this)}else for(f=0;f<this.plugins.length;f++)this.plugins[f]=this.plugins[f].update(a)}},{key:"measure",value:function(){var a=this;-1<this.measureScheduled&&cancelAnimationFrame(this.measureScheduled);this.measureScheduled=1;for(var c=null,d=0;;d++){this.updateState=1;var f=this.viewState.measure(this.docView,0<d),g=this.measureRequests;if(!f&&!g.length&&null==this.viewState.scrollTo)break;this.measureRequests=[];if(5<d){console.warn("Viewport failed to stabilize");
break}var h=g.map(function(E){try{return E.read(a)}catch(W){return B(a.state,W),ad}}),n=new qc(this,this.state);n.flags|=f;c?c.flags|=f:c=n;this.updateState=2;this.updatePlugins(n);f&&this.docView.update(n);for(n=0;n<g.length;n++)if(h[n]!=ad)try{g[n].write(h[n],this)}catch(E){B(this.state,E)}this.viewState.scrollTo&&(this.docView.scrollPosIntoView(this.viewState.scrollTo.head,this.viewState.scrollTo.assoc),this.viewState.scrollTo=null);if(!(f&4)&&0==this.measureRequests.length)break}this.updateState=
0;this.measureScheduled=-1;if(c){d=!0;f=!1;g=void 0;try{for(var t=this.state.facet(oc)[Symbol.iterator](),w;!(d=(w=t.next()).done);d=!0){var z=w.value;z(c)}}catch(E){f=!0,g=E}finally{try{if(!d&&null!=t["return"])t["return"]()}finally{if(f)throw g;}}}}},{key:"updateAttrs",value:function(){var a=ma(this.state.facet(Vc),{"class":V("wrap")+(this.hasFocus?" cm-focused ":" ")+this.themeClasses});ta(this.dom,this.editorAttrs,a);this.editorAttrs=a;a=ma(this.state.facet(Wc),{spellcheck:"false",contenteditable:String(this.state.facet(pc)),
"class":V("content"),style:"".concat(la.tabSize,": ").concat(this.state.tabSize),role:"textbox","aria-multiline":"true"});ta(this.contentDOM,this.contentAttrs,a);this.contentAttrs=a}},{key:"mountStyles",value:function(){this.styleModules=this.state.facet(Ob);Qa.StyleModule.mount(this.root,this.styleModules.concat(xd).reverse())}},{key:"domAtPos",value:function(a){return this.docView.domAtPos(a)}},{key:"posAtDOM",value:function(a){return this.docView.posFromDOM(a,1<arguments.length&&void 0!==arguments[1]?
arguments[1]:0)}},{key:"readMeasured",value:function(){if(2==this.updateState)throw Error("Reading the editor layout isn't allowed during an update");0==this.updateState&&-1<this.measureScheduled&&this.measure()}},{key:"requestMeasure",value:function(a){var c=this;0>this.measureScheduled&&(this.measureScheduled=requestAnimationFrame(function(){return c.measure()}));if(a){if(null!=a.key)for(var d=0;d<this.measureRequests.length;d++)if(this.measureRequests[d].key===a.key){this.measureRequests[d]=a;
return}this.measureRequests.push(a)}}},{key:"pluginField",value:function(a){var c=[],d=!0,f=!1,g=void 0;try{for(var h=this.plugins[Symbol.iterator](),n;!(d=(n=h.next()).done);d=!0)n.value.takeField(a,c)}catch(t){f=!0,g=t}finally{try{if(!d&&null!=h["return"])h["return"]()}finally{if(f)throw g;}}return c}},{key:"plugin",value:function(a){var c=!0,d=!1,f=void 0;try{for(var g=this.plugins[Symbol.iterator](),h;!(c=(h=g.next()).done);c=!0){var n=h.value;if(n.spec==a)return n.value}}catch(t){d=!0,f=t}finally{try{if(!c&&
null!=g["return"])g["return"]()}finally{if(d)throw f;}}return null}},{key:"blockAtHeight",value:function(a,c){this.readMeasured();return this.viewState.blockAtHeight(a,T(c,this.contentDOM))}},{key:"visualLineAtHeight",value:function(a,c){this.readMeasured();return this.viewState.lineAtHeight(a,T(c,this.contentDOM))}},{key:"visualLineAt",value:function(a){return this.viewState.lineAt(a,1<arguments.length&&void 0!==arguments[1]?arguments[1]:0)}},{key:"viewportLines",value:function(a,c){var d=this.viewport;
this.viewState.forEachLine(d.from,d.to,a,T(c,this.contentDOM))}},{key:"moveByChar",value:function(a,c,d){return bb(this,a,c,d)}},{key:"moveByGroup",value:function(a,c){var d=this;return bb(this,a,c,function(f){return Wa(d,a.head,f)})}},{key:"moveToLineBoundary",value:function(a,c){a:{var d=2<arguments.length&&void 0!==arguments[2]?arguments[2]:!0;var f=this.state.doc.lineAt(a.head);if(d=d&&this.lineWrapping?this.coordsAtPos(0>a.assoc&&a.head>f.from?a.head-1:a.head):null){var g=this.dom.getBoundingClientRect();
d=this.posAtCoords({x:c==(this.textDirection==Za.LTR)?g.right-1:g.left+1,y:(d.top+d.bottom)/2});if(-1<d){f=M.EditorSelection.cursor(d,c?-1:1);break a}}d=mb.find(this.docView,a.head);f=M.EditorSelection.cursor(d?c?d.posAtEnd:d.posAtStart:c?f.to:f.from,c?-1:1)}return f}},{key:"moveVertically",value:function(a,c,d){a:{var f,g=a.head;var h=c?1:-1;if(g==(c?this.state.doc.length:0))h=M.EditorSelection.cursor(g);else{var n=this.coordsAtPos(g);if(n){var t=this.dom.getBoundingClientRect();c=null!==(f=a.goalColumn)&&
void 0!==f?f:n.left-t.left;f=t.left+c;d=null!==d&&void 0!==d?d:5;n=0>h?n.top:n.bottom;for(t=0;50>t;t+=10){var w=Aa(this,{x:f,y:n+(d+t)*h},h);if(0>w)break;if(w!=g){h=M.EditorSelection.cursor(w,void 0,void 0,c);break a}}}d=this.state.doc;n=d.lineAt(g);c=this.state.tabSize;f=a.goalColumn;a=0;if(null==f){for(g=d.iterRange(n.from,g);!g.next().done;)a=(0,La.countColumn)(g.value,a,c);f=a*this.defaultCharacterWidth}else a=Math.round(f/this.defaultCharacterWidth);if(0>h&&0==n.from)h=M.EditorSelection.cursor(0);
else if(0<h&&n.to==d.length)h=M.EditorSelection.cursor(n.to);else{n=d.line(n.number+h);h=n.from;g=0;for(d=d.iterRange(n.from,n.to);g>=a&&!d.next().done;)g=(0,La.findColumn)(d.value,g,a,c),n=g.offset,g=a-g.leftOver,h+=n;h=M.EditorSelection.cursor(h,void 0,void 0,f)}}}return h}},{key:"scrollPosIntoView",value:function(a){this.viewState.scrollTo=M.EditorSelection.cursor(a);this.requestMeasure()}},{key:"posAtCoords",value:function(a){this.readMeasured();return Aa(this,a)}},{key:"coordsAtPos",value:function(a){var c=
1<arguments.length&&void 0!==arguments[1]?arguments[1]:1;this.readMeasured();var d=this.state.doc.lineAt(a),f=this.bidiSpans(d),g=this.docView.coordsAt(a,c);if(!g||g.left==g.right)return g;d=f[sb.find(f,a-d.from,-1,c)];return kb(g,d.dir==Za.LTR==0<c)}},{key:"bidiSpans",value:function(a){if(a.length>Md)return[new sb(0,a.length,0)];var c=this.textDirection,d=!0,f=!1,g=void 0;try{for(var h=this.bidiCache[Symbol.iterator](),n;!(d=(n=h.next()).done);d=!0){var t=n.value;if(t.from==a.from&&t.dir==c)return t.order}}catch(w){f=
!0,g=w}finally{try{if(!d&&null!=h["return"])h["return"]()}finally{if(f)throw g;}}d=A(a.slice(),this.textDirection);this.bidiCache.push(new $c(a.from,a.to,c,d));return d}},{key:"focus",value:function(){var a=this;this.observer.ignore(function(){Ja(a.contentDOM);a.docView.updateSelection()})}},{key:"destroy",value:function(){var a=!0,c=!1,d=void 0;try{for(var f=this.plugins[Symbol.iterator](),g;!(a=(g=f.next()).done);a=!0)g.value.destroy(this)}catch(h){c=!0,d=h}finally{try{if(!a&&null!=f["return"])f["return"]()}finally{if(c)throw d;
}}this.inputState.destroy();this.dom.remove();this.observer.destroy();-1<this.measureScheduled&&cancelAnimationFrame(this.measureScheduled)}},{key:"state",get:function(){return this.viewState.state}},{key:"viewport",get:function(){return this.viewState.viewport}},{key:"visibleRanges",get:function(){return this.viewState.visibleRanges}},{key:"themeClasses",get:function(){return Rb+" "+(this.state.facet(Ic)?sc:tc)+" "+this.state.facet(Hc)}},{key:"contentHeight",get:function(){return this.viewState.heightMap.height+
this.viewState.paddingTop+this.viewState.paddingBottom}},{key:"defaultCharacterWidth",get:function(){return this.viewState.heightOracle.charWidth}},{key:"defaultLineHeight",get:function(){return this.viewState.heightOracle.lineHeight}},{key:"textDirection",get:function(){return this.viewState.heightOracle.direction}},{key:"lineWrapping",get:function(){return this.viewState.heightOracle.lineWrapping}},{key:"hasFocus",get:function(){return this.root.activeElement==this.contentDOM}}],[{key:"domEventHandlers",
value:function(a){return Xb.define(function(){return{}}).eventHandlers(a)}},{key:"theme",value:function(a,c){var d=Qa.StyleModule.newName();a=[Hc.of(d),Ob.of(N(d,a))];c&&c.dark&&a.push(Ic.of(!0));return a}},{key:"baseTheme",value:function(a){return(0,M.precedence)(Ob.of(N(Rb,a)),"fallback")}}]);return b}();F.EditorView=Ia;Ia.styleModule=Ob;Ia.inputHandler=Ac;Ia.exceptionSink=wc;Ia.updateListener=oc;Ia.editable=pc;Ia.dragMovesSelection=Rc;Ia.clickAddsSelectionRange=Qc;Ia.mouseSelectionStyle=Sc;Ia.decorations=
wb;Ia.lineWrapping=Ia.theme({content:{whiteSpace:"pre-wrap"}});Ia.contentAttributes=Wc;Ia.editorAttributes=Vc;var Md=4096,bc=-1,ad={},$c=function(){function b(a,c,d,f){Q(this,b);this.from=a;this.to=c;this.dir=d;this.order=f}U(b,null,[{key:"update",value:function(a,c){if(c.empty)return a;for(var d=[],f=a.length?a[a.length-1].dir:Za.LTR,g=Math.max(0,a.length-10);g<a.length;g++){var h=a[g];h.dir!=f||c.touchesRange(h.from,h.to)||d.push(new b(c.mapPos(h.from,1),c.mapPos(h.to,-1),h.dir,h.order))}return d}}]);
return b}(),ld="undefined"==typeof navigator?"key":/Mac/.test(navigator.platform)?"mac":/Win/.test(navigator.platform)?"win":/Linux|X11/.test(navigator.platform)?"linux":"key",jc=M.Facet.define(),qd=Ia.domEventHandlers({keydown:function(b,a){return ra(a.state.facet(jc),b,a,"editor")}}),ub=null,md=4E3,rd=M.StateField.define({create:function(b){return Pa(b.selection)},update:function(b,a){return a.docChanged||a.selection?Pa(a.state.selection):b},provide:[Ia.decorations]}),hc=function(b){function a(){Q(this,
a);return ha(this,Y(a).apply(this,arguments))}fa(a,b);U(a,[{key:"toDOM",value:function(){var c=document.createElement("span");c.className=V("secondaryCursor");return c}}]);return a}(vb);hc.deco=na.widget({widget:new hc(null)});var nd=na.mark({"class":V("secondarySelection")}),Nd=/[\0-\x08\n-\x1F\x7F-\x9F\xAD\u061C\u200B\u200C\u200E\u200F\u2028\u2029\uFEFF\uFFF9-\uFFFC]/g,Od={0:"null",7:"bell",8:"backspace",10:"newline",11:"vertical tab",13:"carriage return",27:"escape",8203:"zero width space",8204:"zero width non-joiner",
8205:"zero width joiner",8206:"left-to-right mark",8207:"right-to-left mark",8232:"line separator",8233:"paragraph separator",65279:"zero width no-break space",65532:"object replacement"},ic=null,bd=null!=/x/.unicode?"gu":"g",Ub=M.Facet.define({combine:function(b){b=(0,M.combineConfig)(b,{render:null,specialChars:Nd,addSpecialChars:null});if(b.replaceTabs=!Qb())b.specialChars=new RegExp("\t|"+b.specialChars.source,bd);b.addSpecialChars&&(b.specialChars=new RegExp(b.specialChars.source+"|"+b.addSpecialChars.source,
bd));return b}}),od=Xb.fromClass(function(){function b(a){Q(this,b);this.view=a;this.decorations=na.none;this.decorationCache=Object.create(null);this.recompute()}U(b,[{key:"update",value:function(a){var c=a.prevState.facet(Ub)!=a.state.facet(Ub);c&&(this.decorationCache=Object.create(null));(c||a.changes.length||a.viewportChanged)&&this.recompute()}},{key:"recompute",value:function(){var a=[],c=!0,d=!1,f=void 0;try{for(var g=this.view.visibleRanges[Symbol.iterator](),h;!(c=(h=g.next()).done);c=!0){var n=
h.value;this.getDecorationsFor(n.from,n.to,a)}}catch(t){d=!0,f=t}finally{try{if(!c&&null!=g["return"])g["return"]()}finally{if(d)throw f;}}this.decorations=na.set(a)}},{key:"getDecorationsFor",value:function(a,c,d){var f=this.view.state.facet(Ub),g=this.view.state.doc,h=a;for(a=g.iterRange(a,c);!a.next().done;){if(!a.lineBreak)for(;c=f.specialChars.exec(a.value);){var n=(0,La.codePointAt)(c[0],0);if(null!=n){if(9==n){var t=g.lineAt(h+c.index);n=this.view.state.tabSize;t=(0,La.countColumn)(g.sliceString(t.from,
h+c.index),0,n);n=na.replace({widget:new Pd((n-t%n)*this.view.defaultCharacterWidth)})}else n=this.decorationCache[n]||(this.decorationCache[n]=na.replace({widget:new Qd(f,n)}));d.push(n.range(h+c.index,h+c.index+c[0].length))}}h+=a.value.length}}}]);return b}()).decorations(),Qd=function(b){function a(c,d){Q(this,a);d=ha(this,Y(a).call(this,d));d.options=c;return d}fa(a,b);U(a,[{key:"toDOM",value:function(){var c=this.value;c=32<=c?null:10==c?"â¤":String.fromCharCode(9216+c);c=c||"â€¢";var d="Control character "+
(Od[this.value]||this.value),f=this.options.render&&this.options.render(this.value,d,c);if(f)return f;f=document.createElement("span");f.textContent=c;f.title=d;f.setAttribute("aria-label",d);f.style.color="red";return f}},{key:"ignoreEvent",value:function(){return!1}}]);return a}(vb),Pd=function(b){function a(){Q(this,a);return ha(this,Y(a).apply(this,arguments))}fa(a,b);U(a,[{key:"toDOM",value:function(){var c=document.createElement("span");c.textContent="\t";c.className=cd.tab;c.style.width=this.value+
"px";return c}},{key:"ignoreEvent",value:function(){return!1}}]);return a}(vb),cd=new Qa.StyleModule({tab:{display:"inline-block",overflow:"hidden",verticalAlign:"bottom"}}),pd=Ia.styleModule.of(cd),Dc=200;F.__test={HeightMap:ib,HeightOracle:Nc,MeasuredHeights:Oc,QueryType:oa,ChangedRange:Fb,computeOrder:A,moveVisually:q}};
shadow$provide[7]=function(sa,Ra,ub,D){function Na(ka){for(var ba=0;ba<Ea.length;ba+=2)if(Ea.charCodeAt(ba)==ka)return Ea.charAt(ba+1);return(0,ja.fromCodePoint)(128>ka?ka:ka+1)}function Ka(ka,ba,U,I){var r=ka.state.selection.primary;if(2<I.length||2==I.length&&1==(0,ja.codePointSize)((0,ja.codePointAt)(I,0))||ba!=r.from||U!=r.to)return!1;ba=Da(ka.state,I);if(!ba)return!1;ka.dispatch(ba);return!0}function Da(ka,ba){var U=ka.languageDataAt("closeBrackets",ka.selection.primary.head)[0]||La,I=U.brackets||
La.brackets,r=!0,q=!1,B=void 0;try{for(var L=I[Symbol.iterator](),O;!(r=(O=L.next()).done);r=!0){var A=O.value,n=Na((0,ja.codePointAt)(A,0));if(ba==A)return n==A?Ba(ka,A,-1<I.indexOf(A+A+A)):wa(ka,A,n,U.before||La.before);if(ba==n)return xa(ka,A,n)}}catch(y){q=!0,B=y}finally{try{if(!r&&null!=L["return"])L["return"]()}finally{if(q)throw B;}}return null}function Ta(ka,ba){ka=ka.sliceString(ba,ba+2);return ka.slice(0,(0,ja.codePointSize)((0,ja.codePointAt)(ka,0)))}function wa(ka,ba,U,I){var r=null,q=
ka.changeByRange(function(B){if(!B.empty)return{changes:[{insert:ba,from:B.from},{insert:U,from:B.to}],range:za.EditorSelection.range(B.anchor+ba.length,B.head+ba.length)};var L=Ta(ka.doc,B.head);return!L||/\s/.test(L)||-1<I.indexOf(L)?{changes:{insert:ba+U,from:B.head},range:za.EditorSelection.cursor(B.head+ba.length)}:{range:r=B}});return r?null:ka.update(q,{scrollIntoView:!0})}function xa(ka,ba,U){var I=null;ba=ka.selection.ranges.map(function(r){return r.empty&&Ta(ka.doc,r.head)==U?za.EditorSelection.cursor(r.head+
U.length):I=r});return I?null:ka.update({selection:za.EditorSelection.create(ba,ka.selection.primaryIndex),scrollIntoView:!0})}function Ba(ka,ba,U){var I=null,r=ka.changeByRange(function(q){if(!q.empty)return{changes:[{insert:ba,from:q.from},{insert:ba,from:q.to}],range:za.EditorSelection.range(q.anchor+ba.length,q.head+ba.length)};var B=q.head,L=Ta(ka.doc,B);if(L==ba){if(Ia(ka,B))return{changes:{insert:ba+ba,from:B},range:za.EditorSelection.cursor(B+ba.length)};q=U&&ka.sliceDoc(B,B+3*ba.length)==
ba+ba+ba;return{range:za.EditorSelection.cursor(B+ba.length*(q?3:1))}}return U&&ka.sliceDoc(B-2*ba.length,B)==ba+ba&&Ia(ka,B-2*ba.length)?{changes:{insert:ba+ba+ba+ba,from:B},range:za.EditorSelection.cursor(B+ba.length)}:ka.charCategorizer(B)(L)!=za.CharCategory.Word&&(L=ka.sliceDoc(B-1,B),L!=ba&&ka.charCategorizer(B)(L)!=za.CharCategory.Word)?{changes:{insert:ba+ba,from:B},range:za.EditorSelection.cursor(B+ba.length)}:{range:I=q}});return I?null:ka.update(r,{scrollIntoView:!0})}function Ia(ka,ba){ka=
ka.tree.resolve(ba+1);return ka.parent&&ka.start==ba}Object.defineProperty(D,"__esModule",{value:!0});D.closeBrackets=function(){return qa.EditorView.inputHandler.of(Ka)};D.handleInsertion=Da;D.deleteBracketPair=D.closeBracketsKeymap=void 0;var qa=Ra(6),za=Ra(2),ja=Ra(0),La={brackets:["(","[","{","'",'"'],before:")]}'\":;\x3e"},Ea="()[]{}\x3c\x3e";sa=function(ka){var ba=ka.state;ka=ka.dispatch;var U=(ba.languageDataAt("closeBrackets",ba.selection.primary.head)[0]||La).brackets||La.brackets,I=null,
r=ba.changeByRange(function(q){if(q.empty){var B=q.head;B=ba.doc.sliceString(B-2,B);B=(0,ja.codePointSize)((0,ja.codePointAt)(B,0))==B.length?B:B.slice(1);var L=!0,O=!1,A=void 0;try{for(var n=U[Symbol.iterator](),y;!(L=(y=n.next()).done);L=!0){var u=y.value;if(u==B&&Ta(ba.doc,q.head)==Na((0,ja.codePointAt)(u,0)))return{changes:{from:q.head-u.length,to:q.head+u.length},range:za.EditorSelection.cursor(q.head-u.length)}}}catch(p){O=!0,A=p}finally{try{if(!L&&null!=n["return"])n["return"]()}finally{if(O)throw A;
}}}return{range:I=q}});I||ka(ba.update(r,{scrollIntoView:!0}));return!I};D.deleteBracketPair=sa;D.closeBracketsKeymap=[{key:"Backspace",run:sa}]};
shadow$provide[8]=function(W,da,Ea,u){function na(g){na="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(c){return typeof c}:function(c){return c&&"function"===typeof Symbol&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":typeof c};return na(g)}function ca(g,c){if(!(g instanceof c))throw new TypeError("Cannot call a class as a function");}function ja(g,c){for(var f=0;f<c.length;f++){var n=c[f];n.enumerable=n.enumerable||!1;n.configurable=!0;"value"in n&&(n.writable=!0);
Object.defineProperty(g,n.key,n)}}function qa(g,c,f){c&&ja(g.prototype,c);f&&ja(g,f);return g}function ba(g,c){if(c&&("object"===na(c)||"function"===typeof c))return c;if(void 0===g)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return g}function ka(g){ka=Object.setPrototypeOf?Object.getPrototypeOf:function(c){return c.__proto__||Object.getPrototypeOf(c)};return ka(g)}function wa(g,c){if("function"!==typeof c&&null!==c)throw new TypeError("Super expression must either be null or a function");
g.prototype=Object.create(c&&c.prototype,{constructor:{value:g,writable:!0,configurable:!0}});c&&ma(g,c)}function ma(g,c){ma=Object.setPrototypeOf||function(f,n){f.__proto__=n;return f};return ma(g,c)}function ra(g){return[va(),G.of(Object.assign(Object.assign({},M),g))]}function va(g){var c=[Q,K];g&&!1===g.fixed&&c.push(P.of(!0));return c}function fa(g){for(var c=9;c<g;)c=10*c+9;return c}Object.defineProperty(u,"__esModule",{value:!0});u.gutter=ra;u.gutters=va;u.lineNumbers=function(){return[k.of(0<
arguments.length&&void 0!==arguments[0]?arguments[0]:{}),m]};u.lineNumberMarkers=u.GutterMarker=void 0;var ia=da(6),S=da(4),T=da(2);W=function(g){function c(){ca(this,c);return ba(this,ka(c).apply(this,arguments))}wa(c,g);qa(c,[{key:"compare",value:function(f){return this==f||this.constructor==f.constructor&&this.eq(f)}},{key:"toDOM",value:function(f){return null}},{key:"at",value:function(f){return new S.Range(f,f,this)}}]);return c}(S.RangeValue);u.GutterMarker=W;W.prototype.elementClass="";W.prototype.mapMode=
T.MapMode.TrackBefore;var M={style:"",renderEmptyElements:!1,elementStyle:"",markers:function(){return S.RangeSet.empty},lineMarker:function(){return null},initialSpacer:null,updateSpacer:null,domEventHandlers:{}},G=T.Facet.define(),K=ia.EditorView.baseTheme({gutters:{display:"flex",height:"100%",boxSizing:"border-box",left:0},"gutters@light":{backgroundColor:"#f5f5f5",color:"#999",borderRight:"1px solid silver"},"gutters@dark":{backgroundColor:"#333338",color:"#ccc"},gutter:{display:"flex !important",
flexDirection:"column",flexShrink:0,boxSizing:"border-box",height:"100%",overflow:"hidden"},gutterElement:{boxSizing:"border-box"},"gutterElement.lineNumber":{padding:"0 3px 0 5px",minWidth:"20px",textAlign:"right",whiteSpace:"nowrap"}}),P=T.Facet.define({combine:function(g){return g.some(function(c){return c})}}),Q=ia.ViewPlugin.fromClass(function(){function g(c){ca(this,g);this.view=c;this.dom=document.createElement("div");this.dom.className=(0,ia.themeClass)("gutters");this.dom.setAttribute("aria-hidden",
"true");this.gutters=c.state.facet(G).map(function(B){return new Z(c,B)});var f=!0,n=!1,t=void 0;try{for(var x=this.gutters[Symbol.iterator](),z;!(f=(z=x.next()).done);f=!0)this.dom.appendChild(z.value.dom)}catch(B){n=!0,t=B}finally{try{if(!f&&null!=x["return"])x["return"]()}finally{if(n)throw t;}}if(this.fixed=!c.state.facet(P))this.dom.style.position="sticky";c.scrollDOM.insertBefore(this.dom,c.contentDOM)}qa(g,[{key:"update",value:function(c){var f=this;if(this.updateGutters(c)){var n=this.gutters.map(function(R){return new aa(R,
f.view.viewport)});this.view.viewportLines(function(R){if(Array.isArray(R.type)){var U=!0,la=!1,xa=void 0;try{for(var ya=R.type[Symbol.iterator](),za;!(U=(za=ya.next()).done);U=!0){var Ja=za.value;if(Ja.type==ia.BlockType.Text){var Da=Ja;break}}}catch(Ta){la=!0,xa=Ta}finally{try{if(!U&&null!=ya["return"])ya["return"]()}finally{if(la)throw xa;}}}else Da=R.type==ia.BlockType.Text?R:void 0;if(Da){R=!0;U=!1;la=void 0;try{for(var Ua=n[Symbol.iterator](),Va;!(R=(Va=Ua.next()).done);R=!0)Va.value.line(f.view,
Da)}catch(Ta){U=!0,la=Ta}finally{try{if(!R&&null!=Ua["return"])Ua["return"]()}finally{if(U)throw la;}}}},0);var t=!0,x=!1,z=void 0;try{for(var B=n[Symbol.iterator](),N;!(t=(N=B.next()).done);t=!0)N.value.finish()}catch(R){x=!0,z=R}finally{try{if(!t&&null!=B["return"])B["return"]()}finally{if(x)throw z;}}this.dom.style.minHeight=this.view.contentHeight+"px";c.state.facet(P)!=!this.fixed&&(this.fixed=!this.fixed,this.dom.style.position=this.fixed?"sticky":"")}}},{key:"updateGutters",value:function(c){var f=
c.prevState.facet(G),n=c.state.facet(G),t=c.docChanged||c.heightChanged||c.viewportChanged;if(f==n){var x=!0,z=!1;f=void 0;try{for(var B=this.gutters[Symbol.iterator](),N;!(x=(N=B.next()).done);x=!0)N.value.update(c)&&(t=!0)}catch(Ja){z=!0,f=Ja}finally{try{if(!x&&null!=B["return"])B["return"]()}finally{if(z)throw f;}}}else{t=!0;B=[];N=!0;var R=!1,U=void 0;try{for(var la=n[Symbol.iterator](),xa;!(N=(xa=la.next()).done);N=!0){var ya=xa.value,za=f.indexOf(ya);0>za?B.push(new Z(this.view,ya)):(this.gutters[za].update(c),
B.push(this.gutters[za]))}}catch(Ja){R=!0,U=Ja}finally{try{if(!N&&null!=la["return"])la["return"]()}finally{if(R)throw U;}}c=!0;f=!1;n=void 0;try{for(x=this.gutters[Symbol.iterator]();!(c=(z=x.next()).done);c=!0)z.value.dom.remove()}catch(Ja){f=!0,n=Ja}finally{try{if(!c&&null!=x["return"])x["return"]()}finally{if(f)throw n;}}for(c=0;c<B.length;c++)this.dom.appendChild(B[c].dom);this.gutters=B}return t}},{key:"destroy",value:function(){this.dom.remove()}}]);return g}()).provide(ia.PluginField.scrollMargins,
function(g){return 0!=g.gutters.length&&g.fixed?g.view.textDirection==ia.Direction.LTR?{left:g.dom.offsetWidth}:{right:g.dom.offsetWidth}:null}),aa=function(){function g(c,f){ca(this,g);this.gutter=c;this.localMarkers=[];this.height=this.i=0;this.cursor=S.RangeSet.iter(Array.isArray(c.markers)?c.markers:[c.markers],f.from)}qa(g,[{key:"line",value:function(c,f){this.localMarkers.length&&(this.localMarkers=[]);for(;this.cursor.value&&this.cursor.from<=f.from;)this.cursor.from==f.from&&this.localMarkers.push(this.cursor.value),
this.cursor.next();var n=this.gutter.config.lineMarker(c,f,this.localMarkers);n&&this.localMarkers.unshift(n);n=this.gutter;if(0!=this.localMarkers.length||n.config.renderEmptyElements){var t=f.top-this.height;if(this.i==n.elements.length)c=new L(c,f.height,t,this.localMarkers,n.elementClass),n.elements.push(c),n.dom.appendChild(c.dom);else{var x=this.localMarkers,z=n.elements[this.i];a:{var B=x;var N=z.markers;if(B.length!=N.length)B=!1;else{for(var R=0;R<B.length;R++)if(!B[R].compare(N[R])){B=!1;
break a}B=!0}}B&&(x=z.markers,this.localMarkers.length=0);z.update(c,f.height,t,x,n.elementClass)}this.height=f.bottom;this.i++}}},{key:"finish",value:function(){for(var c=this.gutter;c.elements.length>this.i;)c.dom.removeChild(c.elements.pop().dom)}}]);return g}(),Z=function(){function g(c,f){var n=this;ca(this,g);this.view=c;this.config=f;this.elements=[];this.spacer=null;this.dom=document.createElement("div");this.dom.className=(0,ia.themeClass)("gutter"+(this.config.style?"."+this.config.style:
""));this.elementClass=(0,ia.themeClass)("gutterElement"+(this.config.style?"."+this.config.style:""));var t=function(z){n.dom.addEventListener(z,function(B){var N=c.visualLineAtHeight(B.clientY,c.contentDOM.getBoundingClientRect().top);f.domEventHandlers[z](c,N,B)&&B.preventDefault()})},x;for(x in f.domEventHandlers)t(x);this.markers=f.markers(c.state);f.initialSpacer&&(this.spacer=new L(c,0,0,[f.initialSpacer(c)],this.elementClass),this.dom.appendChild(this.spacer.dom),this.spacer.dom.style.cssText+=
"visibility: hidden; pointer-events: none")}qa(g,[{key:"update",value:function(c){var f=this.markers;this.markers=this.config.markers(c.state);if(this.spacer&&this.config.updateSpacer){var n=this.config.updateSpacer(this.spacer.markers[0],c);n!=this.spacer.markers[0]&&this.spacer.update(c.view,0,0,[n],this.elementClass)}return this.markers!=f}}]);return g}(),L=function(){function g(c,f,n,t,x){ca(this,g);this.height=-1;this.above=0;this.dom=document.createElement("div");this.update(c,f,n,t,x)}qa(g,
[{key:"update",value:function(c,f,n,t,x){this.height!=f&&(this.dom.style.height=(this.height=f)+"px");this.above!=n&&(this.dom.style.marginTop=(this.above=n)?n+"px":"");if(this.markers!=t){for(this.markers=t;f=this.dom.lastChild;)f.remove();f=!0;n=!1;var z=void 0;try{for(var B=t[Symbol.iterator](),N;!(f=(N=B.next()).done);f=!0){var R=N.value,U=R.toDOM(c);U&&this.dom.appendChild(U);var la=R.elementClass;la&&(x+=" "+la)}}catch(xa){n=!0,z=xa}finally{try{if(!f&&null!=B["return"])B["return"]()}finally{if(n)throw z;
}}this.dom.className=x}}}]);return g}(),w=T.Facet.define();u.lineNumberMarkers=w;var k=T.Facet.define({combine:function(g){return(0,T.combineConfig)(g,{formatNumber:String,domEventHandlers:{}},{domEventHandlers:function(c,f){var n=Object.assign({},c);c=function(x){var z=n[x],B=f[x];n[x]=z?function(N,R,U){return z(N,R,U)||B(N,R,U)}:B};for(var t in f)c(t);return n}})}}),q=function(g){function c(f){ca(this,c);var n=ba(this,ka(c).call(this));n.number=f;return n}wa(c,g);qa(c,[{key:"eq",value:function(f){return this.number==
f.number}},{key:"toDOM",value:function(f){f=f.state.facet(k);return document.createTextNode(f.formatNumber(this.number))}}]);return c}(W),m=ra({style:"lineNumber",markers:function(g){return g.facet(w)},lineMarker:function(g,c,f){return f.length?null:new q(g.state.doc.lineAt(c.from).number)},initialSpacer:function(g){return new q(fa(g.state.doc.lines))},updateSpacer:function(g,c){c=fa(c.view.state.doc.lines);return c==g.number?g:new q(c)}})};
shadow$provide[9]=function(W,da,Ea,u){function na(c){na="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(f){return typeof f}:function(f){return f&&"function"===typeof Symbol&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":typeof f};return na(c)}function ca(c,f){if(!(c instanceof f))throw new TypeError("Cannot call a class as a function");}function ja(c,f){for(var n=0;n<f.length;n++){var t=f[n];t.enumerable=t.enumerable||!1;t.configurable=!0;"value"in t&&(t.writable=!0);
Object.defineProperty(c,t.key,t)}}function qa(c,f,n){f&&ja(c.prototype,f);n&&ja(c,n);return c}function ba(c,f){if(f&&("object"===na(f)||"function"===typeof f))return f;if(void 0===c)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return c}function ka(c){ka=Object.setPrototypeOf?Object.getPrototypeOf:function(f){return f.__proto__||Object.getPrototypeOf(f)};return ka(c)}function wa(c,f){if("function"!==typeof f&&null!==f)throw new TypeError("Super expression must either be null or a function");
c.prototype=Object.create(f&&f.prototype,{constructor:{value:c,writable:!0,configurable:!0}});f&&ma(c,f)}function ma(c,f){ma=Object.setPrototypeOf||function(n,t){n.__proto__=t;return n};return ma(c,f)}function ra(c,f){var n=f.mapPos(c.from,1);c=f.mapPos(c.to,-1);return n>=c?void 0:{from:n,to:c}}function va(c){var f=[],n=!0,t=!1,x=void 0;try{for(var z=function(){var R=N.value.head;if(f.some(function(U){return U.from<=R&&U.to>=R}))return"continue";f.push(c.visualLineAt(R))},B=c.state.selection.ranges[Symbol.iterator](),
N;!(n=(N=B.next()).done);n=!0)z()}catch(R){t=!0,x=R}finally{try{if(!n&&null!=B["return"])B["return"]()}finally{if(t)throw x;}}return f}function fa(c,f,n){var t,x=null;null===(t=c.field(aa,!1))||void 0===t?void 0:t.between(f,n,function(z,B){if(!x||x.from>z)x={from:z,to:B}});return x}function ia(c,f,n){var t=!1;c.between(f,f,function(x,z){x==f&&z==n&&(t=!0)});return t}function S(c,f,n){return c.facet(M.EditorState.foldable).reduce(function(t,x){return t||x(c,f,n)},null)}function T(c){var f=[aa,g];c&&
f.push(w.of(c));return f}Object.defineProperty(u,"__esModule",{value:!0});u.codeFolding=T;u.foldGutter=function(){var c=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},f=Object.assign(Object.assign({},q),c),n=new m(f,!0),t=new m(f,!1);return[(0,K.gutter)({style:"foldGutter",lineMarker:function(x,z){return fa(x.state,z.from,z.to)?t:S(x.state,z.from,z.to)?n:null},initialSpacer:function(){return new m(f,!1)},domEventHandlers:{click:function(x,z){var B=fa(x.state,z.from,z.to);return B?(x.dispatch({effects:Q.of(B)}),
!0):(z=S(x.state,z.from,z.to))?(x.dispatch({effects:P.of(z)}),!0):!1}}}),T()]};u.unfoldCode=u.unfoldAll=u.foldKeymap=u.foldCode=u.foldAll=void 0;var M=da(2),G=da(6),K=da(8),P=M.StateEffect.define({map:ra}),Q=M.StateEffect.define({map:ra}),aa=M.StateField.define({create:function(){return G.Decoration.none},update:function(c,f){c=c.map(f.changes);var n=!0,t=!1,x=void 0;try{for(var z=function(){var la=N.value;la.is(P)&&!ia(c,la.value.from,la.value.to)?c=c.update({add:[k.decoration.range(la.value.from,
la.value.to)]}):la.is(Q)&&(c=c.update({filter:function(xa,ya){return la.value.from!=xa||la.value.to!=ya},filterFrom:la.value.from,filterTo:la.value.to}))},B=f.effects[Symbol.iterator](),N;!(n=(N=B.next()).done);n=!0)z()}catch(la){t=!0,x=la}finally{try{if(!n&&null!=B["return"])B["return"]()}finally{if(t)throw x;}}if(f.selection){var R=!1,U=f.selection.primary.head;c.between(U,U,function(la,xa){la<U&&xa>U&&(R=!0)});R&&(c=c.update({filterFrom:U,filterTo:U,filter:function(la,xa){return xa<=U||la>=U}}))}return c},
provide:[G.EditorView.decorations]});W=function(c){var f=!0,n=!1,t=void 0;try{for(var x=va(c)[Symbol.iterator](),z;!(f=(z=x.next()).done);f=!0){var B=z.value,N=S(c.state,B.from,B.to);if(N)return c.dispatch({effects:P.of(N),reconfigure:c.state.field(aa,!1)?void 0:{append:T()}}),!0}}catch(R){n=!0,t=R}finally{try{if(!f&&null!=x["return"])x["return"]()}finally{if(n)throw t;}}return!1};u.foldCode=W;da=function(c){if(!c.state.field(aa,!1))return!1;var f=[],n=!0,t=!1,x=void 0;try{for(var z=va(c)[Symbol.iterator](),
B;!(n=(B=z.next()).done);n=!0){var N=B.value,R=fa(c.state,N.from,N.to);R&&f.push(Q.of(R))}}catch(U){t=!0,x=U}finally{try{if(!n&&null!=z["return"])z["return"]()}finally{if(t)throw x;}}f.length&&c.dispatch({effects:f});return 0<f.length};u.unfoldCode=da;Ea=function(c){for(var f=c.state,n=[],t=0;t<f.doc.length;){t=c.visualLineAt(t);var x=S(f,t.from,t.to);x&&n.push(P.of(x));t=(x?c.visualLineAt(x.to):t).to+1}n.length&&c.dispatch({effects:n,reconfigure:c.state.field(aa,!1)?void 0:{append:T()}});return!!n.length};
u.foldAll=Ea;var Z=function(c){var f=c.state.field(aa,!1);if(!f||!f.size)return!1;var n=[];f.between(0,c.state.doc.length,function(t,x){n.push(Q.of({from:t,to:x}))});c.dispatch({effects:n});return!0};u.unfoldAll=Z;u.foldKeymap=[{key:"Ctrl-Shift-[",mac:"Cmd-Alt-[",run:W},{key:"Ctrl-Shift-]",mac:"Cmd-Alt-]",run:da},{key:"Ctrl-Alt-[",run:Ea},{key:"Ctrl-Alt-]",run:Z}];var L={placeholderDOM:null,placeholderText:"â€¦"},w=M.Facet.define({combine:function(c){return(0,M.combineConfig)(c,L)}}),k=function(c){function f(){ca(this,
f);return ba(this,ka(f).apply(this,arguments))}wa(f,c);qa(f,[{key:"ignoreEvents",value:function(){return!1}},{key:"toDOM",value:function(n){var t=n.state,x=t.facet(w);if(x.placeholderDOM)return x.placeholderDOM();var z=document.createElement("span");z.textContent=x.placeholderText;z.setAttribute("aria-label",t.phrase("folded code"));z.title=t.phrase("unfold");z.className=(0,G.themeClass)("foldPlaceholder");z.onclick=function(B){var N=n.visualLineAt(n.posAtDOM(B.target));(N=fa(n.state,N.from,N.to))&&
n.dispatch({effects:Q.of(N)});B.preventDefault()};return z}}]);return f}(G.WidgetType);k.decoration=G.Decoration.replace({widget:new k(null)});var q={openText:"âŒ„",closedText:"â€º"},m=function(c){function f(n,t){ca(this,f);var x=ba(this,ka(f).call(this));x.config=n;x.open=t;return x}wa(f,c);qa(f,[{key:"eq",value:function(n){return this.config==n.config&&this.open==n.open}},{key:"toDOM",value:function(n){var t=document.createElement("span");t.textContent=this.open?this.config.openText:this.config.closedText;
t.title=n.state.phrase(this.open?"Fold line":"Unfold line");return t}}]);return f}(K.GutterMarker),g=G.EditorView.baseTheme({foldPlaceholder:{backgroundColor:"#eee",border:"1px solid silver",color:"#888",borderRadius:".2em",margin:"0 1px",padding:"0 1px",cursor:"pointer"},"gutterElement.foldGutter":{padding:"0 1px",cursor:"pointer"}})};
shadow$provide[10]=function(W,da,Ea,u){function na(M,G){if(!(M instanceof G))throw new TypeError("Cannot call a class as a function");}function ca(M,G){for(var K=0;K<G.length;K++){var P=G[K];P.enumerable=P.enumerable||!1;P.configurable=!0;"value"in P&&(P.writable=!0);Object.defineProperty(M,P.key,P)}}function ja(M,G,K){G&&ca(M.prototype,G);K&&ca(M,K);return M}Object.defineProperty(u,"__esModule",{value:!0});u.styleTags=u.highlighter=u.defaultTags=u.defaultHighlighter=u.TagSystem=void 0;var qa=da(1),
ba=da(3),ka=da(6),wa=da(2),ma=da(4);W=function(){function M(G){var K=this;na(this,M);this.typeNames=[""];this.typeIDs=Object.create(null);this.prop=new qa.NodeProp;this.flags=G.flags;this.types=G.types;this.flagMask=Math.pow(2,this.flags.length)-1;this.typeShift=this.flags.length;var P=G.subtypes||0,Q=[void 0];this.typeIDs[""]=0;var aa=1,Z=!0,L=!1,w=void 0;try{for(var k=G.types[Symbol.iterator](),q;!(Z=(q=k.next()).done);Z=!0){var m=q.value,g=/^([\w\-]+)(?:=([\w-]+))?$/.exec(m);if(!g)throw new RangeError("Invalid type name "+
m);var c=aa++;this.typeNames[c]=g[1];this.typeIDs[g[1]]=c;Q[c]=g[2];for(G=0;G<P;G++){var f=aa++,n=g[1]+"#"+(G+1);this.typeNames[f]=n;this.typeIDs[n]=f;Q[f]=g[1]}}}catch(t){L=!0,w=t}finally{try{if(!Z&&null!=k["return"])k["return"]()}finally{if(L)throw w;}}this.parents=Q.map(function(t){if(null==t)return 0;var x=K.typeIDs[t];if(null==x)throw new RangeError("Unknown parent type '".concat(t,"' specified"));return x});if(30<this.flags.length||this.typeNames.length>Math.pow(2,30-this.flags.length))throw new RangeError("Too many style tag flags to fit in a 30-bit integer");
}ja(M,[{key:"get",value:function(G){var K=0,P=!0,Q=!1,aa=void 0;try{for(var Z=G.split(" ")[Symbol.iterator](),L;!(P=(L=Z.next()).done);P=!0){var w=L.value;if(w){var k=this.flags.indexOf(w);if(-1<k)K+=1<<k;else{var q=this.typeIDs[w];if(null==q)throw new RangeError("Unknown tag type '".concat(w,"'"));if(K>>this.typeShift)throw new RangeError("Multiple tag types specified in '".concat(G,"'"));K+=q<<this.typeShift}}}}catch(m){Q=!0,aa=m}finally{try{if(!P&&null!=Z["return"])Z["return"]()}finally{if(Q)throw aa;
}}return K}},{key:"getWithMode",value:function(G){var K="+"==G[0]?1:"!"==G[0]?0:2;return{mode:K,tag:this.get(2==K?G:G.slice(1))}}},{key:"addTagProp",value:function(G){var K=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},P=this.getWithMode(G);return this.prop.set(K,new fa(P.tag,P.mode,va))}},{key:"add",value:function(G){var K=Object.create(null),P;for(P in G){var Q=this.getWithMode(G[P]),aa=Q.mode;Q=Q.tag;var Z=!0,L=!1,w=void 0;try{for(var k=P.split(" ")[Symbol.iterator](),q;!(Z=(q=k.next()).done);Z=
!0){var m=q.value.split("/"),g=m[m.length-1],c=1<m.length?m.slice(0,m.length-1).map(function(n){return"*"==n?null:n}):va,f=new fa(Q,aa,c);K[g]=f.sort(K[g])}}catch(n){L=!0,w=n}finally{try{if(!Z&&null!=k["return"])k["return"]()}finally{if(L)throw w;}}}return this.prop.add(K)}},{key:"highlighter",value:function(G){var K=this,P=new S(this,G);return[ka.ViewPlugin.define(function(Q){return new T(Q,K.prop,P)}).decorations(),ka.EditorView.styleModule.of(P.module)]}},{key:"specificity",value:function(G){for(var K=
G&this.flagMask,P=0,Q=1;Q<=this.flags.length;Q++)K&1<<Q&&P++;for(G>>=this.typeShift;G;G=this.parents[G])P+=1E3;return P}}]);return M}();u.TagSystem=W;var ra=new W({flags:"invalid meta standard definition constant local control link strong emphasis monospace changed inserted deleted".split(" "),subtypes:7,types:"comment lineComment\x3dcomment blockComment\x3dcomment docComment\x3dcomment name variableName\x3dname typeName\x3dname propertyName\x3dname className\x3dname labelName\x3dname functionName\x3dname namespace\x3dname literal string\x3dliteral docString\x3dstring character\x3dstring number\x3dliteral integer\x3dnumber float\x3dnumber regexp\x3dliteral escape\x3dliteral color\x3dliteral content heading\x3dcontent list\x3dcontent quote\x3dcontent keyword self\x3dkeyword null\x3dkeyword atom\x3dkeyword unit\x3dkeyword modifier\x3dkeyword operatorKeyword\x3dkeyword operator derefOperator\x3doperator arithmeticOperator\x3doperator logicOperator\x3doperator bitwiseOperator\x3doperator compareOperator\x3doperator updateOperator\x3doperator typeOperator\x3doperator punctuation separator\x3dpunctuation bracket\x3dpunctuation angleBracket\x3dbracket squareBracket\x3dbracket paren\x3dbracket brace\x3dbracket".split(" ")});
u.defaultTags=ra;var va=[],fa=function(){function M(G,K,P,Q){na(this,M);this.tag=G;this.mode=K;this.context=P;this.next=Q}ja(M,[{key:"sort",value:function(G){if(!G||G.context.length<this.context.length)return this.next=G,this;G.next=this.sort(G.next);return G}}]);return M}();u.styleTags=function(M){return ra.add(M)};W=function(M){return ra.highlighter(M)};u.highlighter=W;var ia=function aa(G,K,P,Q){na(this,aa);this.type=G;this.flags=K;this.specificity=P;this.cls=Q},S=function(){function G(K,P){na(this,
G);this.tags=K;this.cache=Object.create(null);var Q=Object.create(null),aa=0,Z=[],L;for(L in P){var w="c"+aa++;Q[w]=P[L];var k=!0,q=!1,m=void 0;try{for(var g=L.split(/\s*,\s*/)[Symbol.iterator](),c;!(k=(c=g.next()).done);k=!0){var f=K.get(c.value);Z.push(new ia(f>>K.typeShift,f&K.flagMask,K.specificity(f),w))}}catch(n){q=!0,m=n}finally{try{if(!k&&null!=g["return"])g["return"]()}finally{if(q)throw m;}}}this.rules=Z.sort(function(n,t){return t.specificity-n.specificity});this.module=new ba.StyleModule(Q)}
ja(G,[{key:"match",value:function(K){var P=this.cache[K];if(null!=P)return P;P="";for(var Q=K>>this.tags.typeShift,aa=K&this.tags.flagMask;;){var Z=!0,L=!1,w=void 0;try{for(var k=this.rules[Symbol.iterator](),q;!(Z=(q=k.next()).done);Z=!0){var m=q.value;if(m.type==Q&&(m.flags&aa)==m.flags&&(P&&(P+=" "),P+=this.module[m.cls],aa&=~m.flags,Q))break}}catch(g){L=!0,w=g}finally{try{if(!Z&&null!=k["return"])k["return"]()}finally{if(L)throw w;}}if(Q)Q=this.tags.parents[Q];else break}return this.cache[K]=
P}}]);return G}(),T=function(){function G(K,P,Q){na(this,G);this.prop=P;this.styling=Q;this.nodeStack=[""];this.classStack=[""];this.inheritStack=[""];this.tree=K.state.tree;this.decorations=this.buildDeco(K.visibleRanges,this.tree)}ja(G,[{key:"update",value:function(K){var P=K.state.facet(wa.EditorState.syntax);if(!P.length)this.decorations=ka.Decoration.none;else if(P[0].parsePos(K.state)<K.view.viewport.to)this.decorations=this.decorations.map(K.changes);else if(this.tree!=P[0].getTree(K.state)||
K.viewportChanged)this.tree=P[0].getTree(K.state),this.decorations=this.buildDeco(K.view.visibleRanges,this.tree)}},{key:"buildDeco",value:function(K,P){function Q(B,N){B>L&&N&&Z.add(L,B,ka.Decoration.mark({"class":N}));L=B}var aa=this,Z=new ma.RangeSetBuilder,L,w,k,q=this.nodeStack,m=this.classStack,g=this.inheritStack,c=!0,f=!1,n=void 0;try{for(var t=function(){var B=z.value,N=B.from,R=B.to;w="";k=0;L=N;P.iterate({from:N,to:R,enter:function(U,la){k++;for(var xa=g[k-1],ya=xa,za=U.prop(aa.prop),Ja=
!1;za;){var Da;if(!(Da=!za.context.length))a:if(Da=za.context,Da.length>k-1)Da=!1;else{for(var Ua=k-1,Va=Da.length-1;0<=Va;Va--,Ua--){var Ta=Da[Va];if(Ta&&Ta!=q[Ua]){Da=!1;break a}}Da=!0}if(Da){if(Da=aa.styling.match(za.tag))ya&&(ya+=" "),ya+=Da,1==za.mode?xa=ya:0==za.mode&&(Ja=!0);break}za=za.next}ya!=w&&(Q(la,w),w=ya);if(Ja)return k--,!1;m[k]=ya;g[k]=xa;q[k]=U.name},leave:function(U,la,xa){k--;U=m[k];U!=w&&(Q(Math.min(R,xa),w),w=U)}})},x=K[Symbol.iterator](),z;!(c=(z=x.next()).done);c=!0)t()}catch(B){f=
!0,n=B}finally{try{if(!c&&null!=x["return"])x["return"]()}finally{if(f)throw n;}}return Z.finish()}}]);return G}();W=W({deleted:{textDecoration:"line-through"},inserted:{textDecoration:"underline"},link:{textDecoration:"underline"},strong:{fontWeight:"bold"},emphasis:{fontStyle:"italic"},invalid:{color:"#f00"},keyword:{color:"#708"},atom:{color:"#219"},number:{color:"#164"},string:{color:"#a11"},"regexp, escape":{color:"#e40"},"variableName definition":{color:"#00f"},typeName:{color:"#085"},className:{color:"#167"},
"propertyName definition":{color:"#00c"},comment:{color:"#940"},meta:{color:"#555"}});u.defaultHighlighter=W};
shadow$provide[11]=function(W,da,Ea,u){function na(m,g){if(!(m instanceof g))throw new TypeError("Cannot call a class as a function");}function ca(m,g){for(var c=0;c<g.length;c++){var f=g[c];f.enumerable=f.enumerable||!1;f.configurable=!0;"value"in f&&(f.writable=!0);Object.defineProperty(m,f.key,f)}}function ja(m,g,c){g&&ca(m.prototype,g);c&&ca(m,c);return m}function qa(m,g){return function(c){var f=c.state;c=c.dispatch;var n=f.field(Q,!1);if(!n)return!1;f=n.pop(m,f,g);if(!f)return!1;c(f);return!0}}
function ba(m){return function(g){g=g.field(Q,!1);if(!g)return 0;g=0==m?g.done:g.undone;return g.length-(g.length&&!g[0].changes?1:0)}}function ka(m,g,c,f){m=m.slice(g+1>c+20?g-c-1:0,g);m.push(f);return m}function wa(m,g){var c=[],f=!1;m.iterChangedRanges(function(n,t){return c.push(n,t)});g.iterChangedRanges(function(n,t,x,z){for(n=0;n<c.length;){t=c[n++];var B=c[n++];z>=t&&x<=B&&(f=!0)}});return f}function ma(m,g){return m.ranges.length==g.ranges.length&&0===m.ranges.filter(function(c,f){return c.empty!=
g.ranges[f].empty}).length}function ra(m,g){return m.length?g.length?m.concat(g):m:g}function va(m,g){if(m.length){var c=m[m.length-1],f=c.selectionsAfter.slice(Math.max(0,c.selectionsAfter.length-k));if(f.length&&f[f.length-1].eq(g))return m;f.push(g);return ka(m,m.length-1,1E9,c.setSelAfter(f))}return[L.selection([g])]}function fa(m){var g=m[m.length-1],c=m.slice();c[m.length-1]=g.setSelAfter(g.selectionsAfter.slice(0,g.selectionsAfter.length-1));return c}function ia(m,g){if(!m.length)return m;
for(var c=m.length,f=w;c;){f=S(m[c-1],g,f);if(f.changes&&!f.changes.empty||f.effects.length)return m=m.slice(0,c),m[c-1]=f,m;g=f.mapped;c--;f=f.selectionsAfter}return f.length?[L.selection(f)]:w}function S(m,g,c){c=ra(m.selectionsAfter.length?m.selectionsAfter.map(function(x){return x.map(g)}):w,c);if(!m.changes)return L.selection(c);var f=m.changes.map(g),n=g.mapDesc(m.changes,!0),t=m.mapped?m.mapped.composeDesc(n):n;return new L(f,T.StateEffect.mapEffects(m.effects,g),t,m.startSelection.map(n),
c)}Object.defineProperty(u,"__esModule",{value:!0});u.history=function(){return[Q,P.of(0<arguments.length&&void 0!==arguments[0]?arguments[0]:{})]};u.undoSelection=u.undoDepth=u.undo=u.redoSelection=u.redoDepth=u.redo=u.isolateHistory=u.invertedEffects=u.historyKeymap=void 0;var T=da(2),M=T.Annotation.define(),G=T.Annotation.define();u.isolateHistory=G;var K=T.Facet.define();u.invertedEffects=K;var P=T.Facet.define({combine:function(m){return(0,T.combineConfig)(m,{minDepth:100,newGroupDelay:500},
{minDepth:Math.max,newGroupDelay:Math.min})}}),Q=T.StateField.define({create:function(){return q.empty},update:function(m,g){var c=g.state.facet(P),f=g.annotation(M);if(f){var n=L.fromTransaction(g),t=f.side;m=0==t?m.undone:m.done;m=n?ka(m,m.length,c.minDepth,n):va(m,g.startState.selection);return new q(0==t?f.rest:m,0==t?m:f.rest)}f=g.annotation(G);if("full"==f||"before"==f)m=m.isolate();if(!1===g.annotation(T.Transaction.addToHistory))return g.changes.length?m.addMapping(g.changes.desc):m;n=L.fromTransaction(g);
t=g.annotation(T.Transaction.time);var x=g.annotation(T.Transaction.userEvent);n?m=m.addChanges(n,t,x,c.newGroupDelay,c.minDepth):g.selection&&(m=m.addSelection(g.startState.selection,t,x,c.newGroupDelay));if("full"==f||"after"==f)m=m.isolate();return m}});W=qa(0,!1);u.undo=W;da=qa(1,!1);u.redo=da;Ea=qa(0,!0);u.undoSelection=Ea;var aa=qa(1,!0);u.redoSelection=aa;var Z=ba(0);u.undoDepth=Z;Z=ba(1);u.redoDepth=Z;var L=function(){function m(g,c,f,n,t){na(this,m);this.changes=g;this.effects=c;this.mapped=
f;this.startSelection=n;this.selectionsAfter=t}ja(m,[{key:"setSelAfter",value:function(g){return new m(this.changes,this.effects,this.mapped,this.startSelection,g)}}],[{key:"fromTransaction",value:function(g){var c=w,f=!0,n=!1,t=void 0;try{for(var x=g.startState.facet(K)[Symbol.iterator](),z;!(f=(z=x.next()).done);f=!0){var B=z.value,N=B(g);N.length&&(c=c.concat(N))}}catch(R){n=!0,t=R}finally{try{if(!f&&null!=x["return"])x["return"]()}finally{if(n)throw t;}}return!c.length&&g.changes.empty?null:new m(g.changes.invert(g.startState.doc),
c,void 0,g.startState.selection,w)}},{key:"selection",value:function(g){return new m(void 0,w,void 0,void 0,g)}}]);return m}(),w=[],k=200,q=function(){function m(g,c){var f=2<arguments.length&&void 0!==arguments[2]?arguments[2]:0,n=3<arguments.length&&void 0!==arguments[3]?arguments[3]:void 0;na(this,m);this.done=g;this.undone=c;this.prevTime=f;this.prevUserEvent=n}ja(m,[{key:"isolate",value:function(){return this.prevTime?new m(this.done,this.undone):this}},{key:"addChanges",value:function(g,c,f,
n,t){var x=this.done,z=x[x.length-1];x=z&&z.changes&&c-this.prevTime<n&&!z.selectionsAfter.length&&z.changes.length&&g.changes&&wa(z.changes,g.changes)?ka(x,x.length-1,t,new L(g.changes.compose(z.changes),ra(g.effects,z.effects),z.mapped,z.startSelection,w)):ka(x,x.length,t,g);return new m(x,w,c,f)}},{key:"addSelection",value:function(g,c,f,n){var t=this.done.length?this.done[this.done.length-1].selectionsAfter:w;return 0<t.length&&c-this.prevTime<n&&"keyboardselection"==f&&this.prevUserEvent==f&&
ma(t[t.length-1],g)?this:new m(va(this.done,g),this.undone,c,f)}},{key:"addMapping",value:function(g){return new m(ia(this.done,g),ia(this.undone,g),this.prevTime,this.prevUserEvent)}},{key:"pop",value:function(g,c,f){var n=0==g?this.done:this.undone;if(0==n.length)return null;var t=n[n.length-1];return f&&t.selectionsAfter.length?c.update({selection:t.selectionsAfter[t.selectionsAfter.length-1],annotations:M.of({side:g,rest:fa(n)})}):t.changes?(f=1==n.length?w:n.slice(0,n.length-1),t.mapped&&(f=
ia(f,t.mapped)),c.update({changes:t.changes,selection:t.startSelection,effects:t.effects,annotations:M.of({side:g,rest:f}),filter:!1})):null}}]);return m}();q.empty=new q(w,w);u.historyKeymap=[{key:"Mod-z",run:W,preventDefault:!0},{key:"Mod-y",mac:"Mod-Shift-z",run:da,preventDefault:!0},{key:"Mod-u",run:Ea,preventDefault:!0},{key:"Alt-u",mac:"Mod-Shift-u",run:aa,preventDefault:!0}]};
shadow$provide[12]=function(Q,fa,Ja,v){function la(m,h,p){h in m?Object.defineProperty(m,h,{value:p,enumerable:!0,configurable:!0,writable:!0}):m[h]=p;return m}function X(m){X="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(h){return typeof h}:function(h){return h&&"function"===typeof Symbol&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":typeof h};return X(m)}function ha(m,h){if(!(m instanceof h))throw new TypeError("Cannot call a class as a function");}function ua(m,
h){for(var p=0;p<h.length;p++){var t=h[p];t.enumerable=t.enumerable||!1;t.configurable=!0;"value"in t&&(t.writable=!0);Object.defineProperty(m,t.key,t)}}function T(m,h,p){h&&ua(m.prototype,h);p&&ua(m,p);return m}function qa(m){qa=Object.setPrototypeOf?Object.getPrototypeOf:function(h){return h.__proto__||Object.getPrototypeOf(h)};return qa(m)}function Ba(m,h){if("function"!==typeof h&&null!==h)throw new TypeError("Super expression must either be null or a function");m.prototype=Object.create(h&&h.prototype,
{constructor:{value:m,writable:!0,configurable:!0}});h&&na(m,h)}function na(m,h){na=Object.setPrototypeOf||function(p,t){p.__proto__=t;return p};return na(m,h)}function ra(m){return W.EditorState.indentation.of(function(h,p){a:{for(var t=m.getTree(h.state).resolve(p),D=t,H=p;;){H=D.childBefore(H);if(!H)break;H.type.prop(R.NodeProp.error)&&H.start==H.end?(t=D,H=H.start):(D=H,H=D.end+1)}for(;t;t=t.parent)if(D=wa(t)){h=D(new ka(h,p,t));break a}h=-1}return h})}function wa(m){var h=m.type.prop(pa);if(h)return h;
h=m.firstChild;var p;if(h&&(p=h.type.prop(R.NodeProp.closedBy))){var t=m.lastChild,D=t&&-1<p.indexOf(t.name);return function(H){var I;if(I=D){var J,Y;I=!(H.pos==(null===(J=H.options)||void 0===J?void 0:J.simulateBreak)&&(null===(Y=H.options)||void 0===Y?0:Y.simulateDoubleBreak))}return ma(H,!0,1,void 0,I?t.start:void 0)}}return null==m.parent?da:null}function da(){return 0}function ma(m,h,p,t,D){var H=m.textAfter,I=H.match(/^\s*/)[0].length;t=t&&H.slice(I,I+t.length)==t||D==m.pos+I;var J;if(h)a:if(h=
m.node,D=h.childAfter(h.start),H=h.lastChild,D)for(I=null===(J=m.options)||void 0===J?void 0:J.simulateBreak,J=m.state.doc.lineAt(D.start),J=null==I||I<=J.from?J.to:Math.min(J.to,I),I=D.end;;){I=h.childAfter(I);if(!I||I==H){J=null;break a}if(!I.type.prop(R.NodeProp.skipped)){J=I.start<J?D:null;break a}I=I.end}else J=null;else J=null;return J?t?m.column(J.start):m.column(J.end):m.baseIndent+(t?0:m.unit*p)}function P(m){return W.EditorState.foldable.of(function(h,p,t){for(var D=null,H=m.getTree(h).resolve(t);H;H=
H.parent)if(!(H.end<=t||H.start>t)){if(D&&H.start<p)break;var I=H.type.prop(ja);I&&(I=I(H,h))&&I.from<=t&&I.from>=p&&I.to>t&&(D=I)}return D})}function V(m,h){for(var p=2<arguments.length&&void 0!==arguments[2]?arguments[2]:5E6,t=Date.now()+h;;){var D=m.advance();if(D)return D;if(m.pos>p||Date.now()>t)return null}}function M(m,h){var p=m.forceFinish();m=p.applyChanges([{fromA:m.pos,toA:p.length,fromB:m.pos,toB:p.length}]).append(h.applyChanges([{fromA:0,toA:m.pos,fromB:0,toB:m.pos}]));return{parsed:p,
cache:m}}Object.defineProperty(v,"__esModule",{value:!0});v.continuedIndent=function(){var m=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},h=m.except;m=m.units;var p=void 0===m?1:m;return function(t){var D=h&&h.test(t.textAfter);return t.baseIndent+(D?0:p*t.unit)}};v.delimitedIndent=function(m){var h=m.closing,p=m.align,t=void 0===p?!0:p;m=m.units;var D=void 0===m?1:m;return function(H){return ma(H,t,D,h)}};v.indentNodeProp=v.foldNodeProp=v.flatIndent=v.TreeIndentContext=v.LezerSyntax=
void 0;var R=fa(1),W=fa(2),Ca=fa(6),pa=new R.NodeProp;v.indentNodeProp=pa;var ka=function(m){function h(p,t,D){ha(this,h);p=qa(h).call(this,p.state,p.options);if(!p||"object"!==X(p)&&"function"!==typeof p){if(void 0===this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");p=this}p.pos=t;p.node=D;return p}Ba(h,m);T(h,[{key:"textAfter",get:function(){return this.textAfterPos(this.pos)}},{key:"baseIndent",get:function(){for(var p=this.state.doc.lineAt(this.node.start);;){for(var t=
this.node.resolve(p.from);t.parent&&t.parent.start==t.start;)t=t.parent;var D;a:{for(D=this.node;D;D=D.parent)if(t==D){D=!0;break a}D=!1}if(D)break;p=this.state.doc.lineAt(t.start)}return this.lineIndent(p)}}]);return h}(W.IndentContext);v.TreeIndentContext=ka;v.flatIndent=function(m){return m.baseIndent};var ja=new R.NodeProp;v.foldNodeProp=ja;Q=function(){function m(h,p,t){var D=this;ha(this,m);this.parser=h;this.dialect=p;this.languageData=t;var H=W.StateEffect.define();this.field=W.StateField.define({create:function(I){return w.advance(R.Tree.empty,
D,I.doc)},update:function(I,J){return I.apply(J,D,H)}});this.extension=[W.EditorState.syntax.of(this),this.field,Ca.ViewPlugin.define(function(I){return new q(I,D,H)}),ra(this),P(this)]}T(m,[{key:"withDialect",value:function(h){return new m(this.parser,h,this.languageData)}},{key:"getTree",value:function(h){return h.field(this.field).tree}},{key:"parsePos",value:function(h){return h.field(this.field).upto}},{key:"ensureTree",value:function(h,p){var t=2<arguments.length&&void 0!==arguments[2]?arguments[2]:
100,D=h.field(this.field);if(D.upto>=p)return D.updatedTree;D.parse||D.startParse(this,h.doc);return D.parse.pos<p&&(t=V(D.parse,t,p))?D.stopParse(t,h.doc.length):D.parse.pos<p?null:D.stopParse()}},{key:"languageDataFacetAt",value:function(h,p){if(this.parser.hasNested)for(h=this.getTree(h).resolve(p,-1);h;){if(p=h.type.prop(W.languageDataProp))return p;h=h.parent}return this.languageData}}],[{key:"define",value:function(h){var p=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},t=W.Facet.define({combine:p.languageData?
function(D){return D.concat(p.languageData)}:void 0});return new m(h.withProps(W.languageDataProp.add(la({},h.topType.name,t))),p.dialect||"",t)}}]);return m}();v.LezerSyntax=Q;var K=function(){function m(h){var p=1<arguments.length&&void 0!==arguments[1]?arguments[1]:h.length;ha(this,m);this.doc=h;this.length=p;this.cursorPos=0;this.string="";this.cursor=h.iter()}T(m,[{key:"get",value:function(h){if(h>=this.length)return-1;var p=this.cursorPos-this.string.length;if(h<p||h>=this.cursorPos)h<this.cursorPos&&
(this.cursor=this.doc.iter(),this.cursorPos=0),this.string=this.cursor.next(h-this.cursorPos).value,this.cursorPos=h+this.string.length,p=this.cursorPos-this.string.length;return this.string.charCodeAt(h-p)}},{key:"read",value:function(h,p){var t=this.cursorPos-this.string.length;return h<t||p>=this.cursorPos?this.doc.sliceString(h,p):this.string.slice(h-t,p-t)}},{key:"clip",value:function(h){return new m(this.doc,h)}}]);return m}(),w=function(){function m(h,p,t){ha(this,m);this.tree=h;this.upto=
p;this.cache=t;this.parse=null;this.updatedTree=h}T(m,[{key:"apply",value:function(h,p,t){var D=!0,H=!1,I=void 0;try{for(var J=h.effects[Symbol.iterator](),Y;!(D=(Y=J.next()).done);D=!0){var oa=Y.value;if(oa.is(t))return oa.value}}catch(Va){H=!0,I=Va}finally{try{if(!D&&null!=J["return"])J["return"]()}finally{if(H)throw I;}}if(!h.docChanged)return this;var ea=[];h.changes.iterChangedRanges(function(Va,bb,cb,Wa){return ea.push({fromA:Va,toA:bb,fromB:cb,toB:Wa})});return m.advance((this.parse?M(this.parse,
this.updatedTree).cache:this.cache).applyChanges(ea),p,h.state.doc)}},{key:"startParse",value:function(h,p){this.parse=h.parser.startParse(new K(p),{cache:this.cache,dialect:h.dialect})}},{key:"stopParse",value:function(h,p){if(h)this.cache=h;else{var t=M(this.parse,this.updatedTree);h=t.parsed;this.cache=t.cache}this.updatedTree=h;this.upto=null!==p&&void 0!==p?p:this.parse.pos;this.parse=null;return h}}],[{key:"advance",value:function(h,p,t){p=p.parser.startParse(new K(t),{cache:h,dialect:p.dialect});
var D=V(p,25);if(D)return new m(D,t.length,D);h=M(p,h);return new m(h.parsed,p.pos,h.cache)}}]);return m}(),f="undefined"!=typeof window&&window.requestIdleCallback||function(m,h){return setTimeout(m,h.timeout)},n="undefined"!=typeof window&&window.cancelIdleCallback||clearTimeout,q=function(){function m(h,p,t){ha(this,m);this.view=h;this.syntax=p;this.setSyntax=t;this.working=-1;this.work=this.work.bind(this);this.scheduleWork()}T(m,[{key:"update",value:function(h){h.docChanged&&this.scheduleWork()}},
{key:"scheduleWork",value:function(){if(!(-1<this.working)){var h=this.view.state;h.field(this.syntax.field).upto>=h.doc.length||(this.working=f(this.work,{timeout:200}))}}},{key:"work",value:function(h){this.working=-1;var p=this.view.state,t=p.field(this.syntax.field);t.upto>=p.doc.length||(t.parse||t.startParse(this.syntax,p.doc),(h=V(t.parse,h?Math.max(25,h.timeRemaining()):100))||.8<t.parse.badness?(h=t.stopParse(h,p.doc.length),this.view.dispatch({effects:this.setSyntax.of(new w(h,p.doc.length,
t.cache))})):this.scheduleWork())}},{key:"destroy",value:function(){0<=this.working&&n(this.working)}}]);return m}()};
shadow$provide[13]=function(Q,fa,Ja,v){function la(){throw Error("setTimeout has not been defined");}function X(){throw Error("clearTimeout has not been defined");}function ha(M){if(ra===setTimeout)return setTimeout(M,0);if((ra===la||!ra)&&setTimeout)return ra=setTimeout,setTimeout(M,0);try{return ra(M,0)}catch(R){try{return ra.call(null,M,0)}catch(W){return ra.call(this,M,0)}}}function ua(M){if(wa===clearTimeout)return clearTimeout(M);if((wa===X||!wa)&&clearTimeout)return wa=clearTimeout,clearTimeout(M);
try{return wa(M)}catch(R){try{return wa.call(null,M)}catch(W){return wa.call(this,M)}}}function T(){ma&&P&&(ma=!1,P.length?da=P.concat(da):V=-1,da.length&&qa())}function qa(){if(!ma){var M=ha(T);ma=!0;for(var R=da.length;R;){P=da;for(da=[];++V<R;)P&&P[V].run();V=-1;R=da.length}P=null;ma=!1;ua(M)}}function Ba(M,R){this.fun=M;this.array=R}function na(){}Q=Ja.exports={};try{var ra="function"===typeof setTimeout?setTimeout:la}catch(M){ra=la}try{var wa="function"===typeof clearTimeout?clearTimeout:X}catch(M){wa=
X}var da=[],ma=!1,P,V=-1;Q.nextTick=function(M){var R=Array(arguments.length-1);if(1<arguments.length)for(var W=1;W<arguments.length;W++)R[W-1]=arguments[W];da.push(new Ba(M,R));1!==da.length||ma||ha(qa)};Ba.prototype.run=function(){this.fun.apply(null,this.array)};Q.title="browser";Q.browser=!0;Q.env={};Q.argv=[];Q.version="";Q.versions={};Q.on=na;Q.addListener=na;Q.once=na;Q.off=na;Q.removeListener=na;Q.removeAllListeners=na;Q.emit=na;Q.prependListener=na;Q.prependOnceListener=na;Q.listeners=function(M){return[]};
Q.binding=function(M){throw Error("process.binding is not supported");};Q.cwd=function(){return"/"};Q.chdir=function(M){throw Error("process.chdir is not supported");};Q.umask=function(){return 0}};
shadow$provide[14]=function(Q,fa,Ja,v){function la(w,f){function n(){this.constructor=w}qa(w,f);w.prototype=null===f?Object.create(f):(n.prototype=f.prototype,new n)}function X(w,f){void 0===f&&(f=Uint16Array);if("string"!=typeof w)return w;for(var n=null,q=0,m=0;q<w.length;){for(var h=0;;){var p=w.charCodeAt(q++),t=!1;if(126==p){h=65535;break}92<=p&&p--;34<=p&&p--;p-=32;46<=p&&(p-=46,t=!0);h+=p;if(t)break;h*=46}n?n[m++]=h:n=new f(h)}return n}function ha(w,f,n){for(var q=f,m;65535!=(m=w[q]);q++)if(m==
n)return q-f;return-1}function ua(w){for(var f=null,n=0;n<w.length;n++){var q=w[n];q.pos==q.cx.input.length&&q.cx.parser.stateFlag(q.state,2)&&(!f||f.score<q.score)&&(f=q)}return f}Q=fa(13);"use strict";Object.defineProperty(v,"__esModule",{value:!0});var T=fa(1),qa=function(w,f){qa=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,q){n.__proto__=q}||function(n,q){for(var m in q)q.hasOwnProperty(m)&&(n[m]=q[m])};return qa(w,f)},Ba=function(){function w(f,n,q,m,h,p,t,D,H){this.cx=f;
this.stack=n;this.state=q;this.reducePos=m;this.pos=h;this.score=p;this.buffer=t;this.bufferBase=D;this.parent=H}w.prototype.toString=function(){return"["+this.stack.filter(function(f,n){return 0==n%3}).concat(this.state)+"]@"+this.pos+(this.score?"!"+this.score:"")};w.start=function(f,n,q){void 0===q&&(q=0);return new w(f,[],n,q,q,0,[],0,null)};w.prototype.pushState=function(f,n){this.stack.push(this.state,n,this.bufferBase+this.buffer.length);this.state=f};w.prototype.reduce=function(f){var n=f>>
19,q=f&65535,m=this.cx.parser,h=m.dynamicPrecedence(q);h&&(this.score+=h);if(0==n)q<m.minRepeatTerm&&this.storeNode(q,this.reducePos,this.reducePos,4,!0),this.pushState(m.getGoto(this.state,q,!0),this.reducePos);else{n=this.stack.length-3*(n-1)-(f&262144?6:0);h=this.stack[n-2];var p=this.bufferBase+this.buffer.length-this.stack[n-1];if(q<m.minRepeatTerm||f&131072||q>m.maxNode&&q<=m.maxRepeatWrap){var t=m.stateFlag(this.state,1)?this.pos:this.reducePos;this.storeNode(q,h,t,p+4,!0)}for(this.state=f&
262144?this.stack[n]:m.getGoto(this.stack[n-3],q,!0);this.stack.length>n;)this.stack.pop()}};w.prototype.storeNode=function(f,n,q,m,h){void 0===m&&(m=4);void 0===h&&(h=!1);if(0==f){var p=this,t=this.buffer.length;0==t&&p.parent&&(t=p.bufferBase-p.parent.bufferBase,p=p.parent);if(0<t&&0==p.buffer[t-4]&&-1<p.buffer[t-1]){if(n==q)return;if(p.buffer[t-2]>=n){p.buffer[t-2]=q;return}}}if(h&&this.pos!=q){h=this.buffer.length;if(0<h&&0!=this.buffer[h-4])for(;0<h&&this.buffer[h-2]>q;)this.buffer[h]=this.buffer[h-
4],this.buffer[h+1]=this.buffer[h-3],this.buffer[h+2]=this.buffer[h-2],this.buffer[h+3]=this.buffer[h-1],h-=4,4<m&&(m-=4);this.buffer[h]=f;this.buffer[h+1]=n;this.buffer[h+2]=q;this.buffer[h+3]=m}else this.buffer.push(f,n,q,m)};w.prototype.shift=function(f,n,q){if(f&131072)this.pushState(f&65535,this.pos);else if(0==(f&262144)){var m=this.pos,h=this.cx.parser;if(q>this.pos||n<=h.maxNode)this.pos=q,h.stateFlag(f,1)||(this.reducePos=q);this.pushState(f,m);n<=h.maxNode&&this.buffer.push(n,m,q,4)}else n<=
this.cx.parser.maxNode&&this.buffer.push(n,this.pos,q,4),this.pos=q};w.prototype.apply=function(f,n,q){f&65536?this.reduce(f):this.shift(f,n,q)};w.prototype.useNode=function(f,n){var q=this.cx.reused.length-1;if(0>q||this.cx.reused[q]!=f)this.cx.reused.push(f),q++;var m=this.pos;this.reducePos=this.pos=m+f.length;this.pushState(n,m);this.buffer.push(q,m,this.reducePos,-1)};w.prototype.split=function(){for(var f=this,n=f.buffer.length;0<n&&f.buffer[n-2]>f.reducePos;)n-=4;var q=f.buffer.slice(n);for(n=
f.bufferBase+n;f&&n==f.bufferBase;)f=f.parent;return new w(this.cx,this.stack.slice(),this.state,this.reducePos,this.pos,this.score,q,n,f)};w.prototype.recoverByDelete=function(f,n){var q=f<=this.cx.parser.maxNode;q&&this.storeNode(f,this.pos,n);this.storeNode(0,this.pos,n,q?8:4);this.pos=this.reducePos=n;this.score-=200};w.prototype.canShift=function(f){for(var n=new ra(this);;){var q=this.cx.parser.stateSlot(n.top,4)||this.cx.parser.hasAction(n.top,f);if(0==(q&65536))return!0;if(0==q)return!1;n.reduce(q)}};
Object.defineProperty(w.prototype,"ruleStart",{get:function(){for(var f=this.state,n=this.stack.length;;){f=this.cx.parser.stateSlot(f,5);if(!(f&65536))return 0;n-=3*(f>>19);if((f&65535)<this.cx.parser.minRepeatTerm)return this.stack[n+1];f=this.stack[n]}},enumerable:!0,configurable:!0});w.prototype.startOf=function(f){for(var n=this.state,q=this.stack.length,m=this.cx.parser;;){n=m.stateSlot(n,5);var h=n>>19,p=n&65535;if(-1<f.indexOf(p))return this.stack[q-3*(n>>19)+1];if(0==q)return-1;0==h?(q-=
3,n=this.stack[q]):(q-=3*(h-1),n=m.getGoto(this.stack[q-3],p,!0))}};w.prototype.recoverByInsert=function(f){var n=this;if(300<=this.stack.length)return[];var q=this.cx.parser.nextStates(this.state);if(4<q.length||120<=this.stack.length){var m=q.filter(function(t){return t!=n.state&&n.cx.parser.hasAction(t,f)});if(120>this.stack.length)for(var h=0;4>m.length&&h<q.length;h++)0>m.indexOf(q[h])&&m.push(q[h]);q=m}m=[];for(h=0;h<q.length&&4>m.length;h++)if(q[h]!=this.state){var p=this.split();p.storeNode(0,
p.pos,p.pos,4,!0);p.pushState(q[h],this.pos);p.score-=200;m.push(p)}return m};w.prototype.forceReduce=function(){var f=this.cx.parser.stateSlot(this.state,5);if(0==(f&65536))return!1;this.cx.parser.validAction(this.state,f)||(this.storeNode(0,this.reducePos,this.reducePos,4,!0),this.score-=100);this.reduce(f);return!0};w.prototype.forceAll=function(){for(;!this.cx.parser.stateFlag(this.state,2)&&this.forceReduce(););return this};Object.defineProperty(w.prototype,"deadEnd",{get:function(){if(3!=this.stack.length)return!1;
var f=this.cx.parser;return 65535==f.data[f.stateSlot(this.state,1)]&&!f.stateSlot(this.state,4)},enumerable:!0,configurable:!0});w.prototype.restart=function(){this.state=this.stack[0];this.stack.length=0};w.prototype.sameState=function(f){if(this.state!=f.state||this.stack.length!=f.stack.length)return!1;for(var n=0;n<this.stack.length;n+=3)if(this.stack[n]!=f.stack[n])return!1;return!0};w.prototype.toTree=function(){return T.Tree.build({buffer:wa.create(this),group:this.cx.parser.group,topID:this.cx.topTerm,
maxBufferLength:this.cx.maxBufferLength,reused:this.cx.reused,minRepeatType:this.cx.parser.minRepeatTerm})};Object.defineProperty(w.prototype,"parser",{get:function(){return this.cx.parser},enumerable:!0,configurable:!0});w.prototype.dialectEnabled=function(f){return this.cx.dialect.flags[f]};return w}(),na;(function(w){w[w.Token=200]="Token";w[w.Reduce=100]="Reduce";w[w.MaxNext=4]="MaxNext";w[w.MaxInsertStackDepth=300]="MaxInsertStackDepth";w[w.DampenInsertStackDepth=120]="DampenInsertStackDepth"})(na||
(na={}));var ra=function(){function w(f){this.stack=f;this.top=f.state;this.rest=f.stack;this.offset=this.rest.length}w.prototype.reduce=function(f){var n=f&65535;f>>=19;0==f?(this.rest==this.stack.stack&&(this.rest=this.rest.slice()),this.rest.push(this.top,0,0),this.offset+=3):this.offset-=3*(f-1);this.top=this.stack.cx.parser.getGoto(this.rest[this.offset-3],n,!0)};return w}(),wa=function(){function w(f,n,q){this.stack=f;this.pos=n;this.index=q;this.buffer=f.buffer;0==this.index&&this.maybeNext()}
w.create=function(f){return new w(f,f.bufferBase+f.buffer.length,f.buffer.length)};w.prototype.maybeNext=function(){var f=this.stack.parent;null!=f&&(this.index=this.stack.bufferBase-f.bufferBase,this.stack=f,this.buffer=f.buffer)};Object.defineProperty(w.prototype,"id",{get:function(){return this.buffer[this.index-4]},enumerable:!0,configurable:!0});Object.defineProperty(w.prototype,"start",{get:function(){return this.buffer[this.index-3]},enumerable:!0,configurable:!0});Object.defineProperty(w.prototype,
"end",{get:function(){return this.buffer[this.index-2]},enumerable:!0,configurable:!0});Object.defineProperty(w.prototype,"size",{get:function(){return this.buffer[this.index-1]},enumerable:!0,configurable:!0});w.prototype.next=function(){this.index-=4;this.pos-=4;0==this.index&&this.maybeNext()};w.prototype.fork=function(){return new w(this.stack,this.pos,this.index)};return w}();fa=function(){function w(){this.end=this.value=this.start=-1}w.prototype.accept=function(f,n){this.value=f;this.end=n};
return w}();var da=function(){function w(f,n){void 0===n&&(n=f.length);this.string=f;this.length=n}w.prototype.get=function(f){return 0>f||f>=this.length?-1:this.string.charCodeAt(f)};w.prototype.read=function(f,n){return this.string.slice(f,Math.min(this.length,n))};w.prototype.clip=function(f){return new w(this.string,f)};return w}(),ma=function(){function w(f,n){this.data=f;this.id=n}w.prototype.token=function(f,n,q){var m=this.data,h=0,p=1<<this.id,t=q.cx.dialect,D=n.start;a:for(;0!=(p&m[h]);){for(var H=
m[h+1],I=h+3;I<H;I+=2)if(0<(m[I+1]&p)){var J=m[I];if(t.allows(J)&&(-1==n.value||n.value==J||q.cx.parser.overrides(J,n.value))){n.accept(J,D);break}}I=f.get(D++);J=0;for(h=m[h+2];J<h;){var Y=J+h>>1,oa=H+Y+(Y<<1),ea=m[oa+1];if(I<m[oa])h=Y;else if(I>=ea)J=Y+1;else{h=m[oa+2];continue a}}break}};return w}();ma.prototype.contextual=ma.prototype.fallback=ma.prototype.extend=!1;na=function(){return function(w,f){void 0===f&&(f={});this.token=w;this.contextual=!!f.contextual;this.fallback=!!f.fallback;this.extend=
!!f.extend}}();var P="undefined"!=typeof Q&&/\bparse\b/.test(Q.env.LOG),V=null,M=function(){function w(f){this.start=[0];this.index=[0];this.nextStart=0;this.trees=[f]}w.prototype.nodeAt=function(f){if(f<this.nextStart)return null;for(;;){var n=this.trees.length-1;if(0>n)return this.nextStart=1E9,null;var q=this.trees[n],m=this.index[n];if(m==q.children.length)this.trees.pop(),this.start.pop(),this.index.pop();else{var h=q.children[m];q=this.start[n]+q.positions[m];if(q>=f)return q==f?h:null;h instanceof
T.TreeBuffer?(this.index[n]++,this.nextStart=q+h.length):(this.index[n]++,q+h.length>=f&&(this.trees.push(h),this.start.push(q),this.index.push(0)))}}};return w}(),R=function(w){function f(){var n=null!==w&&w.apply(this,arguments)||this;n.extended=-1;n.mask=0;return n}la(f,w);f.prototype.clear=function(n){this.start=n;this.value=this.extended=-1};return f}(fa),W=new fa,Ca=function(){function w(f){this.tokens=[];this.mainToken=W;this.actions=[];this.tokens=f.tokenizers.map(function(n){return new R})}
w.prototype.getActions=function(f,n){var q=0,m=null,h=f.cx.parser,p=h.tokenizers;h=h.stateSlot(f.state,3);for(var t=0;t<p.length;t++)if(0!=(1<<t&h)){var D=p[t],H=this.tokens[t];if(!m||D.fallback){if(D.contextual||H.start!=f.pos||H.mask!=h)this.updateCachedToken(H,D,f,n),H.mask=h;if(0!=H.value){var I=q;-1<H.extended&&(q=this.addActions(f,H.extended,H.end,q));q=this.addActions(f,H.value,H.end,q);if(!D.extend&&(m=H,q>I))break}}}for(;this.actions.length>q;)this.actions.pop();m||(m=W,m.start=f.pos,f.pos==
n.length?m.accept(f.cx.parser.eofTerm,f.pos):m.accept(0,f.pos+1));this.mainToken=m;return this.actions};w.prototype.updateCachedToken=function(f,n,q,m){f.clear(q.pos);n.token(m,f,q);if(-1<f.value){n=q.cx.parser;for(var h=0;h<n.specialized.length;h++)if(n.specialized[h]==f.value){var p=n.specializers[h](m.read(f.start,f.end),q);if(0<=p&&q.cx.dialect.allows(p>>1)){0==(p&1)?f.value=p>>1:f.extended=p>>1;break}}}else q.pos==m.length?f.accept(q.cx.parser.eofTerm,q.pos):f.accept(0,q.pos+1)};w.prototype.putAction=
function(f,n,q,m){for(var h=0;h<m;h+=3)if(this.actions[h]==f)return m;this.actions[m++]=f;this.actions[m++]=n;this.actions[m++]=q;return m};w.prototype.addActions=function(f,n,q,m){var h=f.state;f=f.cx.parser;for(var p=f.data,t=0;2>t;t++)for(var D=f.stateSlot(h,t?2:1),H;65535!=(H=p[D]);D+=3)if(H==n||0==H&&0==m)m=this.putAction(p[D+1]|p[D+2]<<16,n,q,m);return m};return w}(),pa=function(){return function(w,f,n,q,m,h,p){void 0===h&&(h=null);void 0===p&&(p=-1);this.parser=w;this.maxBufferLength=f;this.input=
n;this.topTerm=q;this.dialect=m;this.parent=h;this.wrapType=p;this.reused=[];this.tokens=new Ca(w)}}(),ka=function(){function w(f,n,q){void 0===q&&(q={});this.tokenCount=this.recovering=this.pos=0;this.nextStackID=9812;var m=q.cache;m=void 0===m?void 0:m;var h=q.strict;h=void 0===h?!1:h;var p=q.bufferLength;p=void 0===p?T.DefaultBufferLength:p;var t=q.top;t=void 0===t?void 0:t;q=q.dialect;var D=t?f.topRules[t]:f.defaultTop;if(!D)throw new RangeError("Invalid top rule name "+t);this.stacks=[Ba.start(new pa(f,
p,n,D[1],f.parseDialect(q)),D[0])];this.strict=h;this.cache=m?new M(m):null}w.prototype.putStack=function(f){this.stacks.push(f);if(0>this.pos||f.pos<this.pos)this.pos=f.pos};w.prototype.putStackDedup=function(f){for(var n=0;n<this.stacks.length;n++){var q=this.stacks[n];if(q.pos==f.pos&&q.sameState(f)){this.stacks[n].score<f.score&&(this.stacks[n]=f);return}}this.putStack(f)};w.prototype.advance=function(){var f=this.stacks,n=this.pos;this.stacks=[];this.pos=-1;for(var q=null,m=null,h=0;h<f.length;h++)for(var p=
f[h];;){if(p.pos>n)this.putStack(p);else{var t=this.advanceStack(p,f);if(t){p=t;continue}else q||(q=[],m=[]),q.push(p),p=p.cx.tokens.mainToken,m.push(p.value,p.end)}break}if(!this.stacks.length){if(h=q&&ua(q))return h.toTree();if(this.strict)throw new SyntaxError("No parse at "+n);this.recovering||(this.recovering=5)}if(this.recovering&&q&&(h=this.runRecovery(q,m)))return h.forceAll().toTree();if(this.recovering)h=1==this.recovering?1:3*this.recovering,this.stacks.length>h&&(this.stacks.sort(function(D,
H){return H.score-D.score}),this.stacks.length=h),this.stacks.some(function(D){return D.reducePos>n})&&this.recovering--;else if(1<this.stacks.length)a:for(h=0;h<this.stacks.length-1;h++)for(p=this.stacks[h],q=h+1;q<this.stacks.length;q++)if(m=this.stacks[q],p.sameState(m)||200<p.buffer.length&&200<m.buffer.length)if(0<(p.score-m.score||p.buffer.length-m.buffer.length))this.stacks.splice(q--,1);else{this.stacks.splice(h--,1);continue a}this.tokenCount++;return null};w.prototype.advanceStack=function(f,
n){var q=f.pos,m=f.cx,h=m.input,p=m.parser;m=P?this.stackID(f)+" -\x3e ":"";if(this.cache)for(var t=this.cache.nodeAt(q);t;){var D=p.group.types[t.type.id]==t.type?p.getGoto(f.state,t.type.id):-1;if(-1<D)return f.useNode(t,D),P&&console.log(m+this.stackID(f)+(" (via reuse of "+p.getName(t.type.id)+")")),f;if(!(t instanceof T.Tree)||0==t.children.length||0<t.positions[0])break;t=t.children[0];if(!(t instanceof T.Tree))break}t=p.startNested(f.state);a:if(-1<t){D=p.nested[t];var H=D.grammar;t=D.end;
D=D.placeholder;var I=void 0,J=null,Y=void 0,oa=void 0,ea=void 0;if("function"==typeof H){ea=H(h,f);if(ea.stay)break a;J=ea.parseNode;n=ea.parser;Y=ea.top;oa=ea.dialect;I=ea.filterEnd;ea=ea.wrapType}else n=H;t=this.scanForNestEnd(f,t,I);q=f.cx.input.clip(t);if(J||!n)return m=J?J(q,f.pos):T.Tree.empty,m.length!=t-f.pos&&(m=new T.Tree(m.type,m.children,m.positions,t-f.pos)),null!=ea&&(m=new T.Tree(p.group.types[ea],[m],[0],m.length)),f.useNode(m,p.getGoto(f.state,D,!0)),f;p=Y?n.topRules[Y]:n.defaultTop;
f=Ba.start(new pa(n,f.cx.maxBufferLength,q,p[1],n.parseDialect(oa),f,ea),p[0],f.pos);P&&console.log(m+this.stackID(f)+" (nested)");return f}t=p.stateSlot(f.state,4);if(0<t)return f.reduce(t),P&&console.log(m+this.stackID(f)+(" (via always-reduce "+p.getName(t&65535)+")")),f;D=f.cx.tokens.getActions(f,h);for(oa=0;oa<D.length;){ea=D[oa++];J=D[oa++];t=D[oa++];I=(Y=oa==D.length||!n)?f:f.split();I.apply(ea,J,t);P&&console.log(m+this.stackID(I)+(" (via "+(0==(ea&65536)?"shift":"reduce of "+p.getName(ea&
65535))+" for "+p.getName(J)+" @ "+q+(I==f?"":", split")+")"));if(Y)return I;I.pos>q?this.putStack(I):n.push(I)}return f.cx.parent&&f.pos==h.length?this.finishNested(f):null};w.prototype.advanceFully=function(f){for(var n=f.pos;;){var q=this.advanceStack(f,null);if(!q)return f;if(q.pos>n)return this.putStackDedup(q),null;f=q}};w.prototype.runRecovery=function(f,n){for(var q=null,m=!1,h=0;h<f.length;h++){var p=f[h],t=n[h<<1],D=n[(h<<1)+1],H=P?this.stackID(p)+" -\x3e ":"";if(p.deadEnd){if(m)continue;
m=!0;p.restart();P&&console.log(H+this.stackID(p)+" (restarted)");var I=this.advanceFully(p);if(I)p=I;else continue}for(var J=p.split(),Y=H,oa=0;J.forceReduce()&&10>oa;oa++){P&&console.log(Y+this.stackID(J)+" (via force-reduce)");I=this.advanceFully(J);if(!I)break;J=I;P&&(Y=this.stackID(I)+" -\x3e ")}I=0;for(J=p.recoverByInsert(t);I<J.length;I++)Y=J[I],P&&console.log(H+this.stackID(Y)+" (via recover-insert)"),this.advanceFully(Y);p.cx.input.length>p.pos?(D==p.pos&&(D++,t=0),p.recoverByDelete(t,D),
P&&console.log(H+this.stackID(p)+(" (via recover-delete "+p.cx.parser.getName(t)+")")),this.putStackDedup(p)):p.cx.parent||q&&!(q.score<p.score)||(q=p)}return q};w.prototype.forceFinish=function(){return this.stacks[0].split().forceAll().toTree()};Object.defineProperty(w.prototype,"badness",{get:function(){return this.stacks.length?-(this.stacks[0].score/(200*this.tokenCount)):0},enumerable:!0,configurable:!0});w.prototype.scanForNestEnd=function(f,n,q){for(var m=f.cx.input,h=f.pos;h<m.length;h++)if(W.start=
h,W.value=-1,n.token(m,W,f),-1<W.value&&(!q||q(m.read(h,W.end))))return h;return m.length};w.prototype.finishNested=function(f){if(-2==f.cx.wrapType)return null;var n=f.cx.parent,q=f.forceAll().toTree(),m=n.cx.parser,h=m.nested[m.startNested(n.state)];q=new T.Tree(q.type,q.children,q.positions.map(function(p){return p-n.pos}),f.pos-n.pos);-1<f.cx.wrapType&&(q=new T.Tree(m.group.types[f.cx.wrapType],[q],[0],q.length));f.cx.wrapType=-2;n.useNode(q,m.getGoto(n.state,h.placeholder,!0));P&&console.log(this.stackID(n)+
(" (via unnest "+(-1<f.cx.wrapType?m.getName(f.cx.wrapType):q.type.name)+")"));return n};w.prototype.stackID=function(f){var n=(V||(V=new WeakMap)).get(f);n||V.set(f,n=String.fromCodePoint(this.nextStackID++));return n+f};return w}(),ja=function(){function w(f,n,q){this.source=f;this.flags=n;this.disabled=q}w.prototype.allows=function(f){return!this.disabled||0==this.disabled[f]};return w}();Q=function(){function w(f){function n(J,Y,oa){p[J]==K&&(p[J]=Object.create(null));Y.set(p[J],Y.deserialize(String(oa)))}
this.nextStateCache=[];this.cachedDialect=null;var q=X(f.tokenData),m=f.nodeNames.split(" ");this.minRepeatTerm=m.length;for(var h=0;h<f.repeatNodeCount;h++)m.push("");var p=[];for(h=0;h<m.length;h++)p.push(K);n(0,T.NodeProp.error,"");if(f.nodeProps)for(var t=0,D=f.nodeProps;t<D.length;t++){var H=D[t],I=H[0];for(h=1;h<H.length;h+=2)n(H[h],I,H[h+1])}this.specialized=new Uint16Array(f.specialized?f.specialized.length:0);this.specializers=[];if(f.specialized)for(h=0;h<f.specialized.length;h++)this.specialized[h]=
f.specialized[h].term,this.specializers[h]=f.specialized[h].get;this.states=X(f.states,Uint32Array);this.data=X(f.stateData);this.goto=X(f.goto);this.group=new T.NodeGroup(m.map(function(J,Y){return new T.NodeType(J,p[Y],Y)}));this.maxTerm=f.maxTerm;this.tokenizers=f.tokenizers.map(function(J){return"number"==typeof J?new ma(q,J):J});this.topRules=f.topRules;this.nested=(f.nested||[]).map(function(J){var Y=J[3];return{name:J[0],grammar:J[1],end:new ma(X(J[2]),0),placeholder:Y}});this.dialects=f.dialects||
{};this.dynamicPrecedences=f.dynamicPrecedences||null;this.tokenPrecTable=f.tokenPrec;this.termNames=f.termNames||null;this.maxNode=this.group.types.length-1;this.maxRepeatWrap=this.group.types.length+(this.group.types.length-this.minRepeatTerm)-1;h=0;for(f=this.states.length/6;h<f;h++)this.nextStateCache[h]=null}w.prototype.parse=function(f,n){"string"==typeof f&&(f=new da(f));for(f=new ka(this,f,n);;)if(n=f.advance())return n};w.prototype.startParse=function(f,n){"string"==typeof f&&(f=new da(f));
return new ka(this,f,n)};w.prototype.getGoto=function(f,n,q){void 0===q&&(q=!1);var m=this.goto;if(n>=m[0])return-1;for(n=m[n+1];;){var h=m[n++],p=h&1,t=m[n++];if(p&&q)return t;for(h=n+(h>>1);n<h;n++)if(m[n]==f)return t;if(p)return-1}};w.prototype.hasAction=function(f,n){for(var q=this.data,m=0;2>m;m++)for(var h=this.stateSlot(f,m?2:1),p;65535!=(p=q[h]);h+=3)if(p==n||0==p)return q[h+1]|q[h+2]<<16;return 0};w.prototype.stateSlot=function(f,n){return this.states[6*f+n]};w.prototype.stateFlag=function(f,
n){return 0<(this.stateSlot(f,0)&n)};w.prototype.startNested=function(f){f=this.stateSlot(f,0);return f&4?f>>10:-1};w.prototype.validAction=function(f,n){if(n==this.stateSlot(f,4))return!0;for(f=this.stateSlot(f,1);;f+=3){if(65535==this.data[f])return!1;if(n==(this.data[f+1]|this.data[f+2]<<16))return!0}};w.prototype.nextStates=function(f){var n=this.nextStateCache[f];if(n)return n;n=[];for(var q=this.stateSlot(f,1);65535!=this.data[q];q+=3)0==(this.data[q+2]&1)&&0>n.indexOf(this.data[q+1])&&n.push(this.data[q+
1]);q=this.goto;for(var m=q[0],h=0;h<m;h++)for(var p=q[h+1];;){for(var t=q[p++],D=q[p++],H=p+(t>>1);p<H;p++)q[p]==f&&0>n.indexOf(D)&&n.push(D);if(t&1)break}return this.nextStateCache[f]=n};w.prototype.overrides=function(f,n){n=ha(this.data,this.tokenPrecTable,n);return 0>n||ha(this.data,this.tokenPrecTable,f)<n};w.prototype.withNested=function(f){return this.copy({nested:this.nested.map(function(n){return Object.prototype.hasOwnProperty.call(f,n.name)?{name:n.name,grammar:f[n.name],end:n.end,placeholder:n.placeholder}:
n})})};w.prototype.withProps=function(){for(var f,n=[],q=0;q<arguments.length;q++)n[q]=arguments[q];return this.copy({group:(f=this.group).extend.apply(f,n)})};w.prototype.copy=function(f){for(var n=Object.create(w.prototype),q=0,m=Object.keys(this);q<m.length;q++){var h=m[q];n[h]=h in f?f[h]:this[h]}return n};w.prototype.getName=function(f){return this.termNames?this.termNames[f]:String(f<=this.maxNode&&this.group.types[f].name||f)};Object.defineProperty(w.prototype,"eofTerm",{get:function(){return this.maxRepeatWrap+
1},enumerable:!0,configurable:!0});Object.defineProperty(w.prototype,"hasNested",{get:function(){return 0<this.nested.length},enumerable:!0,configurable:!0});Object.defineProperty(w.prototype,"defaultTop",{get:function(){return this.topRules[Object.keys(this.topRules)[0]]},enumerable:!0,configurable:!0});w.prototype.dynamicPrecedence=function(f){var n=this.dynamicPrecedences;return null==n?0:n[f]||0};Object.defineProperty(w.prototype,"topType",{get:function(){return this.group.types[this.defaultTop[1]]},
enumerable:!0,configurable:!0});w.prototype.parseDialect=function(f){if(this.cachedDialect&&this.cachedDialect.source==f)return this.cachedDialect;var n=Object.keys(this.dialects),q=n.map(function(){return!1});if(f)for(var m=0,h=f.split(" ");m<h.length;m++){var p=n.indexOf(h[m]);0<=p&&(q[p]=!0)}m=null;for(h=0;h<n.length;h++)if(!q[h]){var t=this.dialects[n[h]];for(p=void 0;65535!=(p=this.data[t++]);)(m||(m=new Uint8Array(this.maxTerm+1)))[p]=1}return this.cachedDialect=new ja(f,q,m)};w.deserialize=
function(f){return new w(f)};return w}();Q.TokenGroup=ma;var K=Object.create(null);v.NodeGroup=T.NodeGroup;v.NodeProp=T.NodeProp;v.NodeType=T.NodeType;v.Subtree=T.Subtree;v.Tree=T.Tree;v.ExternalTokenizer=na;v.ParseContext=ka;v.Parser=Q;v.Stack=Ba;v.Token=fa};
shadow$provide[15]=function(Q,fa,Ja,v){function la(a,b){let c=null;for(let d=0;d<a.length;d++){let e=a[d].walk(b);e==a[d]||c||(c=a.slice(0,d));c&&c.push(e)}return c||a}function X(a,b){return a.constructor==b.constructor&&a.eq(b)}function ha(a,b){return a.length==b.length&&a.every((c,d)=>X(c,b[d]))}function ua(a,b){return a.prec<b.prec?"("+a.toString()+")":a.toString()}function T(a,b,c){if(a.length!=b.length)return a.length-b.length;for(let d=0;d<a.length;d++){let e=c(a[d],b[d]);if(e)return e}return 0}
function qa(a,b){if(0==a.length||a==b)return b;if(0==b.length)return a;let c=a.slice();for(let d of b)a.includes(d)||c.push(d);return c.sort()}function Ba(a){return 65534<a?"âˆž":55296<=a&&57343>a?"\\u{"+a.toString(16)+"}":String.fromCharCode(a)}function na(a){let b="";for(let c=0;c<a.length;c++)b+=String.fromCharCode(a[c].from);return b}function ra(a){let b="";for(let c of a)b+=(b.length?"-":"")+c.id;return b}function wa(a){let b=[],c=[];for(var d of a)b.includes(d.from)||b.push(d.from),b.includes(d.to)||
b.push(d.to);b.sort((e,g)=>e-g);for(d=1;d<b.length;d++){let e=b[d-1],g=b[d],l=[];for(let r of a)if(r.to>e&&r.from<g)for(let x of r.target.closure())l.includes(x)||l.push(x);l.length&&c.push(new cc(e,g,l))}return c}function da(a,b){let c=b?b.start:a.start,d=a.eat("at","export");b=b||K(a);let e=ma(a),g=[];if(a.eat("\x3c"))for(;!a.eat("\x3e");)g.length&&a.expect(","),g.push(K(a));a=V(a);return new eb(c,b,d,e,g,a)}function ma(a){if("["!=a.type)return fb;let b=[];for(a.expect("[");!a.eat("]");)b.length&&
a.expect(","),b.push(P(a));return b}function P(a){let b=a.start,c=a.expect("id"),d=[];if(a.eat("\x3d"))for(;;)if("string"==a.type||"id"==a.type)d.push(new Ta(a.start,a.value,null)),a.next();else if(a.eat("."))d.push(new Ta(a.start,".",null));else if(a.eat("{"))d.push(new Ta(a.start,null,a.expect("id"))),a.expect("}");else break;return new Aa(b,c,d)}function V(a){a.expect("{");let b=ja(a);a.expect("}");return b}function M(a){var b=a.start;if(a.eat("("))return b=ja(a),a.expect(")"),b;if("string"==a.type){var c=
a.value;a.next();return 0==c.length?new y(b,fb,[fb,fb]):new S(b,c)}if(a.eat("id","_"))return new ba(b);if("set"==a.type){c="!"==a.string[a.start];var d=p(a.value.replace(/\\.|-|"/g,g=>"-"==g?"ï·š":'"'==g?'\\"':g));let e=[];for(let g=0;g<d.length;){let l=d.codePointAt(g);g+=65535<l?2:1;if(g<d.length-1&&"ï·š"==d[g]){let r=d.codePointAt(g+1);g+=65535<r?3:2;r<l&&a.raise("Invalid character range",a.start);W(a,e,l,r+1)}else W(a,e,l,l+1)}a.next();return new Z(b,e.sort((g,l)=>g[0]-l[0]),c)}if("at"!=a.type||"specialize"!=
a.value&&"extend"!=a.value){if("["==a.type)return c=da(a,new gb(b,"_anon")),c.params.length&&a.raise("Inline rules can't have parameters",c.start),new B(b,c);c=K(a);if("["==a.type||"{"==a.type)return c=da(a,c),c.params.length&&a.raise("Inline rules can't have parameters",c.start),new B(b,c);d=null;a.eat(".")&&(d=c,c=K(a));return new k(b,d,c,R(a))}{let {start:e,value:g}=a;a.next();b=ma(a);a.expect("\x3c");d=ja(a);a.eat(",")?c=ja(a):d instanceof S?c=d:a.raise(`@${g} requires two arguments when its first argument isn't a literal string`);
a.expect("\x3e");return new u(e,g,b,d,c)}}function R(a){let b=[];if(a.eat("\x3c"))for(;!a.eat("\x3e");)b.length&&a.expect(","),b.push(ja(a));return b}function W(a,b,c,d){b.every(([e,g])=>g<=c||e>=d)||a.raise("Overlapping character range",a.start);b.push([c,d])}function Ca(a){let b=a.start,c=M(a);for(;;){let d=a.type;if(a.eat("*")||a.eat("?")||a.eat("+"))c=new L(b,c,d);else return c}}function pa(a){return"}"==a.type||")"==a.type||"|"==a.type||"/"==a.type||"/\\"==a.type||"{"==a.type||","==a.type||"\x3e"==
a.type}function ka(a){let b=a.start,c=[],d=[fb];do{for(;;){let e=a.start,g;if(a.eat("~"))g="ambig";else if(a.eat("!"))g="prec";else break;d[d.length-1]=d[d.length-1].concat(new E(e,K(a),g))}if(pa(a))break;c.push(Ca(a));d.push(fb)}while(!pa(a));return 1==c.length&&d.every(e=>0==e.length)?c[0]:new y(b,c,d)}function ja(a){let b=a.start;var c=ka(a);if(!a.eat("|"))return c;c=[c];do c.push(ka(a));while(a.eat("|"));return new z(b,c)}function K(a){"id"!=a.type&&a.unexpected();let b=a.start,c=a.value;a.next();
return new gb(b,c)}function w(a){let b=a.start;a.next();a.expect("{");let c=[];for(;!a.eat("}");){c.length&&a.expect(",");let d=M(a);d instanceof S||d instanceof k?c.push(d):a.raise("Invalid expression in token precedences",d.start)}return new Cb(b,c)}function f(a){let b=[];for(a.expect("{");!a.eat("}");){b.length&&a.eat(",");let c=K(a),d=ma(a);b.push({id:c,props:d})}return b}function n(a,b){let c=K(a);a.expect("id","from");let d=a.expect("string");return new Xa(b,c,d,f(a))}function q(a,b,c){a.expect("{");
let d=ja(a);a.expect("}");let e=K(a);a.expect("id","from");let g=a.expect("string");return new Db(c,b,d,e,g,f(a))}function m(a,b){let c=K(a),d=a.eat("id","as")?K(a):c,e=null;a.eat("id","from")?e=a.expect("string"):a.expect("id","empty");return new Eb(b,d,c,e)}function h(a,b){let c=K(a),d=a.eat("id","as")?K(a):c;a.expect("id","from");a=a.expect("string");return new Fb(b,d,c,a)}function p(a){let b=/\\(?:u\{([\da-f]+)\}|u([\da-f]{4})|x([\da-f]{2})|([ntbrf0])|(.))|./yig,c="",d;for(;d=b.exec(a);){let [e,
g,l,r,x,C]=d;c=g||l||r?c+String.fromCodePoint(parseInt(g||l||r,16)):x?c+("n"==x?"\n":"t"==x?"\t":"0"==x?"\x00":"r"==x?"\r":"f"==x?"\f":"\b"):C?c+C:c+e}return c}function t(a,b){return(a<<5)+a+b}function D(a,b){return a<b?-1:a>b?1:0}function H(a,b,c,d){let e=[];for(b+=1;b<a.parts.length;b++){let g=a.parts[b],l=!1;if(g.terminal)ea(g,e);else for(let r of d[g.name])null==r?l=!0:ea(r,e);if(!l)return e}for(let g of c)ea(g,e);return e}function I(a,b){if(a.length!=b.length)return!1;for(let c=0;c<a.length;c++)if(!a[c].eq(b[c]))return!1;
return!0}function J(a,b){if(a.length!=b.length)return!1;for(let c=0;c<a.length;c++)if(a[c]!=b[c])return!1;return!0}function Y(a){let b=5381;for(let c of a)b=t(b,c.hash);return b}function oa(a,b){function c(l,r,x,C,A){for(let F of l.rules){if(l=d.find(G=>G.rule==F)){if(l.skipAhead!=C)throw new Pa("Inconsistent skip sets after "+l.prev.trail());l.ambigAhead=qa(l.ambigAhead,x)}else l=a.findIndex(G=>0==G.pos&&G.rule==F),l=new dc(F,0>l?[]:a[l].ahead.slice(),l,x,C,A),d.push(l);for(let G of r)l.ahead.includes(G)||
(l.ahead.push(G),l.rule.parts.length&&!l.rule.parts[0].terminal&&ea(l,e))}}let d=[],e=[];for(var g of a){let l=g.next;l&&!l.terminal&&c(l,H(g.rule,g.pos,g.ahead,b),g.conflicts(g.pos+1).ambigGroups,g.pos==g.rule.parts.length-1?g.skipAhead:g.rule.skip,g.prev)}for(;e.length;)g=e.pop(),c(g.rule.parts[0],H(g.rule,0,g.ahead,b),qa(g.rule.conflicts[1].ambigGroups,1==g.rule.parts.length?g.ambigAhead:Xb),g.skipAhead,g.prev);b=a.slice();for(let l of d)g=new mb(l.rule,0,l.ahead.sort((r,x)=>r.hash-x.hash),l.ambigAhead,
l.skipAhead,l.prev),-1<l.origIndex?b[l.origIndex]=g:b.push(g);return b.sort((l,r)=>l.cmp(r))}function ea(a,b){b.includes(a)||b.push(a)}function Va(a){let b=Object.create(null);for(var c of a.terms)c.terminal||(b[c.name]=[]);for(;;){c=!1;for(let d of a.terms)if(!d.terminal)for(let e of d.rules){let g=b[d.name],l=!1,r=g.length;for(let x of e.parts){l=!0;if(x.terminal)ea(x,g);else for(let C of b[x.name])null==C?l=!1:ea(C,g);if(l)break}l||ea(null,g);g.length>r&&(c=!0)}if(!c)return b}}function bb(a,b,
c){function d(G,N){if(0==G.length)return null;let O=Y(G);var ia=g[O];let Da;for(var aa of G)if(!Da)Da=aa.skip;else if(Da!=aa.skip)throw new Pa("Inconsistent skip sets after "+aa.trail());if(ia)for(let sa of ia)if(I(G,sa.set)){if(sa.state.skip!=Da)throw new Pa("Inconsistent skip sets after "+sa.set[0].trail());return sa.state}ia=oa(G,c);aa=Y(ia);let va;if(!N)for(let sa of e)sa.hash==aa&&sa.hasSet(ia)&&(va=sa);va||(va=new Yb(e.length,ia,0,Da,aa,N),e.push(va));(g[O]||(g[O]=[])).push(new ec(G,va));return va}
let e=[],g={};for(var l of b){const G=l.rules.length?l.rules[0].skip:a.names["%noskip"];d(l.rules.map(N=>new mb(N,0,[a.eof],Xb,G,null)),l)}b=[];for(l=0;l<e.length;l++){let G=e[l];var r=[];let N=[];var x=[];for(let O of G.set)if(O.pos==O.rule.parts.length)O.rule.name.top||x.push(O);else{var C=O.rule.parts[O.pos],A=r.indexOf(C);0>A?(r.push(C),N.push([O])):N[A].push(O)}for(C=0;C<r.length;C++){A=r[C];var F=N[C].map(O=>O.advance());A.terminal?(F=cb(F),(F=d(F))&&G.addAction(new Qa(A,F),N[C],b)):(F=d(F))&&
G.goto.push(new Qa(A,F))}r=!1;for(let O of x)for(let ia of O.ahead)x=G.actions.length,G.addAction(new nb(ia,O.rule),[O],b),G.actions.length==x&&(r=!0);if(r)for(x=0;x<G.goto.length;x++)c[G.goto[x].term.name].some(O=>G.actions.some(ia=>ia.term==O&&ia instanceof Qa))||G.goto.splice(x--,1)}if(b.length)throw new Pa(b.map(G=>G.error).join("\n\n"));for(let G of e)G.finish();return e}function cb(a){let b=null,c=1;for(let d of a){let e=d.rule.conflicts[d.pos-1].cut;if(!(e<c)){if(!b||e>c)c=e,b=[];b.push(d)}}return b||
a}function Wa(a,b,c){a:for(let d of a.actions){let e=!1;for(let g of b.actions)if(g.term==d.term)if(g.constructor!=d.constructor||d instanceof Qa&&c[d.target.id]!=c[g.target.id])e=!0;else break a;if(e)return!1}for(let d of a.goto)for(let e of b.goto)if(d.term==e.term&&c[d.target.id]!=c[e.target.id])return!1;return!0}function ob(a,b,c){return Wa(a,b,c)&&Wa(b,a,c)}function Gb(a,b){let c=[];for(var d of a){let e=b[d.id];c[e]||(c[e]=new Yb(e,d.set,0,d.skip,d.hash,d.startRule),c[e].tokenGroup=d.tokenGroup,
c[e].defaultReduce=d.defaultReduce)}for(let e of a){a=c[b[e.id]];a.flags|=e.flags;for(d=0;d<e.actions.length;d++){let g=e.actions[d].map(b,c);a.actions.some(l=>l.eq(g))||(a.actions.push(g),a.actionPositions.push(e.actionPositions[d]))}for(let g of e.goto){let l=g.map(b,c);a.goto.some(r=>r.eq(l))||a.goto.push(l)}}return c}function Hb(a,b,c,d){for(let e=0;e<d.length;e++)if(d[e]==a&&c[d[e+(e%2?-1:1)]]==b)return!0;return!1}function Ib(a){let b=[];for(;;){let g=[];var c=[];for(let l=0;l<a.length;l++){let r=
a[l];var d=null==r.startRule?c.findIndex((x,C)=>r.set.length==x.set.length&&r.set.every((A,F)=>A.eqSimple(x.set[F]))&&x.tokenGroup==r.tokenGroup&&x.skip==r.skip&&!x.startRule&&!Hb(l,C,g,b)):-1;g.push(0>d?c.length:d);0>d&&c.push(r)}c=Object.create(null);d=b.length;for(let l of a){var e=g[l.id];e=c[e]||(c[e]=[]);for(let r of e)ob(l,a[r],g)||b.push(l.id,r);e.push(l.id)}if(b.length==d)return Gb(a,g)}}function Jb(a){for(;;){let c=[],d=!1,e=[];for(let g=0;g<a.length;g++){let l=a[g];var b=e.findIndex(r=>
l.eq(r));if(0>b)c[g]=e.length,e.push(l);else{c[g]=b;d=!0;b=e[b];let r=null;for(let x of l.set)b.set.some(C=>C.eqSimple(x))||(r||(r=[])).push(x);r&&(b.set=r.concat(b.set).sort((x,C)=>x.cmp(C)))}}if(!d)return a;for(let g of e)g.defaultReduce||(g.actions=g.actions.map(l=>l.map(c,e)),g.goto=g.goto.map(l=>l.map(c,e)));for(a=0;a<e.length;a++)e[a].id=a;a=e}}function pb(a,b=65535){if(a>b)throw Error("Trying to encode a number that's too big: "+a);if(65535==a)return String.fromCharCode(126);b="";for(var c=
46;;c=0){let d=a%46;a-=d;c=d+c+32;34<=c&&c++;92<=c&&c++;c=String.fromCharCode(c);b=c+b;if(0==a)break;a/=46}return b}function Ya(a,b=65535){let c='"'+pb(a.length,4294967295);for(let d=0;d<a.length;d++)c+=pb(a[d],b);return c+'"'}function Ea(...a){return new Na(a,null)}function hb(a,b,c){a.props==Fa&&(a.props=Object.create(null));let d=a.props[b];if(!d||0>d.split(" ").indexOf(c))a.props[b]=d?d+" "+c:c}function qb(a){let b=Object.create(null);for(let {value:c,term:d,type:e}of a)b[c]=d.id<<1|("specialize"==
e?0:1);return b}function Za(a,b,c=a.parts.length){return a.name.id|65536|(a.isRepeatLeaf&&c==a.parts.length?131072:0)|(b.some(d=>d.rule==a.name)?262144:0)|c<<19}function Kb(a,b){let c=Object.create(null),d=[],e=g=>{c[g.id]||(c[g.id]=!0,d.push(g))};for(let g of a)g.startRule&&b.includes(g.startRule)&&e(g);for(a=0;a<d.length;a++){for(let g of d[a].actions)g instanceof Qa&&e(g.target);for(let g of d[a].goto)e(g.target)}return g=>!c[g]}function Lb(a){let b={},c=0;for(var d of a)for(var e of d.goto)c=
Math.max(e.term.id,c),a=b[e.term.id]||(b[e.term.id]={}),(a[e.target.id]||(a[e.target.id]=[])).push(d.id);d=new Zb;e=[];a=c+2;for(let g=0;g<=c;g++){let l=b[g];if(!l){e.push(1);continue}let r=[],x=Object.keys(l);for(let C of x){let A=l[C];r.push((C==x[x.length-1]?1:0)+(A.length<<1));r.push(+C);for(let F of A)r.push(F)}e.push(d.storeArray(r)+a)}if(e.some(g=>65535<g))throw new Pa("Goto table too large");return Uint16Array.from([c+1,...e,...d.data])}function Ua(a,b){a.includes(b)||a.push(b)}function rb(a){let b=
Object.create(null);for(let c of a){a=1<<c.id;for(let d of c.tokens)b[d.id]=(b[d.id]||0)|a}return b}function ib(a,b){function c(e){if(e instanceof y){let g=e.exprs.indexOf(b);-1<g&&g<e.exprs.length-1&&(d=e.exprs[g+1])}return e}let d;for(let e of a.rules)e.expr.walk(c);for(let e of a.topRules)e.expr.walk(c);return d}function jb(a,b,c){function d(g,l){return g.actions.some(r=>r.term==l)||c[b.skipRules.indexOf(g.skip)].startTokens.includes(l)}let e=Object.create(null);return(g,l)=>{g.id<l.id&&([g,l]=
[l,g]);let r=g.id|l.id<<16,x=e[r];return null!=x?x:e[r]=a.some(C=>d(C,g)&&d(C,l))}}function sb(a){let b=0,c=[];for(let [d,e]of a)d>b&&c.push([b,d]),b=e;1114111>=b&&c.push([b,1114112]);return c}function tb(a,b,c,d){if(55296>c&&1114112==d)a.edge(c,65535,b);else if(65536>c&&(55296>c&&a.edge(c,Math.min(d,55296),b),57344<d&&a.edge(Math.max(c,57344),Math.min(d,65535),b),c=65536),!(65536>d)){c=String.fromCodePoint(c);var e=String.fromCodePoint(d-1);d=c.charCodeAt(0);c=c.charCodeAt(1);var g=e.charCodeAt(0);
e=e.charCodeAt(1);if(d==g)g=new Ha,a.edge(d,d+1,g),g.edge(c,e+1,b);else{let l=d,r=g;if(56320<c){l++;let x=new Ha;a.edge(d,d+1,x);x.edge(c,57344,b)}57343>e&&(r--,d=new Ha,a.edge(g,g+1,d),d.edge(56320,e+1,b));l<=r&&(d=new Ha,a.edge(l,r+1,d),d.edge(56320,57344,b))}}}function ub(a){return a instanceof y&&0==a.exprs.length}function vb(a,b){let c=Object.create(null);for(let d of b){a.unique(d.id);let {name:e,props:g,dialect:l}=a.nodeInfo(d.props,"d",d.id.name);b=a.makeTerminal(d.id.name,e,g);null!=l&&(a.tokens.byDialect[l]||
(a.tokens.byDialect[l]=[])).push(b);a.namedTerms[d.id.name]=c[d.id.name]=b}return c}function wb(a,b,c){b=b[c.id.name];if(!b)return null;c.args.length&&a.raise("External tokens cannot take arguments",c.args[0].start);a.used(c.id.name);return b}function kb(a,b,c){let d=a.findIndex(e=>e.term==b);0>d?a.push({term:b,after:c}):a[d]={term:b,after:a[d].after.concat(c)}}function Mb(a,b){for(;;){let c=Object.create(null),d;for(let g=0;g<a.length;g++){let l=a[g];l.name.interesting||l.parts.includes(l.name)||
!(3>l.parts.length)||b.includes(l.name)||1!=l.parts.length&&!a.every(r=>r.skip==l.skip||!r.parts.includes(l.name))||l.parts.some(r=>!!c[r.name])||a.some((r,x)=>x!=g&&r.name==l.name)||(d=c[l.name.name]=l)}if(!d)return a;let e=[];for(let g of a){if(c[g.name.name])continue;if(!g.parts.some(r=>!!c[r.name])){e.push(g);continue}a=[g.conflicts[0]];let l=[];for(let r=0;r<g.parts.length;r++){let x=c[g.parts[r].name];if(x){a[a.length-1]=a[a.length-1].join(x.conflicts[0]);for(let C=0;C<x.parts.length;C++)l.push(x.parts[C]),
a.push(x.conflicts[C+1]);a[a.length-1]=a[a.length-1].join(g.conflicts[r+1])}else l.push(g.parts[r]),a.push(g.conflicts[r+1])}e.push(new Sb(g.name,l,a,g.skip))}a=e}}function xb(a){let b=Object.create(null);var c;for(let d=0;d<a.length;){let e=d,g=a[d++].name;for(;d<a.length&&a[d].name==g;)d++;let l=d-e;if(!g.interesting)for(let r=d;r<a.length;){let x=r,C=a[r++].name;for(;r<a.length&&a[r].name==C;)r++;if(r-x!=l||C.interesting)continue;let A=!0;for(let F=0;F<l&&A;F++)0!=a[e+F].cmpNoName(a[x+F])&&(A=
!1);A&&(c=b[g.name]=C)}}if(!c)return a;c=[];for(let d of a)b[d.name.name]||c.push(d.parts.every(e=>!b[e.name])?d:new Sb(d.name,d.parts.map(e=>b[e.name]||e),d.conflicts,d.skip));return c}function yb(a,b){return xb(Mb(a,b))}var zb=fa(13);"use strict";Object.defineProperty(v,"__esModule",{value:!0});var $a=fa(14);class xa{constructor(a){this.start=a}}class Nb extends xa{constructor(a,b,c,d,e,g,l,r,x,C,A,F,G){super(a);this.rules=b;this.topRules=c;this.tokens=d;this.externalTokens=e;this.externalSpecializers=
g;this.precedences=l;this.mainSkip=r;this.scopedSkip=x;this.dialects=C;this.grammars=A;this.externalProps=F;this.autoDelim=G}toString(){return Object.values(this.rules).join("\n")}}class eb extends xa{constructor(a,b,c,d,e,g){super(a);this.id=b;this.exported=c;this.props=d;this.params=e;this.expr=g}toString(){return this.id.name+(this.params.length?`<${this.params.join()}>`:"")+" -\x3e "+this.expr}}class Ob extends xa{constructor(a,b){super(a);this.items=b}}class Cb extends xa{constructor(a,b){super(a);
this.items=b}}class Pb extends xa{constructor(a,b,c,d){super(a);this.precedences=b;this.rules=c;this.literals=d}}class Qb extends xa{constructor(a,b,c){super(a);this.literal=b;this.props=c}}class Xa extends xa{constructor(a,b,c,d){super(a);this.id=b;this.source=c;this.tokens=d}}class Db extends xa{constructor(a,b,c,d,e,g){super(a);this.type=b;this.token=c;this.id=d;this.source=e;this.tokens=g}}class Eb extends xa{constructor(a,b,c,d){super(a);this.id=b;this.externalID=c;this.source=d}}class Fb extends xa{constructor(a,
b,c,d){super(a);this.id=b;this.externalID=c;this.source=d}}class gb extends xa{constructor(a,b){super(a);this.name=b}toString(){return this.name}}class Ka extends xa{walk(a){return a(this)}eq(a){return!1}}Ka.prototype.prec=10;class k extends Ka{constructor(a,b,c,d){super(a);this.namespace=b;this.id=c;this.args=d}toString(){return this.id.name+(this.args.length?`<${this.args.join()}>`:"")}eq(a){return(this.namespace?null!=a.namespace&&a.namespace.name==this.namespace.name:!a.namespace)&&this.id.name==
a.id.name&&ha(this.args,a.args)}walk(a){let b=la(this.args,a);return a(b==this.args?this:new k(this.start,this.namespace,this.id,b))}}class u extends Ka{constructor(a,b,c,d,e){super(a);this.type=b;this.props=c;this.token=d;this.content=e}toString(){return`@${this.type}[${this.props.join(",")}]<${this.token}, ${this.content}>`}eq(a){return this.type==a.type&&Aa.eqProps(this.props,a.props)&&X(this.token,a.token)&&X(this.content,a.content)}walk(a){let b=this.token.walk(a),c=this.content.walk(a);return a(b==
this.token&&c==this.content?this:new u(this.start,this.type,this.props,b,c))}}class B extends Ka{constructor(a,b){super(a);this.rule=b}toString(){let a=this.rule;return`${a.id}${a.props.length?`[${a.props.join(",")}]`:""} { ${a.expr} }`}eq(a){let b=this.rule;a=a.rule;return X(b.expr,a.expr)&&b.id.name==a.id.name&&Aa.eqProps(b.props,a.props)}walk(a){let b=this.rule,c=b.expr.walk(a);return a(c==b.expr?this:new B(this.start,new eb(b.start,b.id,!1,b.props,[],c)))}}class z extends Ka{constructor(a,b){super(a);
this.exprs=b}toString(){return this.exprs.map(a=>ua(a,this)).join(" | ")}eq(a){return ha(this.exprs,a.exprs)}walk(a){let b=la(this.exprs,a);return a(b==this.exprs?this:new z(this.start,b))}}z.prototype.prec=1;class y extends Ka{constructor(a,b,c){super(a);this.exprs=b;this.markers=c}toString(){return this.exprs.map(a=>ua(a,this)).join(" ")}eq(a){return ha(this.exprs,a.exprs)&&this.markers.every((b,c)=>{let d=a.markers[c];return b.length==d.length&&b.every((e,g)=>e.eq(d[g]))})}walk(a){let b=la(this.exprs,
a);return a(b==this.exprs?this:new y(this.start,b,this.markers))}}y.prototype.prec=2;class E extends xa{constructor(a,b,c){super(a);this.id=b;this.type=c}toString(){return("ambig"==this.type?"~":"!")+this.id.name}eq(a){return this.id.name==a.id.name&&this.type==a.type}}class L extends Ka{constructor(a,b,c){super(a);this.expr=b;this.kind=c}toString(){return ua(this.expr,this)+this.kind}eq(a){return X(this.expr,a.expr)&&this.kind==a.kind}walk(a){let b=this.expr.walk(a);return a(b==this.expr?this:new L(this.start,
b,this.kind))}}L.prototype.prec=3;class S extends Ka{constructor(a,b){super(a);this.value=b}toString(){return JSON.stringify(this.value)}eq(a){return this.value==a.value}}class Z extends Ka{constructor(a,b,c){super(a);this.ranges=b;this.inverted=c}toString(){return`[${this.inverted?"^":""}${this.ranges.map(([a,b])=>String.fromCodePoint(a)+(b==a+1?"":"-"+String.fromCodePoint(b)))}]`}eq(a){return this.inverted==a.inverted&&this.ranges.length==a.ranges.length&&this.ranges.every(([b,c],d)=>{let [e,g]=
a.ranges[d];return b==e&&c==g})}}class ba extends Ka{constructor(a){super(a)}toString(){return"_"}eq(){return!0}}class Aa extends xa{constructor(a,b,c){super(a);this.name=b;this.value=c}eq(a){return this.name==a.name&&this.value.length==a.value.length&&this.value.every((b,c)=>b.value==a.value[c].value&&b.name==a.value[c].name)}toString(){let a=this.name;if(this.value.length){a+="\x3d";for(let {name:b,value:c}of this.value)a+=b?`{${b}}`:/[^\w-]/.test(c)?JSON.stringify(c):c}return a}static eqProps(a,
b){return a.length==b.length&&a.every((c,d)=>c.eq(b[d]))}}class Ta extends xa{constructor(a,b,c){super(a);this.value=b;this.name=c}}class Pa extends Error{}const Fa=Object.create(null);let fc=0;class gc{constructor(a,b,c,d=Fa){this.name=a;this.flags=b;this.nodeName=c;this.props=d;this.hash=++fc;this.id=-1;this.rules=[];a:{for(let e in d)break a;this.props=Fa}}toString(){return this.name}get nodeType(){return this.top||null!=this.nodeName||this.props!=Fa||this.repeatRelated}get terminal(){return 0<
(this.flags&1)}get eof(){return 0<(this.flags&4)}get error(){return"error"in this.props}get top(){return 0<(this.flags&2)}get interesting(){return 0<this.flags||null!=this.nodeName}get repeated(){return 0<(this.flags&16)}get repeatWrap(){return 0<(this.flags&32)}get repeatRelated(){return 0<(this.flags&48)}set preserve(a){this.flags=a?this.flags|8:this.flags&-9}get preserve(){return 0<(this.flags&8)}cmp(a){return this.hash-a.hash}}class hc{constructor(){this.terms=[];this.names=Object.create(null);
this.repeatMap=Object.create(null);this.tops=[];this.eof=this.term("â„",null,5);this.error=this.term("âš ","âš ",8,{error:""})}term(a,b,c=0,d=Fa){b=new gc(a,c,b,d);this.terms.push(b);return this.names[a]=b}makeTop(a,b){a=this.term("@top",a,2,b);this.tops.push(a);return a}makeTerminal(a,b,c=Fa){return this.term(a,b,1,c)}makeNonTerminal(a,b,c=Fa){return this.term(a,b,0,c)}makeRepeat(a){let b=this.term(a,null,16);a=this.term(a+"-wrap",null,32);this.repeatMap[b.name]=a;return{inner:b,outer:a}}uniqueName(a){for(let b=
0;;b++){let c=b?`${a}-${b}`:a;if(!this.names[c])return c}}finish(a){for(var b of a)b.name.rules.push(b);this.terms=this.terms.filter(g=>g.terminal||g.preserve||a.some(l=>l.name==g||l.parts.includes(g)));b={};let c=[this.error];this.error.id=0;let d=1;for(var e of this.terms)0>e.id&&e.nodeType&&!e.repeatRelated&&(e.id=d++,c.push(e));e=d;for(let g of this.terms)g.repeated&&(g.id=d++,c.push(g));for(let g of this.terms)g.repeated&&(this.repeatMap[g.name].id=d++);this.eof.id=d++;for(let g of this.terms)0>
g.id&&(g.id=d++),g.name&&(b[g.id]=g.name);if(65534<=d)throw new Pa("Too many terms");return{nodeTypes:c,names:b,minRepeatTerm:e,maxTerm:d-1}}}const ic=[];class ya{constructor(a,b=ic,c=0){this.precedence=a;this.ambigGroups=b;this.cut=c}join(a){return this==ya.none||this==a?a:a==ya.none?this:new ya(Math.max(this.precedence,a.precedence),qa(this.ambigGroups,a.ambigGroups),Math.max(this.cut,a.cut))}cmp(a){return this.precedence-a.precedence||T(this.ambigGroups,a.ambigGroups,(b,c)=>b<c?-1:b>c?1:0)||this.cut-
a.cut}}ya.none=new ya(0);let jc=0;class Sb{constructor(a,b,c,d){this.name=a;this.parts=b;this.conflicts=c;this.skip=d;this.id=jc++}cmp(a){return this.id-a.id}cmpNoName(a){return this.parts.length-a.parts.length||this.skip.hash-a.skip.hash||this.parts.reduce((b,c,d)=>b||c.cmp(a.parts[d]),0)||T(this.conflicts,a.conflicts,(b,c)=>b.cmp(c))}toString(){return this.name+" -\x3e "+this.parts.join(" ")}get isRepeatLeaf(){return this.name.repeated&&!(2==this.parts.length&&this.parts[0]==this.name)}sameReduce(a){return this.name==
a.name&&this.parts.length==a.parts.length&&this.isRepeatLeaf==a.isRepeatLeaf}}class kc{constructor(a,b,c){this.from=a;this.to=b;this.target=c}toString(){return`-> ${this.target.id}[label=${JSON.stringify(0>this.from?"Îµ":Ba(this.from)+(this.to>this.from+1?"-"+Ba(this.to-1):""))}]`}}let lc=1;class Ha{constructor(a=[],b=lc++){this.accepting=a;this.id=b;this.edges=[]}edge(a,b,c){this.edges.push(new kc(a,b,c))}nullEdge(a){this.edge(-1,-1,a)}compile(){function a(d){let e=b[ra(d)]=new Ha(d.reduce((l,r)=>
qa(l,r.accepting),[]),c++),g=[];for(let l of d)for(let r of l.edges)0<=r.from&&g.push(r);d=wa(g);for(let l of d)d=l.targets.sort((r,x)=>r.id-x.id),e.edge(l.from,l.to,b[ra(d)]||a(d));return e}let b=Object.create(null),c=0;return a(this.closure().sort((d,e)=>d.id-e.id))}closure(){function a(c){if(!b.includes(c)){(c.edges.some(d=>0<=d.from)||0<c.accepting.length&&!c.edges.some(d=>{a:{var e=c.accepting;d=d.target.accepting;if(e.length!=d.length)e=!1;else{for(let g=0;g<e.length;g++)if(e[g]!=d[g]){e=!1;
break a}e=!0}}return e}))&&b.push(c);for(let d of c.edges)0>d.from&&a(d.target)}}let b=[];a(this);return b}findConflicts(a){function b(e,g,l,r,x){e.id<g.id&&([e,g]=[g,e],l=-l);let C=c.find(A=>A.a==e&&A.b==g);C?C.soft!=l&&(C.soft=0):c.push(new mc(e,g,l,na(r),x&&na(x)))}let c=[],d=this.cycleTerms();this.reachable((e,g)=>{if(0!=e.accepting.length){for(let l=0;l<e.accepting.length;l++)for(let r=l+1;r<e.accepting.length;r++)b(e.accepting[l],e.accepting[r],0,g);e.reachable((l,r)=>{if(l!=e)for(let x of l.accepting){l=
d.includes(x);for(let C of e.accepting)x!=C&&b(x,C,l||d.includes(C)||!a(x,C)?0:1,g,g.concat(r))}})}});return c}cycleTerms(){let a=[];this.reachable(d=>{for(let {target:e}of d.edges)a.push(d,e)});var b=new Map;let c=[];for(let d=0;d<a.length;){let e=a[d++],g=a[d++],l=b.get(e);l||b.set(e,l=[]);if(!l.includes(g))if(e==g)c.includes(e)||c.push(e);else{for(let r of l)a.push(e,r);l.push(g)}}b=[];for(let d of c)for(let e of d.accepting)b.includes(e)||b.push(e);return b}reachable(a){let b=[],c=[];(function g(e){a(e,
c);b.push(e);for(let l of e.edges)b.includes(l.target)||(c.push(l),g(l.target),c.pop())})(this)}toString(){let a="digraph {\n";this.reachable(b=>{b.accepting.length&&(a+=`  ${b.id} [label=${JSON.stringify(b.accepting.join())}];\n`);for(let c of b.edges)a+=`  ${b.id} ${c};\n`});return a+"}"}toArray(a,b){let c=[],d=[];this.reachable(e=>{let g=d.length,l=g+3+2*e.accepting.length;c[e.id]=g;d.push(e.stateMask(a),l,e.edges.length);e.accepting.sort((r,x)=>b.indexOf(r.id)-b.indexOf(x.id));for(let r of e.accepting)d.push(r.id,
a[r.id]||65535);for(let r of e.edges)d.push(r.from,r.to,-r.target.id-1)});for(let e=0;e<d.length;e++)0>d[e]&&(d[e]=c[-d[e]-1]);if(65536<d.length)throw new Pa("Tokenizer tables too big to represent with 16-bit offsets.");return Uint16Array.from(d)}stateMask(a){let b=0;this.reachable(c=>{for(let d of c.accepting)b|=a[d.id]||65535});return b}}class mc{constructor(a,b,c,d,e){this.a=a;this.b=b;this.soft=c;this.exampleA=d;this.exampleB=e}}class cc{constructor(a,b,c){this.from=a;this.to=b;this.targets=c}}
let Ab=/[\w_-]+/gy;try{Ab=/[\p{Alphabetic}\d_-]+/ugy}catch(a){}const fb=[];class nc{constructor(a,b=null){this.string=a;this.fileName=b;this.type="sof";this.value=null;this.end=this.start=0;this.next()}lineInfo(a){for(let b=1,c=0;;){let d=this.string.indexOf("\n",c);if(-1<d&&d<a)++b,c=d+1;else return{line:b,ch:a-c}}}message(a,b=-1){let c=this.fileName||"";-1<b&&(b=this.lineInfo(b),c+=(c?" ":"")+b.line+":"+b.ch);return c?a+` (${c})`:a}raise(a,b=-1){throw new Pa(this.message(a,b));}match(a,b){return(b=
b.exec(this.string.slice(a)))?a+b[0].length:-1}next(){let a=this.match(this.end,/^(\s|\/\/.*|\/\*[^]*?\*\/)*/);if(a==this.string.length)return this.set("eof",null,a,a);var b=this.string[a];if('"'==b)return b=this.match(a+1,/^(\\.|[^"])*"/),-1==b&&this.raise("Unterminated string literal",a),this.set("string",p(this.string.slice(a+1,b-1)),a,b);if("'"==b)return b=this.match(a+1,/^(\\.|[^'])*'/),-1==b&&this.raise("Unterminated string literal",a),this.set("string",p(this.string.slice(a+1,b-1)),a,b);if("@"==
b)return Ab.lastIndex=a+1,(b=Ab.exec(this.string))?this.set("at",b[0],a,a+1+b[0].length):this.raise("@ without a name",a);if("$"!=b&&"!"!=b||"["!=this.string[a+1]){if(/[\[\]()!~+*?{}<>\.,|:$=]/.test(b))return this.set(b,null,a,a+1);{Ab.lastIndex=a;let c=Ab.exec(this.string);return c?this.set("id",c[0],a,a+c[0].length):this.raise("Unexpected character "+JSON.stringify(b),a)}}b=this.match(a+2,/^(?:\\.|[^\]])*\]/);-1==b&&this.raise("Unterminated character set",a);return this.set("set",this.string.slice(a+
2,b-1),a,b)}set(a,b,c,d){this.type=a;this.value=b;this.start=c;this.end=d}eat(a,b=null){if(this.type!=a||null!=b&&this.value!==b)return!1;this.next();return!0}unexpected(){return this.raise(`Unexpected token '${this.string.slice(this.start,this.end)}'`,this.start)}expect(a,b=null){let c=this.value;(this.type!=a||null!=b&&c!==b)&&this.unexpected();this.next();return c}parse(){{var a=this.start;let g=[];var b=null,c=null;let l=null,r=[],x=[],C=[],A=[],F=[],G=[],N=[],O=!1;for(;"eof"!=this.type;){var d=
this.start;if("at"==this.type&&"top"==this.value)this.next(),d="id"==this.type?K(this):new gb(d,"@top"),N.length&&"@top"===d.name&&this.raise("Unnamed secondary @top declaration",this.start),N.push(da(this,d));else if("at"==this.type&&"tokens"==this.value)if(c)this.raise("Multiple @tokens declaractions",this.start);else{{c=this.start;this.next();this.expect("{");d=[];var e=[];let ia=[];for(;!this.eat("}");)"at"==this.type&&"precedence"==this.value?ia.push(w(this)):"string"==this.type?e.push(new Qb(this.start,
this.expect("string"),ma(this))):d.push(da(this));c=new Pb(c,ia,d,e)}}else if(this.eat("at","external"))this.eat("id","tokens")?C.push(n(this,d)):this.eat("id","grammar")?F.push(m(this,d)):this.eat("id","prop")?G.push(h(this,d)):this.eat("id","extend")?A.push(q(this,"extend",d)):this.eat("id","specialize")?A.push(q(this,"specialize",d)):this.unexpected();else if(this.eat("at","dialects"))for(this.expect("{"),d=!0;!this.eat("}");d=!1)d||this.eat(","),x.push(K(this));else if("at"==this.type&&"precedence"==
this.value){b&&this.raise("Multiple precedence declarations",this.start);b=this.start;this.next();this.expect("{");for(d=[];!this.eat("}");)d.length&&this.eat(","),d.push({id:K(this),type:this.eat("at","left")?"left":this.eat("at","right")?"right":this.eat("at","cut")?"cut":null});b=new Ob(b,d)}else if(this.eat("at","detectDelim"))O=!0;else if(this.eat("at","skip"))if(d=V(this),"{"==this.type){this.next();for(e=[];!this.eat("}");)e.push(da(this));r.push({expr:d,rules:e})}else l&&this.raise("Multiple top-level skip declarations",
this.start),l=d;else g.push(da(this))}a=N.length?new Nb(a,g,N,c,C,A,b,l,r,x,F,G,O):this.raise("Missing @top declaration")}return a}}class mb{constructor(a,b,c,d,e,g){this.rule=a;this.pos=b;this.ahead=c;this.ambigAhead=d;this.skipAhead=e;this.prev=g;a=t(t(a.id,b),e.hash);for(var l of this.ahead)a=t(a,l.hash);for(let r of d){d=a;l=r;for(a=0;a<l.length;a++)d=t(d,l.charCodeAt(a));a=d}this.hash=a}get next(){return this.pos<this.rule.parts.length?this.rule.parts[this.pos]:null}advance(){return new mb(this.rule,
this.pos+1,this.ahead,this.ambigAhead,this.skipAhead,this)}get skip(){return this.pos==this.rule.parts.length?this.skipAhead:this.rule.skip}cmp(a){return this.rule.cmp(a.rule)||this.pos-a.pos||this.skipAhead.hash-a.skipAhead.hash||T(this.ahead,a.ahead,(b,c)=>b.cmp(c))||T(this.ambigAhead,a.ambigAhead,D)}eqSimple(a){return a.rule==this.rule&&a.pos==this.pos}toString(){let a=this.rule.parts.map(b=>b.name);a.splice(this.pos,0,"Â·");return`${this.rule.name} -> ${a.join(" ")}`}eq(a){return this==a||this.hash==
a.hash&&this.rule==a.rule&&this.pos==a.pos&&this.skipAhead==a.skipAhead&&J(this.ahead,a.ahead)&&J(this.ambigAhead,a.ambigAhead)}trail(a=60){var b=[];for(let c=this.prev;c;c=c.prev)b.push(c.next);b=b.reverse().join(" ");b.length>a&&(b=b.slice(b.length-a).replace(/.*? /,"â€¦ "));return b}conflicts(a=this.pos){let b=this.rule.conflicts[a];a==this.rule.parts.length&&this.ambigAhead.length&&(b=b.join(new ya(0,this.ambigAhead)));return b}static conflictsAt(a,b){let c=ya.none,d=[];for(var e of a)c=c.join(e.conflicts()),
0==e.pos&&ea(e.rule.name,d);for(a=0;a<d.length;a++){e=d[a];for(let g of b)g.next==e&&(c=c.join(g.conflicts()),0==g.pos&&ea(g.rule.name,d))}return c}}class Qa{constructor(a,b){this.term=a;this.target=b}eq(a){return a instanceof Qa&&this.term==a.term&&a.target.id==this.target.id}cmp(a){return a instanceof nb?-1:this.term.id-a.term.id||this.target.id-a.target.id}toString(){return"s"+this.target.id}map(a,b){a=b[a[this.target.id]];return a==this.target?this:new Qa(this.term,a)}}class nb{constructor(a,
b){this.term=a;this.rule=b}eq(a){return a instanceof nb&&this.term==a.term&&a.rule.sameReduce(this.rule)}cmp(a){return a instanceof Qa?1:this.term.id-a.term.id||this.rule.name.id-a.rule.name.id||this.rule.parts.length-a.rule.parts.length}toString(){return`${this.rule.name.name}(${this.rule.parts.length})`}map(){return this}}class Yb{constructor(a,b,c=0,d,e=Y(b),g=null){this.id=a;this.set=b;this.flags=c;this.skip=d;this.hash=e;this.startRule=g;this.actions=[];this.actionPositions=[];this.goto=[];this.tokenGroup=
-1;this.defaultReduce=null;this.nested=-1}toString(){let a=this.actions.map(b=>b.term+"\x3d"+b).join(",")+(this.goto.length?" | "+this.goto.map(b=>b.term+"\x3d"+b).join(","):"");return this.id+": "+this.set.filter(b=>0<b.pos).join()+(this.defaultReduce?`\n  always ${this.defaultReduce.name}(${this.defaultReduce.parts.length})`:a.length?"\n  "+a:"")}addActionInner(a,b){for(let c=0;c<this.actions.length;c++){let d=this.actions[c];if(d.term==a.term){if(d.eq(a))return null;let e=mb.conflictsAt(b,this.set),
g=mb.conflictsAt(this.actionPositions[c],this.set),l=e.precedence-g.precedence;if(0<l)this.actions.splice(c,1),this.actionPositions.splice(c,1),c--;else{if(0>l)return null;if(!e.ambigGroups.some(r=>g.ambigGroups.includes(r)))return d}}}this.actions.push(a);this.actionPositions.push(b);return null}addAction(a,b,c){var d=this.addActionInner(a,b);if(d){let e=this.actionPositions[this.actions.indexOf(d)][0],g=[b[0].rule.name,e.rule.name];c.some(l=>l.rules.some(r=>g.includes(r)))||(d=d instanceof Qa?`shift/reduce conflict between\n  ${e}\nand\n  ${b[0].rule}`:
`reduce/reduce conflict between\n  ${b[0].rule}\nand\n  ${e.rule}`,d+=`\nWith input:\n  ${b[0].trail(70)} Â· ${a.term} â€¦`,c.push(new oc(d,g)))}}getGoto(a){return this.goto.find(b=>b.term==a)}hasSet(a){return I(this.set,a)}finish(){if(this.actions.length){let a=this.actions[0];if(a instanceof nb){let {rule:b}=a;this.actions.every(c=>c instanceof nb&&c.rule.sameReduce(b))&&(this.defaultReduce=b)}}this.actions.sort((a,b)=>a.cmp(b));this.goto.sort((a,b)=>a.cmp(b))}eq(a){let b=this.defaultReduce,c=a.defaultReduce;
return b||c?b&&c?b.sameReduce(c):!1:this.skip==a.skip&&this.tokenGroup==a.tokenGroup&&I(this.actions,a.actions)&&I(this.goto,a.goto)}}class dc{constructor(a,b,c,d,e,g){this.rule=a;this.ahead=b;this.origIndex=c;this.ambigAhead=d;this.skipAhead=e;this.prev=g}}class ec{constructor(a,b){this.set=a;this.state=b}}class oc{constructor(a,b){this.error=a;this.rules=b}}const Xb=[],za=[],Tb="undefined"!=typeof zb&&zb.env.LOG||"";class Na{constructor(a,b){this.terms=a;this.conflicts=b}concat(a){if(this==Na.none)return a;
if(a==Na.none)return this;let b=null;if(this.conflicts||a.conflicts){b=this.conflicts?this.conflicts.slice():this.ensureConflicts();let c=a.ensureConflicts();b[b.length-1]=b[b.length-1].join(c[0]);for(let d=1;d<c.length;d++)b.push(c[d])}return new Na(this.terms.concat(a.terms),b)}withConflicts(a,b){if(b==ya.none)return this;let c=this.conflicts?this.conflicts.slice():this.ensureConflicts();c[a]=c[a].join(b);return new Na(this.terms,c)}ensureConflicts(){if(this.conflicts)return this.conflicts;let a=
[];for(let b=0;b<=this.terms.length;b++)a.push(ya.none);return a}}Na.none=new Na(za,null);class Rb{constructor(a,b,c){this.id=a;this.args=b;this.term=c}matches(a){return this.id==a.id.name&&ha(a.args,this.args)}matchesRepeat(a){return"+"==this.id&&X(a.expr,this.args[0])}}class $b{constructor(a,b){this.options=b;this.terms=new hc;this.nestedGrammars=[];this.specialized=Object.create(null);this.tokenOrigins=Object.create(null);this.rules=[];this.built=[];this.ruleNames=Object.create(null);this.namespaces=
Object.create(null);this.namedTerms=Object.create(null);this.termTable=Object.create(null);this.knownProps=Object.create(null);this.dynamicRulePrecedences=[];this.astRules=[];this.currentSkip=[];this.input=new nc(a,b.fileName);this.ast=this.input.parse();a=$a.NodeProp;for(var c in a)a[c]instanceof $a.NodeProp&&(this.knownProps[c]={prop:a[c],source:{name:c,from:null}});for(var d of this.ast.externalProps)this.knownProps[d.id.name]={prop:this.options.externalProp?this.options.externalProp(d.id.name):
$a.NodeProp.string(),source:{name:d.externalID.name,from:d.source}};this.dialects=this.ast.dialects.map(A=>A.name);this.tokens=new pc(this,this.ast.tokens);this.externalTokens=this.ast.externalTokens.map(A=>new ac(this,A));this.externalSpecializers=this.ast.externalSpecializers.map(A=>new Ub(this,A));this.defineNamespace("nest",new qc);for(let A of this.ast.grammars)this.ast.grammars.some(F=>F!=A&&F.id.name==A.id.name)&&this.raise(`Duplicate external grammar name '${A.id.name}'`,A.id.start);c=this.newName("%noskip",
!0);this.defineRule(c,[]);d=this.ast.mainSkip?this.newName("%mainskip",!0):c;let e=[];for(var g of this.ast.rules)this.astRules.push({skip:d,rule:g});for(let A of this.ast.scopedSkip){g=c;a=this.ast.scopedSkip.findIndex((F,G)=>G<e.length&&X(F.expr,A.expr));-1<a?g=e[a]:this.ast.mainSkip&&X(A.expr,this.ast.mainSkip)?g=d:ub(A.expr)||(g=this.newName("%skip",!0));e.push(g);for(var l of A.rules)this.astRules.push({skip:g,rule:l})}for(var {rule:r}of this.astRules)this.unique(r.id),this.namespaces[r.id.name]&&
this.raise(`Rule name '${r.id.name}' conflicts with a defined namespace`,r.id.start);this.currentSkip.push(c);this.skipRules=d==c?[d]:[c,d];d!=c&&this.defineRule(d,this.normalizeExpr(this.ast.mainSkip));for(l=0;l<this.ast.scopedSkip.length;l++)r=e[l],this.skipRules.includes(r)||(this.skipRules.push(r),r!=c&&this.defineRule(r,this.normalizeExpr(this.ast.scopedSkip[l].expr)));this.currentSkip.pop();for(var x of this.ast.topRules){this.currentSkip.push(d);let {name:A,props:F}=this.nodeInfo(x.props,"",
"@top"==x.id.name?null:x.id.name,za,za,x.expr,{top:"true"});this.defineRule(this.terms.makeTop(A,F),this.normalizeExpr(x.expr));this.currentSkip.pop()}for(let A of this.externalSpecializers)A.finish();for(var C of this.ast.rules)if(C.exported&&this.ruleNames[C.id.name]&&0==C.params.length){let {name:A,props:F,dynamicPrec:G}=this.nodeInfo(C.props,"p",C.id.name);x=this.namedTerms[C.id.name]=this.newName(C.id.name,A,F);G&&this.registerDynamicPrec(x,G);x.preserve=!0;C.expr instanceof y&&0==C.expr.exprs.length&&
this.used(C.id.name)}for(let A in this.ruleNames)(C=this.ruleNames[A])&&this.warn(`Unused rule '${C.name}'`,C.start);this.tokens.takePrecedences()}unique(a){a.name in this.ruleNames&&this.raise(`Duplicate definition of rule '${a.name}'`,a.start);this.ruleNames[a.name]=a}used(a){this.ruleNames[a]=null}defineNamespace(a,b,c=0){this.namespaces[a]&&this.raise(`Duplicate definition of namespace '${a}'`,c);this.namespaces[a]=b}newName(a,b=null,c=Fa){for(let d=b?0:1;;d++){let e=d?`${a}-${d}`:a;if(!this.terms.names[e])return this.terms.makeNonTerminal(e,
!0===b?null:b,c)}}prepareParser(){var a=yb(this.rules,[...this.skipRules,...this.nestedGrammars.map(ca=>ca.placeholder),...this.terms.tops]);let {nodeTypes:b,names:c,minRepeatTerm:d,maxTerm:e}=this.terms.finish(a);for(var g in this.namedTerms)this.termTable[g]=this.namedTerms[g].id;/\bgrammar\b/.test(Tb)&&console.log(a.join("\n"));let l=this.terms.tops.slice(),r=Va(this.terms);g=this.skipRules.map((ca,Ga)=>{let Ra=[],La=[],Sa=[];for(let Ma of ca.rules){if(!Ma.parts.length)continue;let Ia=Ma.parts[0];
for(let ab of Ia.terminal?[Ia]:r[Ia.name]||[])La.includes(ab)||La.push(ab);Ia.terminal&&1==Ma.parts.length&&!Sa.some(ab=>ab!=Ma&&ab.parts[0]==Ia)?Ra.push(Ia):Sa.push(Ma)}ca.rules=Sa;Sa.length&&l.push(ca);return{skip:Ra,rule:Sa.length?ca:null,startTokens:La,id:Ga}});a=bb(this.terms,l,r);let {tokenGroups:x,tokenPrec:C,tokenData:A}=this.tokens.buildTokenGroups(a,g),F=Jb(Ib(a));var G=Kb(F,this.terms.tops);this.addNestedGrammars(F);/\blr\b/.test(Tb)&&console.log(F.join("\n"));a=[];for(var N of this.externalSpecializers)a.push(N);
for(var O in this.specialized)a.push({token:this.terms.names[O],table:qb(this.specialized[O])});let ia=ca=>ca instanceof Xa?ca.start:this.tokens.ast?this.tokens.ast.start:-1;N=x.concat(this.externalTokens.map(ca=>ca.ast)).sort((ca,Ga)=>ia(ca)-ia(Ga));let Da=new Zb;var aa=g.map(ca=>{let Ga=[];for(var Ra of ca.skip)Ga.push(Ra.id,0,4);if(ca.rule){Ra=F.find(La=>La.startRule==ca.rule);for(let La of Ra.actions)Ga.push(La.term.id,Ra.id,2)}Ga.push(65535);return Da.storeArray(Ga)});O=new Uint32Array(6*F.length);
let va=this.computeForceReductions(F,g);for(var sa of F)this.finishState(sa,N,Da,aa,g,G(sa.id),va[sa.id],O);sa=Object.create(null);for(g=0;g<this.dialects.length;g++)sa[this.dialects[g]]=Da.storeArray((this.tokens.byDialect[g]||za).map(ca=>ca.id).concat(65535));g=null;if(this.dynamicRulePrecedences.length){g=Object.create(null);for(let {rule:ca,prec:Ga}of this.dynamicRulePrecedences)g[ca.id]=Ga}G=Object.create(null);for(let ca of this.terms.tops)G[ca.nodeName||"@top"]=[F.find(Ga=>Ga.startRule==ca).id,
ca.id];aa=Da.storeArray(C.concat(65535));return{states:O,stateData:Da.finish(),goto:Lb(F),nodeNames:b.filter(ca=>ca.id<d).map(ca=>ca.nodeName).join(" "),nodeProps:this.gatherNodeProps(b),maxTerm:e,repeatNodeCount:b.length-d,tokenizers:N,tokenData:A,topRules:G,dialects:sa,dynamicPrecedences:g,specialized:a,tokenPrec:aa,termNames:c}}getParser(){let {states:a,stateData:b,goto:c,nodeNames:d,nodeProps:e,maxTerm:g,repeatNodeCount:l,tokenizers:r,tokenData:x,topRules:C,dialects:A,dynamicPrecedences:F,specialized:G,
tokenPrec:N,termNames:O}=this.prepareParser(),ia=G.map(aa=>{if(aa instanceof Ub){let va=this.options.externalSpecializer(aa.ast.id.name,this.termTable);return{term:aa.term.id,get:(sa,ca)=>va(sa,ca)<<1|("extend"==aa.ast.type?1:0)}}return{term:aa.token.id,get:va=>aa.table[va]||-1}}),Da=r.map(aa=>aa instanceof Xa?this.options.externalTokenizer(aa.id.name,this.termTable):aa.id);return $a.Parser.deserialize({states:a,stateData:b,goto:c,nodeNames:d,maxTerm:g,repeatNodeCount:l,nodeProps:e.map(({prop:aa,
terms:va})=>[this.knownProps[aa].prop,...va]),tokenData:x,tokenizers:Da,topRules:C,nested:this.nestedGrammars.map(aa=>[aa.name,aa.source?this.options.nestedGrammar(aa.name,this.termTable):null,aa.end.compile().toArray({},za),aa.placeholder.id]),dialects:A,dynamicPrecedences:F,specialized:ia,tokenPrec:N,termNames:O})}getParserFile(){function a(U){return"{__proto__:null,"+Object.keys(U).map(ta=>`${/\W/.test(ta)?JSON.stringify(ta):ta}:${U[ta]}`).join(", ")+"}"}function b(U){return"string"!=typeof U||
/^(true|false|\d+(\.\d+)?|\.\d+)$/.test(U)?U:JSON.stringify(U)}let {states:c,stateData:d,goto:e,nodeNames:g,nodeProps:l,maxTerm:r,repeatNodeCount:x,tokenizers:C,tokenData:A,topRules:F,dialects:G,dynamicPrecedences:N,specialized:O,tokenPrec:ia,termNames:Da}=this.prepareParser(),aa=this.options.moduleStyle||"cjs",va;va="// This file was generated by lezer-generator. You probably shouldn't edit it.\n"+("cjs"==aa?'const {Parser} \x3d require("lezer")\n':'import {Parser} from "lezer"\n');let sa={},ca=
Object.create(null),Ga=Object.create(null);Ga.Parser=!0;let Ra=U=>{for(let ta=0;;ta++){let lb=U+(ta?"_"+ta:"");if(!Ga[lb])return lb}},La=(U,ta,lb)=>{let Vb=U+" from "+ta;if(ca[Vb])return ca[Vb];ta=JSON.stringify(ta);let Wb=U;U in Ga&&(Wb=Ra(lb),U+=`${"cjs"==aa?":":" as"} ${Wb}`);(sa[ta]||(sa[ta]=[])).push(U);return ca[Vb]=Wb};var Sa=C.map(U=>{if(U instanceof Xa){let {source:ta,id:{name:lb}}=U;return La(lb,ta,"tok")}return U.id}),Ma=this.nestedGrammars.map(U=>`[${JSON.stringify(U.name)}, ${U.source?
La(U.extName,U.source,U.name):"null"},\
${Ya(U.end.compile().toArray({},za))}, ${U.placeholder.id}]`),Ia=l.map(({prop:U,terms:ta})=>{({source:U}=this.knownProps[U]);return`[${U.from?La(U.name,U.from,"prop"):La("NodeProp","lezer","NodeProp")+"."+U.name}, ${ta.map(b).join(",")}]`});let ab="";var Bb=O.map(U=>{if(U instanceof Ub){var ta=La(U.ast.id.name,U.ast.source,U.ast.id.name);return`{term: ${U.term.id}, get: (value, stack) => (${ta}(value, stack) << 1)${"extend"==U.ast.type?" | 1":""}}`}ta=Ra("spec_"+U.token.name.replace(/\W/g,""));ab+=
`const ${ta} = ${a(U.table)}\n`;return`{term: ${U.token.id}, get: value => ${ta}[value] || -1}`});for(var db in sa)va="cjs"==aa?va+`const {${sa[db].join(", ")}} = require(${db})\n`:va+`import {${sa[db].join(", ")}} from ${db}\n`;va+=ab;db=Object.keys(G).map(U=>`${U}: ${G[U]}`);Sa=`Parser.deserialize({
  states: ${Ya(c,4294967295)},
  stateData: ${Ya(d)},
  goto: ${Ya(e)},
  nodeNames: ${JSON.stringify(g)},
  maxTerm: ${r},${Ia.length?`
  nodeProps: [
    ${Ia.join(",\n    ")}
  ],`:""}
  repeatNodeCount: ${x},
  tokenData: ${Ya(A)},
  tokenizers: [${Sa.join(", ")}],
  topRules: ${JSON.stringify(F)}${Ma.length?`,
  nested: [${Ma.join(", ")}]`:""}${db.length?`,
  dialects: {${db.join(", ")}}`:""}${N?`,
  dynamicPrecedences: ${JSON.stringify(N)}`:""}${Bb.length?`,
  specialized: [${Bb.join(",")}]`:""},
  tokenPrec: ${ia}${this.options.includeNames?`,
  termNames: ${JSON.stringify(Da)}`:""}
})`;Ma=[];for(var Oa in this.termTable){Ia=Oa;if(rc.includes(Ia))for(Bb=1;Ia="_".repeat(Bb)+Oa,Ia in this.termTable;Bb++);Ma.push(`${Ia}${"cjs"==aa?":":" \x3d"} ${this.termTable[Oa]}`)}for(Oa=0;Oa<this.dialects.length;Oa++)Ma.push(`Dialect_${this.dialects[Oa]}${"cjs"==aa?":":" \x3d"} ${Oa}`);Oa=this.options.exportName||"parser";return{parser:va+("cjs"==aa?`exports.${Oa} = ${Sa}\n`:`export const ${Oa} = ${Sa}\n`),terms:"cjs"==aa?`${"// This file was generated by lezer-generator. You probably shouldn't edit it.\n"}module.exports = {\n  ${Ma.join(",\n  ")}\n}`:
`${"// This file was generated by lezer-generator. You probably shouldn't edit it.\n"}export const\n  ${Ma.join(",\n  ")}\n`}}gatherNonSkippedNodes(){let a=Object.create(null),b=[],c=d=>{a[d.id]||(a[d.id]=!0,b.push(d))};this.terms.tops.forEach(c);for(let d=0;d<b.length;d++)for(let e of b[d].rules)for(let g of e.parts)c(g);return a}gatherNodeProps(a){let b=this.gatherNonSkippedNodes(),c=[];for(let d of a){b[d.id]||d.error||(d.props==Fa&&(d.props={}),d.props.skipped="true");for(let e in d.props){a=
this.knownProps[e];if(!a)throw new Pa("No known prop type for "+e);if(null!=a.source.from||"repeated"!=a.source.name&&"error"!=a.source.name)(a=c.find(g=>g.prop==e))||c.push(a={prop:e,terms:[]}),a.terms.push(d.id,d.props[e])}}return c}addNestedGrammars(a){for(let b of a)if(a=b.set.filter(c=>this.nestedGrammars.some(d=>d.placeholder==c.next)),a.length){let c=a[0].next;a.every(d=>d.next==c)||this.raise(`Multiple nested grammars possible after ${a[0].trail()}`);b.set.every(d=>d.next==c||0==d.pos&&b.set.some(e=>
e.next==d.rule.name))||this.raise(`Nested grammar in ambiguous position after ${a[0].trail()} `+b.set);b.nested=this.nestedGrammars.findIndex(d=>d.placeholder==c)}}makeTerminal(a,b,c){return this.terms.makeTerminal(this.terms.uniqueName(a),b,c)}computeForceReductions(a,b){function c(A,F,G=null){return(A=g[A])?A.some(N=>{let O=G?G.filter(Da=>N.parents.includes(Da)):N.parents;if(0==O.length)return!1;if(N.target==F)return!0;let ia=C[N.target];return null!=ia&&c(ia,F,O)}):!1}let d=[],e=[],g=Object.create(null);
for(var l of a){d.push(0);for(let A of l.goto){var r=g[A.term.id]||(g[A.term.id]=[]),x=r.find(F=>F.target==A.target.id);x?x.parents.push(l.id):r.push({parents:[l.id],target:A.target.id})}e[l.id]=l.set.filter(A=>0<A.pos&&!A.rule.name.top).sort((A,F)=>F.pos-A.pos||A.rule.parts.length-F.rule.parts.length)}let C=Object.create(null);for(let A of a)A.defaultReduce&&0<A.defaultReduce.parts.length&&(d[A.id]=Za(A.defaultReduce,b),1==A.defaultReduce.parts.length&&(C[A.id]=A.defaultReduce.name.id));for(l=1;;l++){r=
!0;for(let A of a)if(!A.defaultReduce)if(x=e[A.id],x.length!=l)x.length>l&&(r=!1);else for(let F of x)if(1!=F.pos||!c(F.rule.name.id,A.id)){d[A.id]=Za(F.rule,b,F.pos);1==F.pos&&(C[A.id]=F.rule.name.id);break}if(r)break}return d}finishState(a,b,c,d,e,g,l,r){var x=this.skipRules.indexOf(a.skip);d=d[x];var C=e[x].startTokens;x=[];let A=a.defaultReduce?Za(a.defaultReduce,e):0;g=(g?1:0)|(-1<a.nested?4|a.nested<<10:0);var F=-1;if(0==A)for(const N of a.actions)if(N instanceof Qa)x.push(N.term.id,N.target.id,
0);else{var G=Za(N.rule,e);N.term.eof&&e.some(O=>O.rule==N.rule.name)?F=G:x.push(N.term.id,G&65535,G>>16)}-1<F&&x.push(0,F&65535,F>>16);x.push(65535);a.set.some(N=>N.rule.name.top&&N.pos==N.rule.parts.length)&&(g|=2);e=[];for(F=0;F<a.actions.length+C.length;F++)for(G=F<a.actions.length?a.actions[F].term:C[F-a.actions.length];;)if((G=this.tokenOrigins[G.name])&&G.spec)G=G.spec;else{G&&G.external instanceof ac&&Ua(e,G.external.ast);break}e.sort((N,O)=>N.start-O.start);C=0;for(F=0;F<b.length;F++)if(G=
b[F],G instanceof Xa?e.includes(G):G.id==a.tokenGroup)C|=1<<F;a=6*a.id;r[a+0]=g;r[a+1]=c.storeArray(x);r[a+2]=d;r[a+3]=C;r[a+4]=A;r[a+5]=l}substituteArgs(a,b,c){return 0==b.length?a:a.walk(d=>{var e;if(d instanceof k&&!d.namespace&&-1<(e=c.findIndex(g=>g.name==d.id.name))){e=b[e];if(d.args.length){if(e instanceof k&&!e.args.length)return new k(d.start,e.namespace,e.id,d.args);this.raise("Passing arguments to a parameter that already has arguments",d.start)}return e}if(d instanceof B){e=d.rule;let g=
this.substituteArgsInProps(e.props,b,c);return g==e.props?d:new B(d.start,new eb(e.start,e.id,e.exported,g,e.params,e.expr))}return d instanceof u?(e=this.substituteArgsInProps(d.props,b,c),e==d.props?d:new u(d.start,d.type,e,d.token,d.content)):d})}substituteArgsInProps(a,b,c){let d=g=>{let l=g;for(let x=0;x<g.length;x++){let C=g[x];if(C.name){var r=c.findIndex(A=>A.name==C.name);0>r||(l==g&&(l=g.slice()),r=b[r],r instanceof k&&!r.namespace&&!r.args.length?l[x]=new Ta(C.start,r.id.name,null):r instanceof
S?l[x]=new Ta(C.start,r.value,null):this.raise(`Trying to interpolate expression '${r}' into a prop`,C.start))}}return l},e=a;for(let g=0;g<a.length;g++){let l=a[g],r=d(l.value);r!=l.value&&(e==a&&(e=a.slice()),e[g]=new Aa(l.start,l.name,r))}return e}conflictsFor(a){let b=ya.none,c=ya.none;for(let e of a)if("ambig"==e.type)b=b.join(new ya(0,[e.id.name]));else{var d=this.ast.precedences;let g=d?d.items.findIndex(l=>l.id.name==e.id.name):-1;0>g&&this.raise(`Reference to unknown precedence: '${e.id.name}'`,
e.id.start);a=d.items[g];d=d.items.length-g;"cut"==a.type?b=b.join(new ya(0,za,d)):(b=b.join(new ya(d<<2)),c=c.join(new ya((d<<2)+("left"==a.type?1:"right"==a.type?-1:0))))}return{here:b,atEnd:c}}raise(a,b=1){return this.input.raise(a,b)}warn(a,b=-1){a=this.input.message(a,b);this.options.warn?this.options.warn(a):console.warn(a)}defineRule(a,b){let c=this.currentSkip[this.currentSkip.length-1];for(let d of b)this.rules.push(new Sb(a,d.terms,d.ensureConflicts(),c));return a}resolve(a){if(a.namespace){var b=
this.namespaces[a.namespace.name];b||this.raise(`Reference to undefined namespace '${a.namespace.name}'`,a.start);return b.resolve(a,this)}for(var c of this.built)if(c.matches(a))return[Ea(c.term)];if(c=this.tokens.getToken(a))return[Ea(c)];for(var d of this.externalTokens)if(c=d.getToken(a))return[Ea(c)];for(b of this.externalSpecializers)if(d=b.getToken(a))return[Ea(d)];b=this.astRules.find(e=>e.rule.id.name==a.id.name);if(!b)return this.raise(`Reference to undefined rule '${a.id.name}'`,a.start);
b.rule.params.length!=a.args.length&&this.raise(`Wrong number or arguments for '${a.id.name}'`,a.start);this.used(b.rule.id.name);return[Ea(this.buildRule(b.rule,a.args,b.skip))]}normalizeRepeat(a){var b=this.built.find(e=>e.matchesRepeat(a));if(b)return Ea(b.term);let {inner:c,outer:d}=this.terms.makeRepeat(this.terms.uniqueName(a.expr.prec<a.prec?`(${a.expr})+`:`${a.expr}+`));this.defineRule(d,[Ea(c)]);this.built.push(new Rb("+",[a.expr],d));b=this.normalizeExpr(a.expr);b.push(new Na([c,c],[ya.none,
new ya(2E8-1,za),new ya(2E8,za)]));this.defineRule(c,b);return Ea(d)}normalizeSequence(a){function b(e,g,l){let {here:r,atEnd:x}=d.conflictsFor(a.markers[g]);if(g==c.length)return[e.withConflicts(e.terms.length,r.join(l))];let C=[];for(let A of c[g])for(let F of b(e.concat(A).withConflicts(e.terms.length,r),g+1,l.join(x)))C.push(F);return C}let c=a.exprs.map(e=>this.normalizeExpr(e)),d=this;return b(Na.none,0,ya.none)}normalizeExpr(a){if(a instanceof L&&"?"==a.kind)return[Na.none,...this.normalizeExpr(a.expr)];
if(a instanceof L){let b=this.normalizeRepeat(a);return"+"==a.kind?[b]:[Na.none,b]}return a instanceof z?a.exprs.reduce((b,c)=>b.concat(this.normalizeExpr(c)),[]):a instanceof y?this.normalizeSequence(a):a instanceof S?[Ea(this.tokens.getLiteral(a))]:a instanceof k?this.resolve(a):a instanceof u?[Ea(this.resolveSpecialization(a))]:a instanceof B?[Ea(this.buildRule(a.rule,za,this.currentSkip[this.currentSkip.length-1],!0))]:this.raise(`This type of expression ('${a}') may not occur in non-token rules`,
a.start)}buildRule(a,b,c,d=!1){let e=this.substituteArgs(a.expr,b,a.params),{name:g,props:l,dynamicPrec:r}=this.nodeInfo(a.props||za,"p",a.id.name,b,a.params,a.expr);a.exported&&a.params.length&&this.warn("Can't export parameterized rules",a.start);let x=this.newName(a.id.name+(b.length?"\x3c"+b.join(",")+"\x3e":""),g||!0,l);r&&this.registerDynamicPrec(x,r);(x.nodeType||a.exported)&&0==a.params.length&&(g||(x.preserve=!0),this.namedTerms[a.id.name]=x);d||this.built.push(new Rb(a.id.name,b,x));this.currentSkip.push(c);
a=this.defineRule(x,this.normalizeExpr(e));this.currentSkip.pop();return a}nodeInfo(a,b,c=null,d=za,e=za,g,l){let r=Fa;var x;if(x=c)x=c[0],x="_"==x||x.toUpperCase()!=x,x=!x;c=x&&!/ /.test(c)?c:null;var C=null;x=0;for(let A of a)"name"==A.name?(c=this.finishProp(A,d,e),/ /.test(c)&&this.raise(`Node names cannot have spaces ('${c}')`,A.start)):"dialect"==A.name?(0>b.indexOf("d")&&this.raise("Can't specify a dialect on non-token rules",a[0].start),1==A.value.length||A.value[0].value||this.raise("The 'dialect' rule prop must hold a plain string value"),
C=this.dialects.indexOf(A.value[0].value),0>C&&this.raise(`Unknown dialect '${A.value[0].value}'`,A.value[0].start)):"dynamicPrecedence"==A.name?(0>b.indexOf("p")&&this.raise("Dynamic precedence can only be specified on nonterminals"),1==A.value.length&&/^-?(?:10|\d)$/.test(A.value[0].value)||this.raise("The 'dynamicPrecedence' rule prop must hold an integer between -10 and 10"),x=+A.value[0].value):sc.includes(A.name)?this.raise(`Prop name '${A.name}' is reserved`,A.start):this.knownProps[A.name]?
(r==Fa&&(r=Object.create(null)),r[A.name]=this.finishProp(A,d,e)):this.raise(`Unknown prop name '${A.name}'`,A.start);g&&this.ast.autoDelim&&(c||r!=Fa)&&(b=this.findDelimiters(g))&&(hb(b[0],"closedBy",b[1].nodeName),hb(b[1],"openedBy",b[0].nodeName));if(l&&l!=Fa){r==Fa&&(r=Object.create(null));for(let A in l)A in r||(r[A]=l[A])}r==Fa||c||r.top||this.raise("Node has properties but no name",a.length?a[0].start:g.start);return{name:c,props:r,dialect:C,dynamicPrec:x}}finishProp(a,b,c){return a.value.map(d=>
{if(d.value)return d.value;var e=c.findIndex(g=>g.name==d.name);0>e&&this.raise(`Property refers to '${d.name}', but no parameter by that name is in scope`,d.start);e=b[e];return e instanceof k&&!e.args.length&&!e.namespace?e.id.name:e instanceof S?e.value:this.raise(`Expression '${e}' can not be used as part of a property value`,d.start)}).join("")}resolveSpecialization(a){let b=a.type,{name:c,props:d,dialect:e}=this.nodeInfo(a.props,"d");var g=this.normalizeExpr(a.token);1==g.length&&1==g[0].terms.length&&
g[0].terms[0].terminal||this.raise(`The first argument to '${b}' must resolve to a token`,a.token.start);if(a.content instanceof S)var l=[a.content.value];else if(a.content instanceof z&&a.content.exprs.every(C=>C instanceof S))l=a.content.exprs.map(C=>C.value);else return this.raise(`The second argument to '${a.type}' must be a literal or choice of literals`,a.content.start);g=g[0].terms[0];let r=null,x=this.specialized[g.name]||(this.specialized[g.name]=[]);for(let C of l)l=x.find(A=>A.value==C),
null==l?(r||(r=this.makeTerminal(g.name+"/"+JSON.stringify(C),c,d),null!=e&&(this.tokens.byDialect[e]||(this.tokens.byDialect[e]=[])).push(r)),x.push({value:C,term:r,type:b,dialect:e,name:c}),this.tokenOrigins[r.name]={spec:g}):(l.type!=b&&this.raise(`Conflicting specialization types for ${JSON.stringify(C)} of ${g.name} (${b} vs ${l.type})`,a.start),l.dialect!=e&&this.raise(`Conflicting dialects for specialization ${JSON.stringify(C)} of ${g.name}`,a.start),l.name!=c&&this.raise(`Conflicting names for specialization ${JSON.stringify(C)} of ${g.name}`,
a.start),r&&l.term!=r&&this.raise(`Conflicting specialization tokens for ${JSON.stringify(C)} of ${g.name}`,a.start),r=l.term);return r}findDelimiters(a){if(!(a instanceof y)||2>a.exprs.length)return null;let b=e=>{if(e instanceof S)return{term:this.tokens.getLiteral(e),str:e.value};if(e instanceof k&&0==e.args.length){var g=this.ast.rules.find(l=>l.id.name==e.id.name);if(g)return b(g.expr);if((g=this.tokens.rules.find(l=>l.id.name==e.id.name))&&g.expr instanceof S)return{term:this.tokens.getToken(e),
str:g.expr.value}}return null},c=b(a.exprs[a.exprs.length-1]);if(!c||!c.term.nodeName)return null;let d=["()","[]","{}","\x3c\x3e"].find(e=>-1<c.str.indexOf(e[1])&&0>c.str.indexOf(e[0]));if(!d)return null;a=b(a.exprs[0]);return!a||!a.term.nodeName||0>a.str.indexOf(d[0])||-1<a.str.indexOf(d[1])?null:[a.term,c.term]}registerDynamicPrec(a,b){this.dynamicRulePrecedences.push({rule:a,prec:b});a.preserve=!0}}const sc=["error","repeated"];class Zb{constructor(){this.data=[]}storeArray(a){a:{var b=this.data;
b:for(var c=0;;){c=b.indexOf(a[0],c);if(-1==c||c+a.length>b.length)break;for(let d=1;d<a.length;d++)if(a[d]!=b[c+d]){c+=1;continue b}b=c;break a}b=-1}if(-1<b)return b;b=this.data.length;for(let d of a)this.data.push(d);return b}finish(){return Uint16Array.from(this.data)}}class tc{constructor(a,b){this.tokens=a;this.id=b}}class uc{constructor(a,b,c,d,e){this.placeholder=a;this.name=b;this.extName=c;this.source=d;this.end=e}}class qc{resolve(a,b){2<a.args.length&&b.raise(`Too many arguments to 'nest.${a.id.name}'`,
a.start);let [c,d]=a.args,e=b.ast.grammars.find(x=>x.id.name==a.id.name);if(!e)return b.raise(`No external grammar '${a.id.name}' defined`,a.id.start);let g=b.newName(a.id.name+"-placeholder",!0);b.defineRule(g,d?b.normalizeExpr(d):[]);if(!c&&!(c=ib(b.ast,a)))return b.raise("No end token specified, and no token found directly after the nest expression",a.start);let l=new Ha,r=new Ha([b.terms.eof]);try{b.tokens.build(c,l,r,za)}catch(x){if(!(x instanceof SyntaxError))throw x;b.raise(`End token '${c}' for nested grammar is not a valid token expression`,
c.start)}b.nestedGrammars.push(new uc(g,e.id.name,e.externalID.name,e.source,l));b.nestedGrammars.length>=2**20&&b.raise("Too many nested grammars used");return[Ea(g)]}}class vc{constructor(a,b,c){this.name=a;this.expr=b;this.scope=c}}class wc{constructor(a,b,c,d){this.name=a;this.start=b;this.to=c;this.args=d}}class pc{constructor(a,b){this.b=a;this.ast=b;this.startState=new Ha;this.built=[];this.building=[];this.byDialect=Object.create(null);this.precedenceRelations=[];this.rules=b?b.rules:za;for(let c of this.rules)this.b.unique(c.id)}getToken(a){for(var b of this.built)if(b.matches(a))return b.term;
let c=a.id.name;b=this.rules.find(r=>r.id.name==c);if(!b)return null;let {name:d,props:e,dialect:g}=this.b.nodeInfo(b.props,"d",c,a.args,b.params.length!=a.args.length?za:b.params),l=this.b.makeTerminal(a.toString(),d,e);null!=g&&(this.byDialect[g]||(this.byDialect[g]=[])).push(l);(l.nodeType||b.exported)&&0==b.params.length&&(l.nodeType||(l.preserve=!0),this.b.namedTerms[c]=l);this.buildRule(b,a,this.startState,new Ha([l]));this.built.push(new Rb(c,a.args,l));return l}getLiteral(a){let b=JSON.stringify(a.value);
for(var c of this.built)if(c.id==b)return c.term;var d=null;let e=Fa;c=null;let g=this.ast?this.ast.literals.find(l=>l.literal==a.value):null;g&&({name:d,props:e,dialect:c}=this.b.nodeInfo(g.props,"d",a.value));d=this.b.makeTerminal(b,d,e);null!=c&&(this.byDialect[c]||(this.byDialect[c]=[])).push(d);this.build(a,this.startState,new Ha([d]),za);this.built.push(new Rb(b,za,d));return d}buildRule(a,b,c,d,e=za){let g=b.id.name;a.params.length!=b.args.length&&this.b.raise(`Incorrect number of arguments for token '${g}'`,
b.start);var l=this.building.find(r=>r.name==g&&ha(b.args,r.args));if(l){if(l.to==d){c.nullEdge(l.start);return}for(l=this.building.length-1;this.building[l].name!=g;)l--;this.b.raise(`Invalid (non-tail) recursion in token rules: ${this.building.slice(l).map(r=>r.name).join(" -\x3e ")}`,b.start)}this.b.used(a.id.name);l=new Ha;c.nullEdge(l);this.building.push(new wc(g,l,d,b.args));this.build(this.b.substituteArgs(a.expr,b.args,a.params),l,d,b.args.map((r,x)=>new vc(a.params[x].name,r,e)));this.building.pop()}build(a,
b,c,d){if(a instanceof k){if(a.namespace){if("std"==a.namespace.name)return this.buildStd(a,b,c);this.b.raise(`Unknown namespace '${a.namespace.name}'`,a.start)}let l=a.id.name;var e=d.find(r=>r.name==l);if(e)return this.build(e.expr,b,c,e.scope);e=this.rules.find(r=>r.id.name==l);if(!e)return this.b.raise(`Reference to rule '${a.id.name}', which isn't found in this token group`,a.start);this.buildRule(e,a,b,c,d)}else if(a instanceof z)for(e of a.exprs)this.build(e,b,c,d);else if(ub(a))b.nullEdge(c);
else if(a instanceof y)for((e=a.markers.find(l=>0<l.length))&&this.b.raise("Conflict marker in token expression",e[0].start),e=0;e<a.exprs.length;e++){var g=e==a.exprs.length-1?c:new Ha;this.build(a.exprs[e],b,g,d);b=g}else if(a instanceof L)"*"==a.kind?(e=new Ha,b.nullEdge(e),this.build(a.expr,e,e,d),e.nullEdge(c)):"+"==a.kind?(e=new Ha,this.build(a.expr,b,e,d),this.build(a.expr,e,e,d),e.nullEdge(c)):(b.nullEdge(c),this.build(a.expr,b,c,d));else if(a instanceof Z)for(let [l,r]of a.inverted?sb(a.ranges):
a.ranges)tb(b,c,l,r);else if(a instanceof S)for(d=0;d<a.value.length;d++)e=a.value.charCodeAt(d),g=d==a.value.length-1?c:new Ha,b.edge(e,e+1,g),b=g;else if(a instanceof ba)b.edge(0,65535,c);else return this.b.raise("Unrecognized expression type in token",a.start)}buildStd(a,b,c){a.args.length&&this.b.raise(`'std.${a.id.name}' does not take arguments`,a.args[0].start);bc.hasOwnProperty(a.id.name)||this.b.raise(`There is no builtin rule 'std.${a.id.name}'`,a.start);for(let [d,e]of bc[a.id.name])b.edge(d,
e,c)}takePrecedences(){let a=this.precedenceRelations=[];if(this.ast)for(let b of this.ast.precedences){let c=[];for(let d of b.items){let e=[];if(d instanceof k)for(let g of this.built)(d.args.length?g.matches(d):g.id==d.id.name)&&e.push(g.term);else{let g=JSON.stringify(d.value),l=this.built.find(r=>r.id==g);l&&e.push(l.term)}e.length||this.b.warn(`Precedence specified for unknown token ${d}`,d.start);for(let g of e)kb(a,g,c);c=c.concat(e)}}}precededBy(a,b){let c=this.precedenceRelations.find(d=>
d.term==a);return c&&c.after.includes(b)}buildTokenGroups(a,b){let c=this.startState.compile();c.accepting.length&&this.b.raise(`Grammar contains zero-length tokens (in '${c.accepting[0].name}')`,this.rules.find(F=>F.id.name==c.accepting[0].name).start);/\btokens\b/.test(Tb)&&console.log(c.toString());let d=c.findConflicts(jb(a,this.b,b)).filter(({a:F,b:G})=>!this.precededBy(F,G)&&!this.precededBy(G,F));var e=d.filter(F=>F.soft),g=d.filter(F=>!F.soft);let l=[],r=[];for(let F of a){if(F.defaultReduce)continue;
a=[];let G=[];var x=b[this.b.skipRules.indexOf(F.skip)].startTokens;for(let N of x)F.actions.some(O=>O.term==N)&&this.b.raise(`Use of token ${N.name} conflicts with skip rule`);var C=[];for(let N=0;N<F.actions.length+(x?x.length:0);N++){let O=N<F.actions.length?F.actions[N].term:x[N-F.actions.length],ia=this.b.tokenOrigins[O.name];if(ia&&ia.spec)O=ia.spec;else if(ia&&ia.external)continue;Ua(C,O)}if(0!=C.length){for(let N of C)for(let O of g)if(x=O.a==N?O.b:O.b==N?O.a:null)C.includes(x)&&!l.some(ia=>
ia.conflict==O)&&l.push({error:`Overlapping tokens ${N.name} and ${x.name} used in same context `+`(example: ${JSON.stringify(O.exampleA)}${O.exampleB?` vs ${JSON.stringify(O.exampleB)}`:""})\n`+`After: ${F.set[0].trail()}`,conflict:O}),Ua(a,N),Ua(G,x);C=null;for(let N of r)if(!G.some(O=>N.tokens.includes(O))){for(let O of a)Ua(N.tokens,O);C=N;break}C||(C=new tc(a,r.length),r.push(C));F.tokenGroup=C.id}}l.length&&this.b.raise(l.map(F=>F.error).join("\n\n"));16<r.length&&this.b.raise(`Too many different token groups (${r.length}) to represent them as a 16-bit bitfield`);
let A=[];b=this.precedenceRelations.slice();for(let {a:F,b:G,soft:N}of e)N&&b.some(O=>O.term==F)&&b.some(O=>O.term==G)&&(0>N&&([F,G]=[G,F]),kb(b,G,[F]),kb(b,F,[]));a:for(;b.length;){for(e=0;e<b.length;e++)if(g=b[e],g.after.every(F=>A.includes(F.id))){A.push(g.term.id);if(1==b.length)break a;b[e]=b.pop();continue a}this.b.raise(`Cyclic token precedence relation between ${b.map(F=>F.term).join(", ")}`)}A=A.filter(F=>d.some(G=>!G.soft&&(G.a.id==F||G.b.id==F)));return{tokenGroups:r,tokenPrec:A,tokenData:c.toArray(rb(r),
A)}}}const bc={asciiLetter:[[65,91],[97,123]],asciiLowercase:[[97,123]],asciiUppercase:[[65,91]],digit:[[48,58]],whitespace:[[9,14],[32,33],[133,134],[160,161],[5760,5761],[8192,8203],[8232,8234],[8239,8240],[8287,8288],[12288,12289]]};class ac{constructor(a,b){this.b=a;this.ast=b;this.tokens=vb(a,b.tokens);for(let c in this.tokens)this.b.tokenOrigins[this.tokens[c].name]={external:this}}getToken(a){return wb(this.b,this.tokens,a)}}class Ub{constructor(a,b){this.b=a;this.ast=b;this.term=null;this.tokens=
vb(a,b.tokens)}finish(){let a=this.b.normalizeExpr(this.ast.token);1==a.length&&1==a[0].terms.length&&a[0].terms[0].terminal||this.b.raise(`The token expression to '@external ${this.ast.type}' must resolve to a token`,this.ast.token.start);this.term=a[0].terms[0];for(let b in this.tokens)this.b.tokenOrigins[this.tokens[b].name]={spec:this.term,external:this}}getToken(a){return wb(this.b,this.tokens,a)}}const rc="break case catch continue debugger default do else finally for function if return switch throw try var while with null true false instanceof typeof void delete new in this const class extends export import super enum implements interface let package private protected public static yield".split(" ");
v.GenError=Pa;v.buildParser=function(a,b={}){return(new $b(a,b)).getParser()};v.buildParserFile=function(a,b={}){return(new $b(a,b)).getParserFile()}};
shadow$provide[16]=function(Q,fa,Ja,v){Object.defineProperty(v,"__esModule",{value:!0});Q=fa(14);var la=fa(1);fa=la.NodeProp.flag();Ja=la.NodeProp.flag();const X=la.NodeProp.flag(),ha=la.NodeProp.flag();la=Object.freeze({__proto__:null,prefixColl:fa,coll:Ja,prefixEdge:X,sameEdge:ha});const ua={__proto__:null,true:130,false:130,nil:132,def:141,defn:141,"defn-":141,defmacro:141,definline:141,defonce:141,deftest:141,defcard:141};Q=Q.Parser.deserialize({states:",YQZPPOOP!pOPOOOOPO'#C`'#C`OOPO'#Cb'#CbOZPPO'#CcOZPPO'#CeOZPPO'#CgOZPPO'#CiOZPPO'#CkOZOPO'#CtOZOPO'#CvO!tOQO'#C|O!{PPO'#DjOOPO(3A{(3A{O$nPPO'#CqO\x26ZPPO'#DSO'sPPO'#DVO)]OSO'#DXO)mOPO'#D^O)qOPO'#D`O)xOWO'#DcOZPPO'#DgOOPO'#Dn'#DnQOPPOOP)|PPO'#C^POOO)C?b)C?bOOPO,58},58}OOPO,59P,59POOPO,59R,59ROOPO,59T,59TOOPO,59V,59VOOPO,59`,59`OOPO,59b,59bOOPO,59h,59hO+cOPO,59hOOPO,5:T,5:TOOPO'#Cr'#CrO+gPPO'#CsOOPO'#Ds'#DsO-PPPO'#DrOOPO'#DO'#DOOOPO'#Dw'#DwOOPO'#Dv'#DvO-ZPPO'#DvOOPO'#Dq'#DqO.sPPO,59]OOPO,59n,59nO.wPPO,59nOOPO,59q,59qO.{PPO,59qOOPO,59s,59sO/POPO,59uOOPO,59w,59wOOPO,59|,59|OOPO,5:P,5:POOPO,59x,59xOOPO,59z,59zOOPO,59},59}OOPO,5:R,5:RP)|PPO'#CcP)|PPO'#CeP)|PPO'#CgP)|PPO'#CiP)|PPO'#CkP)|OPO'#CtP)|OPO'#CvP/TOPO'#D`P)|PPO'#DgPOOO,58x,58xOOPO1G/S1G/SOOPO,59_,59_OOPO,59k,59kOOPO'#Cx'#CxO-PPPO'#CyOOPO'#Du'#DuO/[PPO,5:^OOPO,5:b,5:bOOPO1G.w1G.wOOPO1G/Y1G/YOOPO1G/]1G/]OOPO1G/a1G/aOOPO,59e,59eO0tPPO'#CzOZPPO1G/xOOPO1G/x1G/xOOPO7+%d7+%d",
stateData:"2a~!aOSPOSRPQ~TfOWSOYTO[UO^VO`WOafObfOd^OiXOkYOoZOu_Ox`OzfO|aO!RbO!TcO!WdO!YfO!cQO!dRO~RhO~oqOqrO~TfOWSOYTO[UO^VO`WOafObfOd^OiXOkYOoZOu_Ox`OzfO|aO!RbO!TcO!WdO!YfO!cQO!dRO!_!^Xc!^Xt!^Xw!^X~TxOWSOYTO[UO^VO`WOafObfOd^OiXOkYOoZOu_Ox`OzfO|aO!RbO!TcO!WdO!YfO!cQO!dRO!htOc!jP~TfOWSOYTO[UO^VO`WOafObfOd^OiXOkYOoZOt!OOu_Ox`OzfO|aO!RbO!TcO!WdO!YfO!cQO!dRO~TfOWSOYTO[UO^VO`WOafObfOd^OiXOkYOoZOu_Ow!QOx`OzfO|aO!RbO!TcO!WdO!YfO!cQO!dRO~d^OoZOx`O!O!TO!l!VO~T!XO~WSOd^O~!m!ZO~TfOW!]OY!^O[!_O^!`O`!aOafObfOd^Oi!bOk!cOoZOu_Ox`OzfO|aO!RbO!T!dO!WdO!YfO!cQO!dRO~o!gO~TxOWSOYTO[UO^VO`WOafObfOd^OiXOkYOoZOu_Ox`OzfO|aO!RbO!TcO!WdO!YfO!cQO!dRO!htO~T!jOiXOkYO~TfOWSOYTO[UO^VO`WOafObfOd^OiXOkYOoZOu_Ox`OzfO|aO!RbO!TcO!WdO!YfO!cQO!dROc!jX~c!oO~t!pO~w!qO~x`O~W!]Od^O~TfOWSOYTO[UO^VO`WOafObfOd^OiXOkYOoZOu_Ox`OzfO|aO!RbO!TcO!WdO!YfO!cQO!dROc!fa~TnXWnXYnX[nX^nX`nXanXbnXc!bXdnXinXknXonXunXxnXznX|nX!RnX!TnX!WnX!YnX!cnX!dnX~aT~",
goto:")j!lPP!mP!pP!p#^P!pP!pP!pP!pPPPPP$O$s$s$wP$wP%m%m%qP%tP\x26g\x26gPP!pPP\x26kP!pP!pP!p!pP!pP!p!pP!pP!pP'_'kPPP(QPP)Q)T)WP)^)T)dRiP!VfOSTUVWXY[^_`ehu{!]!^!_!`!a!b!c!e!m!u!UfOSTUVWXY[^_`ehu{!]!^!_!`!a!b!c!e!m!uT!Yc!d!UfOSTUVWXY[^_`ehu{!]!^!_!`!a!b!c!e!m!uQ!WaT!Yc!dTv^uneOSTUVWXY[_`e{!m!uSu^ub!eh!]!^!_!`!a!b!c!eT!kw!kT!lw!kR!u!m!SfOSTUVWXY[^_`ehu{!]!^!_!`!a!b!c!e!uQ!UaR!t!mTy^u!UfOSTUVWXY[^_`ehu{!]!^!_!`!a!b!c!e!m!uQ!SaR!r!T^[O^_`{!m!uRs[QgOQz^Q!P_Q!R`Q!n{Q!v!mR!w!u`]O[^_`{!m!uSjS!]SkT!^SlU!_SmV!`SnW!aSoX!bSpY!cU![eu!eR!fhR}^R|^Qw^R!huQ!mwR!s!kQ{^R!iu",
nodeNames:"âš  LineComment Discard #_ Boolean Symbol Nil Deref @ Quote ' SyntaxQuote ` Unquote ~ UnquoteSplice ~@ Number Keyword ) ( List DefLike Meta Metadata ^ ReaderMetadata #^ VarName Meta DocString \" String StringContent Operator Meta ] [ Vector } { Map Character Set # NamespacedMap KeywordPrefix RegExp Var #' ReaderConditional #? DataLiteral SymbolicValue ## AnonymousFunction Symbol Meta Program",maxTerm:75,nodeProps:[[Q.NodeProp.skipped,1,!0,2,!0,3,!0],[X,3,"",8,"",10,"",12,"",14,"",16,"",25,
"",27,"",44,"",46,"",49,"",51,"",54,""],[fa,7,"",9,"",11,"",13,"",15,"",24,"",26,"",43,"",45,"",47,"",48,"",50,"",52,"",53,"",55,""],[Q.NodeProp.openedBy,19,"(",31,'"',36,"[",39,"{"],[Q.NodeProp.closedBy,20,")",31,'"',37,"]",40,"}"],[Ja,21,"",38,"",41,""],[ha,31,""],[Q.NodeProp.top,58,!0]],repeatNodeCount:1,tokenData:"!Gd~R![OX$wX^%n^p$wpq%nqr'grs.Tst.Ytu'guv1Yvw$wwx2wxy3[yz3oz{'g{|4S|}%n}!O4S!O!P6c!P!Q$w!Q!R!*m!R![!1V![!]!6R!]!^!@a!^!_'g!_!`'g!`!a'g!a!b'g!b!c!Av!c!}'g!}#O!BZ#O#P!Bn#P#Q!Dc#Q#R!Dv#R#S'g#S#T!EZ#T#o'g#o#p!En#p#q$w#q#r!FR#r#s!Ff#s#y$w#y#z%n#z$f$w$f$g%n$g##l'g##l#BY$w#BY#BZ%n#BZ$IS$w$IS$I_%n$I_$I|$w$I|$JO%n$JO$JT$w$JT$JU%n$JU$KV$w$KV$KW%n$KW\x26FU$w\x26FU\x26FV%n\x26FV~$wQ$|SqQOr$ws#O$w#O#P%Y#P~$wQ%_TqQOr$wrs$ws#O$w#O#P%Y#P~$wR%ujqQ!aPOX$wX^%n^p$wpq%nqr$ws|$w|}%n}#O$w#O#P%Y#P#y$w#y#z%n#z$f$w$f$g%n$g#BY$w#BY#BZ%n#BZ$IS$w$IS$I_%n$I_$I|$w$I|$JO%n$JO$JT$w$JT$JU%n$JU$KV$w$KV$KW%n$KW\x26FU$w\x26FU\x26FV%n\x26FV~$w_'roqQ!lS!mWTPOq$wqr'gst'gtu'guw$wwx'gxz$wz{'g{|'g|}$w}!O'g!O!P'g!P!Q)s!Q!['g![!]'g!]!^$w!^!_'g!_!`'g!`!a'g!a!b'g!b!c$w!c!}'g!}#O$w#O#P%Y#P#R$w#R#S'g#S#T$w#T#o'g#o$g$w$g##l'g##l~$wV)xoqQOq$wqr+yst+ytu+yuw$wwx+yxz$wz{+y{|+y|}$w}!O+y!O!P+y!P!Q$w!Q![+y![!]+y!]!^$w!^!_+y!_!`+y!`!a+y!a!b+y!b!c$w!c!}+y!}#O$w#O#P%Y#P#R$w#R#S+y#S#T$w#T#o+y#o$g$w$g##l+y##l~$wV,SoqQ!lSTPOq$wqr+yst+ytu+yuw$wwx+yxz$wz{+y{|+y|}$w}!O+y!O!P+y!P!Q$w!Q![+y![!]+y!]!^$w!^!_+y!_!`+y!`!a+y!a!b+y!b!c$w!c!}+y!}#O$w#O#P%Y#P#R$w#R#S+y#S#T$w#T#o+y#o$g$w$g##l+y##l~$w~.YOo~R.a[|PqQOr$wst/Vtw$wwx/jx!a$w!a!b/}!b#O$w#O#P%Y#P#Q$w#Q#R0b#R#S0u#S~$wR/^S!WPqQOr$ws#O$w#O#P%Y#P~$wR/qS!RPqQOr$ws#O$w#O#P%Y#P~$wR0US!TPqQOr$ws#O$w#O#P%Y#P~$wR0iSkPqQOr$ws#O$w#O#P%Y#P~$wR0|SRPqQOr$ws#O$w#O#P%Y#P~$wR1aW!YPqQOr$wsv$wvw1yw!Q$w!Q![2^![#O$w#O#P%Y#P~$wR2QS!YPqQOr$ws#O$w#O#P%Y#P~$wR2eU!YPqQOr$ws!Q$w!Q![2^![#O$w#O#P%Y#P~$wR3OSYPqQOr$ws#O$w#O#P%Y#P~$wV3cSdTqQOr$ws#O$w#O#P%Y#P~$wR3vScPqQOr$ws#O$w#O#P%Y#P~$w_4_pqQ!lS!mWTPOq$wqr'gst'gtu'guw$wwx'gxz$wz{'g{|'g|}$w}!O'g!O!P6c!P!Q)s!Q!RDg!R![!#Q![!]'g!]!^$w!^!_'g!_!`'g!`!a'g!a!b'g!b!c$w!c!}'g!}#O$w#O#P%Y#P#R$w#R#S'g#S#T$w#T#o'g#o$g$w$g##l'g##l~$w_6noqQ!lS!mWTPOq$wqr'gst'gtu'guw$wwx'gxz$wz{'g{|'g|}$w}!O'g!O!P'g!P!Q)s!Q![8o![!]'g!]!^$w!^!_'g!_!`'g!`!a'g!a!b'g!b!c$w!c!}'g!}#O$w#O#P%Y#P#R$w#R#S'g#S#T$w#T#o'g#o$g$w$g##l'g##l~$w_8|sqQ!lS!mWaPTPOq$wqr'gst'gtu'guw$wwx'gxz$wz{'g{|'g|}$w}!O'g!O!P'g!P!Q)s!Q![8o![!]'g!]!^$w!^!_'g!_!`'g!`!a'g!a!b'g!b!c$w!c!g'g!g!h;Z!h!}'g!}#O$w#O#P%Y#P#R$w#R#S'g#S#T$w#T#X'g#X#Y;Z#Y#o'g#o$g$w$g##l'g##l~$w_;foqQ!lS!mWTPOq$wqr'gst'gtu'guw$wwx'gxz$wz{'g{|\x3dg|}$w}!O\x3dg!O!P'g!P!Q)s!Q![?s![!]'g!]!^$w!^!_'g!_!`'g!`!a'g!a!b'g!b!c$w!c!}'g!}#O$w#O#P%Y#P#R$w#R#S'g#S#T$w#T#o'g#o$g$w$g##l'g##l~$w_\x3droqQ!lS!mWTPOq$wqr'gst'gtu'guw$wwx'gxz$wz{'g{|'g|}$w}!O'g!O!P'g!P!Q)s!Q![?s![!]'g!]!^$w!^!_'g!_!`'g!`!a'g!a!b'g!b!c$w!c!}'g!}#O$w#O#P%Y#P#R$w#R#S'g#S#T$w#T#o'g#o$g$w$g##l'g##l~$w_@QqqQ!lS!mWaPTPOq$wqr'gst'gtu'guw$wwx'gxz$wz{'g{|'g|}$w}!O'g!O!P'g!P!Q)s!Q![?s![!]'g!]!^$w!^!_'g!_!`'g!`!a'g!a!b'g!b!c$w!c!o'g!o!pBX!p!}'g!}#O$w#O#P%Y#P#R$w#R#S'g#S#T$w#T#o'g#o$g$w$g##l'g##l~$w_BfoqQ!lS!mWaPTPOq$wqr'gst'gtu'guw$wwx'gxz$wz{'g{|'g|}$w}!O'g!O!P'g!P!Q)s!Q!['g![!]'g!]!^$w!^!_'g!_!`'g!`!a'g!a!b'g!b!c$w!c!}'g!}#O$w#O#P%Y#P#R$w#R#S'g#S#T$w#T#o'g#o$g$w$g##l'g##l~$w_DtxqQ!lS!mWaPTPOq$wqr'gst'gtu'guw$wwx'gxz$wz{'g{|'g|}$w}!O'g!O!PGb!P!QLn!Q![!#Q![!]'g!]!^$w!^!_'g!_!`'g!`!a'g!a!b'g!b!c$w!c!g'g!g!h;Z!h!o'g!o!pBX!p!qBX!q!}'g!}#O$w#O#P%Y#P#R$w#R#S'g#S#T$w#T#X'g#X#Y;Z#Y#l'g#l#m!%u#m#o'g#o$g$w$g##l'g##l~$w_GouqQ!lS!mWaPTPOq$wqr'gst'gtu'guw$wwx'gxz$wz{'g{|'g|}$w}!O'g!O!P'g!P!Q)s!Q![Gb![!]'g!]!^$w!^!_'g!_!`'g!`!a'g!a!b'g!b!c$w!c!g'g!g!h;Z!h!o'g!o!pJS!p!}'g!}#O$w#O#P%Y#P#R$w#R#S'g#S#T$w#T#X'g#X#Y;Z#Y#o'g#o$g$w$g##l'g##l~$w_JasqQ!lS!mWaPTPOq$wqr'gst'gtu'guw$wwx'gxz$wz{'g{|'g|}$w}!O'g!O!P'g!P!Q)s!Q!['g![!]'g!]!^$w!^!_'g!_!`'g!`!a'g!a!b'g!b!c$w!c!g'g!g!h;Z!h!}'g!}#O$w#O#P%Y#P#R$w#R#S'g#S#T$w#T#X'g#X#Y;Z#Y#o'g#o$g$w$g##l'g##l~$wVLsoqQOq$wqr+yst+ytu+yuw$wwx+yxz$wz{+y{|+y|}$w}!O+y!O!P+y!P!Q$w!Q![Nt![!]+y!]!^$w!^!_+y!_!`+y!`!a+y!a!b+y!b!c$w!c!}+y!}#O$w#O#P%Y#P#R$w#R#S+y#S#T$w#T#o+y#o$g$w$g##l+y##l~$wV! PoqQ!lSaPTPOq$wqr+yst+ytu+yuw$wwx+yxz$wz{+y{|+y|}$w}!O+y!O!P+y!P!Q$w!Q![Nt![!]+y!]!^$w!^!_+y!_!`+y!`!a+y!a!b+y!b!c$w!c!}+y!}#O$w#O#P%Y#P#R$w#R#S+y#S#T$w#T#o+y#o$g$w$g##l+y##l~$w_!#_vqQ!lS!mWaPTPOq$wqr'gst'gtu'guw$wwx'gxz$wz{'g{|'g|}$w}!O'g!O!PGb!P!QLn!Q![!#Q![!]'g!]!^$w!^!_'g!_!`'g!`!a'g!a!b'g!b!c$w!c!g'g!g!h;Z!h!o'g!o!pBX!p!qBX!q!}'g!}#O$w#O#P%Y#P#R$w#R#S'g#S#T$w#T#X'g#X#Y;Z#Y#o'g#o$g$w$g##l'g##l~$w_!\x26QqqQ!lS!mWTPOq$wqr'gst'gtu'guw$wwx'gxz$wz{'g{|'g|}$w}!O'g!O!P'g!P!Q)s!Q![!(X![!]'g!]!^$w!^!_'g!_!`'g!`!a'g!a!b'g!b!c$w!c!i!(X!i!}'g!}#O$w#O#P%Y#P#R$w#R#S'g#S#T$w#T#Z!(X#Z#o'g#o$g$w$g##l'g##l~$w_!(fqqQ!lS!mWaPTPOq$wqr'gst'gtu'guw$wwx'gxz$wz{'g{|'g|}$w}!O'g!O!P'g!P!Q)s!Q![!(X![!]'g!]!^$w!^!_'g!_!`'g!`!a'g!a!b'g!b!c$w!c!i!(X!i!}'g!}#O$w#O#P%Y#P#R$w#R#S'g#S#T$w#T#Z!(X#Z#o'g#o$g$w$g##l'g##l~$wR!*teqQaPOr$ws!O$w!O!P!,V!P!Q!0T!Q![!1V![!g$w!g!h!-S!h!o$w!o!p!/P!p!q!/P!q#O$w#O#P%Y#P#U$w#U#V!2]#V#X$w#X#Y!-S#Y#c$w#c#d!3e#d#l$w#l#m!4g#m~$wR!,^[qQaPOr$ws!Q$w!Q![!,V![!g$w!g!h!-S!h!o$w!o!p!/d!p#O$w#O#P%Y#P#X$w#X#Y!-S#Y~$wR!-XYqQOr$ws{$w{|!-w|}$w}!O!-w!O!Q$w!Q![!.`![#O$w#O#P%Y#P~$wR!-|UqQOr$ws!Q$w!Q![!.`![#O$w#O#P%Y#P~$wR!.gWqQaPOr$ws!Q$w!Q![!.`![!o$w!o!p!/P!p#O$w#O#P%Y#P~$wR!/WSqQaPOr$ws#O$w#O#P%Y#P~$wR!/kWqQaPOr$ws!g$w!g!h!-S!h#O$w#O#P%Y#P#X$w#X#Y!-S#Y~$wR!0YUqQOr$ws!Q$w!Q![!0l![#O$w#O#P%Y#P~$wR!0sUqQaPOr$ws!Q$w!Q![!0l![#O$w#O#P%Y#P~$wR!1^_qQaPOr$ws!O$w!O!P!,V!P!Q!0T!Q![!1V![!g$w!g!h!-S!h!o$w!o!p!/P!p!q!/P!q#O$w#O#P%Y#P#X$w#X#Y!-S#Y~$wR!2bVqQOr$ws!Q$w!Q!R!2w!R!S!2w!S#O$w#O#P%Y#P~$wR!3OVqQaPOr$ws!Q$w!Q!R!2w!R!S!2w!S#O$w#O#P%Y#P~$wR!3jUqQOr$ws!Q$w!Q!Y!3|!Y#O$w#O#P%Y#P~$wR!4TUqQaPOr$ws!Q$w!Q!Y!3|!Y#O$w#O#P%Y#P~$wR!4lYqQOr$ws!Q$w!Q![!5[![!c$w!c!i!5[!i#O$w#O#P%Y#P#T$w#T#Z!5[#Z~$wR!5cYqQaPOr$ws!Q$w!Q![!5[![!c$w!c!i!5[!i#O$w#O#P%Y#P#T$w#T#Z!5[#Z~$wV!6WlqQOq$wqr!8Ost$wtu!8Ouz$wz{!8O{|!8O|}$w}!O!8O!O!P!8O!P![$w![!]!\x3ej!]!^$w!^!_!8O!_!`!8O!`!a!8O!a!b!8O!b!c$w!c!}!8O!}#O$w#O#P%Y#P#R$w#R#S!8O#S#T$w#T#o!8O#o$g$w$g##l!8O##l~$wV!8XobP!OSqQOq$wqr!8Ost!8Otu!8Ouw$wwx!8Oxz$wz{!8O{|!8O|}$w}!O!8O!O!P!8O!P!Q!:Y!Q![!8O![!]!8O!]!^$w!^!_!8O!_!`!8O!`!a!8O!a!b!8O!b!c$w!c!}!8O!}#O$w#O#P%Y#P#R$w#R#S!8O#S#T$w#T#o!8O#o$g$w$g##l!8O##l~$wV!:_oqQOq$wqr!\x3c`st!\x3c`tu!\x3c`uw$wwx!\x3c`xz$wz{!\x3c`{|!\x3c`|}$w}!O!\x3c`!O!P!\x3c`!P!Q$w!Q![!\x3c`![!]!\x3c`!]!^$w!^!_!\x3c`!_!`!\x3c`!`!a!\x3c`!a!b!\x3c`!b!c$w!c!}!\x3c`!}#O$w#O#P%Y#P#R$w#R#S!\x3c`#S#T$w#T#o!\x3c`#o$g$w$g##l!\x3c`##l~$wV!\x3ciobP!OSqQOq$wqr!\x3c`st!\x3c`tu!\x3c`uw$wwx!\x3c`xz$wz{!\x3c`{|!\x3c`|}$w}!O!\x3c`!O!P!\x3c`!P!Q$w!Q![!\x3c`![!]!\x3c`!]!^$w!^!_!\x3c`!_!`!\x3c`!`!a!\x3c`!a!b!\x3c`!b!c$w!c!}!\x3c`!}#O$w#O#P%Y#P#R$w#R#S!\x3c`#S#T$w#T#o!\x3c`#o$g$w$g##l!\x3c`##l~$wV!\x3eojqQOq$wqr!8Ost$wtu!8Ouz$wz{!8O{|!8O|}$w}!O!8O!O!P!8O!P!^$w!^!_!8O!_!`!8O!`!a!8O!a!b!8O!b!c$w!c!}!8O!}#O$w#O#P%Y#P#R$w#R#S!8O#S#T$w#T#o!8O#o$g$w$g##l!8O##l~$wR!@hVPPqQOY!@aYZ$wZr!@ars!@}s#O!@a#O#P!AY#P~!@aP!ASQPPOY!@}Z~!@}R!AaVPPqQOY!@aYZ$wZr!@ars!@as#O!@a#O#P!AY#P~!@aR!A}SWPqQOr$ws#O$w#O#P%Y#P~$wR!BbSuPqQOr$ws#O$w#O#P%Y#P~$wR!Bs[qQOr$wrs$ws!Q$w!Q![!Ci![!b$w!b!c!Ci!c!}!Ci!}#O$w#O#P%Y#P#T$w#T#o!Ci#o~$wR!CpZzPqQOr$ws!Q$w!Q![!Ci![!b$w!b!c!Ci!c!}!Ci!}#O$w#O#P%Y#P#T$w#T#o!Ci#o~$wR!DjStPqQOr$ws#O$w#O#P%Y#P~$wR!D}SiPqQOr$ws#O$w#O#P%Y#P~$wR!EbS[PqQOr$ws#O$w#O#P%Y#P~$wV!EuSxTqQOr$ws#O$w#O#P%Y#P~$wR!FYSwPqQOr$ws#O$w#O#P%Y#P~$wR!FmU^PqQOr$ws!b$w!b!c!GP!c#O$w#O#P%Y#P~$wR!GWS`PqQOr$ws#O$w#O#P%Y#P~$w",
tokenizers:[0,1,2,3],topRules:{Program:[0,58]},dynamicPrecedences:{22:1},specialized:[{term:5,get:T=>ua[T]||-1}],tokenPrec:796});v.parser=Q;v.props=la};
shadow$provide[17]=function(Q,fa,Ja,v){function la(P,V,M){var R=P.prop(0>V?qa.NodeProp.openedBy:qa.NodeProp.closedBy);return R?R:1==P.name.length&&(P=M.indexOf(P.name),-1<P&&P%2==(0>V?1:0))?[M[P+V]]:null}function X(P,V,M){var R=3<arguments.length&&void 0!==arguments[3]?arguments[3]:{},W=R.maxScanDistance||Ba;R=R.brackets||na;var Ca=P.tree,pa=Ca.resolve(V,M),ka;if(ka=la(pa.type,M,R))return ha(P,V,M,pa,ka,R);a:if(pa=pa.type,ka=0>M?P.sliceDoc(V-1,V):P.sliceDoc(V,V+1),ka=R.indexOf(ka),0>ka||0==ka%2!=
0<M)W=null;else{for(var ja={from:0>M?V-1:V,to:0<M?V+1:V},K=P.doc.iterRange(V,0<M?P.doc.length:0),w=0,f=0;!K.next().done&&f<=W;){var n=K.value;0>M&&(f+=n.length);for(var q=V+f*M,m=0<M?0:n.length-1,h=0<M?n.length:-1;m!=h;m+=M){var p=R.indexOf(n[m]);if(!(0>p||Ca.resolve(q+m,1).type!=pa))if(0==p%2==0<M)w++;else if(1==w){W={start:ja,end:{from:q+m,to:q+m+1},matched:p>>1==ka>>1};break a}else w--}0<M&&(f+=n.length)}W=K.done?{start:ja,matched:!1}:null}return W}function ha(P,V,M,R,W,Ca){P=R.parent;var pa={from:R.start,
to:R.end},ka=0;return P&&P.iterate({from:0>M?R.start:R.end,to:0>M?P.start:P.end,enter:function(ja,K,w){if(!(0>M?w>R.start:K<R.end)){if(0==ka&&-1<W.indexOf(ja.name))return{start:pa,end:{from:K,to:w},matched:!0};if(la(ja,M,Ca))ka++;else if(la(ja,-M,Ca)&&(ka--,0==ka))return{start:pa,end:{from:K,to:w},matched:!1};return!1}}})||{start:pa,matched:!1}}Object.defineProperty(v,"__esModule",{value:!0});v.bracketMatching=function(){return[ra.of(0<arguments.length&&void 0!==arguments[0]?arguments[0]:{}),ma]};
v.matchBrackets=X;var ua=fa(2),T=fa(6),qa=fa(1);Q=T.EditorView.baseTheme({matchingBracket:{color:"#0b0"},nonmatchingBracket:{color:"#a22"}});var Ba=1E4,na="()[]{}",ra=ua.Facet.define({combine:function(P){return(0,ua.combineConfig)(P,{afterCursor:!0,brackets:na,maxScanDistance:Ba})}}),wa=T.Decoration.mark({"class":(0,T.themeClass)("matchingBracket")}),da=T.Decoration.mark({"class":(0,T.themeClass)("nonmatchingBracket")}),ma=[ua.StateField.define({create:function(){return T.Decoration.none},update:function(P,
V){if(!V.docChanged&&!V.selection)return P;P=[];var M=V.state.facet(ra),R=!0,W=!1,Ca=void 0;try{for(var pa=V.state.selection.ranges[Symbol.iterator](),ka;!(R=(ka=pa.next()).done);R=!0){var ja=ka.value;if(ja.empty){var K=X(V.state,ja.head,-1,M)||0<ja.head&&X(V.state,ja.head-1,1,M)||M.afterCursor&&(X(V.state,ja.head,1,M)||ja.head<V.state.doc.length&&X(V.state,ja.head+1,-1,M));if(K){var w=K.matched?wa:da;P.push(w.range(K.start.from,K.start.to));K.end&&P.push(w.range(K.end.from,K.end.to))}}}}catch(f){W=
!0,Ca=f}finally{try{if(!R&&null!=pa["return"])pa["return"]()}finally{if(W)throw Ca;}}return T.Decoration.set(P,!0)},provide:[T.EditorView.decorations]}),Q]};
shadow$provide[18]=function(Q,fa,Ja,v){function la(k,u){return K.EditorSelection.create(k.ranges.map(u),k.primaryIndex)}function X(k,u){return k.update({selection:u,scrollIntoView:!0,annotations:K.Transaction.userEvent.of("keyboardselection")})}function ha(k,u){var B=k.state;k=k.dispatch;u=la(B.selection,u);if(u.eq(B.selection))return!1;k(X(B,u));return!0}function ua(k,u){return ha(k,function(B){return B.empty?k.moveByChar(B,u):K.EditorSelection.cursor(u?B.to:B.from)})}function T(k,u){return ha(k,
function(B){return B.empty?k.moveByGroup(B,u):K.EditorSelection.cursor(u?B.to:B.from)})}function qa(k,u,B){var z=k.tree.resolve(u.head),y=B?q.NodeProp.closedBy:q.NodeProp.openedBy;for(u=u.head;;){var E=B?z.childAfter(u):z.childBefore(u);if(!E)break;var L=k;var S=E;if(S.type.prop(y))L=!0;else{var Z=S.end-S.start;L=Z&&(2<Z||/[^\s,.;:]/.test(L.sliceDoc(S.start,S.end)))||S.firstChild}L?z=E:u=B?E.end:E.start}var ba;k=z.type.prop(y)&&(ba=B?(0,n.matchBrackets)(k,z.start,1):(0,n.matchBrackets)(k,z.end,-1))&&
ba.matched?B?ba.end.to:ba.end.from:B?z.end:z.start;return K.EditorSelection.cursor(k,B?-1:1)}function Ba(k,u){return ha(k,function(B){return k.moveVertically(B,u)})}function na(k,u){return ha(k,function(B){return k.moveVertically(B,u,k.dom.clientHeight)})}function ra(k,u,B){var z=k.visualLineAt(u.head),y=k.moveToLineBoundary(u,B);y.head==u.head&&y.head!=(B?z.to:z.from)&&(y=k.moveToLineBoundary(u,B,!1));!B&&y.head==z.from&&z.length&&(k=/^\s*/.exec(k.state.sliceDoc(z.from,Math.min(z.from+100,z.to)))[0].length)&&
u.head>z.from+k&&(y=K.EditorSelection.cursor(z.from+k));return y}function wa(k,u,B){var z=!1,y=la(k.selection,function(E){var L=(0,n.matchBrackets)(k,E.head,-1)||(0,n.matchBrackets)(k,E.head,1)||0<E.head&&(0,n.matchBrackets)(k,E.head-1,1)||E.head<k.doc.length&&(0,n.matchBrackets)(k,E.head+1,-1);if(!L||!L.end)return E;z=!0;L=L.start.from==E.head?L.end.to:L.end.from;return B?K.EditorSelection.range(E.anchor,L):K.EditorSelection.cursor(L)});if(!z)return!1;u(X(k,y));return!0}function da(k,u){var B=la(k.state.selection,
function(z){var y=u(z);return K.EditorSelection.range(z.anchor,y.head,y.goalColumn)});if(B.eq(k.state.selection))return!1;k.dispatch(X(k.state,B));return!0}function ma(k,u){return da(k,function(B){return k.moveByChar(B,u)})}function P(k,u){return da(k,function(B){return k.moveByGroup(B,u)})}function V(k,u){return da(k,function(B){return k.moveVertically(B,u)})}function M(k,u){return da(k,function(B){return k.moveVertically(B,u,k.dom.clientHeight)})}function R(k,u){var B=k.state.changeByRange(function(z){var y=
z.from,E=z.to;if(y==E){var L=u(y);y=Math.min(y,L);E=Math.max(E,L)}return y==E?{range:z}:{changes:{from:y,to:E},range:K.EditorSelection.cursor(y)}});if(B.changes.empty)return!1;k.dispatch(B,{scrollIntoView:!0,annotations:K.Transaction.userEvent.of("delete")});return!0}function W(k){var u=[],B=-1,z=!0,y=!1,E=void 0;try{for(var L=k.selection.ranges[Symbol.iterator](),S;!(z=(S=L.next()).done);z=!0){var Z=S.value,ba=k.doc.lineAt(Z.from),Aa=k.doc.lineAt(Z.to);B==ba.number?u[u.length-1].to=Aa.to:u.push({from:ba.from,
to:Aa.to});B=Aa.number}}catch(Ta){y=!0,E=Ta}finally{try{if(!z&&null!=L["return"])L["return"]()}finally{if(y)throw E;}}return u}function Ca(k,u,B){var z=[],y=!0,E=!1,L=void 0;try{for(var S=W(k)[Symbol.iterator](),Z;!(y=(Z=S.next()).done);y=!0){var ba=Z.value;if(B?ba.to!=k.doc.length:0!=ba.from){var Aa=k.doc.lineAt(B?ba.to+1:ba.from-1);B?z.push({from:ba.to,to:Aa.to},{from:ba.from,insert:Aa.slice()+k.lineBreak}):z.push({from:Aa.from,to:ba.from},{from:ba.to,insert:k.lineBreak+Aa.slice()})}}}catch(Ta){E=
!0,L=Ta}finally{try{if(!y&&null!=S["return"])S["return"]()}finally{if(E)throw L;}}if(!z.length)return!1;u(k.update({changes:z,scrollIntoView:!0}));return!0}function pa(k,u,B){var z=[],y=!0,E=!1,L=void 0;try{for(var S=W(k)[Symbol.iterator](),Z;!(y=(Z=S.next()).done);y=!0){var ba=Z.value;B?z.push({from:ba.from,insert:k.doc.slice(ba.from,ba.to)+k.lineBreak}):z.push({from:ba.to,insert:k.lineBreak+k.doc.slice(ba.from,ba.to)})}}catch(Aa){E=!0,L=Aa}finally{try{if(!y&&null!=S["return"])S["return"]()}finally{if(E)throw L;
}}u(k.update({changes:z,scrollIntoView:!0}));return!0}function ka(k,u){var B=!0,z=!1,y=void 0;try{for(var E=k.state.facet(K.EditorState.indentation)[Symbol.iterator](),L;!(B=(L=E.next()).done);B=!0){var S=L.value,Z=S(k,u);if(-1<Z)return Z}}catch(ba){z=!0,y=ba}finally{try{if(!B&&null!=E["return"])E["return"]()}finally{if(z)throw y;}}return-1}function ja(k,u){var B=-1;return k.changeByRange(function(z){for(var y=[],E=k.doc.lineAt(z.from);;){E.number>B&&(u(E,y,z),B=E.number);if(z.to<=E.to)break;E=k.doc.lineAt(E.to+
1)}E=k.changes(y);return{changes:y,range:K.EditorSelection.range(E.mapPos(z.anchor,1),E.mapPos(z.head,1))}})}Object.defineProperty(v,"__esModule",{value:!0});v.transposeChars=v.standardKeymap=v.splitLine=v.simplifySelection=v.selectSyntaxRight=v.selectSyntaxLeft=v.selectParentSyntax=v.selectPageUp=v.selectPageDown=v.selectMatchingBracket=v.selectLineUp=v.selectLineStart=v.selectLineEnd=v.selectLineDown=v.selectLineBoundaryForward=v.selectLineBoundaryBackward=v.selectLine=v.selectGroupRight=v.selectGroupLeft=
v.selectGroupForward=v.selectGroupBackward=v.selectDocStart=v.selectDocEnd=v.selectCharRight=v.selectCharLeft=v.selectCharForward=v.selectCharBackward=v.selectAll=v.moveLineUp=v.moveLineDown=v.insertNewlineAndIndent=v.insertNewline=v.indentSelection=v.indentMore=v.indentLess=v.emacsStyleKeymap=v.deleteTrailingWhitespace=v.deleteToLineEnd=v.deleteLine=v.deleteGroupForward=v.deleteGroupBackward=v.deleteCharForward=v.deleteCharBackward=v.defaultKeymap=v.cursorSyntaxRight=v.cursorSyntaxLeft=v.cursorPageUp=
v.cursorPageDown=v.cursorMatchingBracket=v.cursorLineUp=v.cursorLineStart=v.cursorLineEnd=v.cursorLineDown=v.cursorLineBoundaryForward=v.cursorLineBoundaryBackward=v.cursorGroupRight=v.cursorGroupLeft=v.cursorGroupForward=v.cursorGroupBackward=v.cursorDocStart=v.cursorDocEnd=v.cursorCharRight=v.cursorCharLeft=v.cursorCharForward=v.cursorCharBackward=v.copyLineUp=v.copyLineDown=void 0;var K=fa(2),w=fa(0),f=fa(6),n=fa(17),q=fa(1),m=function(k){return ua(k,k.textDirection!=f.Direction.LTR)};v.cursorCharLeft=
m;var h=function(k){return ua(k,k.textDirection==f.Direction.LTR)};v.cursorCharRight=h;v.cursorCharForward=function(k){return ua(k,!0)};v.cursorCharBackward=function(k){return ua(k,!1)};var p=function(k){return T(k,k.textDirection!=f.Direction.LTR)};v.cursorGroupLeft=p;var t=function(k){return T(k,k.textDirection==f.Direction.LTR)};v.cursorGroupRight=t;var D=function(k){return T(k,!0)};v.cursorGroupForward=D;var H=function(k){return T(k,!1)};v.cursorGroupBackward=H;Q=function(k){return ha(k,function(u){return qa(k.state,
u,k.textDirection!=f.Direction.LTR)})};v.cursorSyntaxLeft=Q;fa=function(k){return ha(k,function(u){return qa(k.state,u,k.textDirection==f.Direction.LTR)})};v.cursorSyntaxRight=fa;var I=function(k){return Ba(k,!1)};v.cursorLineUp=I;var J=function(k){return Ba(k,!0)};v.cursorLineDown=J;var Y=function(k){return na(k,!1)};v.cursorPageUp=Y;var oa=function(k){return na(k,!0)};v.cursorPageDown=oa;var ea=function(k){return ha(k,function(u){return ra(k,u,!0)})};v.cursorLineBoundaryForward=ea;var Va=function(k){return ha(k,
function(u){return ra(k,u,!1)})};v.cursorLineBoundaryBackward=Va;var bb=function(k){return ha(k,function(u){return K.EditorSelection.cursor(k.visualLineAt(u.head).from,1)})};v.cursorLineStart=bb;var cb=function(k){return ha(k,function(u){return K.EditorSelection.cursor(k.visualLineAt(u.head).to,-1)})};v.cursorLineEnd=cb;Ja=function(k){return wa(k.state,k.dispatch,!1)};v.cursorMatchingBracket=Ja;v.selectMatchingBracket=function(k){return wa(k.state,k.dispatch,!0)};var Wa=function(k){return ma(k,k.textDirection!=
f.Direction.LTR)};v.selectCharLeft=Wa;var ob=function(k){return ma(k,k.textDirection==f.Direction.LTR)};v.selectCharRight=ob;v.selectCharForward=function(k){return ma(k,!0)};v.selectCharBackward=function(k){return ma(k,!1)};var Gb=function(k){return P(k,k.textDirection!=f.Direction.LTR)};v.selectGroupLeft=Gb;var Hb=function(k){return P(k,k.textDirection==f.Direction.LTR)};v.selectGroupRight=Hb;var Ib=function(k){return P(k,!0)};v.selectGroupForward=Ib;var Jb=function(k){return P(k,!1)};v.selectGroupBackward=
Jb;var pb=function(k){return da(k,function(u){return qa(k.state,u,k.textDirection!=f.Direction.LTR)})};v.selectSyntaxLeft=pb;var Ya=function(k){return da(k,function(u){return qa(k.state,u,k.textDirection==f.Direction.LTR)})};v.selectSyntaxRight=Ya;var Ea=function(k){return V(k,!1)};v.selectLineUp=Ea;var hb=function(k){return V(k,!0)};v.selectLineDown=hb;var qb=function(k){return M(k,!1)};v.selectPageUp=qb;var Za=function(k){return M(k,!0)};v.selectPageDown=Za;var Kb=function(k){return da(k,function(u){return ra(k,
u,!0)})};v.selectLineBoundaryForward=Kb;var Lb=function(k){return da(k,function(u){return ra(k,u,!1)})};v.selectLineBoundaryBackward=Lb;var Ua=function(k){return da(k,function(u){return K.EditorSelection.cursor(k.visualLineAt(u.head).from)})};v.selectLineStart=Ua;var rb=function(k){return da(k,function(u){return K.EditorSelection.cursor(k.visualLineAt(u.head).to)})};v.selectLineEnd=rb;var ib=function(k){var u=k.dispatch;u(X(k.state,{anchor:0}));return!0};v.cursorDocStart=ib;var jb=function(k){var u=
k.state;k=k.dispatch;k(X(u,{anchor:u.doc.length}));return!0};v.cursorDocEnd=jb;var sb=function(k){var u=k.state;k=k.dispatch;k(X(u,{anchor:u.selection.primary.anchor,head:0}));return!0};v.selectDocStart=sb;var tb=function(k){var u=k.state;k=k.dispatch;k(X(u,{anchor:u.selection.primary.anchor,head:u.doc.length}));return!0};v.selectDocEnd=tb;var ub=function(k){var u=k.state;k=k.dispatch;k(u.update({selection:{anchor:0,head:u.doc.length},annotations:K.Transaction.userEvent.of("keyboarselection")}));
return!0};v.selectAll=ub;var vb=function(k){var u=k.state;k=k.dispatch;var B=W(u).map(function(z){return K.EditorSelection.range(z.from,Math.min(z.to+1,u.doc.length))});k(u.update({selection:new K.EditorSelection(B),annotations:K.Transaction.userEvent.of("keyboardselection")}));return!0};v.selectLine=vb;var wb=function(k){var u=k.state;k=k.dispatch;var B=la(u.selection,function(z){for(var y,E=u.tree.resolve(z.head,1);!(E.start<z.from&&E.end>=z.to||E.end>z.to&&E.start<=z.from)&&(null===(y=E.parent)||
void 0===y?0:y.parent);)E=E.parent;return K.EditorSelection.range(E.end,E.start)});k(X(u,B));return!0};v.selectParentSyntax=wb;var kb=function(k){var u=k.state;k=k.dispatch;var B=u.selection,z=null;1<B.ranges.length?z=new K.EditorSelection([B.primary]):B.primary.empty||(z=new K.EditorSelection([K.EditorSelection.cursor(B.primary.head)]));if(!z)return!1;k(X(u,z));return!0};v.simplifySelection=kb;var Mb=function(k,u){return R(k,function(B){var z=k.state,y=z.doc.lineAt(B),E;if(!u&&B>y.from&&B<y.from+
200&&!/[^ \t]/.test(E=y.slice(0,B-y.from))){if("\t"==E[E.length-1])return B-1;z=(0,w.countColumn)(E,0,z.tabSize)%z.indentUnit||z.indentUnit;for(y=0;y<z&&" "==E[E.length-1-y];y++)B--;return B}E=y.findClusterBreak(B-y.from,u)+y.from;E==B&&y.number!=(u?z.doc.lines:1)&&(E+=u?1:-1);return E})},xb=function(k){return Mb(k,!1)};v.deleteCharBackward=xb;var yb=function(k){return Mb(k,!0)};v.deleteCharForward=yb;var zb=function(k,u){return R(k,function(B){for(var z=k.state,y=z.doc.lineAt(B),E=z.charCategorizer(B),
L=null;;){if(B==(u?y.to:y.from)){if(y.number==(u?z.doc.lines:1))break;y=z.doc.line(y.number+(u?1:-1));var S=u?y.from:y.to;var Z="\n"}else S=y.findClusterBreak(B-y.from,u)+y.from,Z=y.slice(Math.min(B,S)-y.from,Math.max(B,S)-y.from);Z=E(Z);if(null!=L&&Z!=L)break;Z!=K.CharCategory.Space&&(L=Z);B=S}return B})},$a=function(k){return zb(k,!1)};v.deleteGroupBackward=$a;var xa=function(k){return zb(k,!0)};v.deleteGroupForward=xa;var Nb=function(k){return R(k,function(u){var B=k.visualLineAt(u).to;return u<
B?B:Math.max(k.state.doc.length,u+1)})};v.deleteToLineEnd=Nb;v.deleteTrailingWhitespace=function(k){var u=k.state;k=k.dispatch;for(var B=[],z=0,y=u.doc.iterLines();!y.next().done;){var E=y.value.search(/\s+$/);-1<E&&B.push({from:z+E,to:z+y.value.length});z+=y.value.length+1}if(!B.length)return!1;k(u.update({changes:B}));return!0};var eb=function(k){var u=k.state;k=k.dispatch;var B=u.changeByRange(function(z){return{changes:{from:z.from,to:z.to,insert:w.Text.of(["",""])},range:K.EditorSelection.cursor(z.from)}});
k(u.update(B,{scrollIntoView:!0,annotations:K.Transaction.userEvent.of("input")}));return!0};v.splitLine=eb;var Ob=function(k){var u=k.state;k=k.dispatch;var B=u.changeByRange(function(z){if(!z.empty||0==z.from||z.from==u.doc.length)return{range:z};z=z.from;var y=u.doc.lineAt(z),E=z==y.from?z-1:y.findClusterBreak(z-y.from,!1)+y.from;y=z==y.to?z+1:y.findClusterBreak(z-y.from,!0)+y.from;return{changes:{from:E,to:y,insert:u.doc.slice(z,y).append(u.doc.slice(E,z))},range:K.EditorSelection.cursor(y)}});
if(B.changes.empty)return!1;k(u.update(B,{scrollIntoView:!0}));return!0};v.transposeChars=Ob;var Cb=function(k){return Ca(k.state,k.dispatch,!1)};v.moveLineUp=Cb;var Pb=function(k){return Ca(k.state,k.dispatch,!0)};v.moveLineDown=Pb;var Qb=function(k){return pa(k.state,k.dispatch,!1)};v.copyLineUp=Qb;var Xa=function(k){return pa(k.state,k.dispatch,!0)};v.copyLineDown=Xa;var Db=function(k){var u=k.state,B=u.changes(W(u).map(function(y){var E=y.from;y=y.to;0<E?E--:y<u.doc.length&&y++;return{from:E,
to:y}})),z=la(u.selection,function(y){return k.moveVertically(y,!0)}).map(B);k.dispatch({changes:B,selection:z,scrollIntoView:!0});return!0};v.deleteLine=Db;v.insertNewline=function(k){var u=k.state;k=k.dispatch;k(u.update(u.replaceSelection(u.lineBreak),{scrollIntoView:!0}));return!0};var Eb=function(k){var u=k.state;k=k.dispatch;var B=u.changeByRange(function(z){var y=z.from;z=z.to;var E;if(E=y==z)if(E=y,/\(\)|\[\]|\{\}/.test(u.sliceDoc(E-1,E+1)))E={from:E,to:E};else{var L=u.tree.resolve(E),S=L.childBefore(E);
L=L.childAfter(E);var Z;E=S&&L&&S.end<=E&&L.start>=E&&(Z=S.type.prop(q.NodeProp.closedBy))&&-1<Z.indexOf(L.name)?{from:S.end,to:L.start}:null}Z=E;E=new K.IndentContext(u,{simulateBreak:y,simulateDoubleBreak:!!Z});S=ka(E,y);0>S&&(S=/^\s*/.exec(u.doc.lineAt(y).slice(0,50))[0].length);for(L=u.doc.lineAt(y);z<L.to&&/\s/.test(L.slice(z-L.from,z+1-L.from));)z++;Z?(y=Z.from,z=Z.to):y>L.from&&y<L.from+100&&!/\S/.test(L.slice(0,y))&&(y=L.from);var ba=["",u.indentString(S)];Z&&ba.push(u.indentString(E.lineIndent(L)));
return{changes:{from:y,to:z,insert:w.Text.of(ba)},range:K.EditorSelection.cursor(y+1+S)}});k(u.update(B,{scrollIntoView:!0}));return!0};v.insertNewlineAndIndent=Eb;var Fb=function(k){var u=k.state;k=k.dispatch;var B=Object.create(null),z=new K.IndentContext(u,{overrideIndentation:function(E){E=B[E];return null==E?-1:E}}),y=ja(u,function(E,L,S){var Z=ka(z,E.from);if(!(0>Z)){var ba=/^\s*/.exec(E.slice(0,Math.min(E.length,200)))[0],Aa=u.indentString(Z);if(ba!=Aa||S.from<E.from+ba.length)B[E.from]=Z,
L.push({from:E.from,to:E.from+ba.length,insert:Aa})}});y.changes.empty||k(u.update(y));return!0};v.indentSelection=Fb;var gb=function(k){var u=k.state;k=k.dispatch;k(u.update(ja(u,function(B,z){z.push({from:B.from,insert:u.facet(K.EditorState.indentUnit)})})));return!0};v.indentMore=gb;var Ka=function(k){var u=k.state;k=k.dispatch;k(u.update(ja(u,function(B,z){var y=B.slice(0,Math.min(B.length,200));if(y=/^\s*/.exec(y)[0]){var E=(0,w.countColumn)(y,0,u.tabSize);E=u.indentString(Math.max(0,E-u.indentUnit));
for(var L=0;L<y.length&&L<E.length&&y.charCodeAt(L)==E.charCodeAt(L);)L++;z.push({from:B.from+L,to:B.from+y.length,insert:E.slice(L)})}})));return!0};v.indentLess=Ka;D=[{key:"Ctrl-b",run:m,shift:Wa},{key:"Ctrl-f",run:h,shift:ob},{key:"Ctrl-p",run:I,shift:Ea},{key:"Ctrl-n",run:J,shift:hb},{key:"Ctrl-a",run:bb,shift:Ua},{key:"Ctrl-e",run:cb,shift:rb},{key:"Ctrl-d",run:yb},{key:"Ctrl-h",run:xb},{key:"Ctrl-k",run:Nb},{key:"Alt-d",run:xa},{key:"Ctrl-Alt-h",run:$a},{key:"Ctrl-o",run:eb},{key:"Ctrl-t",run:Ob},
{key:"Alt-f",run:D,shift:Ib},{key:"Alt-b",run:H,shift:Jb},{key:"Alt-\x3c",run:ib},{key:"Alt-\x3e",run:jb},{key:"Ctrl-v",run:oa},{key:"Alt-v",run:Y}];v.emacsStyleKeymap=D;m=[{key:"ArrowLeft",run:m,shift:Wa},{key:"Mod-ArrowLeft",mac:"Alt-ArrowLeft",run:p,shift:Gb},{mac:"Cmd-ArrowLeft",run:bb,shift:Ua},{key:"ArrowRight",run:h,shift:ob},{key:"Mod-ArrowRight",mac:"Alt-ArrowRight",run:t,shift:Hb},{mac:"Cmd-ArrowRight",run:cb,shift:rb},{key:"ArrowUp",run:I,shift:Ea},{mac:"Cmd-ArrowUp",run:ib,shift:sb},{mac:"Ctrl-ArrowUp",
run:Y,shift:qb},{key:"ArrowDown",run:J,shift:hb},{mac:"Cmd-ArrowDown",run:jb,shift:tb},{mac:"Ctrl-ArrowDown",run:oa,shift:Za},{key:"PageUp",run:Y,shift:qb},{key:"PageDown",run:oa,shift:Za},{key:"Home",run:Va,shift:Lb},{key:"Mod-Home",run:ib,shift:sb},{key:"End",run:ea,shift:Kb},{key:"Mod-End",run:jb,shift:tb},{key:"Enter",run:Eb},{key:"Mod-a",run:ub},{key:"Backspace",run:xb},{key:"Delete",run:yb},{key:"Mod-Backspace",mac:"Alt-Backspace",run:$a},{key:"Mod-Delete",mac:"Alt-Delete",run:xa}].concat(D.map(function(k){return{mac:k.key,
run:k.run,shift:k.shift}}));v.standardKeymap=m;Q=[{key:"Alt-ArrowLeft",mac:"Ctrl-ArrowLeft",run:Q,shift:pb},{key:"Alt-ArrowRight",mac:"Ctrl-ArrowRight",run:fa,shift:Ya},{key:"Alt-ArrowUp",run:Cb},{key:"Shift-Alt-ArrowUp",run:Qb},{key:"Alt-ArrowDown",run:Pb},{key:"Shift-Alt-ArrowDown",run:Xa},{key:"Escape",run:kb},{key:"Mod-l",run:vb},{key:"Mod-i",run:wb},{key:"Mod-[",run:Ka},{key:"Mod-]",run:gb},{key:"Mod-Alt-\\",run:Fb},{key:"Shift-Mod-k",run:Db},{key:"Shift-Mod-\\",run:Ja}].concat(m);v.defaultKeymap=
Q};
var aa="codemirror-next.clojure.commands",Ci="codemirror-next.clojure.extensions.formatting",g,ca=this||self;
function t(a){var b=typeof a;if("object"==b)if(a){if(a instanceof Array)return"array";if(a instanceof Object)return b;var c=Object.prototype.toString.call(a);if("[object Window]"==c)return"object";if("[object Array]"==c||"number"==typeof a.length&&"undefined"!=typeof a.splice&&"undefined"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable("splice"))return"array";if("[object Function]"==c||"undefined"!=typeof a.call&&"undefined"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable("call"))return"function"}else return"null";
else if("function"==b&&"undefined"==typeof a.call)return"object";return b}var da="closure_uid_"+(1E9*Math.random()>>>0),ea=0;function fa(a,b){a.sort(b||ha)}function ja(a,b){for(var c=Array(a.length),d=0;d<a.length;d++)c[d]={index:d,value:a[d]};var e=b||ha;fa(c,function(f,h){return e(f.value,h.value)||f.index-h.index});for(d=0;d<a.length;d++)a[d]=c[d].value}function ha(a,b){return a>b?1:a<b?-1:0};function la(a){const b=[];let c=0;for(const d in a)b[c++]=d;return b};function ma(a,b){null!=a&&this.append.apply(this,arguments)}g=ma.prototype;g.La="";g.set=function(a){this.La=""+a};g.append=function(a,b,c){this.La+=String(a);if(null!=b)for(let d=1;d<arguments.length;d++)this.La+=arguments[d];return this};g.clear=function(){this.La=""};g.toString=function(){return this.La};var na={},oa={},Ma,u={},qa=null;function ra(){return new v(null,5,[sa,!0,ta,!0,ua,!1,va,!1,wa,null],null)}function w(a){return null!=a&&!1!==a}function xa(a){return a instanceof Array}function ya(a){return null==a?!0:!1===a?!0:!1}function Qi(a){return null!=a}function y(a,b){return a[t(null==b?null:b)]?!0:a._?!0:!1}function z(a,b){var c=null==b?null:b.constructor;c=w(w(c)?c.Cb:c)?c.mb:t(b);return Error(["No protocol method ",a," defined for type ",c,": ",b].join(""))}
function za(a){var b=a.mb;return w(b)?b:A.c(a)}var Aa="undefined"!==typeof Symbol&&"function"===t(Symbol)?Symbol.iterator:"@@iterator";function Ba(a){for(var b=a.length,c=Array(b),d=0;;)if(d<b)c[d]=a[d],d+=1;else break;return c}function Ca(a){return"symbol"===t(a)||"undefined"!==typeof Symbol&&a instanceof Symbol}function Da(){}
function Ea(a){if(null!=a&&null!=a.U)a=a.U(a);else{var b=Ea[t(null==a?null:a)];if(null!=b)a=b.c?b.c(a):b.call(null,a);else if(b=Ea._,null!=b)a=b.c?b.c(a):b.call(null,a);else throw z("ICounted.-count",a);}return a}function Fa(){}function Ga(a){if(null!=a&&null!=a.V)a=a.V(a);else{var b=Ga[t(null==a?null:a)];if(null!=b)a=b.c?b.c(a):b.call(null,a);else if(b=Ga._,null!=b)a=b.c?b.c(a):b.call(null,a);else throw z("IEmptyableCollection.-empty",a);}return a}function Ha(){}
function Ia(a,b){if(null!=a&&null!=a.Z)a=a.Z(a,b);else{var c=Ia[t(null==a?null:a)];if(null!=c)a=c.g?c.g(a,b):c.call(null,a,b);else if(c=Ia._,null!=c)a=c.g?c.g(a,b):c.call(null,a,b);else throw z("ICollection.-conj",a);}return a}function Ka(){}
var Sa=function(){function a(d,e,f){var h=La[t(null==d?null:d)];if(null!=h)return h.j?h.j(d,e,f):h.call(null,d,e,f);h=La._;if(null!=h)return h.j?h.j(d,e,f):h.call(null,d,e,f);throw z("IIndexed.-nth",d);}function b(d,e){var f=La[t(null==d?null:d)];if(null!=f)return f.g?f.g(d,e):f.call(null,d,e);f=La._;if(null!=f)return f.g?f.g(d,e):f.call(null,d,e);throw z("IIndexed.-nth",d);}var c=null;c=function(d,e,f){switch(arguments.length){case 2:return b.call(this,d,e);case 3:return a.call(this,d,e,f)}throw Error("Invalid arity: "+
arguments.length);};c.g=b;c.j=a;return c}(),La=function La(a){switch(arguments.length){case 2:return La.g(arguments[0],arguments[1]);case 3:return La.j(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",A.c(arguments.length)].join(""));}};La.g=function(a,b){return null!=a&&null!=a.W?a.W(a,b):Sa(a,b)};La.j=function(a,b,c){return null!=a&&null!=a.la?a.la(a,b,c):Sa(a,b,c)};La.F=3;
function B(a){if(null!=a&&null!=a.Y)a=a.Y(a);else{var b=B[t(null==a?null:a)];if(null!=b)a=b.c?b.c(a):b.call(null,a);else if(b=B._,null!=b)a=b.c?b.c(a):b.call(null,a);else throw z("ISeq.-first",a);}return a}function Na(a){if(null!=a&&null!=a.da)a=a.da(a);else{var b=Na[t(null==a?null:a)];if(null!=b)a=b.c?b.c(a):b.call(null,a);else if(b=Na._,null!=b)a=b.c?b.c(a):b.call(null,a);else throw z("ISeq.-rest",a);}return a}function Oa(){}
function Pa(a){if(null!=a&&null!=a.$)a=a.$(a);else{var b=Pa[t(null==a?null:a)];if(null!=b)a=b.c?b.c(a):b.call(null,a);else if(b=Pa._,null!=b)a=b.c?b.c(a):b.call(null,a);else throw z("INext.-next",a);}return a}function Qa(){}
var gb=function(){function a(d,e,f){var h=Ra[t(null==d?null:d)];if(null!=h)return h.j?h.j(d,e,f):h.call(null,d,e,f);h=Ra._;if(null!=h)return h.j?h.j(d,e,f):h.call(null,d,e,f);throw z("ILookup.-lookup",d);}function b(d,e){var f=Ra[t(null==d?null:d)];if(null!=f)return f.g?f.g(d,e):f.call(null,d,e);f=Ra._;if(null!=f)return f.g?f.g(d,e):f.call(null,d,e);throw z("ILookup.-lookup",d);}var c=null;c=function(d,e,f){switch(arguments.length){case 2:return b.call(this,d,e);case 3:return a.call(this,d,e,f)}throw Error("Invalid arity: "+
arguments.length);};c.g=b;c.j=a;return c}(),Ra=function Ra(a){switch(arguments.length){case 2:return Ra.g(arguments[0],arguments[1]);case 3:return Ra.j(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",A.c(arguments.length)].join(""));}};Ra.g=function(a,b){return null!=a&&null!=a.ia?a.ia(a,b):gb(a,b)};Ra.j=function(a,b,c){return null!=a&&null!=a.M?a.M(a,b,c):gb(a,b,c)};Ra.F=3;
function Ta(a,b,c){if(null!=a&&null!=a.Ja)a=a.Ja(a,b,c);else{var d=Ta[t(null==a?null:a)];if(null!=d)a=d.j?d.j(a,b,c):d.call(null,a,b,c);else if(d=Ta._,null!=d)a=d.j?d.j(a,b,c):d.call(null,a,b,c);else throw z("IAssociative.-assoc",a);}return a}function Ua(a,b){if(null!=a&&null!=a.Ya)a=a.Ya(a,b);else{var c=Ua[t(null==a?null:a)];if(null!=c)a=c.g?c.g(a,b):c.call(null,a,b);else if(c=Ua._,null!=c)a=c.g?c.g(a,b):c.call(null,a,b);else throw z("IFind.-find",a);}return a}function Va(){}
function Wa(a,b){if(null!=a&&null!=a.tb)a=a.tb(a,b);else{var c=Wa[t(null==a?null:a)];if(null!=c)a=c.g?c.g(a,b):c.call(null,a,b);else if(c=Wa._,null!=c)a=c.g?c.g(a,b):c.call(null,a,b);else throw z("IMap.-dissoc",a);}return a}function Xa(a){if(null!=a&&null!=a.Lb)a=a.key;else{var b=Xa[t(null==a?null:a)];if(null!=b)a=b.c?b.c(a):b.call(null,a);else if(b=Xa._,null!=b)a=b.c?b.c(a):b.call(null,a);else throw z("IMapEntry.-key",a);}return a}
function Ya(a){if(null!=a&&null!=a.Mb)a=a.m;else{var b=Ya[t(null==a?null:a)];if(null!=b)a=b.c?b.c(a):b.call(null,a);else if(b=Ya._,null!=b)a=b.c?b.c(a):b.call(null,a);else throw z("IMapEntry.-val",a);}return a}function Za(){}function vi(a){if(null!=a&&null!=a.Cc)a=a.Cc(a);else{var b=vi[t(null==a?null:a)];if(null!=b)a=b.c?b.c(a):b.call(null,a);else if(b=vi._,null!=b)a=b.c?b.c(a):b.call(null,a);else throw z("IStack.-peek",a);}return a}
function wi(a){if(null!=a&&null!=a.Dc)a=a.Dc(a);else{var b=wi[t(null==a?null:a)];if(null!=b)a=b.c?b.c(a):b.call(null,a);else if(b=wi._,null!=b)a=b.c?b.c(a):b.call(null,a);else throw z("IStack.-pop",a);}return a}function $a(){}function ab(a){if(null!=a&&null!=a.jb)a=a.jb(a);else{var b=ab[t(null==a?null:a)];if(null!=b)a=b.c?b.c(a):b.call(null,a);else if(b=ab._,null!=b)a=b.c?b.c(a):b.call(null,a);else throw z("IDeref.-deref",a);}return a}function bb(){}
function cb(a){if(null!=a&&null!=a.R)a=a.R(a);else{var b=cb[t(null==a?null:a)];if(null!=b)a=b.c?b.c(a):b.call(null,a);else if(b=cb._,null!=b)a=b.c?b.c(a):b.call(null,a);else throw z("IMeta.-meta",a);}return a}function db(a,b){if(null!=a&&null!=a.T)a=a.T(a,b);else{var c=db[t(null==a?null:a)];if(null!=c)a=c.g?c.g(a,b):c.call(null,a,b);else if(c=db._,null!=c)a=c.g?c.g(a,b):c.call(null,a,b);else throw z("IWithMeta.-with-meta",a);}return a}function eb(){}
var Gb=function(){function a(d,e,f){var h=fb[t(null==d?null:d)];if(null!=h)return h.j?h.j(d,e,f):h.call(null,d,e,f);h=fb._;if(null!=h)return h.j?h.j(d,e,f):h.call(null,d,e,f);throw z("IReduce.-reduce",d);}function b(d,e){var f=fb[t(null==d?null:d)];if(null!=f)return f.g?f.g(d,e):f.call(null,d,e);f=fb._;if(null!=f)return f.g?f.g(d,e):f.call(null,d,e);throw z("IReduce.-reduce",d);}var c=null;c=function(d,e,f){switch(arguments.length){case 2:return b.call(this,d,e);case 3:return a.call(this,d,e,f)}throw Error("Invalid arity: "+
arguments.length);};c.g=b;c.j=a;return c}(),fb=function fb(a){switch(arguments.length){case 2:return fb.g(arguments[0],arguments[1]);case 3:return fb.j(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",A.c(arguments.length)].join(""));}};fb.g=function(a,b){return null!=a&&null!=a.ba?a.ba(a,b):Gb(a,b)};fb.j=function(a,b,c){return null!=a&&null!=a.ca?a.ca(a,b,c):Gb(a,b,c)};fb.F=3;function hb(){}
function ib(a,b,c){if(null!=a&&null!=a.kb)a=a.kb(a,b,c);else{var d=ib[t(null==a?null:a)];if(null!=d)a=d.j?d.j(a,b,c):d.call(null,a,b,c);else if(d=ib._,null!=d)a=d.j?d.j(a,b,c):d.call(null,a,b,c);else throw z("IKVReduce.-kv-reduce",a);}return a}function jb(a,b){if(null!=a&&null!=a.P)a=a.P(a,b);else{var c=jb[t(null==a?null:a)];if(null!=c)a=c.g?c.g(a,b):c.call(null,a,b);else if(c=jb._,null!=c)a=c.g?c.g(a,b):c.call(null,a,b);else throw z("IEquiv.-equiv",a);}return a}
function kb(a){if(null!=a&&null!=a.S)a=a.S(a);else{var b=kb[t(null==a?null:a)];if(null!=b)a=b.c?b.c(a):b.call(null,a);else if(b=kb._,null!=b)a=b.c?b.c(a):b.call(null,a);else throw z("IHash.-hash",a);}return a}function lb(){}function mb(a){if(null!=a&&null!=a.O)a=a.O(a);else{var b=mb[t(null==a?null:a)];if(null!=b)a=b.c?b.c(a):b.call(null,a);else if(b=mb._,null!=b)a=b.c?b.c(a):b.call(null,a);else throw z("ISeqable.-seq",a);}return a}function nb(){}function ob(){}function pb(){}
function sb(a,b){if(null!=a&&null!=a.Bb)a=a.Bb(a,b);else{var c=sb[t(null==a?null:a)];if(null!=c)a=c.g?c.g(a,b):c.call(null,a,b);else if(c=sb._,null!=c)a=c.g?c.g(a,b):c.call(null,a,b);else throw z("IWriter.-write",a);}return a}function tb(){}function ub(a,b,c){if(null!=a&&null!=a.N)a=a.N(a,b,c);else{var d=ub[t(null==a?null:a)];if(null!=d)a=d.j?d.j(a,b,c):d.call(null,a,b,c);else if(d=ub._,null!=d)a=d.j?d.j(a,b,c):d.call(null,a,b,c);else throw z("IPrintWithWriter.-pr-writer",a);}return a}
function vb(a){if(null!=a&&null!=a.Sa)a=a.Sa(a);else{var b=vb[t(null==a?null:a)];if(null!=b)a=b.c?b.c(a):b.call(null,a);else if(b=vb._,null!=b)a=b.c?b.c(a):b.call(null,a);else throw z("IEditableCollection.-as-transient",a);}return a}function wb(a,b){if(null!=a&&null!=a.Ua)a=a.Ua(a,b);else{var c=wb[t(null==a?null:a)];if(null!=c)a=c.g?c.g(a,b):c.call(null,a,b);else if(c=wb._,null!=c)a=c.g?c.g(a,b):c.call(null,a,b);else throw z("ITransientCollection.-conj!",a);}return a}
function xb(a){if(null!=a&&null!=a.$a)a=a.$a(a);else{var b=xb[t(null==a?null:a)];if(null!=b)a=b.c?b.c(a):b.call(null,a);else if(b=xb._,null!=b)a=b.c?b.c(a):b.call(null,a);else throw z("ITransientCollection.-persistent!",a);}return a}function yb(a,b,c){if(null!=a&&null!=a.Ta)a=a.Ta(a,b,c);else{var d=yb[t(null==a?null:a)];if(null!=d)a=d.j?d.j(a,b,c):d.call(null,a,b,c);else if(d=yb._,null!=d)a=d.j?d.j(a,b,c):d.call(null,a,b,c);else throw z("ITransientAssociative.-assoc!",a);}return a}
function zb(){}function Ab(a,b){if(null!=a&&null!=a.Ra)a=a.Ra(a,b);else{var c=Ab[t(null==a?null:a)];if(null!=c)a=c.g?c.g(a,b):c.call(null,a,b);else if(c=Ab._,null!=c)a=c.g?c.g(a,b):c.call(null,a,b);else throw z("IComparable.-compare",a);}return a}function Bb(a){if(null!=a&&null!=a.xb)a=a.xb(a);else{var b=Bb[t(null==a?null:a)];if(null!=b)a=b.c?b.c(a):b.call(null,a);else if(b=Bb._,null!=b)a=b.c?b.c(a):b.call(null,a);else throw z("IChunk.-drop-first",a);}return a}
function Cb(a){if(null!=a&&null!=a.qb)a=a.qb(a);else{var b=Cb[t(null==a?null:a)];if(null!=b)a=b.c?b.c(a):b.call(null,a);else if(b=Cb._,null!=b)a=b.c?b.c(a):b.call(null,a);else throw z("IChunkedSeq.-chunked-first",a);}return a}function Db(a){if(null!=a&&null!=a.ib)a=a.ib(a);else{var b=Db[t(null==a?null:a)];if(null!=b)a=b.c?b.c(a):b.call(null,a);else if(b=Db._,null!=b)a=b.c?b.c(a):b.call(null,a);else throw z("IChunkedSeq.-chunked-rest",a);}return a}
function Eb(a,b){if(null!=a&&null!=a.Qb)a=a.Qb(a,b);else{var c=Eb[t(null==a?null:a)];if(null!=c)a=c.g?c.g(a,b):c.call(null,a,b);else if(c=Eb._,null!=c)a=c.g?c.g(a,b):c.call(null,a,b);else throw z("IReset.-reset!",a);}return a}
var Ld=function(){function a(f,h,k,l,m){var n=Fb[t(null==f?null:f)];if(null!=n)return n.aa?n.aa(f,h,k,l,m):n.call(null,f,h,k,l,m);n=Fb._;if(null!=n)return n.aa?n.aa(f,h,k,l,m):n.call(null,f,h,k,l,m);throw z("ISwap.-swap!",f);}function b(f,h,k,l){var m=Fb[t(null==f?null:f)];if(null!=m)return m.H?m.H(f,h,k,l):m.call(null,f,h,k,l);m=Fb._;if(null!=m)return m.H?m.H(f,h,k,l):m.call(null,f,h,k,l);throw z("ISwap.-swap!",f);}function c(f,h,k){var l=Fb[t(null==f?null:f)];if(null!=l)return l.j?l.j(f,h,k):l.call(null,
f,h,k);l=Fb._;if(null!=l)return l.j?l.j(f,h,k):l.call(null,f,h,k);throw z("ISwap.-swap!",f);}function d(f,h){var k=Fb[t(null==f?null:f)];if(null!=k)return k.g?k.g(f,h):k.call(null,f,h);k=Fb._;if(null!=k)return k.g?k.g(f,h):k.call(null,f,h);throw z("ISwap.-swap!",f);}var e=null;e=function(f,h,k,l,m){switch(arguments.length){case 2:return d.call(this,f,h);case 3:return c.call(this,f,h,k);case 4:return b.call(this,f,h,k,l);case 5:return a.call(this,f,h,k,l,m)}throw Error("Invalid arity: "+arguments.length);
};e.g=d;e.j=c;e.H=b;e.aa=a;return e}(),Fb=function Fb(a){switch(arguments.length){case 2:return Fb.g(arguments[0],arguments[1]);case 3:return Fb.j(arguments[0],arguments[1],arguments[2]);case 4:return Fb.H(arguments[0],arguments[1],arguments[2],arguments[3]);case 5:return Fb.aa(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4]);default:throw Error(["Invalid arity: ",A.c(arguments.length)].join(""));}};Fb.g=function(a,b){return null!=a&&null!=a.Sb?a.Sb(a,b):Ld(a,b)};
Fb.j=function(a,b,c){return null!=a&&null!=a.Tb?a.Tb(a,b,c):Ld(a,b,c)};Fb.H=function(a,b,c,d){return null!=a&&null!=a.Ub?a.Ub(a,b,c,d):Ld(a,b,c,d)};Fb.aa=function(a,b,c,d,e){return null!=a&&null!=a.Vb?a.Vb(a,b,c,d,e):Ld(a,b,c,d,e)};Fb.F=5;function Hb(){}function Ib(a){if(null!=a&&null!=a.Ca)a=a.Ca(a);else{var b=Ib[t(null==a?null:a)];if(null!=b)a=b.c?b.c(a):b.call(null,a);else if(b=Ib._,null!=b)a=b.c?b.c(a):b.call(null,a);else throw z("IIterable.-iterator",a);}return a}
function Jb(a){this.ac=a;this.l=1073741824;this.A=0}Jb.prototype.Bb=function(a,b){return this.ac.append(b)};function Kb(a){var b=new ma;a.N(null,new Jb(b),ra());return A.c(b)}var Lb="undefined"!==typeof Math&&"undefined"!==typeof Math.imul&&0!==Math.imul(4294967295,5)?function(a,b){return Math.imul(a,b)}:function(a,b){var c=a&65535,d=b&65535;return c*d+((a>>>16&65535)*d+c*(b>>>16&65535)<<16>>>0)|0};function Mb(a){a=Lb(a|0,-862048943);return Lb(a<<15|a>>>-15,461845907)}
function Nb(a,b){a=(a|0)^(b|0);return Lb(a<<13|a>>>-13,5)+-430675100|0}function Ob(a,b){a=(a|0)^b;a=Lb(a^a>>>16,-2048144789);a=Lb(a^a>>>13,-1028477387);return a^a>>>16}var Pb={},Qb=0;function Rb(a){255<Qb&&(Pb={},Qb=0);if(null==a)return 0;var b=Pb[a];if("number"===typeof b)a=b;else{a:if(null!=a)if(b=a.length,0<b)for(var c=0,d=0;;)if(c<b)d=Lb(31,d)+a.charCodeAt(c),c+=1;else{b=d;break a}else b=0;else b=0;Pb[a]=b;Qb+=1;a=b}return a}
function Sb(a){if(null!=a&&(a.l&4194304||u===a.qc))return a.S(null)^0;if("number"===typeof a){if(w(isFinite(a)))return Math.floor(a)%2147483647;switch(a){case Infinity:return 2146435072;case -Infinity:return-1048576;default:return 2146959360}}else return!0===a?a=1231:!1===a?a=1237:"string"===typeof a?(a=Rb(a),a=0===a?a:Ob(Nb(0,Mb(a)),4)):a=a instanceof Date?a.valueOf()^0:null==a?0:kb(a)^0,a}
function Tb(a){var b=a.name;a:{var c=1;for(var d=0;;)if(c<b.length)d=Nb(d,Mb(b.charCodeAt(c-1)|b.charCodeAt(c)<<16)),c+=2;else{c=d;break a}}b=Ob(1===(b.length&1)?c^Mb(b.charCodeAt(b.length-1)):c,Lb(2,b.length));a=Rb(a.ja);return b^a+2654435769+(b<<6)+(b>>2)}function Ub(a,b){if(a.str===b.str)return 0;if(w(ya(a.ja)?b.ja:!1))return-1;if(w(a.ja)){if(ya(b.ja))return 1;var c=ha(a.ja,b.ja);return 0===c?ha(a.name,b.name):c}return ha(a.name,b.name)}
function Vb(a,b,c,d,e){this.ja=a;this.name=b;this.str=c;this.Qa=d;this.ma=e;this.l=2154168321;this.A=4096}g=Vb.prototype;g.toString=function(){return this.str};g.P=function(a,b){return b instanceof Vb?this.str===b.str:!1};g.call=function(a){switch(arguments.length-1){case 1:return this.c(arguments[1]);case 2:return this.g(arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",A.c(arguments.length-1)].join(""));}};g.apply=function(a,b){return this.call.apply(this,[this].concat(Ba(b)))};
g.c=function(a){return Wb.g?Wb.g(a,this):Wb.call(null,a,this)};g.g=function(a,b){return Wb.j?Wb.j(a,this,b):Wb.call(null,a,this,b)};g.R=function(){return this.ma};g.T=function(a,b){return new Vb(this.ja,this.name,this.str,this.Qa,b)};g.S=function(){var a=this.Qa;return null!=a?a:this.Qa=a=Tb(this)};g.N=function(a,b){return sb(b,this.str)};
var Xb=function Xb(a){switch(arguments.length){case 1:return Xb.c(arguments[0]);case 2:return Xb.g(arguments[0],arguments[1]);default:throw Error(["Invalid arity: ",A.c(arguments.length)].join(""));}};Xb.c=function(a){for(;;){if(a instanceof Vb)return a;if("string"===typeof a){var b=a.indexOf("/");return 1>b?Xb.g(null,a):Xb.g(a.substring(0,b),a.substring(b+1,a.length))}if(a instanceof Yb)return a.Oa;if(a instanceof E)a=a.Da;else throw Error("no conversion to symbol");}};
Xb.g=function(a,b){var c=null!=a?[A.c(a),"/",A.c(b)].join(""):b;return new Vb(a,b,c,null,null)};Xb.F=2;function Yb(a,b,c){this.m=a;this.Oa=b;this.ma=c;this.l=6717441;this.A=0}g=Yb.prototype;g.toString=function(){return["#'",A.c(this.Oa)].join("")};g.jb=function(){return this.m.o?this.m.o():this.m.call(null)};g.R=function(){return this.ma};g.T=function(a,b){return new Yb(this.m,this.Oa,b)};g.P=function(a,b){return b instanceof Yb?(a=this.Oa,b=b.Oa,F.g?F.g(a,b):F.call(null,a,b)):!1};g.S=function(){return Tb(this.Oa)};
g.call=function(a){switch(arguments.length-1){case 0:return this.o();case 1:return this.c(arguments[1]);case 2:return this.g(arguments[1],arguments[2]);case 3:return this.j(arguments[1],arguments[2],arguments[3]);case 4:return this.H(arguments[1],arguments[2],arguments[3],arguments[4]);case 5:return this.aa(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]);case 6:return this.ya(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6]);case 7:return this.za(arguments[1],
arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7]);case 8:return this.Aa(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8]);case 9:return this.Ba(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9]);case 10:return this.na(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10]);
case 11:return this.oa(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11]);case 12:return this.pa(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12]);case 13:return this.qa(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],
arguments[11],arguments[12],arguments[13]);case 14:return this.ra(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14]);case 15:return this.sa(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15]);case 16:return this.ta(arguments[1],
arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15],arguments[16]);case 17:return this.ua(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15],arguments[16],arguments[17]);case 18:return this.va(arguments[1],arguments[2],
arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15],arguments[16],arguments[17],arguments[18]);case 19:return this.wa(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15],arguments[16],arguments[17],arguments[18],arguments[19]);case 20:return this.xa(arguments[1],
arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15],arguments[16],arguments[17],arguments[18],arguments[19],arguments[20]);case 21:return this.rb(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15],arguments[16],arguments[17],
arguments[18],arguments[19],arguments[20],arguments[21]);default:throw Error(["Invalid arity: ",A.c(arguments.length-1)].join(""));}};g.apply=function(a,b){return this.call.apply(this,[this].concat(Ba(b)))};g.o=function(){var a=this.m.o?this.m.o():this.m.call(null);return a.o?a.o():a.call(null)};g.c=function(a){var b=this.m.o?this.m.o():this.m.call(null);return b.c?b.c(a):b.call(null,a)};g.g=function(a,b){var c=this.m.o?this.m.o():this.m.call(null);return c.g?c.g(a,b):c.call(null,a,b)};
g.j=function(a,b,c){var d=this.m.o?this.m.o():this.m.call(null);return d.j?d.j(a,b,c):d.call(null,a,b,c)};g.H=function(a,b,c,d){var e=this.m.o?this.m.o():this.m.call(null);return e.H?e.H(a,b,c,d):e.call(null,a,b,c,d)};g.aa=function(a,b,c,d,e){var f=this.m.o?this.m.o():this.m.call(null);return f.aa?f.aa(a,b,c,d,e):f.call(null,a,b,c,d,e)};g.ya=function(a,b,c,d,e,f){var h=this.m.o?this.m.o():this.m.call(null);return h.ya?h.ya(a,b,c,d,e,f):h.call(null,a,b,c,d,e,f)};
g.za=function(a,b,c,d,e,f,h){var k=this.m.o?this.m.o():this.m.call(null);return k.za?k.za(a,b,c,d,e,f,h):k.call(null,a,b,c,d,e,f,h)};g.Aa=function(a,b,c,d,e,f,h,k){var l=this.m.o?this.m.o():this.m.call(null);return l.Aa?l.Aa(a,b,c,d,e,f,h,k):l.call(null,a,b,c,d,e,f,h,k)};g.Ba=function(a,b,c,d,e,f,h,k,l){var m=this.m.o?this.m.o():this.m.call(null);return m.Ba?m.Ba(a,b,c,d,e,f,h,k,l):m.call(null,a,b,c,d,e,f,h,k,l)};
g.na=function(a,b,c,d,e,f,h,k,l,m){var n=this.m.o?this.m.o():this.m.call(null);return n.na?n.na(a,b,c,d,e,f,h,k,l,m):n.call(null,a,b,c,d,e,f,h,k,l,m)};g.oa=function(a,b,c,d,e,f,h,k,l,m,n){var p=this.m.o?this.m.o():this.m.call(null);return p.oa?p.oa(a,b,c,d,e,f,h,k,l,m,n):p.call(null,a,b,c,d,e,f,h,k,l,m,n)};g.pa=function(a,b,c,d,e,f,h,k,l,m,n,p){var q=this.m.o?this.m.o():this.m.call(null);return q.pa?q.pa(a,b,c,d,e,f,h,k,l,m,n,p):q.call(null,a,b,c,d,e,f,h,k,l,m,n,p)};
g.qa=function(a,b,c,d,e,f,h,k,l,m,n,p,q){var r=this.m.o?this.m.o():this.m.call(null);return r.qa?r.qa(a,b,c,d,e,f,h,k,l,m,n,p,q):r.call(null,a,b,c,d,e,f,h,k,l,m,n,p,q)};g.ra=function(a,b,c,d,e,f,h,k,l,m,n,p,q,r){var x=this.m.o?this.m.o():this.m.call(null);return x.ra?x.ra(a,b,c,d,e,f,h,k,l,m,n,p,q,r):x.call(null,a,b,c,d,e,f,h,k,l,m,n,p,q,r)};
g.sa=function(a,b,c,d,e,f,h,k,l,m,n,p,q,r,x){var C=this.m.o?this.m.o():this.m.call(null);return C.sa?C.sa(a,b,c,d,e,f,h,k,l,m,n,p,q,r,x):C.call(null,a,b,c,d,e,f,h,k,l,m,n,p,q,r,x)};g.ta=function(a,b,c,d,e,f,h,k,l,m,n,p,q,r,x,C){var D=this.m.o?this.m.o():this.m.call(null);return D.ta?D.ta(a,b,c,d,e,f,h,k,l,m,n,p,q,r,x,C):D.call(null,a,b,c,d,e,f,h,k,l,m,n,p,q,r,x,C)};
g.ua=function(a,b,c,d,e,f,h,k,l,m,n,p,q,r,x,C,D){var I=this.m.o?this.m.o():this.m.call(null);return I.ua?I.ua(a,b,c,d,e,f,h,k,l,m,n,p,q,r,x,C,D):I.call(null,a,b,c,d,e,f,h,k,l,m,n,p,q,r,x,C,D)};g.va=function(a,b,c,d,e,f,h,k,l,m,n,p,q,r,x,C,D,I){var O=this.m.o?this.m.o():this.m.call(null);return O.va?O.va(a,b,c,d,e,f,h,k,l,m,n,p,q,r,x,C,D,I):O.call(null,a,b,c,d,e,f,h,k,l,m,n,p,q,r,x,C,D,I)};
g.wa=function(a,b,c,d,e,f,h,k,l,m,n,p,q,r,x,C,D,I,O){var V=this.m.o?this.m.o():this.m.call(null);return V.wa?V.wa(a,b,c,d,e,f,h,k,l,m,n,p,q,r,x,C,D,I,O):V.call(null,a,b,c,d,e,f,h,k,l,m,n,p,q,r,x,C,D,I,O)};g.xa=function(a,b,c,d,e,f,h,k,l,m,n,p,q,r,x,C,D,I,O,V){var ia=this.m.o?this.m.o():this.m.call(null);return ia.xa?ia.xa(a,b,c,d,e,f,h,k,l,m,n,p,q,r,x,C,D,I,O,V):ia.call(null,a,b,c,d,e,f,h,k,l,m,n,p,q,r,x,C,D,I,O,V)};
g.rb=function(a,b,c,d,e,f,h,k,l,m,n,p,q,r,x,C,D,I,O,V,ia){var Ja=this.m.o?this.m.o():this.m.call(null);return Zb.sb?Zb.sb(Ja,a,b,c,d,e,f,h,k,l,m,n,p,q,r,x,C,D,I,O,V,ia):Zb.call(null,Ja,a,b,c,d,e,f,h,k,l,m,n,p,q,r,x,C,D,I,O,V,ia)};function $b(a){return null!=a?a.A&131072||u===a.rc?!0:a.A?!1:y(Hb,a):y(Hb,a)}
function G(a){if(null==a)return null;if(null!=a&&(a.l&8388608||u===a.Rb))return a.O(null);if(xa(a)||"string"===typeof a)return 0===a.length?null:new H(a,0,null);if(null!=a&&null!=a[Aa])return a=(null!==a&&Aa in a?a[Aa]:void 0).call(a),ac.c?ac.c(a):ac.call(null,a);if(y(lb,a))return mb(a);throw Error([A.c(a)," is not ISeqable"].join(""));}function J(a){if(null==a)return null;if(null!=a&&(a.l&64||u===a.I))return a.Y(null);a=G(a);return null==a?null:B(a)}
function bc(a){return null!=a?null!=a&&(a.l&64||u===a.I)?a.da(null):(a=G(a))?a.da(null):K:K}function M(a){return null==a?null:null!=a&&(a.l&128||u===a.Za)?a.$(null):G(bc(a))}var F=function F(a){switch(arguments.length){case 1:return F.c(arguments[0]);case 2:return F.g(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;return F.v(arguments[0],arguments[1],new H(c.slice(2),0,null))}};F.c=function(){return!0};
F.g=function(a,b){return null==a?null==b:a===b||jb(a,b)};F.v=function(a,b,c){for(;;)if(F.g(a,b))if(M(c))a=b,b=J(c),c=M(c);else return F.g(b,J(c));else return!1};F.C=function(a){var b=J(a),c=M(a);a=J(c);c=M(c);return this.v(b,a,c)};F.F=2;function cc(a){this.D=a}cc.prototype.next=function(){if(null!=this.D){var a=J(this.D);this.D=M(this.D);return{value:a,done:!1}}return{value:null,done:!0}};function dc(a){return new cc(G(a))}
function ec(a,b){this.value=a;this.Wa=b;this.ob=null;this.l=8388672;this.A=0}ec.prototype.O=function(){return this};ec.prototype.Y=function(){return this.value};ec.prototype.da=function(){null==this.ob&&(this.ob=ac.c?ac.c(this.Wa):ac.call(null,this.Wa));return this.ob};function ac(a){var b=a.next();return w(b.done)?null:new ec(b.value,a)}function fc(a){var b=0,c=1;for(a=G(a);;)if(null!=a)b+=1,c=Lb(31,c)+Sb(J(a))|0,a=M(a);else return Ob(Nb(0,Mb(c)),b)}var gc=Ob(Nb(0,Mb(1)),0);
function hc(a){var b=0,c=0;for(a=G(a);;)if(null!=a)b+=1,c=c+Sb(J(a))|0,a=M(a);else return Ob(Nb(0,Mb(c)),b)}var ic=Ob(Nb(0,Mb(0)),0);Da["null"]=!0;Ea["null"]=function(){return 0};Date.prototype.P=function(a,b){return b instanceof Date&&this.valueOf()===b.valueOf()};Date.prototype.Xa=u;Date.prototype.Ra=function(a,b){if(b instanceof Date)return ha(this.valueOf(),b.valueOf());throw Error(["Cannot compare ",A.c(this)," to ",A.c(b)].join(""));};jb.number=function(a,b){return a===b};bb["function"]=!0;
cb["function"]=function(){return null};kb._=function(a){return a[da]||(a[da]=++ea)};function jc(a){this.m=a;this.l=32768;this.A=0}jc.prototype.jb=function(){return this.m};function kc(a){return a instanceof jc}function lc(a){return ab(a)}function mc(a,b){var c=a.length;if(0===a.length)return b.o?b.o():b.call(null);for(var d=a[0],e=1;;)if(e<c){var f=a[e];d=b.g?b.g(d,f):b.call(null,d,f);if(kc(d))return ab(d);e+=1}else return d}
function nc(a,b,c){var d=a.length,e=c;for(c=0;;)if(c<d){var f=a[c];e=b.g?b.g(e,f):b.call(null,e,f);if(kc(e))return ab(e);c+=1}else return e}function oc(a,b,c,d){for(var e=a.length;;)if(d<e){var f=a[d];c=b.g?b.g(c,f):b.call(null,c,f);if(kc(c))return ab(c);d+=1}else return c}function pc(a){return null!=a?a.l&2||u===a.Fb?!0:a.l?!1:y(Da,a):y(Da,a)}function qc(a){return null!=a?a.l&16||u===a.zb?!0:a.l?!1:y(Ka,a):y(Ka,a)}
function N(a,b,c){var d=P.c?P.c(a):P.call(null,a);if(c>=d)return-1;!(0<c)&&0>c&&(c+=d,c=0>c?0:c);for(;;)if(c<d){if(F.g(rc?rc(a,c):sc.call(null,a,c),b))return c;c+=1}else return-1}function Q(a,b,c){var d=P.c?P.c(a):P.call(null,a);if(0===d)return-1;0<c?(--d,c=d<c?d:c):c=0>c?d+c:c;for(;;)if(0<=c){if(F.g(rc?rc(a,c):sc.call(null,a,c),b))return c;--c}else return-1}function tc(a,b){this.h=a;this.i=b}tc.prototype.fa=function(){return this.i<this.h.length};
tc.prototype.next=function(){var a=this.h[this.i];this.i+=1;return a};function H(a,b,c){this.h=a;this.i=b;this.meta=c;this.l=166592766;this.A=139264}g=H.prototype;g.toString=function(){return Kb(this)};g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return N(this,b,0);case 2:return N(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.c=function(b){return N(this,b,0)};a.g=function(b,c){return N(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return Q(this,c,P.c?P.c(this):P.call(null,this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return Q(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.c=a;b.g=function(c,d){return Q(this,c,d)};return b}();g.W=function(a,b){a=b+this.i;if(0<=a&&a<this.h.length)return this.h[a];throw Error("Index out of bounds");};g.la=function(a,b,c){a=b+this.i;return 0<=a&&a<this.h.length?this.h[a]:c};
g.Ca=function(){return new tc(this.h,this.i)};g.R=function(){return this.meta};g.$=function(){return this.i+1<this.h.length?new H(this.h,this.i+1,null):null};g.U=function(){var a=this.h.length-this.i;return 0>a?0:a};g.S=function(){return fc(this)};g.P=function(a,b){return vc.g?vc.g(this,b):vc.call(null,this,b)};g.V=function(){return K};g.ba=function(a,b){return oc(this.h,b,this.h[this.i],this.i+1)};g.ca=function(a,b,c){return oc(this.h,b,c,this.i)};g.Y=function(){return this.h[this.i]};
g.da=function(){return this.i+1<this.h.length?new H(this.h,this.i+1,null):K};g.O=function(){return this.i<this.h.length?this:null};g.T=function(a,b){return b===this.meta?this:new H(this.h,this.i,b)};g.Z=function(a,b){return R.g?R.g(b,this):R.call(null,b,this)};H.prototype[Aa]=function(){return dc(this)};function wc(a){return 0<a.length?new H(a,0,null):null}function Ac(a){for(;;){var b=M(a);if(null!=b)a=b;else return J(a)}}jb._=function(a,b){return a===b};
var Bc=function Bc(a){switch(arguments.length){case 0:return Bc.o();case 1:return Bc.c(arguments[0]);case 2:return Bc.g(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;return Bc.v(arguments[0],arguments[1],new H(c.slice(2),0,null))}};Bc.o=function(){return Cc};Bc.c=function(a){return a};Bc.g=function(a,b){return null!=a?Ia(a,b):new Dc(null,b,null,1,null)};
Bc.v=function(a,b,c){for(;;)if(w(c))a=Bc.g(a,b),b=J(c),c=M(c);else return Bc.g(a,b)};Bc.C=function(a){var b=J(a),c=M(a);a=J(c);c=M(c);return this.v(b,a,c)};Bc.F=2;function P(a){if(null!=a)if(null!=a&&(a.l&2||u===a.Fb))a=a.U(null);else if(xa(a))a=a.length;else if("string"===typeof a)a=a.length;else if(null!=a&&(a.l&8388608||u===a.Rb))a:{a=G(a);for(var b=0;;){if(pc(a)){a=b+Ea(a);break a}a=M(a);b+=1}}else a=Ea(a);else a=0;return a}
function Ec(a,b,c){for(;;){if(null==a)return c;if(0===b)return G(a)?J(a):c;if(qc(a))return La(a,b,c);if(G(a))a=M(a),--b;else return c}}function sc(a){switch(arguments.length){case 2:return rc(arguments[0],arguments[1]);case 3:return S(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",A.c(arguments.length)].join(""));}}
function rc(a,b){if("number"!==typeof b)throw Error("Index argument to nth must be a number");if(null==a)return a;if(null!=a&&(a.l&16||u===a.zb))return a.W(null,b);if(xa(a)){if(-1<b&&b<a.length)return a[b|0];throw Error("Index out of bounds");}if("string"===typeof a){if(-1<b&&b<a.length)return a.charAt(b|0);throw Error("Index out of bounds");}if(null!=a&&(a.l&64||u===a.I)||null!=a&&(a.l&16777216||u===a.Ab)){if(0>b)throw Error("Index out of bounds");a:for(;;){if(null==a)throw Error("Index out of bounds");
if(0===b){if(G(a)){a=J(a);break a}throw Error("Index out of bounds");}if(qc(a)){a=La(a,b);break a}if(G(a))a=M(a),--b;else throw Error("Index out of bounds");}return a}if(y(Ka,a))return La(a,b);throw Error(["nth not supported on this type ",A.c(za(null==a?null:a.constructor))].join(""));}
function S(a,b,c){if("number"!==typeof b)throw Error("Index argument to nth must be a number.");if(null==a)return c;if(null!=a&&(a.l&16||u===a.zb))return a.la(null,b,c);if(xa(a))return-1<b&&b<a.length?a[b|0]:c;if("string"===typeof a)return-1<b&&b<a.length?a.charAt(b|0):c;if(null!=a&&(a.l&64||u===a.I)||null!=a&&(a.l&16777216||u===a.Ab))return 0>b?c:Ec(a,b,c);if(y(Ka,a))return La(a,b,c);throw Error(["nth not supported on this type ",A.c(za(null==a?null:a.constructor))].join(""));}
var Wb=function Wb(a){switch(arguments.length){case 2:return Wb.g(arguments[0],arguments[1]);case 3:return Wb.j(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",A.c(arguments.length)].join(""));}};Wb.g=function(a,b){return null==a?null:null!=a&&(a.l&256||u===a.Kb)?a.ia(null,b):xa(a)?null!=b&&b<a.length?a[b|0]:null:"string"===typeof a?null!=b&&-1<b&&b<a.length?a.charAt(b|0):null:y(Qa,a)?Ra(a,b):null};
Wb.j=function(a,b,c){return null!=a?null!=a&&(a.l&256||u===a.Kb)?a.M(null,b,c):xa(a)?null!=b&&-1<b&&b<a.length?a[b|0]:c:"string"===typeof a?null!=b&&-1<b&&b<a.length?a.charAt(b|0):c:y(Qa,a)?Ra(a,b,c):c:c};Wb.F=3;var Fc=function Fc(a){switch(arguments.length){case 3:return Fc.j(arguments[0],arguments[1],arguments[2]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;return Fc.v(arguments[0],arguments[1],arguments[2],new H(c.slice(3),0,null))}};
Fc.j=function(a,b,c){if(null!=a&&(a.l&512||u===a.nc))a=a.Ja(null,b,c);else if(null!=a)a=Ta(a,b,c);else{a=[b,c];b=[];for(c=0;;)if(c<a.length){var d=a[c],e=a[c+1],f=Gc(b,d);-1===f?(f=b,f.push(d),f.push(e)):b[f+1]=e;c+=2}else break;a=new v(null,b.length/2,b,null)}return a};Fc.v=function(a,b,c,d){for(;;)if(a=Fc.j(a,b,c),w(d))b=J(d),c=J(M(d)),d=M(M(d));else return a};Fc.C=function(a){var b=J(a),c=M(a);a=J(c);var d=M(c);c=J(d);d=M(d);return this.v(b,a,c,d)};Fc.F=3;
var Hc=function Hc(a){switch(arguments.length){case 1:return Hc.c(arguments[0]);case 2:return Hc.g(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;return Hc.v(arguments[0],arguments[1],new H(c.slice(2),0,null))}};Hc.c=function(a){return a};Hc.g=function(a,b){return null==a?null:Wa(a,b)};Hc.v=function(a,b,c){for(;;){if(null==a)return null;a=Hc.g(a,b);if(w(c))b=J(c),c=M(c);else return a}};
Hc.C=function(a){var b=J(a),c=M(a);a=J(c);c=M(c);return this.v(b,a,c)};Hc.F=2;function Ic(a,b){this.u=a;this.meta=b;this.l=393217;this.A=0}g=Ic.prototype;g.R=function(){return this.meta};g.T=function(a,b){return new Ic(this.u,b)};
g.call=function(a){switch(arguments.length-1){case 0:return this.o();case 1:return this.c(arguments[1]);case 2:return this.g(arguments[1],arguments[2]);case 3:return this.j(arguments[1],arguments[2],arguments[3]);case 4:return this.H(arguments[1],arguments[2],arguments[3],arguments[4]);case 5:return this.aa(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]);case 6:return this.ya(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6]);case 7:return this.za(arguments[1],
arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7]);case 8:return this.Aa(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8]);case 9:return this.Ba(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9]);case 10:return this.na(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10]);
case 11:return this.oa(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11]);case 12:return this.pa(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12]);case 13:return this.qa(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],
arguments[11],arguments[12],arguments[13]);case 14:return this.ra(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14]);case 15:return this.sa(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15]);case 16:return this.ta(arguments[1],
arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15],arguments[16]);case 17:return this.ua(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15],arguments[16],arguments[17]);case 18:return this.va(arguments[1],arguments[2],
arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15],arguments[16],arguments[17],arguments[18]);case 19:return this.wa(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15],arguments[16],arguments[17],arguments[18],arguments[19]);case 20:return this.xa(arguments[1],
arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15],arguments[16],arguments[17],arguments[18],arguments[19],arguments[20]);case 21:return this.rb(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15],arguments[16],arguments[17],
arguments[18],arguments[19],arguments[20],arguments[21]);default:throw Error(["Invalid arity: ",A.c(arguments.length-1)].join(""));}};g.apply=function(a,b){return this.call.apply(this,[this].concat(Ba(b)))};g.o=function(){return this.u.o?this.u.o():this.u.call(null)};g.c=function(a){return this.u.c?this.u.c(a):this.u.call(null,a)};g.g=function(a,b){return this.u.g?this.u.g(a,b):this.u.call(null,a,b)};g.j=function(a,b,c){return this.u.j?this.u.j(a,b,c):this.u.call(null,a,b,c)};
g.H=function(a,b,c,d){return this.u.H?this.u.H(a,b,c,d):this.u.call(null,a,b,c,d)};g.aa=function(a,b,c,d,e){return this.u.aa?this.u.aa(a,b,c,d,e):this.u.call(null,a,b,c,d,e)};g.ya=function(a,b,c,d,e,f){return this.u.ya?this.u.ya(a,b,c,d,e,f):this.u.call(null,a,b,c,d,e,f)};g.za=function(a,b,c,d,e,f,h){return this.u.za?this.u.za(a,b,c,d,e,f,h):this.u.call(null,a,b,c,d,e,f,h)};g.Aa=function(a,b,c,d,e,f,h,k){return this.u.Aa?this.u.Aa(a,b,c,d,e,f,h,k):this.u.call(null,a,b,c,d,e,f,h,k)};
g.Ba=function(a,b,c,d,e,f,h,k,l){return this.u.Ba?this.u.Ba(a,b,c,d,e,f,h,k,l):this.u.call(null,a,b,c,d,e,f,h,k,l)};g.na=function(a,b,c,d,e,f,h,k,l,m){return this.u.na?this.u.na(a,b,c,d,e,f,h,k,l,m):this.u.call(null,a,b,c,d,e,f,h,k,l,m)};g.oa=function(a,b,c,d,e,f,h,k,l,m,n){return this.u.oa?this.u.oa(a,b,c,d,e,f,h,k,l,m,n):this.u.call(null,a,b,c,d,e,f,h,k,l,m,n)};g.pa=function(a,b,c,d,e,f,h,k,l,m,n,p){return this.u.pa?this.u.pa(a,b,c,d,e,f,h,k,l,m,n,p):this.u.call(null,a,b,c,d,e,f,h,k,l,m,n,p)};
g.qa=function(a,b,c,d,e,f,h,k,l,m,n,p,q){return this.u.qa?this.u.qa(a,b,c,d,e,f,h,k,l,m,n,p,q):this.u.call(null,a,b,c,d,e,f,h,k,l,m,n,p,q)};g.ra=function(a,b,c,d,e,f,h,k,l,m,n,p,q,r){return this.u.ra?this.u.ra(a,b,c,d,e,f,h,k,l,m,n,p,q,r):this.u.call(null,a,b,c,d,e,f,h,k,l,m,n,p,q,r)};g.sa=function(a,b,c,d,e,f,h,k,l,m,n,p,q,r,x){return this.u.sa?this.u.sa(a,b,c,d,e,f,h,k,l,m,n,p,q,r,x):this.u.call(null,a,b,c,d,e,f,h,k,l,m,n,p,q,r,x)};
g.ta=function(a,b,c,d,e,f,h,k,l,m,n,p,q,r,x,C){return this.u.ta?this.u.ta(a,b,c,d,e,f,h,k,l,m,n,p,q,r,x,C):this.u.call(null,a,b,c,d,e,f,h,k,l,m,n,p,q,r,x,C)};g.ua=function(a,b,c,d,e,f,h,k,l,m,n,p,q,r,x,C,D){return this.u.ua?this.u.ua(a,b,c,d,e,f,h,k,l,m,n,p,q,r,x,C,D):this.u.call(null,a,b,c,d,e,f,h,k,l,m,n,p,q,r,x,C,D)};g.va=function(a,b,c,d,e,f,h,k,l,m,n,p,q,r,x,C,D,I){return this.u.va?this.u.va(a,b,c,d,e,f,h,k,l,m,n,p,q,r,x,C,D,I):this.u.call(null,a,b,c,d,e,f,h,k,l,m,n,p,q,r,x,C,D,I)};
g.wa=function(a,b,c,d,e,f,h,k,l,m,n,p,q,r,x,C,D,I,O){return this.u.wa?this.u.wa(a,b,c,d,e,f,h,k,l,m,n,p,q,r,x,C,D,I,O):this.u.call(null,a,b,c,d,e,f,h,k,l,m,n,p,q,r,x,C,D,I,O)};g.xa=function(a,b,c,d,e,f,h,k,l,m,n,p,q,r,x,C,D,I,O,V){return this.u.xa?this.u.xa(a,b,c,d,e,f,h,k,l,m,n,p,q,r,x,C,D,I,O,V):this.u.call(null,a,b,c,d,e,f,h,k,l,m,n,p,q,r,x,C,D,I,O,V)};
g.rb=function(a,b,c,d,e,f,h,k,l,m,n,p,q,r,x,C,D,I,O,V,ia){return Zb.sb?Zb.sb(this.u,a,b,c,d,e,f,h,k,l,m,n,p,q,r,x,C,D,I,O,V,ia):Zb.call(null,this.u,a,b,c,d,e,f,h,k,l,m,n,p,q,r,x,C,D,I,O,V,ia)};function Jc(a,b){return"function"==t(a)?new Ic(a,b):null==a?null:db(a,b)}function Kc(a){return null!=a&&(null!=a?a.l&131072||u===a.Nb||(a.l?0:y(bb,a)):y(bb,a))?cb(a):null}function Lc(a){return null==a?!1:null!=a?a.l&4096||u===a.yc?!0:a.l?!1:y(Za,a):y(Za,a)}
function Mc(a){return null!=a?a.l&16777216||u===a.Ab?!0:a.l?!1:y(nb,a):y(nb,a)}function Nc(a){return null==a?!1:null!=a?a.l&1024||u===a.uc?!0:a.l?!1:y(Va,a):y(Va,a)}function Oc(a){return null!=a?a.l&67108864||u===a.wc?!0:a.l?!1:y(pb,a):y(pb,a)}function Pc(a){return null!=a?a.l&16384||u===a.zc?!0:a.l?!1:y($a,a):y($a,a)}function Qc(a){return null!=a?a.A&512||u===a.oc?!0:!1:!1}function Rc(a,b,c,d,e){for(;0!==e;)c[d]=a[b],d+=1,--e,b+=1}var Sc={};function Tc(a){return null==a?!1:!1===a?!1:!0}
function Uc(a,b){return Wb.j(a,b,Sc)===Sc?!1:!0}
function Vc(a,b){if(a===b)return 0;if(null==a)return-1;if(null==b)return 1;if("number"===typeof a){if("number"===typeof b)return ha(a,b);throw Error(["Cannot compare ",A.c(a)," to ",A.c(b)].join(""));}if(null!=a?a.A&2048||u===a.Xa||(a.A?0:y(zb,a)):y(zb,a))return Ab(a,b);if("string"!==typeof a&&!xa(a)&&!0!==a&&!1!==a||(null==a?null:a.constructor)!==(null==b?null:b.constructor))throw Error(["Cannot compare ",A.c(a)," to ",A.c(b)].join(""));return ha(a,b)}
function Wc(a,b){var c=P(a),d=P(b);if(c<d)a=-1;else if(c>d)a=1;else if(0===c)a=0;else a:for(d=0;;){var e=Vc(rc(a,d),rc(b,d));if(0===e&&d+1<c)d+=1;else{a=e;break a}}return a}function ka(a){return F.g(a,Vc)?Vc:function(b,c){var d=a.g?a.g(b,c):a.call(null,b,c);return"number"===typeof d?d:w(d)?-1:w(a.g?a.g(c,b):a.call(null,c,b))?1:0}}function Xc(a,b){return G(b)?(b=Yc.c?Yc.c(b):Yc.call(null,b),ja(b,ka(a)),G(b)):K}
function Di(){return Xc(function(a,b){a=J.c?J.c(a):J.call(null,a);b=J.c?J.c(b):J.call(null,b);var c=ka(Vc);return c.g?c.g(a,b):c.call(null,a,b)},qj)}function xc(a,b){var c=G(b);return c?(b=J(c),c=M(c),Zc?Zc(a,b,c):$c.call(null,a,b,c)):a.o?a.o():a.call(null)}function zc(a,b,c){for(c=G(c);;)if(c){var d=J(c);b=a.g?a.g(b,d):a.call(null,b,d);if(kc(b))return ab(b);c=M(c)}else return b}
function ad(a,b){a=Ib(a);if(w(a.fa()))for(var c=a.next();;)if(a.fa()){var d=a.next();c=b.g?b.g(c,d):b.call(null,c,d);if(kc(c))return ab(c)}else return c;else return b.o?b.o():b.call(null)}function bd(a,b,c){for(a=Ib(a);;)if(a.fa()){var d=a.next();c=b.g?b.g(c,d):b.call(null,c,d);if(kc(c))return ab(c)}else return c}
function $c(a){switch(arguments.length){case 2:return cd(arguments[0],arguments[1]);case 3:return Zc(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",A.c(arguments.length)].join(""));}}function cd(a,b){return null!=b&&(b.l&524288||u===b.Pb)?b.ba(null,a):xa(b)?mc(b,a):"string"===typeof b?mc(b,a):y(eb,b)?fb(b,a):$b(b)?ad(b,a):xc(a,b)}
function Zc(a,b,c){return null!=c&&(c.l&524288||u===c.Pb)?c.ca(null,a,b):xa(c)?nc(c,a,b):"string"===typeof c?nc(c,a,b):y(eb,c)?fb(c,a,b):$b(c)?bd(c,a,b):zc(a,b,c)}function dd(a,b,c){return null!=c?ib(c,a,b):b}function ed(a){return a}function fd(a,b,c,d){a=a.c?a.c(b):a.call(null,b);c=Zc(a,c,d);return a.c?a.c(c):a.call(null,c)}function gd(a){a=(a-a%2)/2;return 0<=a?Math.floor(a):Math.ceil(a)}
function hd(a){a-=a>>1&1431655765;a=(a&858993459)+(a>>2&858993459);return 16843009*(a+(a>>4)&252645135)>>24}function yj(a){return 0>a}var A=function A(a){switch(arguments.length){case 0:return A.o();case 1:return A.c(arguments[0]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;return A.v(arguments[0],new H(c.slice(1),0,null))}};A.o=function(){return""};A.c=function(a){return null==a?"":[a].join("")};
A.v=function(a,b){for(a=new ma(A.c(a));;)if(w(b))a=a.append(A.c(J(b))),b=M(b);else return a.toString()};A.C=function(a){var b=J(a);a=M(a);return this.v(b,a)};A.F=1;function vc(a,b){if(Mc(b))if(pc(a)&&pc(b)&&P(a)!==P(b))a=!1;else a:for(a=G(a),b=G(b);;){if(null==a){a=null==b;break a}if(null!=b&&F.g(J(a),J(b)))a=M(a),b=M(b);else{a=!1;break a}}else a=null;return Tc(a)}function Dc(a,b,c,d,e){this.meta=a;this.first=b;this.rest=c;this.count=d;this.B=e;this.l=65937646;this.A=8192}g=Dc.prototype;
g.toString=function(){return Kb(this)};g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return N(this,b,0);case 2:return N(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.c=function(b){return N(this,b,0)};a.g=function(b,c){return N(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return Q(this,c,this.count)}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return Q(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.c=a;b.g=function(c,d){return Q(this,c,d)};return b}();g.R=function(){return this.meta};g.$=function(){return 1===this.count?null:this.rest};g.U=function(){return this.count};g.Cc=function(){return this.first};g.Dc=function(){return this.da(null)};
g.S=function(){var a=this.B;return null!=a?a:this.B=a=fc(this)};g.P=function(a,b){return vc(this,b)};g.V=function(){return db(K,this.meta)};g.ba=function(a,b){return xc(b,this)};g.ca=function(a,b,c){return zc(b,c,this)};g.Y=function(){return this.first};g.da=function(){return 1===this.count?K:this.rest};g.O=function(){return this};g.T=function(a,b){return b===this.meta?this:new Dc(b,this.first,this.rest,this.count,this.B)};g.Z=function(a,b){return new Dc(this.meta,b,this,this.count+1,null)};
Dc.prototype[Aa]=function(){return dc(this)};function id(a){this.meta=a;this.l=65937614;this.A=8192}g=id.prototype;g.toString=function(){return Kb(this)};g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return N(this,b,0);case 2:return N(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.c=function(b){return N(this,b,0)};a.g=function(b,c){return N(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return Q(this,c,P(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return Q(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.c=a;b.g=function(c,d){return Q(this,c,d)};return b}();g.R=function(){return this.meta};g.$=function(){return null};g.U=function(){return 0};g.Cc=function(){return null};g.Dc=function(){throw Error("Can't pop empty list");};g.S=function(){return gc};
g.P=function(a,b){return(null!=b?b.l&33554432||u===b.tc||(b.l?0:y(ob,b)):y(ob,b))||Mc(b)?null==G(b):!1};g.V=function(){return this};g.ba=function(a,b){return xc(b,this)};g.ca=function(a,b,c){return zc(b,c,this)};g.Y=function(){return null};g.da=function(){return K};g.O=function(){return null};g.T=function(a,b){return b===this.meta?this:new id(b)};g.Z=function(a,b){return new Dc(this.meta,b,null,1,null)};var K=new id(null);id.prototype[Aa]=function(){return dc(this)};
function kd(a){for(var b=[],c=arguments.length,d=0;;)if(d<c)b.push(arguments[d]),d+=1;else break;a:{c=0<b.length?new H(b.slice(0),0,null):null;if(c instanceof H&&0===c.i)b=c.h;else b:for(b=[];;)if(null!=c)b.push(B(c)),c=Pa(c);else break b;c=b.length;for(var e=K;;)if(0<c)d=c-1,e=Ia(e,b[c-1]),c=d;else break a}return e}function ld(a,b,c,d){this.meta=a;this.first=b;this.rest=c;this.B=d;this.l=65929452;this.A=8192}g=ld.prototype;g.toString=function(){return Kb(this)};
g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return N(this,b,0);case 2:return N(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.c=function(b){return N(this,b,0)};a.g=function(b,c){return N(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return Q(this,c,P(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return Q(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.c=a;b.g=function(c,d){return Q(this,c,d)};return b}();g.R=function(){return this.meta};g.$=function(){return null==this.rest?null:G(this.rest)};g.S=function(){var a=this.B;return null!=a?a:this.B=a=fc(this)};g.P=function(a,b){return vc(this,b)};g.V=function(){return K};
g.ba=function(a,b){return xc(b,this)};g.ca=function(a,b,c){return zc(b,c,this)};g.Y=function(){return this.first};g.da=function(){return null==this.rest?K:this.rest};g.O=function(){return this};g.T=function(a,b){return b===this.meta?this:new ld(b,this.first,this.rest,this.B)};g.Z=function(a,b){return new ld(null,b,this,null)};ld.prototype[Aa]=function(){return dc(this)};
function R(a,b){return null==b?new Dc(null,a,null,1,null):null!=b&&(b.l&64||u===b.I)?new ld(null,a,b,null):new ld(null,a,G(b),null)}function md(a,b){if(a.Da===b.Da)return 0;if(w(ya(a.ja)?b.ja:!1))return-1;if(w(a.ja)){if(ya(b.ja))return 1;var c=ha(a.ja,b.ja);return 0===c?ha(a.name,b.name):c}return ha(a.name,b.name)}function E(a,b,c,d){this.ja=a;this.name=b;this.Da=c;this.Qa=d;this.l=2153775105;this.A=4096}g=E.prototype;g.toString=function(){return[":",A.c(this.Da)].join("")};
g.P=function(a,b){return b instanceof E?this.Da===b.Da:!1};g.call=function(a){switch(arguments.length-1){case 1:return this.c(arguments[1]);case 2:return this.g(arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",A.c(arguments.length-1)].join(""));}};g.apply=function(a,b){return this.call.apply(this,[this].concat(Ba(b)))};g.c=function(a){return Wb.g(a,this)};g.g=function(a,b){return Wb.j(a,this,b)};g.S=function(){var a=this.Qa;return null!=a?a:this.Qa=a=Tb(this)+2654435769|0};
g.N=function(a,b){return sb(b,[":",A.c(this.Da)].join(""))};function nd(a){if(null!=a&&(a.A&4096||u===a.Ob))return a.ja;throw Error(["Doesn't support namespace: ",A.c(a)].join(""));}var od=function od(a){switch(arguments.length){case 1:return od.c(arguments[0]);case 2:return od.g(arguments[0],arguments[1]);default:throw Error(["Invalid arity: ",A.c(arguments.length)].join(""));}};
od.c=function(a){if(a instanceof E)return a;if(a instanceof Vb)return new E(nd(a),pd.c?pd.c(a):pd.call(null,a),a.str,null);if(F.g("/",a))return new E(null,a,a,null);if("string"===typeof a){var b=a.split("/");return 2===b.length?new E(b[0],b[1],a,null):new E(null,b[0],a,null)}return null};
od.g=function(a,b){a=a instanceof E?pd.c?pd.c(a):pd.call(null,a):a instanceof Vb?pd.c?pd.c(a):pd.call(null,a):a;b=b instanceof E?pd.c?pd.c(b):pd.call(null,b):b instanceof Vb?pd.c?pd.c(b):pd.call(null,b):b;return new E(a,b,[w(a)?[A.c(a),"/"].join(""):null,A.c(b)].join(""),null)};od.F=2;function qd(a,b,c){this.meta=a;this.ab=b;this.D=null;this.B=c;this.l=32374988;this.A=1}g=qd.prototype;g.toString=function(){return Kb(this)};
function rd(a){null!=a.ab&&(a.D=a.ab.o?a.ab.o():a.ab.call(null),a.ab=null);return a.D}g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return N(this,b,0);case 2:return N(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.c=function(b){return N(this,b,0)};a.g=function(b,c){return N(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return Q(this,c,P(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return Q(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.c=a;b.g=function(c,d){return Q(this,c,d)};return b}();g.R=function(){return this.meta};g.$=function(){this.O(null);return null==this.D?null:M(this.D)};g.S=function(){var a=this.B;return null!=a?a:this.B=a=fc(this)};g.P=function(a,b){return vc(this,b)};
g.V=function(){return db(K,this.meta)};g.ba=function(a,b){return xc(b,this)};g.ca=function(a,b,c){return zc(b,c,this)};g.Y=function(){this.O(null);return null==this.D?null:J(this.D)};g.da=function(){this.O(null);return null!=this.D?bc(this.D):K};g.O=function(){rd(this);if(null==this.D)return null;for(var a=this.D;;)if(a instanceof qd)a=rd(a);else return this.D=a,G(this.D)};g.T=function(a,b){var c=this;return b===this.meta?c:new qd(b,function(){return c.O(null)},this.B)};
g.Z=function(a,b){return R(b,this)};qd.prototype[Aa]=function(){return dc(this)};function sd(a){this.pb=a;this.end=0;this.l=2;this.A=0}sd.prototype.add=function(a){this.pb[this.end]=a;return this.end+=1};sd.prototype.chunk=function(){var a=new td(this.pb,0,this.end);this.pb=null;return a};sd.prototype.U=function(){return this.end};function td(a,b,c){this.h=a;this.off=b;this.end=c;this.l=524306;this.A=0}g=td.prototype;g.U=function(){return this.end-this.off};
g.W=function(a,b){return this.h[this.off+b]};g.la=function(a,b,c){return 0<=b&&b<this.end-this.off?this.h[this.off+b]:c};g.xb=function(){if(this.off===this.end)throw Error("-drop-first of empty chunk");return new td(this.h,this.off+1,this.end)};g.ba=function(a,b){return oc(this.h,b,this.h[this.off],this.off+1)};g.ca=function(a,b,c){return oc(this.h,b,c,this.off)};function ud(a,b,c,d){this.chunk=a;this.Ga=b;this.meta=c;this.B=d;this.l=31850732;this.A=1536}g=ud.prototype;g.toString=function(){return Kb(this)};
g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return N(this,b,0);case 2:return N(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.c=function(b){return N(this,b,0)};a.g=function(b,c){return N(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return Q(this,c,P(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return Q(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.c=a;b.g=function(c,d){return Q(this,c,d)};return b}();g.R=function(){return this.meta};g.$=function(){return 1<Ea(this.chunk)?new ud(Bb(this.chunk),this.Ga,null,null):null==this.Ga?null:mb(this.Ga)};g.S=function(){var a=this.B;return null!=a?a:this.B=a=fc(this)};
g.P=function(a,b){return vc(this,b)};g.V=function(){return K};g.Y=function(){return La(this.chunk,0)};g.da=function(){return 1<Ea(this.chunk)?new ud(Bb(this.chunk),this.Ga,null,null):null==this.Ga?K:this.Ga};g.O=function(){return this};g.qb=function(){return this.chunk};g.ib=function(){return null==this.Ga?K:this.Ga};g.T=function(a,b){return b===this.meta?this:new ud(this.chunk,this.Ga,b,this.B)};g.Z=function(a,b){return R(b,this)};g.yb=function(){return null==this.Ga?null:this.Ga};
ud.prototype[Aa]=function(){return dc(this)};function vd(a,b){return 0===Ea(a)?b:new ud(a,b,null,null)}function wd(a,b){a.add(b)}function Yc(a){var b=[];for(a=G(a);;)if(null!=a)b.push(J(a)),a=M(a);else return b}function xd(a,b){if(pc(b))return P(b);var c=0;for(b=G(b);;)if(null!=b&&c<a)c+=1,b=M(b);else return c}
var yd=function yd(a){if(null==a)return null;var c=M(a);return null==c?G(J(a)):R(J(a),yd.c?yd.c(c):yd.call(null,c))},zd=function zd(a){switch(arguments.length){case 0:return zd.o();case 1:return zd.c(arguments[0]);case 2:return zd.g(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;return zd.v(arguments[0],arguments[1],new H(c.slice(2),0,null))}};zd.o=function(){return new qd(null,function(){return null},null)};
zd.c=function(a){return new qd(null,function(){return a},null)};zd.g=function(a,b){return new qd(null,function(){var c=G(a);return c?Qc(c)?vd(Cb(c),zd.g(Db(c),b)):R(J(c),zd.g(bc(c),b)):b},null)};zd.v=function(a,b,c){return function h(e,f){return new qd(null,function(){var k=G(e);return k?Qc(k)?vd(Cb(k),h(Db(k),f)):R(J(k),h(bc(k),f)):w(f)?h(J(f),M(f)):null},null)}(zd.g(a,b),c)};zd.C=function(a){var b=J(a),c=M(a);a=J(c);c=M(c);return this.v(b,a,c)};zd.F=2;
var Ad=function Ad(a){switch(arguments.length){case 0:return Ad.o();case 1:return Ad.c(arguments[0]);case 2:return Ad.g(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;return Ad.v(arguments[0],arguments[1],new H(c.slice(2),0,null))}};Ad.o=function(){return vb(Cc)};Ad.c=function(a){return a};Ad.g=function(a,b){return wb(a,b)};Ad.v=function(a,b,c){for(;;)if(a=wb(a,b),w(c))b=J(c),c=M(c);else return a};
Ad.C=function(a){var b=J(a),c=M(a);a=J(c);c=M(c);return this.v(b,a,c)};Ad.F=2;
function Bd(a,b,c){var d=G(c);if(0===b)return a.o?a.o():a.call(null);c=B(d);var e=Na(d);if(1===b)return a.c?a.c(c):a.call(null,c);d=B(e);var f=Na(e);if(2===b)return a.g?a.g(c,d):a.call(null,c,d);e=B(f);var h=Na(f);if(3===b)return a.j?a.j(c,d,e):a.call(null,c,d,e);f=B(h);var k=Na(h);if(4===b)return a.H?a.H(c,d,e,f):a.call(null,c,d,e,f);h=B(k);var l=Na(k);if(5===b)return a.aa?a.aa(c,d,e,f,h):a.call(null,c,d,e,f,h);k=B(l);var m=Na(l);if(6===b)return a.ya?a.ya(c,d,e,f,h,k):a.call(null,c,d,e,f,h,k);l=
B(m);var n=Na(m);if(7===b)return a.za?a.za(c,d,e,f,h,k,l):a.call(null,c,d,e,f,h,k,l);m=B(n);var p=Na(n);if(8===b)return a.Aa?a.Aa(c,d,e,f,h,k,l,m):a.call(null,c,d,e,f,h,k,l,m);n=B(p);var q=Na(p);if(9===b)return a.Ba?a.Ba(c,d,e,f,h,k,l,m,n):a.call(null,c,d,e,f,h,k,l,m,n);p=B(q);var r=Na(q);if(10===b)return a.na?a.na(c,d,e,f,h,k,l,m,n,p):a.call(null,c,d,e,f,h,k,l,m,n,p);q=B(r);var x=Na(r);if(11===b)return a.oa?a.oa(c,d,e,f,h,k,l,m,n,p,q):a.call(null,c,d,e,f,h,k,l,m,n,p,q);r=B(x);var C=Na(x);if(12===
b)return a.pa?a.pa(c,d,e,f,h,k,l,m,n,p,q,r):a.call(null,c,d,e,f,h,k,l,m,n,p,q,r);x=B(C);var D=Na(C);if(13===b)return a.qa?a.qa(c,d,e,f,h,k,l,m,n,p,q,r,x):a.call(null,c,d,e,f,h,k,l,m,n,p,q,r,x);C=B(D);var I=Na(D);if(14===b)return a.ra?a.ra(c,d,e,f,h,k,l,m,n,p,q,r,x,C):a.call(null,c,d,e,f,h,k,l,m,n,p,q,r,x,C);D=B(I);var O=Na(I);if(15===b)return a.sa?a.sa(c,d,e,f,h,k,l,m,n,p,q,r,x,C,D):a.call(null,c,d,e,f,h,k,l,m,n,p,q,r,x,C,D);I=B(O);var V=Na(O);if(16===b)return a.ta?a.ta(c,d,e,f,h,k,l,m,n,p,q,r,x,
C,D,I):a.call(null,c,d,e,f,h,k,l,m,n,p,q,r,x,C,D,I);O=B(V);var ia=Na(V);if(17===b)return a.ua?a.ua(c,d,e,f,h,k,l,m,n,p,q,r,x,C,D,I,O):a.call(null,c,d,e,f,h,k,l,m,n,p,q,r,x,C,D,I,O);V=B(ia);var Ja=Na(ia);if(18===b)return a.va?a.va(c,d,e,f,h,k,l,m,n,p,q,r,x,C,D,I,O,V):a.call(null,c,d,e,f,h,k,l,m,n,p,q,r,x,C,D,I,O,V);ia=B(Ja);Ja=Na(Ja);if(19===b)return a.wa?a.wa(c,d,e,f,h,k,l,m,n,p,q,r,x,C,D,I,O,V,ia):a.call(null,c,d,e,f,h,k,l,m,n,p,q,r,x,C,D,I,O,V,ia);var Kf=B(Ja);Na(Ja);if(20===b)return a.xa?a.xa(c,
d,e,f,h,k,l,m,n,p,q,r,x,C,D,I,O,V,ia,Kf):a.call(null,c,d,e,f,h,k,l,m,n,p,q,r,x,C,D,I,O,V,ia,Kf);throw Error("Only up to 20 arguments supported on functions");}function Cd(a){return null!=a&&(a.l&128||u===a.Za)?a.$(null):G(bc(a))}function Dd(a,b,c){return null==c?a.c?a.c(b):a.call(a,b):Ed(a,b,B(c),Cd(c))}function Ed(a,b,c,d){return null==d?a.g?a.g(b,c):a.call(a,b,c):Fd(a,b,c,B(d),Cd(d))}function Fd(a,b,c,d,e){return null==e?a.j?a.j(b,c,d):a.call(a,b,c,d):Gd(a,b,c,d,B(e),Cd(e))}
function Gd(a,b,c,d,e,f){if(null==f)return a.H?a.H(b,c,d,e):a.call(a,b,c,d,e);var h=B(f),k=M(f);if(null==k)return a.aa?a.aa(b,c,d,e,h):a.call(a,b,c,d,e,h);f=B(k);var l=M(k);if(null==l)return a.ya?a.ya(b,c,d,e,h,f):a.call(a,b,c,d,e,h,f);k=B(l);var m=M(l);if(null==m)return a.za?a.za(b,c,d,e,h,f,k):a.call(a,b,c,d,e,h,f,k);l=B(m);var n=M(m);if(null==n)return a.Aa?a.Aa(b,c,d,e,h,f,k,l):a.call(a,b,c,d,e,h,f,k,l);m=B(n);var p=M(n);if(null==p)return a.Ba?a.Ba(b,c,d,e,h,f,k,l,m):a.call(a,b,c,d,e,h,f,k,l,m);
n=B(p);var q=M(p);if(null==q)return a.na?a.na(b,c,d,e,h,f,k,l,m,n):a.call(a,b,c,d,e,h,f,k,l,m,n);p=B(q);var r=M(q);if(null==r)return a.oa?a.oa(b,c,d,e,h,f,k,l,m,n,p):a.call(a,b,c,d,e,h,f,k,l,m,n,p);q=B(r);var x=M(r);if(null==x)return a.pa?a.pa(b,c,d,e,h,f,k,l,m,n,p,q):a.call(a,b,c,d,e,h,f,k,l,m,n,p,q);r=B(x);var C=M(x);if(null==C)return a.qa?a.qa(b,c,d,e,h,f,k,l,m,n,p,q,r):a.call(a,b,c,d,e,h,f,k,l,m,n,p,q,r);x=B(C);var D=M(C);if(null==D)return a.ra?a.ra(b,c,d,e,h,f,k,l,m,n,p,q,r,x):a.call(a,b,c,d,
e,h,f,k,l,m,n,p,q,r,x);C=B(D);var I=M(D);if(null==I)return a.sa?a.sa(b,c,d,e,h,f,k,l,m,n,p,q,r,x,C):a.call(a,b,c,d,e,h,f,k,l,m,n,p,q,r,x,C);D=B(I);var O=M(I);if(null==O)return a.ta?a.ta(b,c,d,e,h,f,k,l,m,n,p,q,r,x,C,D):a.call(a,b,c,d,e,h,f,k,l,m,n,p,q,r,x,C,D);I=B(O);var V=M(O);if(null==V)return a.ua?a.ua(b,c,d,e,h,f,k,l,m,n,p,q,r,x,C,D,I):a.call(a,b,c,d,e,h,f,k,l,m,n,p,q,r,x,C,D,I);O=B(V);var ia=M(V);if(null==ia)return a.va?a.va(b,c,d,e,h,f,k,l,m,n,p,q,r,x,C,D,I,O):a.call(a,b,c,d,e,h,f,k,l,m,n,p,
q,r,x,C,D,I,O);V=B(ia);var Ja=M(ia);if(null==Ja)return a.wa?a.wa(b,c,d,e,h,f,k,l,m,n,p,q,r,x,C,D,I,O,V):a.call(a,b,c,d,e,h,f,k,l,m,n,p,q,r,x,C,D,I,O,V);ia=B(Ja);Ja=M(Ja);if(null==Ja)return a.xa?a.xa(b,c,d,e,h,f,k,l,m,n,p,q,r,x,C,D,I,O,V,ia):a.call(a,b,c,d,e,h,f,k,l,m,n,p,q,r,x,C,D,I,O,V,ia);b=[b,c,d,e,h,f,k,l,m,n,p,q,r,x,C,D,I,O,V,ia];for(c=Ja;;)if(c)b.push(B(c)),c=M(c);else break;return a.apply(a,b)}
function Zb(a){switch(arguments.length){case 2:return T(arguments[0],arguments[1]);case 3:return Hd(arguments[0],arguments[1],arguments[2]);case 4:return Id(arguments[0],arguments[1],arguments[2],arguments[3]);case 5:return Jd(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4]);default:for(var b=[],c=arguments.length,d=0;;)if(d<c)b.push(arguments[d]),d+=1;else break;c=arguments[0];d=arguments[1];var e=arguments[2],f=arguments[3],h=arguments[4];b=new H(b.slice(5),0,null);c.C?(b=yd(b),
d=R(d,R(e,R(f,R(h,b)))),e=c.F,b=4+xd(e-3,b),c=b<=e?Bd(c,b,d):c.C(d)):c=Gd(c,d,e,f,h,yd(b));return c}}function T(a,b){if(a.C){var c=a.F,d=xd(c+1,b);return d<=c?Bd(a,d,b):a.C(b)}b=G(b);return null==b?a.o?a.o():a.call(a):Dd(a,B(b),Cd(b))}function Hd(a,b,c){if(a.C){b=R(b,c);var d=a.F;c=xd(d,c)+1;return c<=d?Bd(a,c,b):a.C(b)}return Dd(a,b,G(c))}function Id(a,b,c,d){return a.C?(b=R(b,R(c,d)),c=a.F,d=2+xd(c-1,d),d<=c?Bd(a,d,b):a.C(b)):Ed(a,b,c,G(d))}
function Jd(a,b,c,d,e){return a.C?(b=R(b,R(c,R(d,e))),c=a.F,e=3+xd(c-2,e),e<=c?Bd(a,e,b):a.C(b)):Fd(a,b,c,d,G(e))}
function Kd(){if("undefined"===typeof na||"undefined"===typeof oa||"undefined"===typeof Ma)Ma=function(a){this.Zb=a;this.l=393216;this.A=0},Ma.prototype.T=function(a,b){return new Ma(b)},Ma.prototype.R=function(){return this.Zb},Ma.prototype.fa=function(){return!1},Ma.prototype.next=function(){return Error("No such element")},Ma.prototype.remove=function(){return Error("Unsupported operation")},Ma.Bc=function(){return new U(null,1,5,W,[wj],null)},Ma.Cb=!0,Ma.mb="cljs.core/t_cljs$core19718",Ma.Wb=
function(a){return sb(a,"cljs.core/t_cljs$core19718")};return new Ma(Md)}function Nd(a,b){for(;;){if(null==G(b))return!0;var c=J(b);c=a.c?a.c(c):a.call(null,c);if(w(c))b=M(b);else return!1}}function Od(a,b){for(;;)if(b=G(b)){var c=J(b);c=a.c?a.c(c):a.call(null,c);if(w(c))return c;b=M(b)}else return null}
function Pd(a){return function(){function b(h,k){return ya(a.g?a.g(h,k):a.call(null,h,k))}function c(h){return ya(a.c?a.c(h):a.call(null,h))}function d(){return ya(a.o?a.o():a.call(null))}var e=null,f=function(){function h(l,m,n){var p=null;if(2<arguments.length){p=0;for(var q=Array(arguments.length-2);p<q.length;)q[p]=arguments[p+2],++p;p=new H(q,0,null)}return k.call(this,l,m,p)}function k(l,m,n){return ya(Id(a,l,m,n))}h.F=2;h.C=function(l){var m=J(l);l=M(l);var n=J(l);l=bc(l);return k(m,n,l)};
h.v=k;return h}();e=function(h,k,l){switch(arguments.length){case 0:return d.call(this);case 1:return c.call(this,h);case 2:return b.call(this,h,k);default:var m=null;if(2<arguments.length){m=0;for(var n=Array(arguments.length-2);m<n.length;)n[m]=arguments[m+2],++m;m=new H(n,0,null)}return f.v(h,k,m)}throw Error("Invalid arity: "+arguments.length);};e.F=2;e.C=f.C;e.o=d;e.c=c;e.g=b;e.v=f.v;return e}()}
function hi(a){return function(){function b(c){if(0<arguments.length)for(var d=0,e=Array(arguments.length-0);d<e.length;)e[d]=arguments[d+0],++d;return a}b.F=0;b.C=function(c){G(c);return a};b.v=function(){return a};return b}()}function Rd(a){this.state=a;this.Eb=this.cc=this.meta=null;this.A=16386;this.l=6455296}Rd.prototype.P=function(a,b){return this===b};Rd.prototype.jb=function(){return this.state};Rd.prototype.R=function(){return this.meta};
Rd.prototype.S=function(){return this[da]||(this[da]=++ea)};
function Sd(a,b){if(a instanceof Rd){var c=a.cc;if(null!=c&&!w(c.c?c.c(b):c.call(null,b)))throw Error("Validator rejected reference state");c=a.state;a.state=b;if(null!=a.Eb)a:for(var d=G(a.Eb),e=null,f=0,h=0;;)if(h<f){var k=e.W(null,h),l=S(k,0,null);k=S(k,1,null);k.H?k.H(l,a,c,b):k.call(null,l,a,c,b);h+=1}else if(d=G(d))Qc(d)?(e=Cb(d),d=Db(d),l=e,f=P(e),e=l):(e=J(d),l=S(e,0,null),k=S(e,1,null),k.H?k.H(l,a,c,b):k.call(null,l,a,c,b),d=M(d),e=null,f=0),h=0;else break a;return b}return Eb(a,b)}
var Td=function Td(a){switch(arguments.length){case 2:return Td.g(arguments[0],arguments[1]);case 3:return Td.j(arguments[0],arguments[1],arguments[2]);case 4:return Td.H(arguments[0],arguments[1],arguments[2],arguments[3]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;return Td.v(arguments[0],arguments[1],arguments[2],arguments[3],new H(c.slice(4),0,null))}};
Td.g=function(a,b){if(a instanceof Rd){var c=a.state;b=b.c?b.c(c):b.call(null,c);a=Sd(a,b)}else a=Fb(a,b);return a};Td.j=function(a,b,c){if(a instanceof Rd){var d=a.state;b=b.g?b.g(d,c):b.call(null,d,c);a=Sd(a,b)}else a=Fb(a,b,c);return a};Td.H=function(a,b,c,d){if(a instanceof Rd){var e=a.state;b=b.j?b.j(e,c,d):b.call(null,e,c,d);a=Sd(a,b)}else a=Fb(a,b,c,d);return a};Td.v=function(a,b,c,d,e){return a instanceof Rd?Sd(a,Jd(b,a.state,c,d,e)):Fb(a,b,c,d,e)};
Td.C=function(a){var b=J(a),c=M(a);a=J(c);var d=M(c);c=J(d);var e=M(d);d=J(e);e=M(e);return this.v(b,a,c,d,e)};Td.F=4;
function Ud(a){return function(){function b(h,k,l){h=a.c?a.c(h):a.call(null,h);w(h)?(k=a.c?a.c(k):a.call(null,k),l=w(k)?a.c?a.c(l):a.call(null,l):k):l=h;return Tc(l)}function c(h,k){h=a.c?a.c(h):a.call(null,h);k=w(h)?a.c?a.c(k):a.call(null,k):h;return Tc(k)}function d(h){return Tc(a.c?a.c(h):a.call(null,h))}var e=null,f=function(){function h(l,m,n,p){var q=null;if(3<arguments.length){q=0;for(var r=Array(arguments.length-3);q<r.length;)r[q]=arguments[q+3],++q;q=new H(r,0,null)}return k.call(this,l,
m,n,q)}function k(l,m,n,p){l=e.j(l,m,n);p=w(l)?Nd(a,p):l;return Tc(p)}h.F=3;h.C=function(l){var m=J(l);l=M(l);var n=J(l);l=M(l);var p=J(l);l=bc(l);return k(m,n,p,l)};h.v=k;return h}();e=function(h,k,l,m){switch(arguments.length){case 0:return!0;case 1:return d.call(this,h);case 2:return c.call(this,h,k);case 3:return b.call(this,h,k,l);default:var n=null;if(3<arguments.length){n=0;for(var p=Array(arguments.length-3);n<p.length;)p[n]=arguments[n+3],++n;n=new H(p,0,null)}return f.v(h,k,l,n)}throw Error("Invalid arity: "+
arguments.length);};e.F=3;e.C=f.C;e.o=function(){return!0};e.c=d;e.g=c;e.j=b;e.v=f.v;return e}()}
function Vd(a,b){return function(){function c(k,l,m){return Tc(function(){var n=a.c?a.c(k):a.call(null,k);return w(n)?(n=a.c?a.c(l):a.call(null,l),w(n)?(n=a.c?a.c(m):a.call(null,m),w(n)?(n=b.c?b.c(k):b.call(null,k),w(n)?(n=b.c?b.c(l):b.call(null,l),w(n)?b.c?b.c(m):b.call(null,m):n):n):n):n):n}())}function d(k,l){return Tc(function(){var m=a.c?a.c(k):a.call(null,k);return w(m)?(m=a.c?a.c(l):a.call(null,l),w(m)?(m=b.c?b.c(k):b.call(null,k),w(m)?b.c?b.c(l):b.call(null,l):m):m):m}())}function e(k){var l=
a.c?a.c(k):a.call(null,k);k=w(l)?b.c?b.c(k):b.call(null,k):l;return Tc(k)}var f=null,h=function(){function k(m,n,p,q){var r=null;if(3<arguments.length){r=0;for(var x=Array(arguments.length-3);r<x.length;)x[r]=arguments[r+3],++r;r=new H(x,0,null)}return l.call(this,m,n,p,r)}function l(m,n,p,q){return Tc(function(){var r=f.j(m,n,p);return w(r)?Nd(function(x){var C=a.c?a.c(x):a.call(null,x);return w(C)?b.c?b.c(x):b.call(null,x):C},q):r}())}k.F=3;k.C=function(m){var n=J(m);m=M(m);var p=J(m);m=M(m);var q=
J(m);m=bc(m);return l(n,p,q,m)};k.v=l;return k}();f=function(k,l,m,n){switch(arguments.length){case 0:return!0;case 1:return e.call(this,k);case 2:return d.call(this,k,l);case 3:return c.call(this,k,l,m);default:var p=null;if(3<arguments.length){p=0;for(var q=Array(arguments.length-3);p<q.length;)q[p]=arguments[p+3],++p;p=new H(q,0,null)}return h.v(k,l,m,p)}throw Error("Invalid arity: "+arguments.length);};f.F=3;f.C=h.C;f.o=function(){return!0};f.c=e;f.g=d;f.j=c;f.v=h.v;return f}()}
function sj(){var a=Yj,b=dk;return function(){function c(k,l,m){var n=a.c?a.c(k):a.call(null,k);if(w(n))return n;n=a.c?a.c(l):a.call(null,l);if(w(n))return n;n=a.c?a.c(m):a.call(null,m);if(w(n))return n;k=b.c?b.c(k):b.call(null,k);if(w(k))return k;l=b.c?b.c(l):b.call(null,l);return w(l)?l:b.c?b.c(m):b.call(null,m)}function d(k,l){var m=a.c?a.c(k):a.call(null,k);if(w(m))return m;m=a.c?a.c(l):a.call(null,l);if(w(m))return m;k=b.c?b.c(k):b.call(null,k);return w(k)?k:b.c?b.c(l):b.call(null,l)}function e(k){var l=
a.c?a.c(k):a.call(null,k);return w(l)?l:b.c?b.c(k):b.call(null,k)}var f=null,h=function(){function k(m,n,p,q){var r=null;if(3<arguments.length){r=0;for(var x=Array(arguments.length-3);r<x.length;)x[r]=arguments[r+3],++r;r=new H(x,0,null)}return l.call(this,m,n,p,r)}function l(m,n,p,q){m=f.j(m,n,p);return w(m)?m:Od(function(r){var x=a.c?a.c(r):a.call(null,r);return w(x)?x:b.c?b.c(r):b.call(null,r)},q)}k.F=3;k.C=function(m){var n=J(m);m=M(m);var p=J(m);m=M(m);var q=J(m);m=bc(m);return l(n,p,q,m)};k.v=
l;return k}();f=function(k,l,m,n){switch(arguments.length){case 0:return null;case 1:return e.call(this,k);case 2:return d.call(this,k,l);case 3:return c.call(this,k,l,m);default:var p=null;if(3<arguments.length){p=0;for(var q=Array(arguments.length-3);p<q.length;)q[p]=arguments[p+3],++p;p=new H(q,0,null)}return h.v(k,l,m,p)}throw Error("Invalid arity: "+arguments.length);};f.F=3;f.C=h.C;f.o=function(){return null};f.c=e;f.g=d;f.j=c;f.v=h.v;return f}()}
var Xd=function Xd(a){switch(arguments.length){case 1:return Xd.c(arguments[0]);case 2:return Xd.g(arguments[0],arguments[1]);case 3:return Xd.j(arguments[0],arguments[1],arguments[2]);case 4:return Xd.H(arguments[0],arguments[1],arguments[2],arguments[3]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;return Xd.v(arguments[0],arguments[1],arguments[2],arguments[3],new H(c.slice(4),0,null))}};
Xd.c=function(a){return function(b){return function(){function c(k,l){l=a.c?a.c(l):a.call(null,l);return b.g?b.g(k,l):b.call(null,k,l)}function d(k){return b.c?b.c(k):b.call(null,k)}function e(){return b.o?b.o():b.call(null)}var f=null,h=function(){function k(m,n,p){var q=null;if(2<arguments.length){q=0;for(var r=Array(arguments.length-2);q<r.length;)r[q]=arguments[q+2],++q;q=new H(r,0,null)}return l.call(this,m,n,q)}function l(m,n,p){n=Hd(a,n,p);return b.g?b.g(m,n):b.call(null,m,n)}k.F=2;k.C=function(m){var n=
J(m);m=M(m);var p=J(m);m=bc(m);return l(n,p,m)};k.v=l;return k}();f=function(k,l,m){switch(arguments.length){case 0:return e.call(this);case 1:return d.call(this,k);case 2:return c.call(this,k,l);default:var n=null;if(2<arguments.length){n=0;for(var p=Array(arguments.length-2);n<p.length;)p[n]=arguments[n+2],++n;n=new H(p,0,null)}return h.v(k,l,n)}throw Error("Invalid arity: "+arguments.length);};f.F=2;f.C=h.C;f.o=e;f.c=d;f.g=c;f.v=h.v;return f}()}};
Xd.g=function(a,b){return new qd(null,function(){var c=G(b);if(c){if(Qc(c)){for(var d=Cb(c),e=P(d),f=new sd(Array(e)),h=0;;)if(h<e)wd(f,function(){var k=La(d,h);return a.c?a.c(k):a.call(null,k)}()),h+=1;else break;return vd(f.chunk(),Xd.g(a,Db(c)))}return R(function(){var k=J(c);return a.c?a.c(k):a.call(null,k)}(),Xd.g(a,bc(c)))}return null},null)};
Xd.j=function(a,b,c){return new qd(null,function(){var d=G(b),e=G(c);if(d&&e){var f=J(d);var h=J(e);f=a.g?a.g(f,h):a.call(null,f,h);d=R(f,Xd.j(a,bc(d),bc(e)))}else d=null;return d},null)};Xd.H=function(a,b,c,d){return new qd(null,function(){var e=G(b),f=G(c),h=G(d);if(e&&f&&h){var k=J(e);var l=J(f),m=J(h);k=a.j?a.j(k,l,m):a.call(null,k,l,m);e=R(k,Xd.H(a,bc(e),bc(f),bc(h)))}else e=null;return e},null)};
Xd.v=function(a,b,c,d,e){return Xd.g(function(f){return T(a,f)},function k(h){return new qd(null,function(){var l=Xd.g(G,h);return Nd(ed,l)?R(Xd.g(J,l),k(Xd.g(bc,l))):null},null)}(Bc.v(e,d,wc([c,b]))))};Xd.C=function(a){var b=J(a),c=M(a);a=J(c);var d=M(c);c=J(d);var e=M(d);d=J(e);e=M(e);return this.v(b,a,c,d,e)};Xd.F=4;function zj(a,b){return new qd(null,function(){if(0<a){var c=G(b);return c?R(J(c),zj(a-1,bc(c))):null}return null},null)}
function Aj(a,b){return new qd(null,function(){a:for(var c=a,d=b;;)if(d=G(d),0<c&&d)--c,d=bc(d);else break a;return d},null)}var Yd={};function Zd(a,b,c,d,e){this.meta=a;this.f=b;this.vb=c;this.nb=d;this.next=e;this.l=26083532;this.A=1}g=Zd.prototype;g.toString=function(){return Kb(this)};g.R=function(){return this.meta};g.$=function(){return this.da(null)};g.V=function(){return K};
g.ba=function(a,b){a=this.Y(null);var c=this.f.c?this.f.c(a):this.f.call(null,a);for(a=b.g?b.g(a,c):b.call(null,a,c);;){if(kc(a))return ab(a);c=this.f.c?this.f.c(c):this.f.call(null,c);a=b.g?b.g(a,c):b.call(null,a,c)}};g.ca=function(a,b,c){a=this.Y(null);for(c=b.g?b.g(c,a):b.call(null,c,a);;){if(kc(c))return ab(c);a=this.f.c?this.f.c(a):this.f.call(null,a);c=b.g?b.g(c,a):b.call(null,c,a)}};g.Y=function(){Yd===this.nb&&(this.nb=this.f.c?this.f.c(this.vb):this.f.call(null,this.vb));return this.nb};
g.da=function(){null==this.next&&(this.next=new Zd(null,this.f,this.Y(null),Yd,null));return this.next};g.O=function(){return this};g.T=function(a,b){return b===this.meta?this:new Zd(b,this.f,this.vb,this.nb,this.next)};g.Z=function(a,b){return R(b,this)};function $d(a,b){return new Zd(null,a,null,b,null)}function Vi(a,b){return T(zd,Hd(Xd,a,b))}
function ae(a,b){return new qd(null,function(){var c=G(b);if(c){if(Qc(c)){for(var d=Cb(c),e=P(d),f=new sd(Array(e)),h=0;;)if(h<e){var k=La(d,h);k=a.c?a.c(k):a.call(null,k);w(k)&&(k=La(d,h),f.add(k));h+=1}else break;return vd(f.chunk(),ae(a,Db(c)))}d=J(c);c=bc(c);return w(a.c?a.c(d):a.call(null,d))?R(d,ae(a,c)):ae(a,c)}return null},null)}function Ei(a,b){return ae(Pd(a),b)}
var be=function be(a){switch(arguments.length){case 0:return be.o();case 1:return be.c(arguments[0]);case 2:return be.g(arguments[0],arguments[1]);case 3:return be.j(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",A.c(arguments.length)].join(""));}};be.o=function(){return Cc};be.c=function(a){return a};be.g=function(a,b){return null!=a?null!=a&&(a.A&4||u===a.Gb)?db(xb(Zc(wb,vb(a),b)),Kc(a)):Zc(Ia,a,b):Zc(Bc,a,b)};
be.j=function(a,b,c){return null!=a&&(a.A&4||u===a.Gb)?db(xb(fd(b,Ad,vb(a),c)),Kc(a)):fd(b,Bc,a,c)};be.F=3;function Bj(a,b,c){return new qd(null,function(){var d=G(c);if(d){var e=zj(a,d);return a===P(e)?R(e,Bj(a,b,Aj(b,d))):null}return null},null)}function ce(a,b){this.J=a;this.h=b}function de(a){return new ce(a,[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null])}
function xi(a){return new ce(a.J,Ba(a.h))}function ee(a){a=a.s;return 32>a?0:a-1>>>5<<5}function fe(a,b,c){for(;;){if(0===b)return c;var d=de(a);d.h[0]=c;c=d;b-=5}}var ge=function ge(a,b,c,d){var f=xi(c),h=a.s-1>>>b&31;5===b?f.h[h]=d:(c=c.h[h],null!=c?(b-=5,a=ge.H?ge.H(a,b,c,d):ge.call(null,a,b,c,d)):a=fe(null,b-5,d),f.h[h]=a);return f};function he(a,b){if(b>=ee(a))return a.ha;var c=a.root;for(a=a.shift;;)if(0<a){var d=a-5;c=c.h[b>>>a&31];a=d}else return c.h}
function ie(a,b){if(0<=b&&b<a.s)b=he(a,b);else throw a=a.s,Error(["No item ",A.c(b)," in vector of length ",A.c(a)].join(""));return b}
var je=function je(a,b,c,d,e){var h=xi(c);if(0===b)h.h[d&31]=e;else{var k=d>>>b&31;b-=5;c=c.h[k];a=je.aa?je.aa(a,b,c,d,e):je.call(null,a,b,c,d,e);h.h[k]=a}return h},yi=function yi(a,b,c){var e=a.s-2>>>b&31;if(5<b){b-=5;var f=c.h[e];a=yi.j?yi.j(a,b,f):yi.call(null,a,b,f);if(null==a&&0===e)return null;c=xi(c);c.h[e]=a;return c}if(0===e)return null;c=xi(c);c.h[e]=null;return c};function ke(a,b,c){this.base=this.i=0;this.h=a;this.bc=b;this.start=0;this.end=c}ke.prototype.fa=function(){return this.i<this.end};
ke.prototype.next=function(){32===this.i-this.base&&(this.h=he(this.bc,this.i),this.base+=32);var a=this.h[this.i&31];this.i+=1;return a};function le(a,b,c,d){return c<d?me(a,b,rc(a,c),c+1,d):b.o?b.o():b.call(null)}function me(a,b,c,d,e){var f=c;c=d;for(d=he(a,d);;)if(c<e){var h=c&31;d=0===h?he(a,c):d;h=d[h];f=b.g?b.g(f,h):b.call(null,f,h);if(kc(f))return ab(f);c+=1}else return f}
function U(a,b,c,d,e,f){this.meta=a;this.s=b;this.shift=c;this.root=d;this.ha=e;this.B=f;this.l=167666463;this.A=139268}g=U.prototype;g.Ya=function(a,b){return 0<=b&&b<this.s?new ne(b,he(this,b)[b&31]):null};g.toString=function(){return Kb(this)};g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return N(this,b,0);case 2:return N(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.c=function(b){return N(this,b,0)};a.g=function(b,c){return N(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return Q(this,c,P(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return Q(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.c=a;b.g=function(c,d){return Q(this,c,d)};return b}();g.ia=function(a,b){return this.M(null,b,null)};g.M=function(a,b,c){return"number"===typeof b?this.la(null,b,c):c};
g.kb=function(a,b,c){a=0;for(var d=c;;)if(a<this.s){var e=he(this,a);c=e.length;a:for(var f=0;;)if(f<c){var h=f+a,k=e[f];d=b.j?b.j(d,h,k):b.call(null,d,h,k);if(kc(d)){e=d;break a}f+=1}else{e=d;break a}if(kc(e))return ab(e);a+=c;d=e}else return d};g.W=function(a,b){return ie(this,b)[b&31]};g.la=function(a,b,c){return 0<=b&&b<this.s?he(this,b)[b&31]:c};
g.ub=function(a,b){if(0<=a&&a<this.s){if(ee(this)<=a){var c=Ba(this.ha);c[a&31]=b;return new U(this.meta,this.s,this.shift,this.root,c,null)}return new U(this.meta,this.s,this.shift,je(this,this.shift,this.root,a,b),this.ha,null)}if(a===this.s)return this.Z(null,b);throw Error(["Index ",A.c(a)," out of bounds  [0,",A.c(this.s),"]"].join(""));};g.Ca=function(){var a=this.s;return new ke(0<P(this)?he(this,0):null,this,a)};g.R=function(){return this.meta};g.U=function(){return this.s};
g.Cc=function(){return 0<this.s?this.W(null,this.s-1):null};g.Dc=function(){if(0===this.s)throw Error("Can't pop empty vector");if(1===this.s)return db(Cc,this.meta);if(1<this.s-ee(this))return new U(this.meta,this.s-1,this.shift,this.root,this.ha.slice(0,-1),null);var a=he(this,this.s-2),b=yi(this,this.shift,this.root);b=null==b?W:b;var c=this.s-1;return 5<this.shift&&null==b.h[1]?new U(this.meta,c,this.shift-5,b.h[0],a,null):new U(this.meta,c,this.shift,b,a,null)};
g.S=function(){var a=this.B;return null!=a?a:this.B=a=fc(this)};g.P=function(a,b){if(b instanceof U)if(this.s===P(b))for(a=this.Ca(null),b=b.Ca(null);;)if(a.fa()){var c=a.next(),d=b.next();if(!F.g(c,d))return!1}else return!0;else return!1;else return vc(this,b)};g.Sa=function(){return new oe(this.s,this.shift,pe.c?pe.c(this.root):pe.call(null,this.root),qe.c?qe.c(this.ha):qe.call(null,this.ha))};g.V=function(){return db(Cc,this.meta)};g.ba=function(a,b){return le(this,b,0,this.s)};
g.ca=function(a,b,c){a=0;for(var d=c;;)if(a<this.s){var e=he(this,a);c=e.length;a:for(var f=0;;)if(f<c){var h=e[f];d=b.g?b.g(d,h):b.call(null,d,h);if(kc(d)){e=d;break a}f+=1}else{e=d;break a}if(kc(e))return ab(e);a+=c;d=e}else return d};g.Ja=function(a,b,c){if("number"===typeof b)return this.ub(b,c);throw Error("Vector's key for assoc must be a number.");};
g.O=function(){if(0===this.s)return null;if(32>=this.s)return new H(this.ha,0,null);a:{var a=this.root;for(var b=this.shift;;)if(0<b)b-=5,a=a.h[0];else{a=a.h;break a}}return re?re(this,a,0,0):se.call(null,this,a,0,0)};g.T=function(a,b){return b===this.meta?this:new U(b,this.s,this.shift,this.root,this.ha,this.B)};
g.Z=function(a,b){if(32>this.s-ee(this)){a=this.ha.length;for(var c=Array(a+1),d=0;;)if(d<a)c[d]=this.ha[d],d+=1;else break;c[a]=b;return new U(this.meta,this.s+1,this.shift,this.root,c,null)}a=(c=this.s>>>5>1<<this.shift)?this.shift+5:this.shift;c?(c=de(null),c.h[0]=this.root,d=fe(null,this.shift,new ce(null,this.ha)),c.h[1]=d):c=ge(this,this.shift,this.root,new ce(null,this.ha));return new U(this.meta,this.s+1,a,c,[b],null)};
g.call=function(a){switch(arguments.length-1){case 1:return this.c(arguments[1]);case 2:return this.g(arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",A.c(arguments.length-1)].join(""));}};g.apply=function(a,b){return this.call.apply(this,[this].concat(Ba(b)))};g.c=function(a){return this.W(null,a)};g.g=function(a,b){return this.la(null,a,b)};
var W=new ce(null,[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null]),Cc=new U(null,0,5,W,[],gc);U.prototype[Aa]=function(){return dc(this)};
function te(a){if(w(ue.c?ue.c(a):ue.call(null,a)))a=new U(null,2,5,W,[ve.c?ve.c(a):ve.call(null,a),we.c?we.c(a):we.call(null,a)],null);else if(Pc(a))a=Jc(a,null);else if(xa(a))a:{var b=a.length;if(32>b)a=new U(null,b,5,W,a,null);else for(var c=32,d=(new U(null,32,5,W,a.slice(0,32),null)).Sa(null);;)if(c<b){var e=c+1;d=Ad.g(d,a[c]);c=e}else{a=xb(d);break a}}else a=xb(Zc(wb,vb(Cc),a));return a}
function xe(a,b,c,d,e){this.ka=a;this.node=b;this.i=c;this.off=d;this.meta=e;this.B=null;this.l=32375020;this.A=1536}g=xe.prototype;g.toString=function(){return Kb(this)};g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return N(this,b,0);case 2:return N(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.c=function(b){return N(this,b,0)};a.g=function(b,c){return N(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return Q(this,c,P(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return Q(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.c=a;b.g=function(c,d){return Q(this,c,d)};return b}();g.R=function(){return this.meta};g.$=function(){if(this.off+1<this.node.length){var a=this.ka;var b=this.node,c=this.i,d=this.off+1;a=re?re(a,b,c,d):se.call(null,a,b,c,d);return null==a?null:a}return this.yb()};
g.S=function(){var a=this.B;return null!=a?a:this.B=a=fc(this)};g.P=function(a,b){return vc(this,b)};g.V=function(){return K};g.ba=function(a,b){return le(this.ka,b,this.i+this.off,P(this.ka))};g.ca=function(a,b,c){return me(this.ka,b,c,this.i+this.off,P(this.ka))};g.Y=function(){return this.node[this.off]};g.da=function(){if(this.off+1<this.node.length){var a=this.ka;var b=this.node,c=this.i,d=this.off+1;a=re?re(a,b,c,d):se.call(null,a,b,c,d);return null==a?K:a}return this.ib(null)};g.O=function(){return this};
g.qb=function(){var a=this.node;return new td(a,this.off,a.length)};g.ib=function(){var a=this.i+this.node.length;if(a<Ea(this.ka)){var b=this.ka,c=he(this.ka,a);return re?re(b,c,a,0):se.call(null,b,c,a,0)}return K};g.T=function(a,b){return b===this.meta?this:ye?ye(this.ka,this.node,this.i,this.off,b):se.call(null,this.ka,this.node,this.i,this.off,b)};g.Z=function(a,b){return R(b,this)};
g.yb=function(){var a=this.i+this.node.length;if(a<Ea(this.ka)){var b=this.ka,c=he(this.ka,a);return re?re(b,c,a,0):se.call(null,b,c,a,0)}return null};xe.prototype[Aa]=function(){return dc(this)};
function se(a){switch(arguments.length){case 3:var b=arguments[0],c=arguments[1],d=arguments[2];return new xe(b,ie(b,c),c,d,null);case 4:return re(arguments[0],arguments[1],arguments[2],arguments[3]);case 5:return ye(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4]);default:throw Error(["Invalid arity: ",A.c(arguments.length)].join(""));}}function re(a,b,c,d){return new xe(a,b,c,d,null)}function ye(a,b,c,d,e){return new xe(a,b,c,d,e)}
function ze(a,b){return a===b.J?b:new ce(a,Ba(b.h))}function pe(a){return new ce({},Ba(a.h))}function qe(a){var b=[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null];Rc(a,0,b,0,a.length);return b}var Ae=function Ae(a,b,c,d){c=ze(a.root.J,c);var f=a.s-1>>>b&31;if(5===b)a=d;else{var h=c.h[f];null!=h?(b-=5,a=Ae.H?Ae.H(a,b,h,d):Ae.call(null,a,b,h,d)):a=fe(a.root.J,b-5,d)}c.h[f]=a;return c};
function oe(a,b,c,d){this.s=a;this.shift=b;this.root=c;this.ha=d;this.A=88;this.l=275}g=oe.prototype;
g.Ua=function(a,b){if(this.root.J){if(32>this.s-ee(this))this.ha[this.s&31]=b;else{a=new ce(this.root.J,this.ha);var c=[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null];c[0]=b;this.ha=c;this.s>>>5>1<<this.shift?(b=[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],c=this.shift+
5,b[0]=this.root,b[1]=fe(this.root.J,this.shift,a),this.root=new ce(this.root.J,b),this.shift=c):this.root=Ae(this,this.shift,this.root,a)}this.s+=1;return this}throw Error("conj! after persistent!");};g.$a=function(){if(this.root.J){this.root.J=null;var a=this.s-ee(this),b=Array(a);Rc(this.ha,0,b,0,a);return new U(null,this.s,this.shift,this.root,b,null)}throw Error("persistent! called twice");};
g.Ta=function(a,b,c){if("number"===typeof b)return Be(this,b,c);throw Error("TransientVector's key for assoc! must be a number.");};
function Be(a,b,c){if(a.root.J){if(0<=b&&b<a.s){if(ee(a)<=b)a.ha[b&31]=c;else{var d=function k(f,h){h=ze(a.root.J,h);if(0===f)h.h[b&31]=c;else{var l=b>>>f&31;f=k(f-5,h.h[l]);h.h[l]=f}return h}(a.shift,a.root);a.root=d}return a}if(b===a.s)return a.Ua(null,c);throw Error(["Index ",A.c(b)," out of bounds for TransientVector of length",A.c(a.s)].join(""));}throw Error("assoc! after persistent!");}g.U=function(){if(this.root.J)return this.s;throw Error("count after persistent!");};
g.W=function(a,b){if(this.root.J)return ie(this,b)[b&31];throw Error("nth after persistent!");};g.la=function(a,b,c){return 0<=b&&b<this.s?this.W(null,b):c};g.ia=function(a,b){return this.M(null,b,null)};g.M=function(a,b,c){if(this.root.J)return"number"===typeof b?this.la(null,b,c):c;throw Error("lookup after persistent!");};
g.call=function(a){switch(arguments.length-1){case 1:return this.c(arguments[1]);case 2:return this.g(arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",A.c(arguments.length-1)].join(""));}};g.apply=function(a,b){return this.call.apply(this,[this].concat(Ba(b)))};g.c=function(a){return this.ia(null,a)};g.g=function(a,b){return this.M(null,a,b)};function Ce(){this.l=2097152;this.A=0}Ce.prototype.P=function(){return!1};var De=new Ce;
function Ee(a,b){return Tc(Nc(b)&&!Oc(b)?P(a)===P(b)?(null!=a?a.l&1048576||u===a.sc||(a.l?0:y(hb,a)):y(hb,a))?dd(function(c,d,e){return F.g(Wb.j(b,d,De),e)?!0:new jc(!1)},!0,a):Nd(function(c){return F.g(Wb.j(b,J(c),De),J(M(c)))},a):null:null)}function Fe(a){this.D=a}Fe.prototype.next=function(){if(null!=this.D){var a=J(this.D),b=S(a,0,null);a=S(a,1,null);this.D=M(this.D);return{value:[b,a],done:!1}}return{value:null,done:!0}};function Ge(a){this.D=a}
Ge.prototype.next=function(){if(null!=this.D){var a=J(this.D);this.D=M(this.D);return{value:[a,a],done:!1}}return{value:null,done:!0}};
function Gc(a,b){if(b instanceof E)a:{var c=a.length;b=b.Da;for(var d=0;;){if(c<=d){a=-1;break a}if(a[d]instanceof E&&b===a[d].Da){a=d;break a}d+=2}}else if("string"==typeof b||"number"===typeof b)a:for(c=a.length,d=0;;){if(c<=d){a=-1;break a}if(b===a[d]){a=d;break a}d+=2}else if(b instanceof Vb)a:for(c=a.length,b=b.str,d=0;;){if(c<=d){a=-1;break a}if(a[d]instanceof Vb&&b===a[d].str){a=d;break a}d+=2}else if(null==b)a:for(b=a.length,c=0;;){if(b<=c){a=-1;break a}if(null==a[c]){a=c;break a}c+=2}else a:for(c=
a.length,d=0;;){if(c<=d){a=-1;break a}if(F.g(b,a[d])){a=d;break a}d+=2}return a}function ne(a,b){this.key=a;this.m=b;this.B=null;this.l=166619935;this.A=0}g=ne.prototype;g.Ya=function(a,b){switch(b){case 0:return new ne(0,this.key);case 1:return new ne(1,this.m);default:return null}};
g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return N(this,b,0);case 2:return N(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.c=function(b){return N(this,b,0)};a.g=function(b,c){return N(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return Q(this,c,P(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return Q(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.c=a;b.g=function(c,d){return Q(this,c,d)};return b}();g.ia=function(a,b){return this.la(null,b,null)};g.M=function(a,b,c){return this.la(null,b,c)};g.W=function(a,b){if(0===b)return this.key;if(1===b)return this.m;throw Error("Index out of bounds");};
g.la=function(a,b,c){return 0===b?this.key:1===b?this.m:c};g.ub=function(a,b){return(new U(null,2,5,W,[this.key,this.m],null)).ub(a,b)};g.R=function(){return null};g.U=function(){return 2};g.Lb=function(){return this.key};g.Mb=function(){return this.m};g.Cc=function(){return this.m};g.Dc=function(){return new U(null,1,5,W,[this.key],null)};g.S=function(){var a=this.B;return null!=a?a:this.B=a=fc(this)};g.P=function(a,b){return vc(this,b)};g.V=function(){return null};
g.ba=function(a,b){a:if(a=this.U(null),0===a)b=b.o?b.o():b.call(null);else for(var c=this.W(null,0),d=1;;)if(d<a){var e=this.W(null,d);c=b.g?b.g(c,e):b.call(null,c,e);if(kc(c)){b=ab(c);break a}d+=1}else{b=c;break a}return b};g.ca=function(a,b,c){a:{a=this.U(null);var d=c;for(c=0;;)if(c<a){var e=this.W(null,c);d=b.g?b.g(d,e):b.call(null,d,e);if(kc(d)){b=ab(d);break a}c+=1}else{b=d;break a}}return b};g.Ja=function(a,b,c){return Fc.j(new U(null,2,5,W,[this.key,this.m],null),b,c)};
g.O=function(){return new H([this.key,this.m],0,null)};g.T=function(a,b){return Jc(new U(null,2,5,W,[this.key,this.m],null),b)};g.Z=function(a,b){return new U(null,3,5,W,[this.key,this.m,b],null)};g.call=function(a){switch(arguments.length-1){case 1:return this.c(arguments[1]);case 2:return this.g(arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",A.c(arguments.length-1)].join(""));}};g.apply=function(a,b){return this.call.apply(this,[this].concat(Ba(b)))};
g.c=function(a){return this.W(null,a)};g.g=function(a,b){return this.la(null,a,b)};function ue(a){return null!=a?a.l&2048||u===a.vc?!0:!1:!1}function He(a,b,c){this.h=a;this.i=b;this.ma=c;this.l=32374990;this.A=0}g=He.prototype;g.toString=function(){return Kb(this)};
g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return N(this,b,0);case 2:return N(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.c=function(b){return N(this,b,0)};a.g=function(b,c){return N(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return Q(this,c,P(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return Q(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.c=a;b.g=function(c,d){return Q(this,c,d)};return b}();g.R=function(){return this.ma};g.$=function(){return this.i<this.h.length-2?new He(this.h,this.i+2,null):null};g.U=function(){return(this.h.length-this.i)/2};g.S=function(){return fc(this)};g.P=function(a,b){return vc(this,b)};
g.V=function(){return K};g.ba=function(a,b){return xc(b,this)};g.ca=function(a,b,c){return zc(b,c,this)};g.Y=function(){return new ne(this.h[this.i],this.h[this.i+1])};g.da=function(){return this.i<this.h.length-2?new He(this.h,this.i+2,null):K};g.O=function(){return this};g.T=function(a,b){return b===this.ma?this:new He(this.h,this.i,b)};g.Z=function(a,b){return R(b,this)};He.prototype[Aa]=function(){return dc(this)};function Ie(a,b){this.h=a;this.i=0;this.s=b}
Ie.prototype.fa=function(){return this.i<this.s};Ie.prototype.next=function(){var a=new ne(this.h[this.i],this.h[this.i+1]);this.i+=2;return a};function v(a,b,c,d){this.meta=a;this.s=b;this.h=c;this.B=d;this.l=16647951;this.A=139268}g=v.prototype;g.Ya=function(a,b){a=Gc(this.h,b);return-1===a?null:new ne(this.h[a],this.h[a+1])};g.toString=function(){return Kb(this)};g.keys=function(){return dc(Je.c?Je.c(this):Je.call(null,this))};g.entries=function(){return new Fe(G(G(this)))};
g.values=function(){return dc(Ke.c?Ke.c(this):Ke.call(null,this))};g.has=function(a){return Uc(this,a)};g.get=function(a,b){return this.M(null,a,b)};g.forEach=function(a){for(var b=G(this),c=null,d=0,e=0;;)if(e<d){var f=c.W(null,e),h=S(f,0,null);f=S(f,1,null);a.g?a.g(f,h):a.call(null,f,h);e+=1}else if(b=G(b))Qc(b)?(c=Cb(b),b=Db(b),h=c,d=P(c),c=h):(c=J(b),h=S(c,0,null),f=S(c,1,null),a.g?a.g(f,h):a.call(null,f,h),b=M(b),c=null,d=0),e=0;else return null};g.ia=function(a,b){return this.M(null,b,null)};
g.M=function(a,b,c){a=Gc(this.h,b);return-1===a?c:this.h[a+1]};g.kb=function(a,b,c){a=this.h.length;for(var d=0;;)if(d<a){var e=this.h[d],f=this.h[d+1];c=b.j?b.j(c,e,f):b.call(null,c,e,f);if(kc(c))return ab(c);d+=2}else return c};g.Ca=function(){return new Ie(this.h,2*this.s)};g.R=function(){return this.meta};g.U=function(){return this.s};g.S=function(){var a=this.B;return null!=a?a:this.B=a=hc(this)};
g.P=function(a,b){if(Nc(b)&&!Oc(b))if(a=this.h.length,this.s===b.U(null))for(var c=0;;)if(c<a){var d=b.M(null,this.h[c],Sc);if(d!==Sc)if(F.g(this.h[c+1],d))c+=2;else return!1;else return!1}else return!0;else return!1;else return!1};g.Sa=function(){return new Le(this.h.length,Ba(this.h))};g.V=function(){return db(Md,this.meta)};g.ba=function(a,b){return ad(this,b)};g.ca=function(a,b,c){return bd(this,b,c)};
g.tb=function(a,b){if(0<=Gc(this.h,b)){a=this.h.length;var c=a-2;if(0===c)return this.V(null);c=Array(c);for(var d=0,e=0;;){if(d>=a)return new v(this.meta,this.s-1,c,null);F.g(b,this.h[d])?d+=2:(c[e]=this.h[d],c[e+1]=this.h[d+1],e+=2,d+=2)}}else return this};
g.Ja=function(a,b,c){a=Gc(this.h,b);if(-1===a){if(this.s<Me){a=this.h;for(var d=a.length,e=Array(d+2),f=0;;)if(f<d)e[f]=a[f],f+=1;else break;e[d]=b;e[d+1]=c;return new v(this.meta,this.s+1,e,null)}return db(Ta(be.g(Ne,this),b,c),this.meta)}if(c===this.h[a+1])return this;b=Ba(this.h);b[a+1]=c;return new v(this.meta,this.s,b,null)};g.O=function(){var a=this.h;return 0<=a.length-2?new He(a,0,null):null};g.T=function(a,b){return b===this.meta?this:new v(b,this.s,this.h,this.B)};
g.Z=function(a,b){if(Pc(b))return this.Ja(null,La(b,0),La(b,1));a=this;for(b=G(b);;){if(null==b)return a;var c=J(b);if(Pc(c))a=Ta(a,La(c,0),La(c,1)),b=M(b);else throw Error("conj on a map takes map entries or seqables of map entries");}};g.call=function(a){switch(arguments.length-1){case 1:return this.c(arguments[1]);case 2:return this.g(arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",A.c(arguments.length-1)].join(""));}};g.apply=function(a,b){return this.call.apply(this,[this].concat(Ba(b)))};
g.c=function(a){return this.ia(null,a)};g.g=function(a,b){return this.M(null,a,b)};var Md=new v(null,0,[],ic),Me=8;v.prototype[Aa]=function(){return dc(this)};function Le(a,b){this.Va={};this.len=a;this.h=b;this.l=259;this.A=56}g=Le.prototype;g.U=function(){if(this.Va)return gd(this.len);throw Error("count after persistent!");};g.ia=function(a,b){return this.M(null,b,null)};g.M=function(a,b,c){if(this.Va)return a=Gc(this.h,b),-1===a?c:this.h[a+1];throw Error("lookup after persistent!");};
g.Ua=function(a,b){if(this.Va){if(ue(b))return this.Ta(null,ve.c?ve.c(b):ve.call(null,b),we.c?we.c(b):we.call(null,b));if(Pc(b))return this.Ta(null,b.c?b.c(0):b.call(null,0),b.c?b.c(1):b.call(null,1));a=G(b);for(b=this;;){var c=J(a);if(w(c))a=M(a),b=yb(b,ve.c?ve.c(c):ve.call(null,c),we.c?we.c(c):we.call(null,c));else return b}}else throw Error("conj! after persistent!");};g.$a=function(){if(this.Va)return this.Va=!1,new v(null,gd(this.len),this.h,null);throw Error("persistent! called twice");};
g.Ta=function(a,b,c){if(this.Va){a=Gc(this.h,b);if(-1===a){if(this.len+2<=2*Me)return this.len+=2,this.h.push(b),this.h.push(c),this;a=Oe.g?Oe.g(this.len,this.h):Oe.call(null,this.len,this.h);return yb(a,b,c)}c!==this.h[a+1]&&(this.h[a+1]=c);return this}throw Error("assoc! after persistent!");};g.call=function(a){switch(arguments.length-1){case 1:return this.c(arguments[1]);case 2:return this.g(arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",A.c(arguments.length-1)].join(""));}};
g.apply=function(a,b){return this.call.apply(this,[this].concat(Ba(b)))};g.c=function(a){return this.M(null,a,null)};g.g=function(a,b){return this.M(null,a,b)};function Oe(a,b){for(var c=vb(Ne),d=0;;)if(d<a)c=yb(c,b[d],b[d+1]),d+=2;else return c}function Pe(){this.m=!1}function Qe(a,b){return a===b?!0:a===b||a instanceof E&&b instanceof E&&a.Da===b.Da?!0:F.g(a,b)}function Re(a,b,c){a=Ba(a);a[b]=c;return a}
function Se(a,b){var c=Array(a.length-2);Rc(a,0,c,0,2*b);Rc(a,2*(b+1),c,2*b,c.length-2*b);return c}function Te(a,b,c,d){a=a.Ma(b);a.h[c]=d;return a}function Ue(a,b,c){for(var d=a.length,e=0,f=c;;)if(e<d){c=a[e];if(null!=c){var h=a[e+1];c=b.j?b.j(f,c,h):b.call(null,f,c,h)}else c=a[e+1],c=null!=c?c.fb(b,f):f;if(kc(c))return c;e+=2;f=c}else return f}function Ve(a){this.h=a;this.i=0;this.Ha=this.gb=null}
Ve.prototype.advance=function(){for(var a=this.h.length;;)if(this.i<a){var b=this.h[this.i],c=this.h[this.i+1];null!=b?b=this.gb=new ne(b,c):null!=c?(b=Ib(c),b=b.fa()?this.Ha=b:!1):b=!1;this.i+=2;if(b)return!0}else return!1};Ve.prototype.fa=function(){var a=null!=this.gb;return a?a:(a=null!=this.Ha)?a:this.advance()};
Ve.prototype.next=function(){if(null!=this.gb){var a=this.gb;this.gb=null;return a}if(null!=this.Ha)return a=this.Ha.next(),this.Ha.fa()||(this.Ha=null),a;if(this.advance())return this.next();throw Error("No such element");};Ve.prototype.remove=function(){return Error("Unsupported operation")};function We(a,b,c){this.J=a;this.K=b;this.h=c;this.A=131072;this.l=0}g=We.prototype;
g.Ma=function(a){if(a===this.J)return this;var b=hd(this.K),c=Array(0>b?4:2*(b+1));Rc(this.h,0,c,0,2*b);return new We(a,this.K,c)};g.cb=function(){return Xe?Xe(this.h):Ye.call(null,this.h)};g.fb=function(a,b){return Ue(this.h,a,b)};g.Na=function(a,b,c,d){var e=1<<(b>>>a&31);if(0===(this.K&e))return d;var f=hd(this.K&e-1);e=this.h[2*f];f=this.h[2*f+1];return null==e?f.Na(a+5,b,c,d):Qe(c,e)?f:d};
g.Fa=function(a,b,c,d,e,f){var h=1<<(c>>>b&31),k=hd(this.K&h-1);if(0===(this.K&h)){var l=hd(this.K);if(2*l<this.h.length){a=this.Ma(a);b=a.h;f.m=!0;c=2*(l-k);f=2*k+(c-1);for(l=2*(k+1)+(c-1);0!==c;)b[l]=b[f],--l,--c,--f;b[2*k]=d;b[2*k+1]=e;a.K|=h;return a}if(16<=l){k=[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null];k[c>>>b&31]=Ze.Fa(a,b+5,c,d,e,f);for(e=d=0;;)if(32>d)0===(this.K>>>d&1)?
d+=1:(k[d]=null!=this.h[e]?Ze.Fa(a,b+5,Sb(this.h[e]),this.h[e],this.h[e+1],f):this.h[e+1],e+=2,d+=1);else break;return new $e(a,l+1,k)}b=Array(2*(l+4));Rc(this.h,0,b,0,2*k);b[2*k]=d;b[2*k+1]=e;Rc(this.h,2*k,b,2*(k+1),2*(l-k));f.m=!0;a=this.Ma(a);a.h=b;a.K|=h;return a}l=this.h[2*k];h=this.h[2*k+1];if(null==l)return l=h.Fa(a,b+5,c,d,e,f),l===h?this:Te(this,a,2*k+1,l);if(Qe(d,l))return e===h?this:Te(this,a,2*k+1,e);f.m=!0;f=b+5;d=af?af(a,f,l,h,c,d,e):bf.call(null,a,f,l,h,c,d,e);e=2*k;k=2*k+1;a=this.Ma(a);
a.h[e]=null;a.h[k]=d;return a};
g.Ea=function(a,b,c,d,e){var f=1<<(b>>>a&31),h=hd(this.K&f-1);if(0===(this.K&f)){var k=hd(this.K);if(16<=k){h=[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null];h[b>>>a&31]=Ze.Ea(a+5,b,c,d,e);for(d=c=0;;)if(32>c)0===(this.K>>>c&1)?c+=1:(h[c]=null!=this.h[d]?Ze.Ea(a+5,Sb(this.h[d]),this.h[d],this.h[d+1],e):this.h[d+1],d+=2,c+=1);else break;return new $e(null,k+1,h)}a=Array(2*(k+1));Rc(this.h,
0,a,0,2*h);a[2*h]=c;a[2*h+1]=d;Rc(this.h,2*h,a,2*(h+1),2*(k-h));e.m=!0;return new We(null,this.K|f,a)}var l=this.h[2*h];f=this.h[2*h+1];if(null==l)return k=f.Ea(a+5,b,c,d,e),k===f?this:new We(null,this.K,Re(this.h,2*h+1,k));if(Qe(c,l))return d===f?this:new We(null,this.K,Re(this.h,2*h+1,d));e.m=!0;e=this.K;k=this.h;a+=5;a=cf?cf(a,l,f,b,c,d):bf.call(null,a,l,f,b,c,d);c=2*h;h=2*h+1;d=Ba(k);d[c]=null;d[h]=a;return new We(null,e,d)};
g.bb=function(a,b,c,d){var e=1<<(b>>>a&31);if(0===(this.K&e))return d;var f=hd(this.K&e-1);e=this.h[2*f];f=this.h[2*f+1];return null==e?f.bb(a+5,b,c,d):Qe(c,e)?new ne(e,f):d};g.eb=function(a,b,c){var d=1<<(b>>>a&31);if(0===(this.K&d))return this;var e=hd(this.K&d-1),f=this.h[2*e],h=this.h[2*e+1];return null==f?(a=h.eb(a+5,b,c),a===h?this:null!=a?new We(null,this.K,Re(this.h,2*e+1,a)):this.K===d?null:new We(null,this.K^d,Se(this.h,e))):Qe(c,f)?new We(null,this.K^d,Se(this.h,e)):this};g.Ca=function(){return new Ve(this.h)};
var Ze=new We(null,0,[]);function df(a){this.h=a;this.i=0;this.Ha=null}df.prototype.fa=function(){for(var a=this.h.length;;){if(null!=this.Ha&&this.Ha.fa())return!0;if(this.i<a){var b=this.h[this.i];this.i+=1;null!=b&&(this.Ha=Ib(b))}else return!1}};df.prototype.next=function(){if(this.fa())return this.Ha.next();throw Error("No such element");};df.prototype.remove=function(){return Error("Unsupported operation")};function $e(a,b,c){this.J=a;this.s=b;this.h=c;this.A=131072;this.l=0}g=$e.prototype;
g.Ma=function(a){return a===this.J?this:new $e(a,this.s,Ba(this.h))};g.cb=function(){return ef?ef(this.h):ff.call(null,this.h)};g.fb=function(a,b){for(var c=this.h.length,d=0;;)if(d<c){var e=this.h[d];if(null!=e){b=e.fb(a,b);if(kc(b))return b;d+=1}else d+=1}else return b};g.Na=function(a,b,c,d){var e=this.h[b>>>a&31];return null!=e?e.Na(a+5,b,c,d):d};
g.Fa=function(a,b,c,d,e,f){var h=c>>>b&31,k=this.h[h];if(null==k)return a=Te(this,a,h,Ze.Fa(a,b+5,c,d,e,f)),a.s+=1,a;b=k.Fa(a,b+5,c,d,e,f);return b===k?this:Te(this,a,h,b)};g.Ea=function(a,b,c,d,e){var f=b>>>a&31,h=this.h[f];if(null==h)return new $e(null,this.s+1,Re(this.h,f,Ze.Ea(a+5,b,c,d,e)));a=h.Ea(a+5,b,c,d,e);return a===h?this:new $e(null,this.s,Re(this.h,f,a))};g.bb=function(a,b,c,d){var e=this.h[b>>>a&31];return null!=e?e.bb(a+5,b,c,d):d};
g.eb=function(a,b,c){var d=b>>>a&31,e=this.h[d];if(null!=e){a=e.eb(a+5,b,c);if(a===e)d=this;else if(null==a)if(8>=this.s)a:{e=this.h;a=e.length;b=Array(2*(this.s-1));c=0;for(var f=1,h=0;;)if(c<a)c!==d&&null!=e[c]?(b[f]=e[c],f+=2,h|=1<<c,c+=1):c+=1;else{d=new We(null,h,b);break a}}else d=new $e(null,this.s-1,Re(this.h,d,a));else d=new $e(null,this.s,Re(this.h,d,a));return d}return this};g.Ca=function(){return new df(this.h)};
function gf(a,b,c){b*=2;for(var d=0;;)if(d<b){if(Qe(c,a[d]))return d;d+=2}else return-1}function hf(a,b,c,d){this.J=a;this.Ia=b;this.s=c;this.h=d;this.A=131072;this.l=0}g=hf.prototype;g.Ma=function(a){if(a===this.J)return this;var b=Array(2*(this.s+1));Rc(this.h,0,b,0,2*this.s);return new hf(a,this.Ia,this.s,b)};g.cb=function(){return Xe?Xe(this.h):Ye.call(null,this.h)};g.fb=function(a,b){return Ue(this.h,a,b)};
g.Na=function(a,b,c,d){a=gf(this.h,this.s,c);return 0>a?d:Qe(c,this.h[a])?this.h[a+1]:d};
g.Fa=function(a,b,c,d,e,f){if(c===this.Ia){b=gf(this.h,this.s,d);if(-1===b){if(this.h.length>2*this.s)return b=2*this.s,c=2*this.s+1,a=this.Ma(a),a.h[b]=d,a.h[c]=e,f.m=!0,a.s+=1,a;c=this.h.length;b=Array(c+2);Rc(this.h,0,b,0,c);b[c]=d;b[c+1]=e;f.m=!0;d=this.s+1;a===this.J?(this.h=b,this.s=d,a=this):a=new hf(this.J,this.Ia,d,b);return a}return this.h[b+1]===e?this:Te(this,a,b+1,e)}return(new We(a,1<<(this.Ia>>>b&31),[null,this,null,null])).Fa(a,b,c,d,e,f)};
g.Ea=function(a,b,c,d,e){return b===this.Ia?(a=gf(this.h,this.s,c),-1===a?(a=2*this.s,b=Array(a+2),Rc(this.h,0,b,0,a),b[a]=c,b[a+1]=d,e.m=!0,new hf(null,this.Ia,this.s+1,b)):F.g(this.h[a+1],d)?this:new hf(null,this.Ia,this.s,Re(this.h,a+1,d))):(new We(null,1<<(this.Ia>>>a&31),[null,this])).Ea(a,b,c,d,e)};g.bb=function(a,b,c,d){a=gf(this.h,this.s,c);return 0>a?d:Qe(c,this.h[a])?new ne(this.h[a],this.h[a+1]):d};
g.eb=function(a,b,c){a=gf(this.h,this.s,c);return-1===a?this:1===this.s?null:new hf(null,this.Ia,this.s-1,Se(this.h,gd(a)))};g.Ca=function(){return new Ve(this.h)};function bf(a){switch(arguments.length){case 6:return cf(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]);case 7:return af(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6]);default:throw Error(["Invalid arity: ",A.c(arguments.length)].join(""));}}
function cf(a,b,c,d,e,f){var h=Sb(b);if(h===d)return new hf(null,h,2,[b,c,e,f]);var k=new Pe;return Ze.Ea(a,h,b,c,k).Ea(a,d,e,f,k)}function af(a,b,c,d,e,f,h){var k=Sb(c);if(k===e)return new hf(null,k,2,[c,d,f,h]);var l=new Pe;return Ze.Fa(a,b,k,c,d,l).Fa(a,b,e,f,h,l)}function jf(a,b,c,d,e){this.meta=a;this.nodes=b;this.i=c;this.D=d;this.B=e;this.l=32374988;this.A=0}g=jf.prototype;g.toString=function(){return Kb(this)};
g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return N(this,b,0);case 2:return N(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.c=function(b){return N(this,b,0)};a.g=function(b,c){return N(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return Q(this,c,P(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return Q(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.c=a;b.g=function(c,d){return Q(this,c,d)};return b}();g.R=function(){return this.meta};g.$=function(){if(null==this.D){var a=this.nodes,b=this.i+2;return kf?kf(a,b,null):Ye.call(null,a,b,null)}a=this.nodes;b=this.i;var c=M(this.D);return kf?kf(a,b,c):Ye.call(null,a,b,c)};
g.S=function(){var a=this.B;return null!=a?a:this.B=a=fc(this)};g.P=function(a,b){return vc(this,b)};g.V=function(){return K};g.ba=function(a,b){return xc(b,this)};g.ca=function(a,b,c){return zc(b,c,this)};g.Y=function(){return null==this.D?new ne(this.nodes[this.i],this.nodes[this.i+1]):J(this.D)};
g.da=function(){var a=this,b=null==a.D?function(){var c=a.nodes,d=a.i+2;return kf?kf(c,d,null):Ye.call(null,c,d,null)}():function(){var c=a.nodes,d=a.i,e=M(a.D);return kf?kf(c,d,e):Ye.call(null,c,d,e)}();return null!=b?b:K};g.O=function(){return this};g.T=function(a,b){return b===this.meta?this:new jf(b,this.nodes,this.i,this.D,this.B)};g.Z=function(a,b){return R(b,this)};jf.prototype[Aa]=function(){return dc(this)};
function Ye(a){switch(arguments.length){case 1:return Xe(arguments[0]);case 3:return kf(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",A.c(arguments.length)].join(""));}}function Xe(a){return kf(a,0,null)}function kf(a,b,c){if(null==c)for(c=a.length;;)if(b<c){if(null!=a[b])return new jf(null,a,b,null,null);var d=a[b+1];if(w(d)&&(d=d.cb(),w(d)))return new jf(null,a,b+2,d,null);b+=2}else return null;else return new jf(null,a,b,c,null)}
function lf(a,b,c,d,e){this.meta=a;this.nodes=b;this.i=c;this.D=d;this.B=e;this.l=32374988;this.A=0}g=lf.prototype;g.toString=function(){return Kb(this)};g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return N(this,b,0);case 2:return N(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.c=function(b){return N(this,b,0)};a.g=function(b,c){return N(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return Q(this,c,P(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return Q(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.c=a;b.g=function(c,d){return Q(this,c,d)};return b}();g.R=function(){return this.meta};g.$=function(){var a=this.nodes,b=this.i,c=M(this.D);return mf?mf(a,b,c):ff.call(null,a,b,c)};g.S=function(){var a=this.B;return null!=a?a:this.B=a=fc(this)};
g.P=function(a,b){return vc(this,b)};g.V=function(){return K};g.ba=function(a,b){return xc(b,this)};g.ca=function(a,b,c){return zc(b,c,this)};g.Y=function(){return J(this.D)};g.da=function(){var a=this.nodes;var b=this.i,c=M(this.D);a=mf?mf(a,b,c):ff.call(null,a,b,c);return null!=a?a:K};g.O=function(){return this};g.T=function(a,b){return b===this.meta?this:new lf(b,this.nodes,this.i,this.D,this.B)};g.Z=function(a,b){return R(b,this)};lf.prototype[Aa]=function(){return dc(this)};
function ff(a){switch(arguments.length){case 1:return ef(arguments[0]);case 3:return mf(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",A.c(arguments.length)].join(""));}}function ef(a){return mf(a,0,null)}function mf(a,b,c){if(null==c)for(c=a.length;;)if(b<c){var d=a[b];if(w(d)&&(d=d.cb(),w(d)))return new lf(null,a,b+1,d,null);b+=1}else return null;else return new lf(null,a,b,c,null)}function nf(a,b){this.ea=a;this.Db=b;this.wb=!1}
nf.prototype.fa=function(){return!this.wb||this.Db.fa()};nf.prototype.next=function(){if(this.wb)return this.Db.next();this.wb=!0;return new ne(null,this.ea)};nf.prototype.remove=function(){return Error("Unsupported operation")};function of(a,b,c,d,e,f){this.meta=a;this.s=b;this.root=c;this.ga=d;this.ea=e;this.B=f;this.l=16123663;this.A=139268}g=of.prototype;g.Ya=function(a,b){return null==b?this.ga?new ne(null,this.ea):null:null==this.root?null:this.root.bb(0,Sb(b),b,null)};g.toString=function(){return Kb(this)};
g.keys=function(){return dc(Je.c?Je.c(this):Je.call(null,this))};g.entries=function(){return new Fe(G(G(this)))};g.values=function(){return dc(Ke.c?Ke.c(this):Ke.call(null,this))};g.has=function(a){return Uc(this,a)};g.get=function(a,b){return this.M(null,a,b)};
g.forEach=function(a){for(var b=G(this),c=null,d=0,e=0;;)if(e<d){var f=c.W(null,e),h=S(f,0,null);f=S(f,1,null);a.g?a.g(f,h):a.call(null,f,h);e+=1}else if(b=G(b))Qc(b)?(c=Cb(b),b=Db(b),h=c,d=P(c),c=h):(c=J(b),h=S(c,0,null),f=S(c,1,null),a.g?a.g(f,h):a.call(null,f,h),b=M(b),c=null,d=0),e=0;else return null};g.ia=function(a,b){return this.M(null,b,null)};g.M=function(a,b,c){return null==b?this.ga?this.ea:c:null==this.root?c:this.root.Na(0,Sb(b),b,c)};
g.kb=function(a,b,c){a=this.ga?b.j?b.j(c,null,this.ea):b.call(null,c,null,this.ea):c;kc(a)?b=ab(a):null!=this.root?(b=this.root.fb(b,a),b=kc(b)?lc.c?lc.c(b):lc.call(null,b):b):b=a;return b};g.Ca=function(){var a=this.root?Ib(this.root):Kd();return this.ga?new nf(this.ea,a):a};g.R=function(){return this.meta};g.U=function(){return this.s};g.S=function(){var a=this.B;return null!=a?a:this.B=a=hc(this)};g.P=function(a,b){return Ee(this,b)};g.Sa=function(){return new pf(this.root,this.s,this.ga,this.ea)};
g.V=function(){return db(Ne,this.meta)};g.tb=function(a,b){if(null==b)return this.ga?new of(this.meta,this.s-1,this.root,!1,null,null):this;if(null==this.root)return this;a=this.root.eb(0,Sb(b),b);return a===this.root?this:new of(this.meta,this.s-1,a,this.ga,this.ea,null)};
g.Ja=function(a,b,c){if(null==b)return this.ga&&c===this.ea?this:new of(this.meta,this.ga?this.s:this.s+1,this.root,!0,c,null);a=new Pe;b=(null==this.root?Ze:this.root).Ea(0,Sb(b),b,c,a);return b===this.root?this:new of(this.meta,a.m?this.s+1:this.s,b,this.ga,this.ea,null)};g.O=function(){if(0<this.s){var a=null!=this.root?this.root.cb():null;return this.ga?R(new ne(null,this.ea),a):a}return null};g.T=function(a,b){return b===this.meta?this:new of(b,this.s,this.root,this.ga,this.ea,this.B)};
g.Z=function(a,b){if(Pc(b))return this.Ja(null,La(b,0),La(b,1));a=this;for(b=G(b);;){if(null==b)return a;var c=J(b);if(Pc(c))a=Ta(a,La(c,0),La(c,1)),b=M(b);else throw Error("conj on a map takes map entries or seqables of map entries");}};g.call=function(a){switch(arguments.length-1){case 1:return this.c(arguments[1]);case 2:return this.g(arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",A.c(arguments.length-1)].join(""));}};g.apply=function(a,b){return this.call.apply(this,[this].concat(Ba(b)))};
g.c=function(a){return this.ia(null,a)};g.g=function(a,b){return this.M(null,a,b)};var Ne=new of(null,0,null,!1,null,ic);function qf(a,b){for(var c=a.length,d=0,e=vb(Ne);;)if(d<c){var f=d+1;e=yb(e,a[d],b[d]);d=f}else return xb(e)}of.prototype[Aa]=function(){return dc(this)};function pf(a,b,c,d){this.J={};this.root=a;this.count=b;this.ga=c;this.ea=d;this.l=259;this.A=56}
function rf(a,b,c){if(a.J){if(null==b)a.ea!==c&&(a.ea=c),a.ga||(a.count+=1,a.ga=!0);else{var d=new Pe;b=(null==a.root?Ze:a.root).Fa(a.J,0,Sb(b),b,c,d);b!==a.root&&(a.root=b);d.m&&(a.count+=1)}return a}throw Error("assoc! after persistent!");}g=pf.prototype;g.U=function(){if(this.J)return this.count;throw Error("count after persistent!");};g.ia=function(a,b){return null==b?this.ga?this.ea:null:null==this.root?null:this.root.Na(0,Sb(b),b)};
g.M=function(a,b,c){return null==b?this.ga?this.ea:c:null==this.root?c:this.root.Na(0,Sb(b),b,c)};g.Ua=function(a,b){a:if(this.J)if(ue(b))a=rf(this,ve.c?ve.c(b):ve.call(null,b),we.c?we.c(b):we.call(null,b));else if(Pc(b))a=rf(this,b.c?b.c(0):b.call(null,0),b.c?b.c(1):b.call(null,1));else for(a=G(b),b=this;;){var c=J(a);if(w(c))a=M(a),b=rf(b,ve.c?ve.c(c):ve.call(null,c),we.c?we.c(c):we.call(null,c));else{a=b;break a}}else throw Error("conj! after persistent");return a};
g.$a=function(){if(this.J){this.J=null;var a=new of(null,this.count,this.root,this.ga,this.ea,null)}else throw Error("persistent! called twice");return a};g.Ta=function(a,b,c){return rf(this,b,c)};g.call=function(a){switch(arguments.length-1){case 1:return this.c(arguments[1]);case 2:return this.g(arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",A.c(arguments.length-1)].join(""));}};g.apply=function(a,b){return this.call.apply(this,[this].concat(Ba(b)))};
g.c=function(a){return this.ia(null,a)};g.g=function(a,b){return this.M(null,a,b)};var X=function X(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;return X.v(0<c.length?new H(c.slice(0),0,null):null)};X.v=function(a){for(var b=G(a),c=vb(Ne);;)if(b){a=M(M(b));var d=J(b);b=J(M(b));c=yb(c,d,b);b=a}else return xb(c)};X.F=0;X.C=function(a){return this.v(G(a))};function sf(a,b){this.G=a;this.ma=b;this.l=32374988;this.A=0}g=sf.prototype;g.toString=function(){return Kb(this)};
g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return N(this,b,0);case 2:return N(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.c=function(b){return N(this,b,0)};a.g=function(b,c){return N(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return Q(this,c,P(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return Q(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.c=a;b.g=function(c,d){return Q(this,c,d)};return b}();g.R=function(){return this.ma};g.$=function(){var a=(null!=this.G?this.G.l&128||u===this.G.Za||(this.G.l?0:y(Oa,this.G)):y(Oa,this.G))?this.G.$(null):M(this.G);return null==a?null:new sf(a,null)};g.S=function(){return fc(this)};
g.P=function(a,b){return vc(this,b)};g.V=function(){return K};g.ba=function(a,b){return xc(b,this)};g.ca=function(a,b,c){return zc(b,c,this)};g.Y=function(){return this.G.Y(null).key};g.da=function(){var a=(null!=this.G?this.G.l&128||u===this.G.Za||(this.G.l?0:y(Oa,this.G)):y(Oa,this.G))?this.G.$(null):M(this.G);return null!=a?new sf(a,null):K};g.O=function(){return this};g.T=function(a,b){return b===this.ma?this:new sf(this.G,b)};g.Z=function(a,b){return R(b,this)};sf.prototype[Aa]=function(){return dc(this)};
function Je(a){return(a=G(a))?new sf(a,null):null}function ve(a){return Xa(a)}function tf(a,b){this.G=a;this.ma=b;this.l=32374988;this.A=0}g=tf.prototype;g.toString=function(){return Kb(this)};g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return N(this,b,0);case 2:return N(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.c=function(b){return N(this,b,0)};a.g=function(b,c){return N(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return Q(this,c,P(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return Q(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.c=a;b.g=function(c,d){return Q(this,c,d)};return b}();g.R=function(){return this.ma};g.$=function(){var a=(null!=this.G?this.G.l&128||u===this.G.Za||(this.G.l?0:y(Oa,this.G)):y(Oa,this.G))?this.G.$(null):M(this.G);return null==a?null:new tf(a,null)};g.S=function(){return fc(this)};
g.P=function(a,b){return vc(this,b)};g.V=function(){return K};g.ba=function(a,b){return xc(b,this)};g.ca=function(a,b,c){return zc(b,c,this)};g.Y=function(){return this.G.Y(null).m};g.da=function(){var a=(null!=this.G?this.G.l&128||u===this.G.Za||(this.G.l?0:y(Oa,this.G)):y(Oa,this.G))?this.G.$(null):M(this.G);return null!=a?new tf(a,null):K};g.O=function(){return this};g.T=function(a,b){return b===this.ma?this:new tf(this.G,b)};g.Z=function(a,b){return R(b,this)};tf.prototype[Aa]=function(){return dc(this)};
function Ke(a){return(a=G(a))?new tf(a,null):null}function we(a){return Ya(a)}function uf(a){this.Wa=a}uf.prototype.fa=function(){return this.Wa.fa()};uf.prototype.next=function(){if(this.Wa.fa())return this.Wa.next().key;throw Error("No such element");};uf.prototype.remove=function(){return Error("Unsupported operation")};function vf(a,b,c){this.meta=a;this.Ka=b;this.B=c;this.l=15077647;this.A=139268}g=vf.prototype;g.toString=function(){return Kb(this)};g.keys=function(){return dc(G(this))};
g.entries=function(){return new Ge(G(G(this)))};g.values=function(){return dc(G(this))};g.has=function(a){return Uc(this,a)};g.forEach=function(a){for(var b=G(this),c=null,d=0,e=0;;)if(e<d){var f=c.W(null,e),h=S(f,0,null);f=S(f,1,null);a.g?a.g(f,h):a.call(null,f,h);e+=1}else if(b=G(b))Qc(b)?(c=Cb(b),b=Db(b),h=c,d=P(c),c=h):(c=J(b),h=S(c,0,null),f=S(c,1,null),a.g?a.g(f,h):a.call(null,f,h),b=M(b),c=null,d=0),e=0;else return null};g.ia=function(a,b){return this.M(null,b,null)};
g.M=function(a,b,c){a=Ua(this.Ka,b);return w(a)?Xa(a):c};g.Ca=function(){return new uf(Ib(this.Ka))};g.R=function(){return this.meta};g.U=function(){return Ea(this.Ka)};g.S=function(){var a=this.B;return null!=a?a:this.B=a=hc(this)};g.P=function(a,b){if(Lc(b))if(P(this)===P(b))try{return dd(function(c,d){return(c=Uc(b,d))?c:new jc(!1)},!0,this.Ka)}catch(c){if(c instanceof Error)return!1;throw c;}else return!1;else return!1};g.Sa=function(){return new wf(vb(this.Ka))};g.V=function(){return db(xf,this.meta)};
g.O=function(){return Je(this.Ka)};g.T=function(a,b){return b===this.meta?this:new vf(b,this.Ka,this.B)};g.Z=function(a,b){return new vf(this.meta,Fc.j(this.Ka,b,null),null)};g.call=function(a){switch(arguments.length-1){case 1:return this.c(arguments[1]);case 2:return this.g(arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",A.c(arguments.length-1)].join(""));}};g.apply=function(a,b){return this.call.apply(this,[this].concat(Ba(b)))};g.c=function(a){return this.ia(null,a)};
g.g=function(a,b){return this.M(null,a,b)};var xf=new vf(null,Md,ic);vf.prototype[Aa]=function(){return dc(this)};function wf(a){this.Pa=a;this.A=136;this.l=259}g=wf.prototype;g.Ua=function(a,b){this.Pa=yb(this.Pa,b,null);return this};g.$a=function(){return new vf(null,xb(this.Pa),null)};g.U=function(){return P(this.Pa)};g.ia=function(a,b){return this.M(null,b,null)};g.M=function(a,b,c){return Ra(this.Pa,b,Sc)===Sc?c:b};
g.call=function(a){switch(arguments.length-1){case 1:return this.c(arguments[1]);case 2:return this.g(arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",A.c(arguments.length-1)].join(""));}};g.apply=function(a,b){return this.call.apply(this,[this].concat(Ba(b)))};g.c=function(a){return Ra(this.Pa,a,Sc)===Sc?null:a};g.g=function(a,b){return Ra(this.Pa,a,Sc)===Sc?b:a};
function pd(a){if(null!=a&&(a.A&4096||u===a.Ob))return a.name;if("string"===typeof a)return a;throw Error(["Doesn't support name: ",A.c(a)].join(""));}function zf(a,b){return new qd(null,function(){var c=G(b);if(c){var d=J(c);d=a.c?a.c(d):a.call(null,d);c=w(d)?R(J(c),zf(a,bc(c))):null}else c=null;return c},null)}
function Yi(){var a=Zi;return function(){function b(k,l,m){return new U(null,2,5,W,[a.j?a.j(k,l,m):a.call(null,k,l,m),ed.j?ed.j(k,l,m):ed.call(null,k,l,m)],null)}function c(k,l){return new U(null,2,5,W,[a.g?a.g(k,l):a.call(null,k,l),ed.g?ed.g(k,l):ed.call(null,k,l)],null)}function d(k){return new U(null,2,5,W,[a.c?a.c(k):a.call(null,k),ed.c?ed.c(k):ed.call(null,k)],null)}function e(){return new U(null,2,5,W,[a.o?a.o():a.call(null),ed.o?ed.o():ed.call(null)],null)}var f=null,h=function(){function k(m,
n,p,q){var r=null;if(3<arguments.length){r=0;for(var x=Array(arguments.length-3);r<x.length;)x[r]=arguments[r+3],++r;r=new H(x,0,null)}return l.call(this,m,n,p,r)}function l(m,n,p,q){return new U(null,2,5,W,[Jd(a,m,n,p,q),Jd(ed,m,n,p,q)],null)}k.F=3;k.C=function(m){var n=J(m);m=M(m);var p=J(m);m=M(m);var q=J(m);m=bc(m);return l(n,p,q,m)};k.v=l;return k}();f=function(k,l,m,n){switch(arguments.length){case 0:return e.call(this);case 1:return d.call(this,k);case 2:return c.call(this,k,l);case 3:return b.call(this,
k,l,m);default:var p=null;if(3<arguments.length){p=0;for(var q=Array(arguments.length-3);p<q.length;)q[p]=arguments[p+3],++p;p=new H(q,0,null)}return h.v(k,l,m,p)}throw Error("Invalid arity: "+arguments.length);};f.F=3;f.C=h.C;f.o=e;f.c=d;f.g=c;f.j=b;f.v=h.v;return f}()}
var Af=function Af(a,b){var d=a.exec(b);if(null==d)return null;var e=d[0],f=1===d.length?e:te(d);return R(f,new qd(null,function(){var h=e.length;h=d.index+(1>h?1:h);return h<=b.length?(h=b.substring(h),Af.g?Af.g(a,h):Af.call(null,a,h)):null},null))};
function Bf(a,b,c,d,e,f,h){var k=qa;qa=null==qa?null:qa-1;try{if(null!=qa&&0>qa)return sb(a,"#");sb(a,c);if(0===wa.c(f))G(h)&&sb(a,function(){var r=Cf.c(f);return w(r)?r:"..."}());else{if(G(h)){var l=J(h);b.j?b.j(l,a,f):b.call(null,l,a,f)}for(var m=M(h),n=wa.c(f)-1;;)if(!m||null!=n&&0===n){G(m)&&0===n&&(sb(a,d),sb(a,function(){var r=Cf.c(f);return w(r)?r:"..."}()));break}else{sb(a,d);var p=J(m);c=a;h=f;b.j?b.j(p,c,h):b.call(null,p,c,h);var q=M(m);c=n-1;m=q;n=c}}return sb(a,e)}finally{qa=k}}
function Df(a,b){b=G(b);for(var c=null,d=0,e=0;;)if(e<d){var f=c.W(null,e);sb(a,f);e+=1}else if(b=G(b))c=b,Qc(c)?(b=Cb(c),d=Db(c),c=b,f=P(b),b=d,d=f):(f=J(c),sb(a,f),b=M(c),c=null,d=0),e=0;else return null}var Ef={'"':'\\"',"\\":"\\\\","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t"};function Ff(a){return['"',A.c(a.replace(/[\\"\b\f\n\r\t]/g,function(b){return Ef[b]})),'"'].join("")}function Gf(a,b){return Tc(Wb.g(a,ua))?null!=b&&(b.l&131072||u===b.Nb)?null!=Kc(b):!1:!1}
function Hf(a,b,c){if(null==a)return sb(b,"nil");if(Gf(c,a)){sb(b,"^");var d=Kc(a);Y.j?Y.j(d,b,c):Y.call(null,d,b,c);sb(b," ")}if(a.Cb)return a.Wb(b);if(null!=a?a.l&2147483648||u===a.X||(a.l?0:y(tb,a)):y(tb,a))return ub(a,b,c);if(!0===a||!1===a)return sb(b,A.c(a));if("number"===typeof a)return sb(b,isNaN(a)?"##NaN":a===Number.POSITIVE_INFINITY?"##Inf":a===Number.NEGATIVE_INFINITY?"##-Inf":A.c(a));if(null!=a&&a.constructor===Object)return sb(b,"#js "),d=Xd.g(function(f){var h=/[A-Za-z_\*\+\?!\-'][\w\*\+\?!\-']*/;
if("string"===typeof f)h=h.exec(f),h=null!=h&&F.g(h[0],f)?1===h.length?h[0]:te(h):null;else throw new TypeError("re-matches must match against a string.");return new ne(null!=h?od.c(f):f,a[f])},la(a)),If.H?If.H(d,Y,b,c):If.call(null,d,Y,b,c);if(xa(a))return Bf(b,Y,"#js ["," ","]",c,a);if("string"==typeof a)return w(ta.c(c))?sb(b,Ff(a)):sb(b,a);if("function"==t(a)){var e=a.name;c=w(function(){var f=null==e;return f?f:/^[\s\xa0]*$/.test(e)}())?"Function":e;return Df(b,wc(["#object[",c,w(!1)?[' "',A.c(a),
'"'].join(""):"","]"]))}if(a instanceof Date)return c=function(f,h){for(f=A.c(f);;)if(f.length<h)f=["0",f].join("");else return f},Df(b,wc(['#inst "',A.c(a.getUTCFullYear()),"-",c(a.getUTCMonth()+1,2),"-",c(a.getUTCDate(),2),"T",c(a.getUTCHours(),2),":",c(a.getUTCMinutes(),2),":",c(a.getUTCSeconds(),2),".",c(a.getUTCMilliseconds(),3),"-",'00:00"']));if(a instanceof RegExp)return Df(b,wc(['#"',a.source,'"']));if(Ca(a))return Df(b,wc(["#object[",a.toString(),"]"]));if(w(function(){var f=null==a?null:
a.constructor;return null==f?null:f.mb}()))return Df(b,wc(["#object[",a.constructor.mb.replace(/\//g,"."),"]"]));e=function(){var f=null==a?null:a.constructor;return null==f?null:f.name}();c=w(function(){var f=null==e;return f?f:/^[\s\xa0]*$/.test(e)}())?"Object":e;return null==a.constructor?Df(b,wc(["#object[",c,"]"])):Df(b,wc(["#object[",c," ",A.c(a),"]"]))}function Y(a,b,c){var d=Jf.c(c);return w(d)?(c=Fc.j(c,Lf,Hf),d.j?d.j(a,b,c):d.call(null,a,b,c)):Hf(a,b,c)}
function Mf(a,b){var c=new ma;a:{var d=new Jb(c);Y(J(a),d,b);a=G(M(a));for(var e=null,f=0,h=0;;)if(h<f){var k=e.W(null,h);sb(d," ");Y(k,d,b);h+=1}else if(a=G(a))e=a,Qc(e)?(a=Cb(e),f=Db(e),e=a,k=P(a),a=f,f=k):(k=J(e),sb(d," "),Y(k,d,b),a=M(e),e=null,f=0),h=0;else break a}return c}function Nf(a){return a instanceof Vb?Xb.g(null,pd(a)):od.g(null,pd(a))}
function Of(a){if(w(!1)){var b=G(a),c=G(b),d=J(c);M(c);S(d,0,null);S(d,1,null);c=null==a?null:null!=a&&(a.l&4||u===a.Hb)?a.V(null):(null!=a?a.l&4||u===a.Hb||(a.l?0:y(Fa,a)):y(Fa,a))?Ga(a):null;for(a=null;;){d=a;b=G(b);a=J(b);var e=M(b),f=a;a=S(f,0,null);b=S(f,1,null);if(w(f))if(a instanceof E||a instanceof Vb)if(w(d))if(F.g(d,nd(a)))c=Fc.j(c,Nf(a),b),a=d,b=e;else return null;else if(d=nd(a),w(d))c=Fc.j(c,Nf(a),b),a=d,b=e;else return null;else return null;else return new U(null,2,5,W,[d,c],null)}}else return null}
function Pf(a,b,c,d,e){return Bf(d,function(f,h,k){var l=Xa(f);c.j?c.j(l,h,k):c.call(null,l,h,k);sb(h," ");f=Ya(f);return c.j?c.j(f,h,k):c.call(null,f,h,k)},[A.c(a),"{"].join(""),", ","}",e,G(b))}function If(a,b,c,d){var e=Nc(a)?Of(a):null,f=S(e,0,null);e=S(e,1,null);return w(f)?Pf(["#:",A.c(f)].join(""),e,b,c,d):Pf(null,a,b,c,d)}Yb.prototype.X=u;Yb.prototype.N=function(a,b,c){sb(b,"#'");return Y(this.Oa,b,c)};H.prototype.X=u;H.prototype.N=function(a,b,c){return Bf(b,Y,"("," ",")",c,this)};
qd.prototype.X=u;qd.prototype.N=function(a,b,c){return Bf(b,Y,"("," ",")",c,this)};ne.prototype.X=u;ne.prototype.N=function(a,b,c){return Bf(b,Y,"["," ","]",c,this)};jf.prototype.X=u;jf.prototype.N=function(a,b,c){return Bf(b,Y,"("," ",")",c,this)};He.prototype.X=u;He.prototype.N=function(a,b,c){return Bf(b,Y,"("," ",")",c,this)};ec.prototype.X=u;ec.prototype.N=function(a,b,c){return Bf(b,Y,"("," ",")",c,this)};xe.prototype.X=u;xe.prototype.N=function(a,b,c){return Bf(b,Y,"("," ",")",c,this)};
ld.prototype.X=u;ld.prototype.N=function(a,b,c){return Bf(b,Y,"("," ",")",c,this)};Zd.prototype.X=u;Zd.prototype.N=function(a,b,c){return Bf(b,Y,"("," ",")",c,this)};of.prototype.X=u;of.prototype.N=function(a,b,c){return If(this,Y,b,c)};lf.prototype.X=u;lf.prototype.N=function(a,b,c){return Bf(b,Y,"("," ",")",c,this)};vf.prototype.X=u;vf.prototype.N=function(a,b,c){return Bf(b,Y,"#{"," ","}",c,this)};ud.prototype.X=u;ud.prototype.N=function(a,b,c){return Bf(b,Y,"("," ",")",c,this)};
Rd.prototype.X=u;Rd.prototype.N=function(a,b,c){sb(b,"#object[cljs.core.Atom ");Y(new v(null,1,[Qf,this.state],null),b,c);return sb(b,"]")};tf.prototype.X=u;tf.prototype.N=function(a,b,c){return Bf(b,Y,"("," ",")",c,this)};U.prototype.X=u;U.prototype.N=function(a,b,c){return Bf(b,Y,"["," ","]",c,this)};id.prototype.X=u;id.prototype.N=function(a,b){return sb(b,"()")};v.prototype.X=u;v.prototype.N=function(a,b,c){return If(this,Y,b,c)};sf.prototype.X=u;
sf.prototype.N=function(a,b,c){return Bf(b,Y,"("," ",")",c,this)};Dc.prototype.X=u;Dc.prototype.N=function(a,b,c){return Bf(b,Y,"("," ",")",c,this)};Vb.prototype.Xa=u;Vb.prototype.Ra=function(a,b){if(b instanceof Vb)return Ub(this,b);throw Error(["Cannot compare ",A.c(this)," to ",A.c(b)].join(""));};E.prototype.Xa=u;E.prototype.Ra=function(a,b){if(b instanceof E)return md(this,b);throw Error(["Cannot compare ",A.c(this)," to ",A.c(b)].join(""));};U.prototype.Xa=u;
U.prototype.Ra=function(a,b){if(Pc(b))return Wc(this,b);throw Error(["Cannot compare ",A.c(this)," to ",A.c(b)].join(""));};ne.prototype.Xa=u;ne.prototype.Ra=function(a,b){if(Pc(b))return Wc(this,b);throw Error(["Cannot compare ",A.c(this)," to ",A.c(b)].join(""));};function Rf(){}
function Sf(a){if(null!=a&&null!=a.Jb)a=a.Jb(a);else{var b=Sf[t(null==a?null:a)];if(null!=b)a=b.c?b.c(a):b.call(null,a);else if(b=Sf._,null!=b)a=b.c?b.c(a):b.call(null,a);else throw z("IEncodeJS.-clj-\x3ejs",a);}return a}function Tf(a,b){(null!=a?u===a.Ib||(a.Xb?0:y(Rf,a)):y(Rf,a))?a=Sf(a):"string"===typeof a||"number"===typeof a||a instanceof E||a instanceof Vb?a=b.c?b.c(a):b.call(null,a):(a=wc([a]),b=ra(),a=null==a||ya(G(a))?"":A.c(Mf(a,b)));return a}
var Uf=function Uf(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;return Uf.v(arguments[0],1<c.length?new H(c.slice(1),0,null):null)};
Uf.v=function(a,b){b=null!=b&&(b.l&64||u===b.I)?T(X,b):b;var c=Wb.j(b,Vf,pd),d=function h(f){if(null==f)return null;if(null!=f?u===f.Ib||(f.Xb?0:y(Rf,f)):y(Rf,f))return Sf(f);if(f instanceof E)return c.c?c.c(f):c.call(null,f);if(f instanceof Vb)return A.c(f);if(Nc(f)){var k={};f=G(f);for(var l=null,m=0,n=0;;)if(n<m){var p=l.W(null,n),q=S(p,0,null);p=S(p,1,null);q=Tf(q,d);p=h(p);k[q]=p;n+=1}else if(f=G(f))Qc(f)?(m=Cb(f),f=Db(f),l=m,m=P(m)):(m=J(f),l=S(m,0,null),m=S(m,1,null),l=Tf(l,d),m=h(m),k[l]=
m,f=M(f),l=null,m=0),n=0;else break;return k}if(null==f?0:null!=f?f.l&8||u===f.pc||(f.l?0:y(Ha,f)):y(Ha,f)){k=[];f=G(Xd.g(h,f));l=null;for(n=m=0;;)if(n<m)q=l.W(null,n),k.push(q),n+=1;else if(f=G(f))l=f,Qc(l)?(f=Cb(l),n=Db(l),l=f,m=P(f),f=n):(f=J(l),k.push(f),f=M(l),l=null,m=0),n=0;else break;return k}return f};return d(a)};Uf.F=1;Uf.C=function(a){var b=J(a);a=M(a);return this.v(b,a)};var Wf=new E(null,"cursorGroupBackward","cursorGroupBackward",-1004717331),Xf=new E(null,"ns","ns",441598760),Cj=new E("cursor","mapped","cursor/mapped",1625530272),Yf=new E(null,"slurp-forward","slurp-forward",-866284566),Zf=new E(null,"selectLine","selectLine",1983247755),yf=new E(null,"selection-return","selection-return",267226206),$f=new E(null,"selectGroupForward","selectGroupForward",1344873433),ag=new E(null,"table","table",-564943036),Qf=new E(null,"val","val",128701612),bg=new E(null,"redo",
"redo",501190664),cg=new E(null,"doc","doc",1913296891),dg=new E(null,"moveLineUp","moveLineUp",-529618675),eg=new E(null,"line","line",212345235),fg=new E(null,"arglists","arglists",1661989754),gg=new E(null,"selectLineEnd","selectLineEnd",-1578526086),hg=new E(null,"cursorDocStart","cursorDocStart",2008312830),ig=new E(null,"deleteToLineEnd","deleteToLineEnd",-1184097633),jg=new E(null,"indentMore","indentMore",-290419447),Ij=new Vb(Ci,"format","codemirror-next.clojure.extensions.formatting/format",
41831636,null),ua=new E(null,"meta","meta",1499536964),kg=new E(null,"barf-backward","barf-backward",434854195),lg=new E(null,"cursorPageDown","cursorPageDown",-1143253131),mg=new E(null,"mac","mac",-1879391650),ng=new E(null,"barf-forward","barf-forward",1278612337),og=new E(null,"from","from",1815293044),pg=new E(null,"selectPageDown","selectPageDown",226562613),qg=new E(null,"deleteCharBackward","deleteCharBackward",-618312025),rg=new E(null,"cursorPageUp","cursorPageUp",-716828715),sg=new E(null,
"cursorGroupLeft","cursorGroupLeft",1639995020),tg=new E(null,"selectGroupLeft","selectGroupLeft",347862780),ug=new E(null,"selectCharLeft","selectCharLeft",1894248154),vg=new E(null,"end-line","end-line",1837326455),wg=new E(null,"copyLineDown","copyLineDown",735523711),xg=new E(null,"cursorGroupRight","cursorGroupRight",-2025899051),yg=new E(null,"nav-left","nav-left",845947876),zg=new E(null,"start","start",-355208981),Ag=new E(null,"tag","tag",-1290361223),Bg=new E(null,"cursorLineDown","cursorLineDown",
180576864),Cg=new E(null,"selectSyntaxLeft","selectSyntaxLeft",807644921),Dg=new E(null,"range","range",1639692286),Eg=new Vb(aa,"unwrap","codemirror-next.clojure.commands/unwrap",-1222968235,null),Fg=new E(null,"selectDocEnd","selectDocEnd",496449813),Vj=new E(null,"cursor","cursor",1011937484),Gg=new E(null,"name","name",1843675177),Hg=new E(null,"test","test",577538877),Ig=new E(null,"end-column","end-column",1425389514),Jg=new E(null,"nav-right","nav-right",591041267),Kg=new E(null,"shift","shift",
997140064),Lg=new E(null,"cursorSyntaxRight","cursorSyntaxRight",636695810),wj=new Vb(null,"meta19719","meta19719",1333101962,null),Jf=new E(null,"alt-impl","alt-impl",670969595),ti=new Vb(null,"selection-return","selection-return",1907757733,null),Mg=new E(null,"selectDocStart","selectDocStart",-217268371),Ng=new E(null,"deleteCharForward","deleteCharForward",823474956),Og=new E(null,"deleteGroupBackward","deleteGroupBackward",616768113),Pg=new E(null,"selectLineUp","selectLineUp",-255594686),Qg=
new E(null,"selectAll","selectAll",869127842),Rg=new E(null,"cursorDocEnd","cursorDocEnd",-1298653903),Sg=new E(null,"simplifySelection","simplifySelection",-449871290),ui=new Vb(aa,"selection-return","codemirror-next.clojure.commands/selection-return",183378793,null),va=new E(null,"dup","dup",556298533),Tg=new Vb(aa,"kill","codemirror-next.clojure.commands/kill",676830540,null),Ug=new E(null,"selectParentSyntax","selectParentSyntax",1969233071),Vg=new E(null,"indentSelection","indentSelection",1509202288),
Wg=new E(null,"cursorGroupForward","cursorGroupForward",1231480632),Xg=new E(null,"nav-select-right","nav-select-right",-455278613),Fj=new E(null,"cellpadding","cellpadding",-1752450238),wa=new E(null,"print-length","print-length",1931866356),Yg=new E(null,"unwrap","unwrap",-1399175462),Zg=new E(null,"selectLineDown","selectLineDown",1741100604),sa=new E(null,"flush-on-newline","flush-on-newline",-151457939),$g=new E(null,"undo","undo",-1818036302),ah=new E(null,"selectGroupBackward","selectGroupBackward",
1569543117),bh=new E(null,"nav-select-left","nav-select-left",-1033285138),ch=new E(null,"selectSyntaxRight","selectSyntaxRight",327843753),dh=new E(null,"moveLineDown","moveLineDown",1443953910),Fi=new E(null,"selection-grow","selection-grow",1627169352),eh=new E(null,"cursorLineUp","cursorLineUp",-1375841219),fh=new E(null,"selectCharRight","selectCharRight",1049825195),gh=new E(null,"i","i",-1386841315),hh=new E(null,"column","column",2078222095),ih=new E(null,"key","key",-1516042587),jh=new E(null,
"tr","tr",-1424774646),kh=new E(null,"selectLineBoundaryForward","selectLineBoundaryForward",904508598),lh=new E(null,"to","to",192099007),mh=new E(null,"b","b",1482224470),nh=new E(null,"selectPageUp","selectPageUp",152840428),oh=new E(null,"splitLine","splitLine",-1338533189),ph=new E(null,"td","td",1479933353),qh=new Vb(null,"state","state",-348086572,null),rh=new E(null,"run","run",-1821166653),sh=new E(null,"redoSelection","redoSelection",412268254),th=new E(null,"cursorLineBoundaryForward",
"cursorLineBoundaryForward",-1283359997),uh=new E(null,"deleteLine","deleteLine",-1681049426),vh=new E(null,"changes","changes",1492088),wh=new Vb(null,"kill","kill",1628195952,null),Dj=new Vb(aa,"selection-grow","codemirror-next.clojure.commands/selection-grow",135101379,null),xh=new E(null,"cursorLineBoundaryBackward","cursorLineBoundaryBackward",1373049802),yh=new E(null,"kill","kill",-12335575),zi=new E(null,"div","div",1057191632),Lf=new E(null,"fallback-impl","fallback-impl",-1501286995),zh=
new E(null,"insertNewlineAndIndent","insertNewlineAndIndent",-542382007),Ah=new E(null,"preventDefault","preventDefault",-1714933772),Ai=new E(null,"pre","pre",2118456869),ta=new E(null,"readably","readably",1129599760),Bh=new E(null,"deleteGroupForward","deleteGroupForward",596007091),Ch=new E(null,"selectLineBoundaryBackward","selectLineBoundaryBackward",-1443564123),Vf=new E(null,"keyword-fn","keyword-fn",-64566675),Dh=new E(null,"cursorCharRight","cursorCharRight",-739900583),Eh=new E(null,"transposeChars",
"transposeChars",1566260285),Fh=new E(null,"file","file",-1269645878),Gh=new E(null,"cursorCharLeft","cursorCharLeft",-1572589780),Hh=new E(null,"copyLineUp","copyLineUp",-1013016402),Ih=new E(null,"cursorMatchingBracket","cursorMatchingBracket",-1943122872),Jh=new E(null,"selectGroupRight","selectGroupRight",482375806),Kh=new E(null,"end","end",-268185958),Lh=new E(null,"cursorSyntaxLeft","cursorSyntaxLeft",-558944440),Mh=new Vb(null,aa,aa,1149809327,null),Nh=new E(null,"indent","indent",-148200125),
Oh=new E(null,"insert","insert",1286475395),Ph=new E(null,"cursorLineStart","cursorLineStart",-1505072960),Qh=new E(null,"slurp-backward","slurp-backward",-1615745159),Hj=new Vb(null,"selection-grow","selection-grow",-1027266417,null),Lj=new Vb(null,Ci,Ci,-1229249038,null),Rh=new E(null,"undoSelection","undoSelection",628691449),Sh=new Vb(null,"js","js",-886355190,null),Th=new E(null,"indentLess","indentLess",-115385364),hk=new E(null,"from-to","from-to",-640428401),bk=new Vb(null,"format","format",
333606761,null),Uh=new E(null,"cursorLineEnd","cursorLineEnd",-234219178),Vh=new E(null,"selectLineStart","selectLineStart",1211557745),Wh=new Vb(null,"unwrap","unwrap",241356065,null),Cf=new E(null,"more-marker","more-marker",-14717935);var Xh={},Yh={},Zh=[];function $h(a,b){var c=Yh[a];if(void 0!==c)return c;try{Zh.push(a);var d=Xh[a],e=shadow$provide[a];if(void 0===d){if(void 0===e)throw"Module not provided: "+a;d={exports:{}};Xh[a]=d}if(e){delete shadow$provide[a];try{e.call(d,ca,$h,d,d.exports)}catch(h){throw console.warn("shadow-cljs - failed to load",a),h;}if(b){var f=b.globals;if(f)for(a=0;a<f.length;a++)window[f[a]]=d.exports}}}finally{Zh.pop()}return d.exports}$h.cache={};$h.resolve=function(a){return a};
function ai(a){return $h(a,{})};ai(0);var Jj=ai(1);var ci=ai(2);var di=ai(5);var ei=ai(6);ai(7);var ba=ai(8);var pa=ai(9);var fi=ai(10);var gi=ai(11);var ii=ai(12);ai(14);ai(15);function ki(a){return a instanceof E?pd(a):a};function qi(a,b){var c=G(b);J(c);c=M(c);J(c);for(M(c);;){c=G(b);b=J(c);c=M(c);var d=J(c);c=M(c);a[ki(b)]=d;if(c)b=c;else break}}var Hk=function Hk(a){switch(arguments.length){case 1:return Hk.c(arguments[0]);case 2:return Hk.g(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;return Hk.v(arguments[0],arguments[1],new H(c.slice(2),0,null))}};Hk.c=function(a){return a};
Hk.g=function(a,b){a=null!=a?a:{};if(null!=b)for(var c=G(la(b)),d=null,e=0,f=0;;)if(f<e){var h=d.W(null,f);qi(a,wc([h,b[ki(h)]]));f+=1}else if(c=G(c))d=c,Qc(d)?(c=Cb(d),f=Db(d),d=c,e=P(c),c=f):(c=J(d),qi(a,wc([c,b[ki(c)]])),c=M(d),d=null,e=0),f=0;else break;return a};Hk.v=function(a,b,c){return Zc(Hk,Hk.g(a,b),c)};Hk.C=function(a){var b=J(a),c=M(a);a=J(c);c=M(c);return this.v(b,a,c)};Hk.F=2;function Ej(){var a=/----/;a="/(?:)/"===A.c(a)?Bc.g(te(R("",Xd.g(A,G("# codemirror-clojure\n\nLive demo (auto-build): https://nextjournal.github.io/codemirror.next-clojure/\n\ndev: `shadow-cljs watch app`\n\n----\n\nIn progress:\n\n\nNext:\n- [ ] Copy/paste (only first line copies to clipboard?)\n- [ ] \"Yank\" after kill (https://www.howtogeek.com/293850/how-to-use-macos-built-in-kill-and-yank-as-an-alternative-cut-and-paste/)\n- [ ] Ctrl-A \x3d\x3e move to beginning of line (first non-whitespace char)\n\n\nDone\n\n- [x] Expand/contract region\n- [x] Barf\n- [x] Slurp\n- [x] Format whitespace (necessary for commands like Slurp to behave nicely)\n- [x] Navigate left/right by sexp\n- [x] cannot 'indent-all', changes on one line don't affect measurements taken on subsequent lines\n- [x] operators are recognized (lists with symbol in 1st position)\n- [x] Unwrap current collection\n- [x] Kill (remove all children of current node starting on current line)\n- [x] GitHub Action to publish demo site to github.io\n- [x] indentation\n- [x] odd error recovery behaviour - a `#` token can't be deleted\n- [x] deletion\n")))),
""):te(A.c("# codemirror-clojure\n\nLive demo (auto-build): https://nextjournal.github.io/codemirror.next-clojure/\n\ndev: `shadow-cljs watch app`\n\n----\n\nIn progress:\n\n\nNext:\n- [ ] Copy/paste (only first line copies to clipboard?)\n- [ ] \"Yank\" after kill (https://www.howtogeek.com/293850/how-to-use-macos-built-in-kill-and-yank-as-an-alternative-cut-and-paste/)\n- [ ] Ctrl-A \x3d\x3e move to beginning of line (first non-whitespace char)\n\n\nDone\n\n- [x] Expand/contract region\n- [x] Barf\n- [x] Slurp\n- [x] Format whitespace (necessary for commands like Slurp to behave nicely)\n- [x] Navigate left/right by sexp\n- [x] cannot 'indent-all', changes on one line don't affect measurements taken on subsequent lines\n- [x] operators are recognized (lists with symbol in 1st position)\n- [x] Unwrap current collection\n- [x] Kill (remove all children of current node starting on current line)\n- [x] GitHub Action to publish demo site to github.io\n- [x] indentation\n- [x] odd error recovery behaviour - a `#` token can't be deleted\n- [x] deletion\n").split(a));
if(1<P(a))a:for(;;)if(""===(null==a?null:vi(a)))a=null==a?null:wi(a);else break a;return a};var ji=ai(16);function mi(a,b){b=0<b?b:0;a=a.doc.length;return b<a?b:a};function ni(a,b){return w(b.c?b.c(a):b.call(null,a))?a:null}function oi(a,b){return a>b?{from:b,to:a}:{from:a,to:b}}function pi(a,b){return w(b)?(a.dispatch(b),!0):!1}function qk(a,b){return new v(null,2,[vh,new v(null,2,[Oh,b,og,a],null),Vj,a+b.length],null)}function Ik(a,b){return Jk(a,null,b)}
function Jk(a,b,c){return a.update(Hk.g(a.changeByRange(function(d){var e=c.c?c.c(d):c.call(null,d);if(null==e)e=null;else{e=ni(e,Nc);e=null!=e&&(e.l&64||u===e.I)?T(X,e):e;var f=Wb.g(e,Cj),h=Wb.g(e,Vj),k=Wb.g(e,hk),l=Wb.g(e,Dg);e=Wb.g(e,vh);e=w(e)?a.changes(Uf(e)):null;w(f)?k=ci.EditorSelection.cursor(e.mapPos(f)):w(h)?k=ci.EditorSelection.cursor(h):w(k)?(f=k.c?k.c(0):k.call(null,0),k=k.c?k.c(1):k.call(null,1),k=ci.EditorSelection.range(f,k)):k=w(l)?l:void 0;f={};w(e)&&(f.changes=e);w(k)&&(f.range=
k);e=f}return w(e)?e:{range:d}}),b))}function ri(a){for(var b=[],c=arguments.length,d=0;;)if(d<c)b.push(arguments[d]),d+=1;else break;return Kj(arguments[0],arguments[1],2<b.length?new H(b.slice(2),0,null):null)}
function Kj(a,b,c){c=S(c,0,null);c=null!=c&&(c.l&64||u===c.I)?T(X,c):c;var d=Wb.j(c,og,0),e=Wb.g(c,lh);c=a.doc.iterLines(0);for(var f=c.next(),h=[],k=d,l=1;;){var m=f,n=null!=m&&(m.l&64||u===m.I)?T(X,m):m,p=function(){var C=n;if(null!=C&&"done"in C)return C.done}(),q=function(){var C=n;if(null!=C&&"value"in C)return C.value}();if(w(function(){var C=p;return w(C)?C:d>e}()))return a.update({changes:a.changes(h)});f=c.next();m=function(){var C=b.j?b.j(k,q,l):b.call(null,k,q,l);if(w(C)){var D=h;D.push(C);
return D}return h}();var r=k+1+q.length,x=l+1;h=m;k=r;l=x}}
function ck(a,b){var c=new Rd(-1),d=a.doc;return a.update(a.changeByRange(function(e){var f=null!=e&&(e.l&64||u===e.I)?T(X,e):e;var h=null!=f&&"to"in f?f.to:void 0;e=null!=f&&"anchor"in f?f.anchor:void 0;var k=null!=f&&"head"in f?f.head:void 0;var l=null!=f&&"from"in f?f.from:void 0;l=d.lineAt(l);var m=null!=l&&(l.l&64||u===l.I)?T(X,l):l;var n=null!=m&&"number"in m?m.number:void 0;var p=null!=m&&"to"in m?m.to:void 0;for(l=[];;){n>ab(c)&&(Sd(c,n),b.j?b.j(m,l,f):b.call(null,m,l,f));if(h<=p)return f=
a.changes(l),{changes:l,range:ci.EditorSelection.range(f.mapPos(e,1),f.mapPos(k,1))};m=d.lineAt(p+1)}}))}
function li(a,b){var c=null!=a&&(a.l&64||u===a.I)?T(X,a):a;a=null!=c&&"state"in c?c.state:void 0;a=null!=a&&(a.l&64||u===a.I)?T(X,a):a;var d=null!=a&&"doc"in a?a.doc:void 0;var e=null!=c&&"changes"in c?c.changes:void 0;var f=null!=c&&"effects"in c?c.effects:void 0;var h=null!=c&&"annotations"in c?c.annotations:void 0;var k=null!=c&&"scrollIntoView"in c?c.scrollIntoView:void 0;c=null!=c&&"reconfigure"in c?c.reconfigure:void 0;var l=new Rd(-1),m=[];e.iterChanges(function(p,q,r,x){p=d.lineAt(r);r=null!=
p&&(p.l&64||u===p.I)?T(X,p):p;p=null!=r&&"number"in r?r.number:void 0;q=null!=r&&"to"in r?r.to:void 0;for(;;){p>ab(l)&&(Sd(l,p),b.g?b.g(r,m):b.call(null,r,m));if(x<=q)return null;var C=d.lineAt(q+1),D=C;if(w(w(D)?C.number>r.number:D))r=C;else return null}});var n=a.changes(m);return{changes:e.compose(n),selection:a.selection.map(n),effects:ci.StateEffect.mapEffects(f,n),annotations:h,scrollIntoView:k,reconfigure:c}}
function si(a){a=null!=a&&(a.l&64||u===a.I)?T(X,a):a;a=null!=a&&"selection"in a?a.selection:void 0;a=null!=a&&(a.l&64||u===a.I)?T(X,a):a;a=null!=a&&"ranges"in a?a.ranges:void 0;return!Nd(function(b){return b.empty},a)};var qb=ji.props.coll,rb=ji.props.prefixColl,uc=ji.props.prefixEdge,yc=Jj.NodeProp.closedBy,jd=Jj.NodeProp.openedBy,Qd=ji.props.sameEdge;function ak(a){return a.parent.childBefore(a.start)}function Gj(a){return a.parent.childAfter(a.end)}function bi(a){return a.type.prop(uc)}function Yj(a){return a.type.prop(yc)}function dk(a){return a.type.prop(jd)}function vk(a){a=a.type;return a.prop(yc)||a.prop(Qd)||a.prop(uc)}function Gi(a){return a.prop(jd)||a.prop(Qd)}
function Ii(a){a=a.type.prop(Jj.NodeProp.closedBy);return null==a?null:a[0]}function ek(a){a=a.type.prop(Jj.NodeProp.openedBy);return null==a?null:a[0]}function Ki(a){return"String"===a.name}function Zj(a){return"LineComment"===a.name}function Wd(a){return a.type.prop(qb)}function Li(a){var b=null!=a&&(a.l&64||u===a.I)?T(X,a):a;a=null!=b&&"firstChild"in b?b.firstChild:void 0;b=null!=b&&"lastChild"in b?b.lastChild:void 0;var c=Ii(a);return w(c)?F.g(c,b.name)&&!F.g(a.end,b.end):!0}
var Mi=function Mi(a){var c=a.parent;return null==c?null:R(c,new qd(null,function(){return Mi.c?Mi.c(c):Mi.call(null,c)},null))};function Ni(a,b){return w(b.c?b.c(a):b.call(null,a))?a:Zc(function(c,d){return w(b.c?b.c(d):b.call(null,d))?new jc(d):null},null,Mi(a))}
function yk(a,b,c){a:switch(c){case 1:var d=a.childAfter(b);break a;case -1:d=a.childBefore(b);break a;default:throw Error(["No matching clause: ",A.c(c)].join(""));}return null==d?null:R(d,new qd(null,function(){var e=yk;a:switch(c){case 1:var f=d.end;break a;case -1:f=d.start;break a;default:throw Error(["No matching clause: ",A.c(c)].join(""));}return e(a,f,c)},null))}function Oi(a,b){return a.start===b.start&&a.end===b.end&&a.depth===b.depth}
function Pi(a){var b=a.name;return w(Wd(a))?Oi(Gj(a.firstChild),a.lastChild):F.g("String",b)?a.firstChild.end===a.lastChild.start:!1}function zk(a){return new v(null,2,[og,a.start,lh,a.end],null)}function Ri(a,b){return Tc(a.depth<b.depth&&a.start<=b.start&&a.end>=b.end)}
function Wj(a,b,c){var d=new Rd(Cc);a.iterate({from:b,to:c,enter:function(e,f,h){if((w(e.prop(Jj.NodeProp.top))?0:w(e.prop(rb))?0:w(e.prop(qb))?0:"Meta"!==e.name)&&ya(e.prop(Jj.NodeProp.error)))return Td.j(d,Bc,[e,f,h]),!1}});return ab(d)}
function Si(a,b){if(Oi(a,b))return null;var c=Vc(b.start,a.start);switch(c){case 0:return Ri(b,a)?a.parent:Ri(a,b)?a.firstChild:null;case -1:if(Ri(a,b))return a.lastChild;b=ak(a);return w(b)?b:a.parent;case 1:if(Ri(a,b))return a.firstChild;b=Gj(a);return w(b)?b:a.parent;default:throw Error(["No matching clause: ",A.c(c)].join(""));}}function Ti(a,b){return zf(ed,$d(function(c){return Si(c,b)},a))}function Ui(a){var b=Wd(a);return w(b)?b:Ki(a)||"RegExp"===a.name}
function $i(a){switch(arguments.length){case 1:return arguments[0].tree;case 2:return arguments[0].tree.resolve(arguments[1]);case 3:return arguments[0].tree.resolve(arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",A.c(arguments.length)].join(""));}}
function Ak(a,b,c){c=Xc(Vc,new U(null,2,5,W,[b,c],null));b=S(c,0,null);c=S(c,1,null);var d=$i(a,b,1),e=$i(a,c,-1);a=w(Ui(d))?d.start:b;b=w(Ui(e))?e.end:c;b=Zc(function(f,h){var k=S(f,0,null);f=S(f,1,null);return new U(null,2,5,W,[Ri(h,d)?h.start:k,Ri(h,e)?h.end:f],null)},new U(null,2,5,W,[a,b],null),Xd.g(function(f){var h=f.type;return h.prop(yc)||h.prop(jd)||h.prop(Qd)||h.prop(rb)?f.parent:f},Ti(d,e)));a=S(b,0,null);b=S(b,1,null);return ci.EditorSelection.range(a,b)}
function Zi(a){a=null!=a&&(a.l&64||u===a.I)?T(X,a):a;var b=null!=a&&"firstChild"in a?a.firstChild:void 0;var c=null!=a&&"lastChild"in a?a.lastChild:void 0;return{start:vk(b)?b.end:a.start,end:Gi(c.type)?c.start:a.end}}function fk(a){a=a.parent;a=null==a?null:a.firstChild;a=null==a?null:ni(a,bi);return null==a?null:a.name}function lk(a){return[fk(a),a.firstChild.name].join("")}function mk(a){return w(fk(a))?a.parent:a};(function(a){if(Lc(a))return Jc(a,null);a=G(a);if(null==a)return xf;if(a instanceof H&&0===a.i){a=a.h;for(var b=a.length,c=vb(xf),d=0;;)if(d<b)wb(c,a[d]),d+=1;else break;return xb(c)}for(c=vb(xf);;)if(null!=a)b=M(a),c=wb(c,B(a)),a=b;else return xb(c)})(Xd.g(function(a){return a.charCodeAt(0)},new U(null,4,5,W,[" ","n","r",","],null)));var Z=ai(18);var Nj=ii.indentNodeProp.add(function(a){var b=null!=a&&(a.l&64||u===a.I)?T(X,a):a;var c=null!=b&&"name"in b?b.name:void 0;return function(d){d=null!=d&&(d.l&64||u===d.I)?T(X,d):d;var e=null!=d&&"node"in d?d.node:void 0;if(F.g("Program",c))return 0;if(w(b.prop(qb))){d=d.column(e.firstChild.end);if(F.g("List",e.name)){e=null==e?null:e.childAfter(e.firstChild.end);e=null==e?null:e.name;var f=new vf(null,new v(null,2,["DefLike",null,"Operator",null],null),null);e=f.c?f.c(e):f.call(null,e)}else e=!1;
return w(e)?d+1:d}return-1}});function Oj(a,b){return Zc(function(c,d){d=d.g?d.g(a,b):d.call(null,a,b);return-1<d?new jc(d):c},-1,a.state.facet(ci.EditorState.indentation))}function Pj(a){var b={};return new ci.IndentContext(a,function(c){c=ki(c);return null!=b&&c in b?b[c]:-1})}
function Qj(a,b,c){return Zc(function(d,e){var f=S(e,0,null),h=null!=f,k=h?f[0]:null;f=h?f[1]:null;h=S(e,1,null);var l=null!=h;e=l?h[2]:null;h=l?h[0]:null;k=h.prop(yc)||h.prop(uc)||k.prop(jd)||k.prop(Qd)?0:1;switch(Vc(f-e,k)){case 0:return d;case 1:return d.push({from:0===k?e:e+1,to:f}),d;case -1:return d.push({from:e,insert:" "}),d;default:return d}},[],Bj(2,1,Wj(a.tree,c,b)))}
function Rj(a,b){b=G(b);for(var c=null,d=0,e=0;;)if(e<d){var f=c.W(null,e);a.push(f);e+=1}else if(b=G(b))c=b,Qc(c)?(b=Cb(c),e=Db(c),c=b,d=P(b),b=e):(b=J(c),a.push(b),b=M(c),c=null,d=0),e=0;else break;return a}
function Sj(a,b,c,d,e){var f=/^\s*/.exec(d)[0].length,h=function(){var k=ni(Oj(b,c),Pd(yj));if(null==k)return null;var l=Vc(k,f);switch(l){case 0:return null;case 1:return{from:c+f,insert:a.indentString(k-f)};case -1:return{from:c+k,to:c+f};default:throw Error(["No matching clause: ",A.c(l)].join(""));}}();d=w(!0)?Qj(a,c+f,c+P(d)):null;e=w(d)?Rj(e,d):e;w(h)&&e.push(h);return e}
function Tj(a){var b=Pj(a);return ck(a,function(c,d){var e=null!=c&&(c.l&64||u===c.I)?T(X,c):c;c=null!=e&&"from"in e?e.from:void 0;e=null!=e&&"content"in e?e.content:void 0;return Sj(a,b,c,e,d)})}function Uj(a){var b=Pj(a);return ri(a,function(c,d){return Sj(a,b,c,d,[])})}function Xj(a){return si(a)?Tj(a):Uj(a)}
var Bi=ci.EditorState.transactionFilter.of(function(a){switch(a.annotation(ci.Transaction.userEvent)){case "input":case "delete":case "keyboardselection":case "pointerselection":case "cut":return a;default:var b=a.state,c=Pj(b),d=li(a,function(e,f){return Sj(b,c,e.from,e.content,f)});return a.startState.update(function(){var e=null!=d?d:{};e.filter=!1;return e}())}});function Wi(){var a=Ji,b=new U(null,2,5,W,["",Cc],null);a:{var c=Af(/\||<[^>]*?>|[^<>|]+/,'(defn lezer-clojure\n  "This is a showcase for `lezer-clojure`, an grammar for Clojure/Script to\n  enable a decent editor experience in the browser."\n  {:added "0.1"}\n  [demo]\n  nil ;; nil\n  (+ 1 1.0 1/5 1E3 042 +042 -042) ;; numbers\n  :hi :hi/ho ::ho :*+!-_? :abc:def:ghi ;; keywords\n  true false ;; booleans\n  :hello #_ :ignored ;; ignore next form\n  #"[A-Z]" ;; regex\n  ^{:meta/data \'is-data} \'too\n  (if (test? \x3cdemo\x3e)\n    (inc demo)|\n    (dec demo)))\n  #\n    [ ]\n    #"a"\na b(c|)d e');
break a;throw new TypeError("re-seq must match against a string.");}c=Zc(function(d,e){var f=S(d,0,null);d=S(d,1,null);if(F.g(e,"|"))e=new U(null,2,5,W,[f,Bc.g(d,ci.EditorSelection.cursor(f.length))],null);else if(0==e.lastIndexOf("\x3c",0)){var h=W,k=P(e)-1;e=new U(null,2,5,h,[[f,e.substring(1,k)].join(""),Bc.g(d,ci.EditorSelection.range(f.length,f.length+(P(e)-2)))],null)}else e=new U(null,2,5,W,[[f,A.c(e)].join(""),d],null);return e},b,c);b=S(c,0,null);c=S(c,1,null);return ci.EditorState.create({doc:b,
selection:G(c)?ci.EditorSelection.create(Yc(c)):void 0,extensions:function(){var d=[ci.EditorState.allowMultipleSelections.of(!0)];w(a)&&d.push(a);return d}()})};function Bk(a){return Od(function(b){return ya(b.empty)},a.ranges)}
var Ck=ci.StateField.define({create:hi(K),update:function(a,b){b=null!=b&&(b.l&64||u===b.I)?T(X,b):b;var c=null!=b&&"state"in b?b.state:void 0;c=null!=c&&(c.l&64||u===c.I)?T(X,c):c;var d=null!=c&&"selection"in c?c.selection:void 0;b=null!=b&&"docChanged"in b?b.docChanged:void 0;return w(b)?K:ya(Bk(d))?new Dc(null,d,null,1,null):w(function(){var e=null==a?null:J(M(a));return null==e?null:e.eq(d)}())?Aj(1,a):w(function(){var e=null==a?null:J(a);return null==e?null:e.eq(d)}())?a:Bc.g(a,d)}}),Dk=[Ck];function Hi(a){return function(b){var c=null!=b&&(b.l&64||u===b.I)?T(X,b):b;b=null!=c&&"state"in c?c.state:void 0;c=null!=c&&"dispatch"in c?c.dispatch:void 0;b=a.c?a.c(b):a.call(null,b);null!=b&&(c.c?c.c(b):c.call(null,b));return!0}}
function bj(a){return Ik(a,function(b){var c=null!=b&&(b.l&64||u===b.I)?T(X,b):b;b=null!=c&&"from"in c?c.from:void 0;c=null!=c&&"empty"in c?c.empty:void 0;return w(c)?(c=$i(a,b,-1),c=null==c?null:Ni(c,Wd),c=null==c?null:ni(c,Li),w(c)?new v(null,2,[Vj,b-1,vh,new U(null,2,5,W,[zk(c.firstChild),zk(c.lastChild)],null)],null):null):null})}
function cj(a){return Ik(a,function(b){var c=null!=b&&(b.l&64||u===b.I)?T(X,b):b;var d=null!=c&&"from"in c?c.from:void 0;b=null!=c&&"to"in c?c.to:void 0;c=null!=c&&"empty"in c?c.empty:void 0;var e=w(c)?function(){var f=$i(a,d),h=Ni(f,function(m){var n=Wd(m);return w(n)?n:(n=Ki(m))?n:m.type.prop(Jj.NodeProp.top)}),k=a.doc.lineAt(d).to,l=w(h)?yk(h,d,1):null;f=w(h)?function(){var m=null==l?null:zf(Ud(function(n){return n.start<=k}),l);return null==m?null:Ac(m)}():null;f=Ki(h)?function(){var m=A.c(a.doc.slice(h.start,
h.end)).substring(d-h.start).indexOf("\n");return 0>m?h.end-1:d+m+1}():w(f)?dk(f)?f.start:f.end:w(function(){var m=J(l);m=null==m?null:m.start;return null==m?null:m>k}())?J(l).start:null;return w(f)?new v(null,2,[Vj,d,vh,new v(null,2,[og,d,lh,f],null)],null):null}():null;return w(e)?e:w(c)?null:new v(null,2,[Vj,d,vh,oi(d,b)],null)})}
function dj(a,b,c){var d=function(){var e=Ni($i(a,b),function(h){var k=Wd(h);return w(k)?k:(k=Ki(h))?k:h.type.prop(Jj.NodeProp.top)});e=null==e?null:yk(e,b,c);e=null==e?null:J(e);if(null==e)return null;a:switch(c){case -1:var f=zg;break a;case 1:f=Kh;break a;default:throw Error(["No matching clause: ",A.c(c)].join(""));}f=ki(f);if(null!=e&&f in e)return e[f]}();return w(d)?d:mi(a,b+c)}
function ej(a){return function(b){return Ik(b,function(c){var d=null!=c&&(c.l&64||u===c.I)?T(X,c):c;c=null!=d&&"from"in d?d.from:void 0;var e=null!=d&&"to"in d?d.to:void 0;d=null!=d&&"empty"in d?d.empty:void 0;if(w(d))c=new v(null,1,[Vj,dj(b,c,a)],null);else{c=oi(c,e);b:switch(a){case -1:e=og;break b;case 1:e=lh;break b;default:throw Error(["No matching clause: ",A.c(a)].join(""));}e=ki(e);c=null!=c&&e in c?c[e]:void 0;c=new v(null,1,[Vj,c],null)}return c})}}
function fj(a){return function(b){return Ik(b,function(c){var d=null!=c&&(c.l&64||u===c.I)?T(X,c):c;c=null!=d&&"from"in d?d.from:void 0;var e=null!=d&&"to"in d?d.to:void 0;d=null!=d&&"empty"in d?d.empty:void 0;if(w(d))c=new v(null,1,[Dg,Ak(b,c,dj(b,c,a))],null);else{a:switch(c=oi(c,e),e=null!=c&&(c.l&64||u===c.I)?T(X,c):c,c=null!=e&&"from"in e?e.from:void 0,e=null!=e&&"to"in e?e.to:void 0,a){case 1:c=Ak(b,c,dj(b,e,a));break a;case -1:c=Ak(b,dj(b,c,a),e);break a;default:throw Error(["No matching clause: ",
A.c(a)].join(""));}c=new v(null,1,[Dg,c],null)}return c})}}function Ek(a,b){var c=function(){var h=$i(a,b,-1);return null==h?null:ni(h,function(k){k=null!=k&&(k.l&64||u===k.I)?T(X,k):k;k=null!=k&&"end"in k?k.end:void 0;return F.g(b,k)})}(),d=function(){var h=$i(a,b,1);return null==h?null:ni(h,function(k){k=null!=k&&(k.l&64||u===k.I)?T(X,k):k;k=null!=k&&"start"in k?k.start:void 0;return F.g(b,k)})}(),e=$i(a,b);var f=ni(c,Vd(Qi,Pd(vk)));return w(f)?f:w(d)?d:w(c)?c:e}
function Fk(a,b,c){a=Ek(a,c);return J(ae(function(d){var e=null!=d&&(d.l&64||u===d.I)?T(X,d):d;d=null!=e&&"start"in e?e.start:void 0;e=null!=e&&"end"in e?e.end:void 0;return d<=b&&e>=c&&!(d===b&&e===c)},R(a,Vi(Yi(),wc([Mi(a)])))))}
function ok(a){return Ik(a,function(b){var c=null!=b&&(b.l&64||u===b.I)?T(X,b):b;var d=null!=c&&"from"in c?c.from:void 0;var e=null!=c&&"to"in c?c.to:void 0;b=null!=c&&"empty"in c?c.empty:void 0;return w(b)?new v(null,1,[Dg,function(){var f=Ek(a,d);f=null==f?null:Ak(a,f.start,f.end);return w(f)?f:c}()],null):new v(null,1,[Dg,function(){var f=Fk(a,d,e);f=null==f?null:ci.EditorSelection.range(f.start,f.end);return w(f)?f:c}()],null)})}
function pk(a){var b=J(M(a.field(Ck)));return w(b)?a.update({selection:b}):Ik(a,function(c){return new v(null,1,[Vj,c.from],null)})}
function gj(a){return function(b){return Ik(b,function(c){var d=null!=c&&(c.l&64||u===c.I)?T(X,c):c;c=null!=d&&"from"in d?d.from:void 0;d=null!=d&&"empty"in d?d.empty:void 0;if(w(d)){var e=Ni($i(b,c),Vd(Wd,function(h){a:switch(a){case 1:h=null==h?null:mk(h);h=null==h?null:Gj(h);h=null==h?null:dk(h);break a;case -1:h=null==h?null:mk(h);h=null==h?null:ak(h);h=null==h?null:Yj(h);break a;default:throw Error(["No matching clause: ",A.c(a)].join(""));}return ya(h)}));if(w(e)){a:switch(a){case 1:var f=J(Ei(Zj,
zf(ed,$d(Gj,Gj(mk(e))))));break a;case -1:f=J(Ei(Zj,zf(ed,$d(ak,ak(mk(e))))));break a;default:throw Error(["No matching clause: ",A.c(a)].join(""));}return w(f)?new v(null,2,[Cj,c,vh,function(){switch(a){case 1:var h=e.lastChild;return new U(null,2,5,W,[new v(null,2,[og,f.end,Oh,h.name],null),Fc.j(zk(h),Oh," ")],null);case -1:h=lk(e);var k=mk(e).start;return new U(null,2,5,W,[new v(null,3,[og,k,lh,k+h.length,Oh," "],null),new v(null,2,[og,f.start,Oh,h],null)],null);default:throw Error(["No matching clause: ",
A.c(a)].join(""));}}()],null):null}}return null})}}
function hj(a){return function(b){return Ik(b,function(c){c=null!=c&&(c.l&64||u===c.I)?T(X,c):c;var d=null!=c&&"from"in c?c.from:void 0;c=null!=c&&"empty"in c?c.empty:void 0;if(w(c)){var e=Ni($i(b,d),Wd);if(w(e))switch(a){case 1:c=function(){var l=e.lastChild;l=null==l?null:zf(ed,$d(ak,ak(l)));l=null==l?null:Ei(Zj,l);l=null==l?null:Aj(1,l);return null==l?null:J(l)}();if(w(c)){var f=c;return new v(null,2,[Vj,function(){var l=f.end;return l<d?l:d}(),vh,new U(null,2,5,W,[new v(null,2,[og,f.end,Oh,e.lastChild.name],
null),Fc.j(zk(e.lastChild),Oh," ")],null)],null)}return null;case -1:c=function(){var l=e.firstChild;l=null==l?null:zf(ed,$d(Gj,Gj(l)));l=null==l?null:Ei(Zj,l);l=null==l?null:Aj(1,l);return null==l?null:J(l)}();if(w(c)){var h=c,k=lk(e);c=mk(e).start;return new v(null,2,[Vj,function(){var l=h.start+(k.length+1);return d>l?d:l}(),vh,new U(null,2,5,W,[new v(null,2,[og,h.start,Oh,[" ",k].join("")],null),new v(null,3,[og,c,lh,c+k.length,Oh,b.indentString(k.length)],null)],null)],null)}return null;default:throw Error(["No matching clause: ",
A.c(a)].join(""));}else return null}else return null})}}
var ij=qf([Ph,Bg,Lg,Qg,Pg,Nh,th,yg,Ch,Sg,qg,bg,Ih,Fi,Lh,zh,jg,yh,ch,xh,Yf,Zf,fh,Xg,nh,sg,Ng,Gh,Th,dg,Wf,Mg,ah,Hh,uh,bh,Ug,Vg,Rg,Og,ng,Vh,$g,Bh,kg,Jg,Fg,pg,lg,rg,xg,kh,dh,Uh,Wg,Rh,Cg,Dh,Qh,$f,gg,Yg,ug,oh,Zg,tg,Eh,eh,yf,Jh,sh,hg,ig,wg],[Z.cursorLineStart,Z.cursorLineDown,Z.cursorSyntaxRight,Z.selectAll,Z.selectLineUp,Hi(new Yb(function(){return Xj},Ij,qf([Xf,Gg,Fh,Ig,hh,eg,vg,fg,cg,Hg],[Lj,bk,"codemirror_next/clojure/extensions/formatting.cljs",13,1,161,161,kd(new U(null,1,5,W,[qh],null)),null,w(Xj)?
Xj.Yb:null]))),Z.cursorLineBoundaryForward,Hi(ej(-1)),Z.selectLineBoundaryBackward,Z.simplifySelection,Z.deleteCharBackward,gi.redo,Z.cursorMatchingBracket,Hi(new Yb(function(){return ok},Dj,qf([Xf,Gg,Fh,Ig,hh,eg,vg,fg,cg,Hg],[Mh,Hj,"codemirror_next/clojure/commands.cljs",21,1,123,123,kd(new U(null,1,5,W,[Jc(qh,new v(null,1,[Ag,Sh],null))],null)),null,w(ok)?ok.Yb:null]))),Z.cursorSyntaxLeft,Z.insertNewlineAndIndent,Z.indentMore,Hi(new Yb(function(){return cj},Tg,qf([Xf,Gg,Fh,Ig,hh,eg,vg,fg,cg,Hg],
[Mh,wh,"codemirror_next/clojure/commands.cljs",11,1,31,31,kd(new U(null,1,5,W,[Jc(qh,new v(null,1,[Ag,Sh],null))],null)),null,w(cj)?cj.Yb:null]))),Z.selectSyntaxRight,Z.cursorLineBoundaryBackward,Hi(gj(1)),Z.selectLine,Z.selectCharRight,Hi(fj(1)),Z.selectPageUp,Z.cursorGroupLeft,Z.deleteCharForward,Z.cursorCharLeft,Z.indentLess,Z.moveLineUp,Z.cursorGroupBackward,Z.selectDocStart,Z.selectGroupBackward,Z.copyLineUp,Z.deleteLine,Hi(fj(-1)),Z.selectParentSyntax,Z.indentSelection,Z.cursorDocEnd,Z.deleteGroupBackward,
Hi(hj(1)),Z.selectLineStart,gi.undo,Z.deleteGroupForward,Hi(hj(-1)),Hi(ej(1)),Z.selectDocEnd,Z.selectPageDown,Z.cursorPageDown,Z.cursorPageUp,Z.cursorGroupRight,Z.selectLineBoundaryForward,Z.moveLineDown,Z.cursorLineEnd,Z.cursorGroupForward,gi.undoSelection,Z.selectSyntaxLeft,Z.cursorCharRight,Hi(gj(-1)),Z.selectGroupForward,Z.selectLineEnd,Hi(new Yb(function(){return bj},Eg,qf([Xf,Gg,Fh,Ig,hh,eg,vg,fg,cg,Hg],[Mh,Wh,"codemirror_next/clojure/commands.cljs",13,1,19,19,kd(new U(null,1,5,W,[qh],null)),
null,w(bj)?bj.Yb:null]))),Z.selectCharLeft,Z.splitLine,Z.selectLineDown,Z.selectGroupLeft,Z.transposeChars,Z.cursorLineUp,Hi(new Yb(function(){return pk},ui,qf([Xf,Gg,Fh,Ig,hh,eg,vg,fg,cg,Hg],[Mh,ti,"codemirror_next/clojure/commands.cljs",23,1,134,134,kd(new U(null,1,5,W,[Jc(qh,new v(null,1,[Ag,Sh],null))],null)),null,w(pk)?pk.Yb:null]))),Z.selectGroupRight,gi.redoSelection,Z.cursorDocStart,Z.deleteToLineEnd,Z.copyLineDown]);dd(function(a,b,c){return Fc.j(a,c,b)},Md,ij);function jj(a){var b=null!=a&&(a.l&64||u===a.I)?T(X,a):a;return w(F.g(1,b.selection.ranges.length)?function(){var c;if(c=null!=b)c="selection"in b;c=c?b.selection:void 0;c=null!=c&&"ranges"in c?c.ranges:void 0;c=null!=c&&0 in c?c[0]:void 0;var d=c.empty;return w(d)?F.g(0,c.from):d}():!1)?null:Jk(b,{annotations:ci.Transaction.userEvent.of("delete")},function(c){var d=null!=c&&(c.l&64||u===c.I)?T(X,c):c;c=null!=d&&"empty"in d?d.empty:void 0;var e=null!=d&&"head"in d?d.head:void 0;d=null!=d&&"anchor"in
d?d.anchor:void 0;e=oi(e,d);e=null!=e&&(e.l&64||u===e.I)?T(X,e):e;var f=null!=e&&"from"in e?e.from:void 0;if(ya(c))return new v(null,2,[Vj,f,vh,e],null);c=b.tree.resolve(f,-1);e=c.parent;c=w(w(e)?!Li(e):e)?null:Gi(c.type)&&f===e.end?new v(null,1,[Vj,f-1],null):(Yj(c)||c.type.prop(Qd))&&c.start===e.start?Pi(c.parent)?new v(null,2,[Vj,e.start,vh,new U(null,1,5,W,[oi(e.start,e.end)],null)],null):new v(null,1,[Vj,f],null):w(function(){var h=$i(b,f-1,-1);return null==h?null:ni(h,Vd(function(k){return F.g(f-
1,k.end)},Zj))}())?new v(null,1,[Vj,f-1],null):null;return w(c)?c:new v(null,2,[Vj,mi(b,f-1),vh,oi(mi(b,f-1),f)],null)})}var Xi=new v(null,4,'()[]{}""'.split(""),null);
function lj(a,b){var c=Xi.c?Xi.c(b):Xi.call(null,b);return Ik(a,function(d){var e=null!=d&&(d.l&64||u===d.I)?T(X,d):d;var f=null!=e&&"from"in e?e.from:void 0;d=null!=e&&"head"in e?e.head:void 0;var h=null!=e&&"empty"in e?e.empty:void 0;ya(h)?(h=null!=e&&"to"in e?e.to:void 0,e=null!=e&&"anchor"in e?e.anchor:void 0,f=new v(null,2,[vh,new U(null,2,5,W,[new v(null,2,[Oh,b,og,f],null),new v(null,2,[Oh,c,og,h],null)],null),hk,new U(null,2,5,W,[e+b.length,d+b.length],null)],null)):f=w(F.g(b,'"')?Ni($i(a,
f),Ki):!1)?qk(d,'\\"'):null;return w(f)?f:new v(null,2,[vh,new v(null,2,[Oh,[b,c].join(""),og,d],null),Vj,d+b.length],null)})}
function mj(a,b){return Ik(a,function(c){c=null!=c&&(c.l&64||u===c.I)?T(X,c):c;var d=null!=c&&"empty"in c?c.empty:void 0;var e=null!=c&&"head"in c?c.head:void 0;c=function(){var f=function(){var l=$i(a,e,-1);l=null==l?null:Mi(l);l=null==l?null:ae(Vd(Wd,Pd(Li)),l);return null==l?null:J(l)}(),h=function(){var l=null==f?null:f.firstChild;return null==l?null:Ii(l)}(),k=null==f?null:f.end;return w(w(h)?F.g(h,b):h)?new v(null,2,[vh,new v(null,2,[og,k,Oh,h],null),Vj,k+1],null):null}();if(w(c))return c;c=
function(){var f=function(){return w(d)?$i(a).iterate({from:e+1,enter:function(h,k,l){if(Gi(h))return l}}):d}();return w(f)?new v(null,1,[Vj,f],null):null}();return w(c)?c:qk(e,b)})}
var nj=ei.EditorView.domEventHandlers({keydown:function(a,b){var c=null!=a&&(a.l&64||u===a.I)?T(X,a):a;var d=null!=c&&"metaKey"in c?c.metaKey:void 0;var e=null!=c&&"ctrlKey"in c?c.ctrlKey:void 0;var f=null!=c&&"keyCode"in c?c.keyCode:void 0;b=null!=b&&(b.l&64||u===b.I)?T(X,b):b;a=null!=b&&"state"in b?b.state:void 0;if(w(w(d)?d:e))return!1;if(8===f)return pi(b,jj(a));c=di.keyName(c);w(Xi.c?Xi.c(c):Xi.call(null,c))?a=lj(a,c):(d=new vf(null,new v(null,4,['"',null,")",null,"]",null,"}",null],null),null),
d=d.c?d.c(c):d.call(null,c),a=w(d)?mj(a,c):null);return pi(b,a)}});var gk=ei.EditorView.baseTheme({matchingBracket:{color:"#0b0"},nonmatchingBracket:{color:"#a22"}}),ik=ei.Decoration.mark({"class":ei.themeClass("matchingBracket")}),jk=ei.Decoration.mark({"class":ei.themeClass("nonmatchingBracket")}),kk=ci.StateField.define({create:hi(ei.Decoration.none),update:function(a,b){b=null!=b&&(b.l&64||u===b.I)?T(X,b):b;var c=null!=b&&"state"in b?b.state:void 0;var d=null!=b&&"docChanged"in b?b.docChanged:void 0;var e=null!=b&&"selection"in b?b.selection:void 0;return w(w(d)?
d:e)?(a=Zc(function(f,h){h=null!=h&&(h.l&64||u===h.I)?T(X,h):h;var k=null!=h&&"head"in h?h.head:void 0;var l=null!=h&&"empty"in h?h.empty:void 0;h=function(){var m=w(l)?J(ae(sj(),new U(null,2,5,W,[$i(c,k,-1),$i(c,k,1)],null))):l;if(w(m)){var n=Yj(m)&&F.g(m.start,m.parent.start)?ni(m.parent.lastChild,function(p){return F.g(p.name,Ii(m))}):ni(m.parent.firstChild,function(p){return F.g(p.name,ek(m))});if(w(n))return f.push(ik.range(m.start,m.end)),f.push(ik.range(n.start,n.end)),f;f.push(jk.range(m.start,
m.end));return f}return null}();return w(h)?h:f},[],b.state.selection.ranges),ei.Decoration.set(a,!0)):a},provide:[ei.EditorView.decorations]});function oj(a){return dd(function(b,c,d){var e=Wb.g(b,c);return null==e?Hc.g(b,c):Fc.j(b,c,d.c?d.c(e):d.call(null,e))},a,new v(null,2,[rh,ij,Kg,ij],null))}
var pj=qf([Ph,Bg,Qg,th,qg,bg,zh,xh,Ng,Gh,Wf,Rg,Og,$g,Bh,lg,rg,Uh,Wg,Rh,Dh,oh,Eh,eh,sh,hg],[new U(null,2,5,W,[new v(null,1,[mg,"Cmd-ArrowLeft"],null),new v(null,2,[mg,"Ctrl-a",Kg,Vh],null)],null),new U(null,2,5,W,[new v(null,2,[ih,"ArrowDown",Kg,Zg],null),new v(null,2,[mg,"Ctrl-n",Kg,Zg],null)],null),new U(null,1,5,W,[new v(null,1,[ih,"Mod-a"],null)],null),new U(null,1,5,W,[new v(null,2,[ih,"End",Kg,kh],null)],null),new U(null,2,5,W,[new v(null,1,[ih,"Backspace"],null),new v(null,1,[mg,"Ctrl-h"],null)],
null),new U(null,1,5,W,[new v(null,3,[ih,"Mod-y",mg,"Mod-Shift-z",Ah,!0],null)],null),new U(null,1,5,W,[new v(null,1,[ih,"Enter"],null)],null),new U(null,1,5,W,[new v(null,2,[ih,"Home",Kg,Ch],null)],null),new U(null,2,5,W,[new v(null,1,[ih,"Delete"],null),new v(null,1,[mg,"Ctrl-d"],null)],null),new U(null,2,5,W,[new v(null,2,[ih,"ArrowLeft",Kg,ug],null),new v(null,2,[mg,"Ctrl-b",Kg,ug],null)],null),new U(null,1,5,W,[new v(null,2,[mg,"Alt-b",Kg,ah],null)],null),new U(null,3,5,W,[new v(null,2,[mg,"Cmd-ArrowDown",
Kg,Fg],null),new v(null,2,[ih,"Mod-End",Kg,Fg],null),new v(null,1,[mg,"Alt-\x3e"],null)],null),new U(null,2,5,W,[new v(null,2,[ih,"Mod-Backspace",mg,"Ctrl-Alt-Backspace"],null),new v(null,1,[mg,"Ctrl-Alt-h"],null)],null),new U(null,1,5,W,[new v(null,2,[ih,"Mod-z",Ah,!0],null)],null),new U(null,3,5,W,[new v(null,2,[ih,"Mod-Delete",mg,"Alt-Backspace"],null),new v(null,1,[mg,"Alt-Delete"],null),new v(null,1,[mg,"Alt-d"],null)],null),new U(null,3,5,W,[new v(null,2,[mg,"Ctrl-ArrowDown",Kg,pg],null),new v(null,
2,[ih,"PageDown",Kg,pg],null),new v(null,1,[mg,"Ctrl-v"],null)],null),new U(null,3,5,W,[new v(null,2,[mg,"Ctrl-ArrowUp",Kg,nh],null),new v(null,2,[ih,"PageUp",Kg,nh],null),new v(null,1,[mg,"Alt-v"],null)],null),new U(null,2,5,W,[new v(null,1,[mg,"Cmd-ArrowRight"],null),new v(null,2,[mg,"Ctrl-e",Kg,gg],null)],null),new U(null,1,5,W,[new v(null,2,[mg,"Alt-f",Kg,$f],null)],null),new U(null,1,5,W,[new v(null,2,[ih,"Mod-u",Ah,!0],null)],null),new U(null,2,5,W,[new v(null,2,[ih,"ArrowRight",Kg,fh],null),
new v(null,2,[mg,"Ctrl-f",Kg,fh],null)],null),new U(null,1,5,W,[new v(null,1,[mg,"Ctrl-o"],null)],null),new U(null,1,5,W,[new v(null,1,[mg,"Ctrl-t"],null)],null),new U(null,2,5,W,[new v(null,2,[ih,"ArrowUp",Kg,Pg],null),new v(null,2,[mg,"Ctrl-p",Kg,Pg],null)],null),new U(null,1,5,W,[new v(null,3,[ih,"Alt-u",mg,"Mod-Shift-u",Ah,!0],null)],null),new U(null,3,5,W,[new v(null,2,[mg,"Cmd-ArrowUp",Kg,Mg],null),new v(null,2,[ih,"Mod-Home",Kg,Mg],null),new v(null,1,[mg,"Alt-\x3c"],null)],null)]),qj=qf([Nh,
yg,Fi,yh,Yf,ng,kg,Jg,Qh,Yg,yf],[new U(null,1,5,W,[new v(null,2,[ih,"Tab",cg,"Indent document (or selection)"],null)],null),new U(null,1,5,W,[new v(null,4,[ih,"Alt-ArrowLeft",Kg,bh,cg,"Move cursor one unit to the left (shift: selects this region)",Ah,!0],null)],null),new U(null,2,5,W,[new v(null,2,[cg,"Grow selections",ih,"Alt-ArrowUp"],null),new v(null,1,[ih,"Mod-1"],null)],null),new U(null,1,5,W,[new v(null,3,[ih,"Ctrl-k",cg,"Remove all forms from cursor to end of line",Ah,!0],null)],null),new U(null,
2,5,W,[new v(null,3,[ih,"Ctrl-ArrowRight",cg,"Expand collection to include form to the right",Ah,!0],null),new v(null,2,[ih,"Mod-Shift-k",Ah,!0],null)],null),new U(null,2,5,W,[new v(null,3,[ih,"Ctrl-ArrowLeft",cg,"Shrink collection forwards by one form",Ah,!0],null),new v(null,2,[ih,"Mod-Shift-j",Ah,!0],null)],null),new U(null,1,5,W,[new v(null,2,[cg,"Shrink collection backwards by one form",ih,"Ctrl-Alt-ArrowRight"],null)],null),new U(null,1,5,W,[new v(null,4,[ih,"Alt-ArrowRight",Kg,Xg,cg,"Move cursor one unit to the right (shift: selects this region)",
Ah,!0],null)],null),new U(null,1,5,W,[new v(null,3,[cg,"Grow collection backwards by one form",ih,"Ctrl-Alt-ArrowLeft",Ah,!0],null)],null),new U(null,1,5,W,[new v(null,3,[ih,"Alt-s",cg,"Lift contents of collection into parent",Ah,!0],null)],null),new U(null,2,5,W,[new v(null,2,[cg,"Shrink selections",ih,"Alt-ArrowDown"],null),new v(null,1,[ih,"Mod-2"],null)],null)]),rj=function(a,b){if(w(Od(ed,b))){var c=function(d,e){var f=Xa(e),h=Ya(e);return Uc(d,f)?Fc.j(d,f,function(){var k=Wb.g(d,f);return a.g?
a.g(k,h):a.call(null,k,h)}()):Fc.j(d,f,h)};return cd(function(d,e){return Zc(c,w(d)?d:Md,G(e))},b)}return null}(Bc,wc([Hc.v(pj,xg,wc([sg])),qj]));var tj=ii.LezerSyntax.define(ji.parser.withProps(Nj,ii.foldNodeProp.add(function(){function a(b){return{from:b.start+1,to:b.end-1}}return{Vector:a,Map:a,List:a}}()),fi.styleTags({LineComment:"lineComment","VarName/Symbol":"variableName definition",Boolean:"atom",Keyword:"atom",Number:"number",DocString:"+emphasis",RegExp:"regexp",Discard:"!comment","Operator/Symbol":"keyword",String:"string",DefLike:"keyword",Nil:"null"}))),xj=function(a){return Uf(dd(function(b,c,d){return be.g(b,Xd.g(function(e){return oj(Fc.j(e,
rh,c))},d))},Cc,a))}(rj),Mj=[tj,nj,[gk,kk],Dk,Bi];var Ji=[gi.history(),fi.defaultHighlighter,ei.multipleSelections(),ba.lineNumbers(),pa.foldGutter(),Mj,ei.keymap(xj)],aj=new Rd(Cc);function kj(){var a=Wi();Td.j(aj,Bc,new ei.EditorView({state:a,parent:document.querySelector("#editor")}))}
function uj(a,b){var c=Nc(J(b))?new U(null,2,5,W,[J(b),bc(b)],null):new U(null,2,5,W,[null,b],null);b=S(c,0,null);c=S(c,1,null);return["\x3c",pd(a),A.c(dd(function(d,e,f){return[A.c(d)," ",pd(e),"\x3d'",A.c(f),"'"].join("")},"",b)),"\x3e",A.c(T(A,c)),"\x3c/",pd(a),"\x3e"].join("")}
function vj(){for(var a=G(ab(aj)),b=null,c=0,d=0;;)if(d<c){var e=b.W(null,d);e.destroy.call(e);d+=1}else if(a=G(a))b=a,Qc(b)?(a=Cb(b),d=Db(b),b=a,c=P(a),a=d):(a=J(b),a.destroy.call(a),a=M(b),b=null,c=0),d=0;else break;kj();a=document.getElementById("docs");(null!=a?a:{}).innerHTML=uj(zi,wc([uj(ag,wc([new v(null,1,[Fj,5],null),Zc(function(f,h){var k=S(h,0,null);h=S(h,1,null);h=S(h,0,null);var l=null!=h&&(h.l&64||u===h.I)?T(X,h):h;h=Wb.g(l,ih);var m=Wb.g(l,Kg);l=Wb.g(l,cg);return[A.c(f),uj(jh,wc([uj(ph,
wc([uj(mh,wc([pd(k)]))])),uj(ph,wc([h])),uj(ph,wc([w(m)?uj(gh,wc(["+Shift ",uj(mh,wc([m]))])):null])),uj(ph,wc([l]))]))].join("")},"",Di()),"\x3c/table\x3e"])),uj(Ai,wc([J(M(Ej()))]))]));Ac(ab(aj)).focus()};try{vj()}catch(a){throw console.error("An error occurred when calling (codemirror-next.clojure.demo/render)"),a;};
}).call(this);