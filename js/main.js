var shadow$provide = {};
var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.arrayFromIterator=function(a){for(var b,c=[];!(b=a.next()).done;)c.push(b.value);return c};$jscomp.arrayIteratorImpl=function(a){var b=0;return function(){return b<a.length?{done:!1,value:a[b++]}:{done:!0}}};$jscomp.arrayIterator=function(a){return{next:$jscomp.arrayIteratorImpl(a)}};$jscomp.makeIterator=function(a){var b="undefined"!=typeof Symbol&&Symbol.iterator&&a[Symbol.iterator];return b?b.call(a):$jscomp.arrayIterator(a)};
$jscomp.arrayFromIterable=function(a){return a instanceof Array?a:$jscomp.arrayFromIterator($jscomp.makeIterator(a))};$jscomp.ASSUME_ES5=!1;$jscomp.ASSUME_NO_NATIVE_MAP=!1;$jscomp.ASSUME_NO_NATIVE_SET=!1;$jscomp.SIMPLE_FROUND_POLYFILL=!1;$jscomp.ISOLATE_POLYFILLS=!1;$jscomp.IS_SYMBOL_NATIVE="function"===typeof Symbol&&"symbol"===typeof Symbol("x");$jscomp.TRUST_ES6_POLYFILLS=!$jscomp.ISOLATE_POLYFILLS||$jscomp.IS_SYMBOL_NATIVE;$jscomp.createTemplateTagFirstArg=function(a){return a.raw=a};
$jscomp.createTemplateTagFirstArgWithRaw=function(a,b){a.raw=b;return a};$jscomp.defineProperty=$jscomp.ASSUME_ES5||"function"==typeof Object.defineProperties?Object.defineProperty:function(a,b,c){if(a==Array.prototype||a==Object.prototype)return a;a[b]=c.value;return a};
$jscomp.getGlobal=function(a){a=["object"==typeof globalThis&&globalThis,a,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof global&&global];for(var b=0;b<a.length;++b){var c=a[b];if(c&&c.Math==Math)return c}throw Error("Cannot find global object");};$jscomp.global=$jscomp.getGlobal(this);$jscomp.polyfills={};$jscomp.propertyToPolyfillSymbol={};$jscomp.POLYFILL_PREFIX="$jscp$";
var $jscomp$lookupPolyfilledValue=function(a,b){var c=$jscomp.propertyToPolyfillSymbol[b];if(null==c)return a[b];c=a[c];return void 0!==c?c:a[b]};$jscomp.polyfill=function(a,b,c,e){b&&($jscomp.ISOLATE_POLYFILLS?$jscomp.polyfillIsolated(a,b,c,e):$jscomp.polyfillUnisolated(a,b,c,e))};
$jscomp.polyfillUnisolated=function(a,b,c,e){c=$jscomp.global;a=a.split(".");for(e=0;e<a.length-1;e++){var d=a[e];if(!(d in c))return;c=c[d]}a=a[a.length-1];e=c[a];b=b(e);b!=e&&null!=b&&$jscomp.defineProperty(c,a,{configurable:!0,writable:!0,value:b})};
$jscomp.polyfillIsolated=function(a,b,c,e){var d=a.split(".");a=1===d.length;e=d[0];e=!a&&e in $jscomp.polyfills?$jscomp.polyfills:$jscomp.global;for(var f=0;f<d.length-1;f++){var g=d[f];if(!(g in e))return;e=e[g]}d=d[d.length-1];c=$jscomp.IS_SYMBOL_NATIVE&&"es6"===c?e[d]:null;b=b(c);null!=b&&(a?$jscomp.defineProperty($jscomp.polyfills,d,{configurable:!0,writable:!0,value:b}):b!==c&&($jscomp.propertyToPolyfillSymbol[d]=$jscomp.IS_SYMBOL_NATIVE?$jscomp.global.Symbol(d):$jscomp.POLYFILL_PREFIX+d,d=
$jscomp.propertyToPolyfillSymbol[d],$jscomp.defineProperty(e,d,{configurable:!0,writable:!0,value:b})))};$jscomp.underscoreProtoCanBeSet=function(){var a={a:!0},b={};try{return b.__proto__=a,b.a}catch(c){}return!1};$jscomp.setPrototypeOf=$jscomp.TRUST_ES6_POLYFILLS&&"function"==typeof Object.setPrototypeOf?Object.setPrototypeOf:$jscomp.underscoreProtoCanBeSet()?function(a,b){a.__proto__=b;if(a.__proto__!==b)throw new TypeError(a+" is not extensible");return a}:null;
$jscomp.objectCreate=$jscomp.ASSUME_ES5||"function"==typeof Object.create?Object.create:function(a){var b=function(){};b.prototype=a;return new b};
$jscomp.getConstructImplementation=function(){function a(){function c(){}new c;Reflect.construct(c,[],function(){});return new c instanceof c}if($jscomp.TRUST_ES6_POLYFILLS&&"undefined"!=typeof Reflect&&Reflect.construct){if(a())return Reflect.construct;var b=Reflect.construct;return function(c,e,d){c=b(c,e);d&&Reflect.setPrototypeOf(c,d.prototype);return c}}return function(c,e,d){void 0===d&&(d=c);d=$jscomp.objectCreate(d.prototype||Object.prototype);return Function.prototype.apply.call(c,d,e)||
d}};$jscomp.construct={valueOf:$jscomp.getConstructImplementation}.valueOf();$jscomp.inherits=function(a,b){a.prototype=$jscomp.objectCreate(b.prototype);a.prototype.constructor=a;if($jscomp.setPrototypeOf){var c=$jscomp.setPrototypeOf;c(a,b)}else for(c in b)if("prototype"!=c)if(Object.defineProperties){var e=Object.getOwnPropertyDescriptor(b,c);e&&Object.defineProperty(a,c,e)}else a[c]=b[c];a.superClass_=b.prototype};
(function(){
shadow$provide[0]=function(aa,va,Pa,D){function Aa(Q){Aa="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(I){return typeof I}:function(I){return I&&"function"===typeof Symbol&&I.constructor===Symbol&&I!==Symbol.prototype?"symbol":typeof I};return Aa(Q)}function Na(Q,I){if(I&&("object"===Aa(I)||"function"===typeof I))return I;if(void 0===Q)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return Q}function Ea(Q,I,M){Ea="undefined"!==typeof Reflect&&
Reflect.get?Reflect.get:function(P,Z,ja){for(;!Object.prototype.hasOwnProperty.call(P,Z)&&(P=Va(P),null!==P););if(P)return Z=Object.getOwnPropertyDescriptor(P,Z),Z.get?Z.get.call(ja):Z.value};return Ea(Q,I,M||Q)}function Va(Q){Va=Object.setPrototypeOf?Object.getPrototypeOf:function(I){return I.__proto__||Object.getPrototypeOf(I)};return Va(Q)}function Ba(Q,I){if("function"!==typeof I&&null!==I)throw new TypeError("Super expression must either be null or a function");Q.prototype=Object.create(I&&I.prototype,
{constructor:{value:Q,writable:!0,configurable:!0}});I&&Ca(Q,I)}function Ca(Q,I){Ca=Object.setPrototypeOf||function(M,P){M.__proto__=P;return M};return Ca(Q,I)}function Ga(Q,I){if(!(Q instanceof I))throw new TypeError("Cannot call a class as a function");}function Oa(Q,I){for(var M=0;M<I.length;M++){var P=I[M];P.enumerable=P.enumerable||!1;P.configurable=!0;"value"in P&&(P.writable=!0);Object.defineProperty(Q,P.key,P)}}function ua(Q,I,M){I&&Oa(Q.prototype,I);M&&Oa(Q,M);return Q}function Fa(Q){return 127462<=
Q&&127487>=Q}function ka(Q,I){if(I==Q.length)return I;var M;if(M=I)M=Q.charCodeAt(I),M=56320<=M&&57344>M;M&&(M=Q.charCodeAt(I-1),M=55296<=M&&56320>M);M&&I--;M=Ja(Q,I);for(I+=la(M);I<Q.length;){var P=Ja(Q,I),Z;if(!(Z=M==B||P==B))a:{for(Z=1;Z<t.length;Z+=2)if(t[Z]>P){Z=t[Z-1]<=P;break a}Z=!1}if(Z)I+=la(P),M=P;else if(Fa(P)){P=0;for(Z=I-2;0<=Z&&Fa(Ja(Q,Z));)P++,Z-=2;if(0==P%2)break;else I+=2}else break}return I}function Qa(Q,I){for(;0<I;){var M=ka(Q,I-2);if(M<I)return M;I--}return 0}function Ja(Q,I){var M=
Q.charCodeAt(I);if(!(55296<=M&&56320>M)||I+1==Q.length)return M;Q=Q.charCodeAt(I+1);return 56320<=Q&&57344>Q?(M-55296<<10)+(Q-56320)+65536:M}function la(Q){return 65536>Q?1:2}function ca(Q,I){A=(A+2)%n;O[A]=Q;return O[A+1]=I}function U(Q){var I=-1,M=!0,P=!1,Z=void 0;try{for(var ja=Q[Symbol.iterator](),Ha;!(M=(Ha=ja.next()).done);M=!0)I+=Ha.value.length+1}catch(Ka){P=!0,Z=Ka}finally{try{if(!M&&null!=ja["return"])ja["return"]()}finally{if(P)throw Z;}}return I}function J(Q,I){for(var M=2<arguments.length&&
void 0!==arguments[2]?arguments[2]:0,P=3<arguments.length&&void 0!==arguments[3]?arguments[3]:1E9,Z=0,ja=0,Ha=!0;ja<Q.length&&Z<=P;ja++){var Ka=Q[ja],Ra=Z+Ka.length;Ra>=M&&(Ra>P&&(Ka=Ka.slice(0,P-Z)),Z<M&&(Ka=Ka.slice(M-Z)),Ha?(I[I.length-1]+=Ka,Ha=!1):I.push(Ka));Z=Ra+1}return I}function u(Q,I){if(Q.length!=I.length||Q.lines!=I.lines)return!1;Q=new p(Q);I=new p(I);for(var M=0,P=0;;){if(Q.lineBreak!=I.lineBreak||Q.done!=I.done)return!1;if(Q.done)return!0;if(Q.lineBreak)Q.next(),I.next(),M=P=0;else{var Z=
Q.value.slice(M),ja=I.value.slice(P);if(Z.length==ja.length){if(Z!=ja)return!1;Q.next();I.next();M=P=0}else if(Z.length>ja.length){if(Z.slice(0,ja.length)!=ja)return!1;M+=ja.length;I.next();P=0}else{if(ja.slice(0,Z.length)!=Z)return!1;P+=Z.length;Q.next();M=0}}}}Object.defineProperty(D,"__esModule",{value:!0});D.codePointAt=Ja;D.codePointSize=la;D.countColumn=function(Q,I,M){for(var P=0;P<Q.length;)9==Q.charCodeAt(P)?(I+=M-I%M,P++):(I++,P=ka(Q,P));return I};D.findColumn=function(Q,I,M,P){for(var Z=
0;Z<Q.length;){if(I>=M)return{offset:Z,leftOver:0};I+=9==Q.charCodeAt(Z)?P-I%P:1;Z=ka(Q,Z)}return{offset:Q.length,leftOver:M-I}};D.fromCodePoint=function(Q){if(65535>=Q)return String.fromCharCode(Q);Q-=65536;return String.fromCharCode((Q>>10)+55296,(Q&1023)+56320)};D.nextClusterBreak=ka;D.prevClusterBreak=Qa;D.Text=D.Line=void 0;var t="lc 34 7n 7 7b 19    2  2   20 b 1c l g  2t 7 2 6 2 2  4 z  u r 2j b 1m 9 9  o 4  9  3  5 17 3 3b f  w 1j    4 8 4  3 7 a 2 t  1m    2 4 8  9  a 2 q  2 2 1l  4 2 4 2 2 3 3  u 2 3  b 2 1l  4 5  2 4  k 2 m 6   1m   2  4 8  7 3 a 2 u  1n    c  9  14  3  1l 3 5 3  4 7 2 b 2 t  1m  2  2  3  5 2 7 2 b 2 s 2 1l 2   2 4 8  9  a 2 t  20  4  2 3   8  29  2 7 c 8 2q  2 9 b 6 22 2 r      1j e  5  2 5 b  10 9  2u 4  6  2 2 2 p 2 4 3 g 4 d  2 2 6  f  jj 3 qa 3 t 3 t 2 u 2 1s 2  7 8  2 b 9  19 3 3b 2 y  3a 3 4 2 9  6 3 63 2 2  1m   7     2 8 6 a 2  1c h 1r 4 1c 7   5  14 9 c 2 w 4 2 2  3 1k   2 3   3 1m 8 2 2 48 3  d  7 4  6  3 2 5i 1m  5 ek  5f x 2da 3 3x  2o w fe 6 2x 2 n9w 4  a w 2 28 2 7k  3  4  p 2 5  47 2 q i d  12 8 p b 1a 3 1c  2 4 2 2 13  1v 6 2 2 2 2 c  8  1b  1f   3 2 2 5 2   16 2 8  6m  2  4  fn4  kh g g g a6 2 gt  6a  45 5 1ae 3  2 5 4 14 3 4  4l 2 fx 4 ar 2 49 b 4w  1i f 1k 3 1d 4 2 2 1x 3 10 5  8 1q  c 2 1g 9 a 4 2  2n 3 2   2 6  4g  3 8 l 2 1l 2     m  e 7 3 5 5f 8 2 3   n  29  2 6   2   2  2 6j  2 4 6 2  2 r 2 2d 8 2   2 2y    2 6   2t 3 2 4  5 77 9  2 6t  a 2   4  40 4 2 2 4  w a 14 6 2 4 8  9 6 2 3 1a d  2 ba 7  6   2a m 2 7  2  2 3e 6 3   2  7   20 2 3    9n 2 f0b 5 1n 7 t4  1r 4 29  f5k 2 43q   3 4 5 8 8 2 7 u 4 44 3 1iz 1j 4 1e 8  e  m 5  f 11s 7  h 2 7  2  5 79 7 c5 4 15s 7 31 7 240 5 gx7k 2o 3k 6o".split(" ").map(function(Q){return Q?
parseInt(Q,36):1});for(aa=1;aa<t.length;aa++)t[aa]+=t[aa-1];var B=8205,L=function(){function Q(){Ga(this,Q)}ua(Q,[{key:"lineAt",value:function(I){if(0>I||I>this.length)throw new RangeError("Invalid position ".concat(I," in document of length ").concat(this.length));for(var M=0;M<O.length;M+=2)if(O[M]==this){var P=O[M+1];if(P.start<=I&&P.end>=I)return P}return ca(this,this.lineInner(I,!1,1,0).finish(this))}},{key:"line",value:function(I){if(1>I||I>this.lines)throw new RangeError("Invalid line number ".concat(I,
" in ").concat(this.lines,"-line document"));for(var M=0;M<O.length;M+=2)if(O[M]==this){var P=O[M+1];if(P.number==I)return P}return ca(this,this.lineInner(I,!0,1,0).finish(this))}},{key:"replace",value:function(I,M,P){var Z=[];this.decompose(0,I,Z);Z.push(P);this.decompose(M,this.length,Z);return w.from(Z,this.length-(M-I)+P.length)}},{key:"append",value:function(I){return 0==this.length?I:0==I.length?this:w.from([this,I],this.length+I.length)}},{key:"slice",value:function(I){var M=1<arguments.length&&
void 0!==arguments[1]?arguments[1]:this.length,P=[];this.decompose(I,M,P);return w.from(P,M-I)}},{key:"eq",value:function(I){return this==I||u(this,I)}},{key:"iter",value:function(){return new p(this,0<arguments.length&&void 0!==arguments[0]?arguments[0]:1)}},{key:"iterRange",value:function(I){return new v(this,I,1<arguments.length&&void 0!==arguments[1]?arguments[1]:this.length)}},{key:"iterLines",value:function(){return new x(this,0<arguments.length&&void 0!==arguments[0]?arguments[0]:0)}},{key:"toString",
value:function(){return this.sliceString(0)}}],[{key:"of",value:function(I){if(0==I.length)throw new RangeError("A document must have at least one line");if(1==I.length&&!I[0]&&Q.empty)return Q.empty;var M=U(I);return 1024>M?new z(I,M):w.from(z.split(I,[]),M)}}]);return Q}();D.Text=L;"undefined"!=typeof Symbol&&(L.prototype[Symbol.iterator]=function(){return this.iter()});var O=[],A=-2,n=12,z=function(Q){function I(M){var P=1<arguments.length&&void 0!==arguments[1]?arguments[1]:U(M);Ga(this,I);var Z=
Na(this,Va(I).call(this));Z.text=M;Z.length=P;return Z}Ba(I,Q);ua(I,[{key:"lineInner",value:function(M,P,Z,ja){for(var Ha=0;;Ha++){var Ka=this.text[Ha],Ra=ja+Ka.length;if((P?Z:Ra)>=M)return new N(ja,Ra,Z,Ka);ja=Ra+1;Z++}}},{key:"decompose",value:function(M,P,Z){Z.push(new I(J(this.text,[""],M,P),Math.min(P,this.length)-Math.max(0,M)))}},{key:"lastLineLength",value:function(){return this.text[this.text.length-1].length}},{key:"firstLineLength",value:function(){return this.text[0].length}},{key:"replace",
value:function(M,P,Z){var ja=this.length+Z.length-(P-M);return 1024<=ja||!(Z instanceof I)?Ea(Va(I.prototype),"replace",this).call(this,M,P,Z):new I(J(this.text,J(Z.text,J(this.text,[""],0,M)),P),ja)}},{key:"sliceString",value:function(M){for(var P=1<arguments.length&&void 0!==arguments[1]?arguments[1]:this.length,Z=2<arguments.length&&void 0!==arguments[2]?arguments[2]:"\n",ja="",Ha=0,Ka=0;Ha<=P&&Ka<this.text.length;Ka++){var Ra=this.text[Ka],$a=Ha+Ra.length;Ha>M&&Ka&&(ja+=Z);M<$a&&P>Ha&&(ja+=Ra.slice(Math.max(0,
M-Ha),P-Ha));Ha=$a+1}return ja}},{key:"flatten",value:function(M){M[M.length-1]+=this.text[0];for(var P=1;P<this.text.length;P++)M.push(this.text[P])}},{key:"lines",get:function(){return this.text.length}},{key:"children",get:function(){return null}}],[{key:"split",value:function(M,P){var Z=[],ja=-1,Ha=!0,Ka=!1,Ra=void 0;try{for(var $a=M[Symbol.iterator](),eb;!(Ha=(eb=$a.next()).done);Ha=!0)for(var nb=eb.value;;){var Qb=ja+nb.length+1;if(512>Qb){ja=Qb;Z.push(nb);break}M=512-ja-1;var Nb=nb.charCodeAt(M);
56320<=Nb&&57344>Nb&&M++;Z.push(nb.slice(0,M));P.push(new I(Z,512));nb=nb.slice(M);ja=-1;Z=[]}}catch(Ib){Ka=!0,Ra=Ib}finally{try{if(!Ha&&null!=$a["return"])$a["return"]()}finally{if(Ka)throw Ra;}}-1!=ja&&P.push(new I(Z,ja));return P}}]);return I}(L),w=function(Q){function I(M,P){Ga(this,I);var Z=Na(this,Va(I).call(this));Z.children=M;Z.length=P;Z.lines=1;P=!0;var ja=!1,Ha=void 0;try{for(var Ka=M[Symbol.iterator](),Ra;!(P=(Ra=Ka.next()).done);P=!0)Z.lines+=Ra.value.lines-1}catch($a){ja=!0,Ha=$a}finally{try{if(!P&&
null!=Ka["return"])Ka["return"]()}finally{if(ja)throw Ha;}}return Z}Ba(I,Q);ua(I,[{key:"lineInner",value:function(M,P,Z,ja){for(var Ha=0;;Ha++){var Ka=this.children[Ha],Ra=ja+Ka.length,$a=Z+Ka.lines-1;if((P?$a:Ra)>=M)return M=Ka.lineInner(M,P,Z,ja),P=void 0,M.from==ja&&(P=this.lineLengthTo(Ha))&&(M.from-=P,M.content=null),M.to==Ra&&(P=this.lineLengthFrom(Ha+1))&&(M.to+=P,M.content=null),M;ja=Ra;Z=$a}}},{key:"decompose",value:function(M,P,Z){for(var ja=0,Ha=0;Ha<P&&ja<this.children.length;ja++){var Ka=
this.children[ja],Ra=Ha+Ka.length;M<Ra&&P>Ha&&(Ha>=M&&Ra<=P?Z.push(Ka):Ka.decompose(M-Ha,P-Ha,Z));Ha=Ra}}},{key:"lineLengthTo",value:function(M){var P=0;for(--M;0<=M;M--){var Z=this.children[M];if(1<Z.lines)return P+Z.lastLineLength();P+=Z.length}return P}},{key:"lastLineLength",value:function(){return this.lineLengthTo(this.children.length)}},{key:"lineLengthFrom",value:function(M){for(var P=0;M<this.children.length;M++){var Z=this.children[M];if(1<Z.lines)return P+Z.firstLineLength();P+=Z.length}return P}},
{key:"firstLineLength",value:function(){return this.lineLengthFrom(0)}},{key:"replace",value:function(M,P,Z){if(512>Z.length&&512>P-M)for(var ja=Z.length-(P-M),Ha=0,Ka=0;Ha<this.children.length;Ha++){var Ra=this.children[Ha],$a=Ka+Ra.length;if(M>=Ka&&P<=$a&&Ra.length+ja<this.length+ja>>2&&0<Ra.length+ja)return $a=this.children.slice(),$a[Ha]=Ra.replace(M-Ka,P-Ka,Z),new I($a,this.length+ja);Ka=$a}return Ea(Va(I.prototype),"replace",this).call(this,M,P,Z)}},{key:"sliceString",value:function(M){for(var P=
1<arguments.length&&void 0!==arguments[1]?arguments[1]:this.length,Z=2<arguments.length&&void 0!==arguments[2]?arguments[2]:"\n",ja="",Ha=0,Ka=0;Ka<P&&Ha<this.children.length;Ha++){var Ra=this.children[Ha],$a=Ka+Ra.length;if(M<$a&&P>Ka){Ra=Ra.sliceString(M-Ka,P-Ka,Z);if(M>=Ka&&P<=$a)return Ra;ja+=Ra}Ka=$a}return ja}},{key:"flatten",value:function(M){var P=!0,Z=!1,ja=void 0;try{for(var Ha=this.children[Symbol.iterator](),Ka;!(P=(Ka=Ha.next()).done);P=!0)Ka.value.flatten(M)}catch(Ra){Z=!0,ja=Ra}finally{try{if(!P&&
null!=Ha["return"])Ha["return"]()}finally{if(Z)throw ja;}}}}],[{key:"from",value:function(M,P){function Z(wb){var Db=wb.length;if(Db)if(Db>Nb&&wb instanceof I){Db=!0;var Bb=!1;var kc=void 0;try{for(var Ob=wb.children[Symbol.iterator](),hc;!(Db=(hc=Ob.next()).done);Db=!0)Z(hc.value)}catch(lc){Bb=!0,kc=lc}finally{try{if(!Db&&null!=Ob["return"])Ob["return"]()}finally{if(Bb)throw kc;}}}else Db>Ib&&(ob>Ib||0==ob)?(ja(),Jb.push(wb)):wb instanceof z&&0<ob&&(Bb=Kb[Kb.length-1])instanceof z&&512>=wb.length+
Bb.length?(ob+=Db,Kb[Kb.length-1]=new z(J(wb.text,Bb.text.slice()),wb.length+Bb.length)):(ob+Db>Qb&&ja(),ob+=Db,Kb.push(wb))}function ja(){0!=ob&&(Jb.push(1==Kb.length?Kb[0]:I.from(Kb,ob)),ob=0,Kb.length=0)}if(!M.every(function(wb){return wb instanceof L}))throw Error("NOP");if(1024>P){var Ha=[""],Ka=!0,Ra=!1,$a=void 0;try{for(var eb=M[Symbol.iterator](),nb;!(Ka=(nb=eb.next()).done);Ka=!0)nb.value.flatten(Ha)}catch(wb){Ra=!0,$a=wb}finally{try{if(!Ka&&null!=eb["return"])eb["return"]()}finally{if(Ra)throw $a;
}}return new z(Ha,P)}var Qb=Math.max(512,P>>3),Nb=Qb<<1,Ib=Qb>>1,Jb=[],ob=0,Kb=[];eb=!0;nb=!1;Ra=void 0;try{for(Ha=M[Symbol.iterator]();!(eb=(Ka=Ha.next()).done);eb=!0)Z(Ka.value)}catch(wb){nb=!0,Ra=wb}finally{try{if(!eb&&null!=Ha["return"])Ha["return"]()}finally{if(nb)throw Ra;}}ja();return 1==Jb.length?Jb[0]:new I(Jb,P)}}]);return I}(L);L.empty=L.of([""]);var p=function(){function Q(I){var M=1<arguments.length&&void 0!==arguments[1]?arguments[1]:1;Ga(this,Q);this.dir=M;this.lineBreak=this.done=
!1;this.value="";this.nodes=[I];this.offsets=[0<M?0:I instanceof z?I.text.length:I.children.length]}ua(Q,[{key:"next",value:function(){for(var I=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0;;){var M=this.nodes.length-1;if(0>M)return this.done=!0,this.value="",this.lineBreak=!1,this;var P=this.nodes[M],Z=this.offsets[M];if(P instanceof z)if(Z==(0<this.dir?0:P.text.length)||this.lineBreak){var ja=P.text[Z-(0>this.dir?1:0)];this.offsets[M]=Z+=this.dir;Z==(0<this.dir?P.text.length:0)&&(this.nodes.pop(),
this.offsets.pop());this.lineBreak=!1;if(ja.length>Math.max(0,I))return this.value=0==I?ja:0<this.dir?ja.slice(I):ja.slice(0,ja.length-I),this;I-=ja.length}else{this.lineBreak=!0;if(0==I)return this.value="\n",this;I--}else Z==(0<this.dir?P.children.length:0)?(this.nodes.pop(),this.offsets.pop()):(P=P.children[0<this.dir?Z:Z-1],ja=P.length,this.offsets[M]=Z+this.dir,I>ja?I-=ja:(this.nodes.push(P),this.offsets.push(0<this.dir?0:P instanceof z?P.text.length:P.children.length)))}}}]);return Q}(),v=function(){function Q(I,
M,P){Ga(this,Q);this.value="";this.cursor=new p(I,M>P?-1:1);M>P?(this.skip=I.length-M,this.limit=M-P):(this.skip=M,this.limit=P-M)}ua(Q,[{key:"next",value:function(){if(0>=this.limit)this.limit=-1;else{var I=this.cursor.next(this.skip),M=I.value,P=I.lineBreak;I=I.done;this.skip=0;this.value=M;P=P?1:M.length;P>this.limit&&(this.value=0<this.cursor.dir?M.slice(0,this.limit):M.slice(P-this.limit));this.limit=I||0==this.value.length?-1:this.limit-this.value.length}return this}},{key:"lineBreak",get:function(){return this.cursor.lineBreak}},
{key:"done",get:function(){return 0>this.limit}}]);return Q}(),x=function(){function Q(I){var M=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0;Ga(this,Q);this.value="";this.done=!1;this.cursor=I.iter();this.skip=M}ua(Q,[{key:"next",value:function(){if(this.cursor.done)return this.done=!0,this.value="",this;for(this.value="";;){var I=this.cursor.next(this.skip),M=I.value,P=I.lineBreak;I=I.done;this.skip=0;if(I||P)return this;this.value+=M}}},{key:"lineBreak",get:function(){return!1}}]);return Q}(),
N=function(){function Q(I,M,P,Z){Ga(this,Q);this.from=I;this.to=M;this.number=P;this.content=Z}ua(Q,[{key:"slice",value:function(){var I=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0,M=1<arguments.length&&void 0!==arguments[1]?arguments[1]:this.length;if("string"==typeof this.content)return M==I+1?this.content.charAt(I):this.content.slice(I,M);if(I==M)return"";var P=this.content.slice(I,M);0==I&&M==this.length&&(this.content=P);return P}},{key:"finish",value:function(I){null==this.content&&
(this.content=new T(I,this.from));return this}},{key:"findClusterBreak",value:function(I,M){if(0>I||I>this.length)throw new RangeError("Invalid position given to Line.findClusterBreak");if("string"==this.content){var P=this.from;var Z=this.content}else P=Math.max(0,I-256),Z=this.slice(P,Math.min(this.length,P+512));return(M?ka:Qa)(Z,I-P)+P}},{key:"length",get:function(){return this.to-this.from}}]);return Q}();D.Line=N;var T=function(){function Q(I,M){Ga(this,Q);this.doc=I;this.start=M;this.strings=
this.cursor=null}ua(Q,[{key:"slice",value:function(I,M){this.cursor||(this.cursor=this.doc.iter(),this.strings=[this.cursor.next(this.start).value]);for(var P="",Z=0,ja=0;;ja++){ja==this.strings.length&&this.strings.push(this.cursor.next().value);var Ha=this.strings[ja],Ka=Z;Z+=Ha.length;if(!(Z<=I)&&(P+=Ha.slice(Math.max(0,I-Ka),Math.min(Ha.length,M-Ka)),Z>=M))return P}}}]);return Q}()};
shadow$provide[1]=function(aa,va,Pa,D){function Aa(J){function u(x,N,T,Q,I){var M=p.id,P=p.start,Z=p.end,ja=p.size,Ha=P-x;if(0>ja)T.push(z[M]),Q.push(Ha),p.next();else{var Ka=v[M],Ra;if(Ra=Z-P<=n){var $a=p.pos-N;var eb=p.fork();var nb=Ra=N=0,Qb=eb.end-n;$a=eb.pos-$a;a:for(;eb.pos>$a;){var Nb=eb.size,Ib=eb.pos-Nb;if(0>Nb||Ib<$a||eb.start<Qb)break;var Jb=eb.id>=w?4:0,ob=eb.start;for(eb.next();eb.pos>Ib;){if(0>eb.size)break a;eb.id>=w&&(Jb+=4);eb.next()}Ra=ob;N+=Nb;nb+=Jb}Ra=eb=4<N?{size:N,start:Ra,
skip:nb}:null}if(Ra){Ha=new Uint16Array(eb.size-eb.skip);ja=p.pos-eb.size;for(P=Ha.length;p.pos>ja;)P=t(eb.start,Ha,P);Z=new Qa(Ha,Z-eb.start,L,I);Ha=eb.start-x}else{ja=p.pos-ja;p.next();x=[];I=[];M=M>=L.types.length?M-(L.types.length-w):-1;if(-1<M)for(Ka=v[M];p.pos>ja;)u(P,ja,x,I,p.id==M?Ka:Oa.none);else for(;p.pos>ja;)u(P,ja,x,I,Oa.none);x.reverse();I.reverse();Z=-1<M&&x.length>U?Na(Ka,Ka,x,I,0,x.length,0,n,Z-P):new ua(Ka,x,I,Z-P)}T.push(Z);Q.push(Ha)}}function t(x,N,T){var Q=p.id,I=p.start,M=p.end,
P=p.size;p.next();var Z=T;if(4<P)for(P=p.pos-(P-4);p.pos>P;)T=t(x,N,T);Q<w&&(N[--T]=Z,N[--T]=M-x,N[--T]=I-x,N[--T]=Q);return T}var B=J.buffer,L=J.group,O=J.topID;O=void 0===O?0:O;var A=J.maxBufferLength,n=void 0===A?D.DefaultBufferLength:A;A=J.reused;var z=void 0===A?[]:A;J=J.minRepeatType;var w=void 0===J?L.types.length:J,p=Array.isArray(B)?new ca(B,B.length):B,v=L.types;B=[];for(J=[];0<p.pos;)u(0,0,B,J,Oa.none);A=B.length?J[0]+B[0].length:0;return new ua(L.types[O],B.reverse(),J.reverse(),A)}function Na(J,
u,t,B,L,O,A,n,z){var w=[],p=[];if(z<=n)for(;L<O;L++)w.push(t[L]),p.push(B[L]-A);else for(var v=Math.max(n,Math.ceil(1.5*z/U));L<O;){var x=L,N=B[L];for(L++;L<O&&!(B[L]+t[L].length-N>v);L++);if(L==x+1){x=t[x];if(x instanceof ua&&x.type==u&&x.length>v<<1){for(var T=0;T<x.children.length;T++)w.push(x.children[T]),p.push(x.positions[T]+N-A);continue}w.push(x)}else if(L==x+1)w.push(t[x]);else{x=Na(u,u,t,B,x,L,N,n,B[L-1]+t[L-1].length-N);if(T=u!=Oa.none){a:{T=0;for(var Q=x.children;T<Q.length;T++)if(Q[T].type==
u){T=!0;break a}T=!1}T=!T}T&&(x=new ua(Oa.none,x.children,x.positions,x.length));w.push(x)}p.push(N-A)}return new ua(J,w,p,z)}var Ea=this&&this.__extends||function(){var J=function(u,t){J=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(B,L){B.__proto__=L}||function(B,L){for(var O in L)L.hasOwnProperty(O)&&(B[O]=L[O])};return J(u,t)};return function(u,t){function B(){this.constructor=u}J(u,t);u.prototype=null===t?Object.create(t):(B.prototype=t.prototype,new B)}}();Object.defineProperty(D,
"__esModule",{value:!0});D.DefaultBufferLength=1024;var Va=function(){function J(u,t){this.enter=u;this.leave=t;this.result=void 0}Object.defineProperty(J.prototype,"done",{get:function(){return void 0!==this.result},enumerable:!0,configurable:!0});J.prototype.doEnter=function(u,t,B){u=this.enter(u,t,B);if(void 0===u)return!0;!1!==u&&(this.result=u);return!1};return J}(),Ba=0,Ca=function(){function J(u){u=(void 0===u?{}:u).deserialize;this.id=Ba++;this.deserialize=u||function(){throw Error("This node type doesn't define a deserialize function");
}}J.string=function(){return new J({deserialize:function(u){return u}})};J.number=function(){return new J({deserialize:Number})};J.flag=function(){return new J({deserialize:function(){return!0}})};J.prototype.set=function(u,t){u[this.id]=t;return u};J.prototype.add=function(u){return new Ga(this,"function"==typeof u?u:Oa.match(u))};J.error=J.flag();J.skipped=J.flag();J.closedBy=new J({deserialize:function(u){return u.split(" ")}});J.openedBy=new J({deserialize:function(u){return u.split(" ")}});J.top=
J.flag();return J}();D.NodeProp=Ca;var Ga=function(){return function(J,u){this.prop=J;this.f=u}}();D.NodePropSource=Ga;var Oa=function(){function J(u,t,B){this.name=u;this.props=t;this.id=B}J.prototype.prop=function(u){return this.props[u.id]};J.match=function(u){var t=Object.create(null),B;for(B in u)for(var L=0,O=B.split(" ");L<O.length;L++)t[O[L]]=u[B];return function(A){return t[A.name]}};J.none=new J("",Object.create(null),0);return J}();D.NodeType=Oa;aa=function(){function J(u){this.types=u;
for(var t=0;t<u.length;t++)if(u[t].id!=t)throw new RangeError("Node type ids should correspond to array positions when creating a node group");}J.prototype.extend=function(){for(var u=[],t=0;t<arguments.length;t++)u[t]=arguments[t];t=[];for(var B=0,L=this.types;B<L.length;B++){for(var O=L[B],A=null,n=0,z=u;n<z.length;n++){var w=z[n],p=w.f(O);if(void 0!==p){if(!A){A=Object.create(null);for(var v in O.props)A[v]=O.props[v]}A[w.prop.id]=p}}t.push(A?new Oa(O.name,A,O.id):O)}return new J(t)};return J}();
D.NodeGroup=aa;aa=function(){function J(){}Object.defineProperty(J.prototype,"name",{get:function(){return this.type.name},enumerable:!0,configurable:!0});Object.defineProperty(J.prototype,"depth",{get:function(){for(var u=0,t=this.parent;t;t=t.parent)u++;return u},enumerable:!0,configurable:!0});Object.defineProperty(J.prototype,"root",{get:function(){for(var u=this;u.parent;)u=u.parent;return u},enumerable:!0,configurable:!0});J.prototype.resolve=function(u,t){void 0===t&&(t=0);var B=this.resolveAt(u);
if(0!=t)for(;;){var L=0>t?B.childBefore(u):B.childAfter(u);if(!L||(0>t?L.end:L.start)!=u)break;B=L}return B};Object.defineProperty(J.prototype,"firstChild",{get:function(){return this.childAfter(this.start-1)},enumerable:!0,configurable:!0});Object.defineProperty(J.prototype,"lastChild",{get:function(){return this.childBefore(this.end+1)},enumerable:!0,configurable:!0});return J}();D.Subtree=aa;var ua=function(J){function u(t,B,L,O){var A=J.call(this)||this;A.type=t;A.children=B;A.positions=L;A.length=
O;return A}Ea(u,J);Object.defineProperty(u.prototype,"start",{get:function(){return 0},enumerable:!0,configurable:!0});Object.defineProperty(u.prototype,"end",{get:function(){return this.length},enumerable:!0,configurable:!0});u.prototype.toString=function(){var t=this.children.map(function(B){return B.toString()}).join();return this.name?(/\W/.test(this.name)&&!this.type.prop(Ca.error)?JSON.stringify(this.name):this.name)+(t.length?"("+t+")":""):t};u.prototype.partial=function(t,B,L,O,A){for(var n=
0;n<this.children.length;n++){var z=this.positions[n];if(z>B)break;var w=this.children[n],p=z+w.length;p<t||(t<=z&&B>=p?(O.push(w),A.push(z+L)):w instanceof u&&w.partial(t-z,B-z,L+z,O,A))}};u.prototype.applyChanges=function(t){function B(v,x,N){var T=-1;v.iterate({from:x,to:0>N?0:v.length,enter:function(){return 0>T?void 0:!1},leave:function(Q,I,M){0>T&&(0>N?M<=x:I>=x)&&!Q.prop(Ca.error)&&(T=0>N?Math.min(x,M-1):Math.max(x,I+1))}});return-1<T?T:0>N?0:v.length}if(0==t.length)return this;for(var L=[],
O=[],A=0,n=0,z=0;;n++){var w=n==t.length?null:t[n],p=w?B(this,w.fromA,-1):this.length;p>z&&this.partial(z,p,A,L,O);if(!w)break;z=B(this,w.toA,1);A+=w.toB-w.fromB-(w.toA-w.fromA)}return new u(Oa.none,L,O,this.length+A)};u.prototype.cut=function(t){if(t>=this.length)return this;for(var B=[],L=[],O=0;O<this.children.length;O++){var A=this.positions[O];if(A>=t)break;var n=this.children[O];B.push(A+n.length<=t?n:n.cut(t-A));L.push(A)}return new u(this.type,B,L,t)};u.prototype.iterate=function(t){var B=
t.from;B=void 0===B?this.start:B;var L=t.to;L=void 0===L?this.end:L;t=new Va(t.enter,t.leave);this.iterInner(B,L,0,t);return t.result};u.prototype.iterInner=function(t,B,L,O){if(!this.type.name||O.doEnter(this.type,L,L+this.length)){if(t<=B)for(var A=0;A<this.children.length&&!O.done;A++){var n=this.children[A],z=this.positions[A]+L,w=z+n.length;if(z>B)break;w<t||n.iterInner(t,B,z,O)}else for(A=this.children.length-1;0<=A&&!O.done;A--){n=this.children[A];z=this.positions[A]+L;w=z+n.length;if(w<B)break;
z>t||n.iterInner(t,B,z,O)}O.leave&&this.type.name&&O.leave(this.type,L,L+this.length)}};u.prototype.resolveAt=function(t){if(Fa==this)for(var B=ka;;){var L=B.parent;if(!L)break;if(B.start<t&&B.end>t)return B.resolve(t);B=L}Fa=this;return ka=this.resolveInner(t,0,this)};u.prototype.childBefore=function(t){return this.findChild(t,-1,0,this)};u.prototype.childAfter=function(t){return this.findChild(t,1,0,this)};u.prototype.findChild=function(t,B,L,O){for(var A=0;A<this.children.length;A++){var n=this.positions[A]+
L,z=-1;if(n>=t)if(0>B&&0<A)z=A-1;else if(0<B)z=A;else break;0>z&&(n+this.children[A].length>t||0>B&&A==this.children.length-1)&&(z=A);if(0<=z&&(n=this.children[z],z=this.positions[z]+L,0!=n.length||z!=t)){if(n instanceof u)return n.type.name?new Ja(n,z,O):n.findChild(t,B,z,O);var w=n.findIndex(t,B,z,0,n.buffer.length);if(-1<w)return new la(n,z,w,O)}}return null};u.prototype.resolveInner=function(t,B,L){return(B=this.findChild(t,0,B,L))?B.resolveAt(t):L};u.prototype.append=function(t){if(t.children.length&&
t.positions[0]<this.length)throw Error("Can't append overlapping trees");return new u(this.type,this.children.concat(t.children),this.positions.concat(t.positions),t.length)};u.prototype.balance=function(t){void 0===t&&(t=D.DefaultBufferLength);return this.children.length<=U?this:Na(this.type,Oa.none,this.children,this.positions,0,this.children.length,0,t,this.length)};u.build=function(t){return Aa(t)};u.empty=new u(Oa.none,[],[],0);return u}(aa);D.Tree=ua;ua.prototype.parent=null;var Fa=ua.empty,
ka=ua.empty,Qa=function(){function J(u,t,B,L){void 0===L&&(L=Oa.none);this.buffer=u;this.length=t;this.group=B;this.type=L}J.prototype.toString=function(){for(var u=[],t=0;t<this.buffer.length;)t=this.childToString(t,u);return u.join(",")};J.prototype.childToString=function(u,t){var B=this.buffer[u+3],L=this.group.types[this.buffer[u]],O=L.name;/\W/.test(O)&&!L.prop(Ca.error)&&(O=JSON.stringify(O));u+=4;if(B>u){for(L=[];u<B;)u=this.childToString(u,L);O+="("+L.join(",")+")"}t.push(O);return u};J.prototype.cut=
function(u){for(var t=0;t<this.buffer.length&&this.buffer[t+1]<u;)t+=4;for(var B=new Uint16Array(t),L=0;L<t;L+=4)B[L]=this.buffer[L],B[L+1]=this.buffer[L+1],B[L+2]=Math.min(u,this.buffer[L+2]),B[L+3]=Math.min(this.buffer[L+3],t);return new J(B,Math.min(u,this.length),this.group)};J.prototype.iterate=function(u){var t=u.from;t=void 0===t?0:t;var B=u.to;B=void 0===B?this.length:B;u=new Va(u.enter,u.leave);this.iterInner(t,B,0,u);return u.result};J.prototype.iterInner=function(u,t,B,L){if(u<=t)for(var O=
0;O<this.buffer.length;)O=this.iterChild(u,t,B,O,L);else this.iterRev(u,t,B,0,this.buffer.length,L)};J.prototype.iterChild=function(u,t,B,L,O){var A=this.group.types[this.buffer[L++]],n=this.buffer[L++]+B,z=this.buffer[L++]+B,w=this.buffer[L++];if(n>t)return this.buffer.length;if(z>=u&&O.doEnter(A,n,z)){for(;L<w&&!O.done;)L=this.iterChild(u,t,B,L,O);O.leave&&O.leave(A,n,z)}return w};J.prototype.parentNodesByEnd=function(u,t){for(var B=this,L=[],O=function(A){var n=B.buffer[A+3];if(n==A+4)return n;
for(var z=A+4;z<n;)z=O(z);L.push(A);return n};u<t;)u=O(u);return L};J.prototype.iterRev=function(u,t,B,L,O,A){var n=this,z=this.parentNodesByEnd(L,O),w=-1,p=-1,v=function(){0<z.length?(w=z.pop(),p=n.buffer[w+3]):p=-1};v();a:for(;O>L&&!A.done;){for(;p==O;){var x=w,N=this.buffer[x],T=this.buffer[x+1]+B,Q=this.buffer[x+2]+B;v();if(T<=u&&Q>=t&&!A.doEnter(this.group.types[N],T,Q)){for(O=x;p>x;)v();continue a}}x=this.buffer[--O];N=this.buffer[--O]+B;T=this.buffer[--O]+B;Q=this.buffer[--O];T>u||N<t||(x!=
O+4||A.doEnter(this.group.types[Q],T,N))&&A.leave&&A.leave(this.group.types[Q],T,N)}};J.prototype.findIndex=function(u,t,B,L,O){for(var A=-1,n=this.buffer;L<O;){var z=n[L+1]+B,w=n[L+2]+B,p=z==w&&z==u;if(z>=u){if(0<t&&!p)return L;break}if(w>u)return L;p||(A=L);L=n[L+3]}return 0>t?A:-1};return J}();D.TreeBuffer=Qa;var Ja=function(J){function u(t,B,L){var O=J.call(this)||this;O.node=t;O.start=B;O.parent=L;return O}Ea(u,J);Object.defineProperty(u.prototype,"type",{get:function(){return this.node.type},
enumerable:!0,configurable:!0});Object.defineProperty(u.prototype,"end",{get:function(){return this.start+this.node.length},enumerable:!0,configurable:!0});u.prototype.resolveAt=function(t){return t<=this.start||t>=this.end?this.parent.resolveAt(t):this.node.resolveInner(t,this.start,this)};u.prototype.childBefore=function(t){return this.node.findChild(t,-1,this.start,this)};u.prototype.childAfter=function(t){return this.node.findChild(t,1,this.start,this)};u.prototype.toString=function(){return this.node.toString()};
u.prototype.iterate=function(t){var B=t.from;B=void 0===B?this.start:B;var L=t.to;L=void 0===L?this.end:L;t=new Va(t.enter,t.leave);this.node.iterInner(B,L,this.start,t);return t.result};return u}(aa),la=function(J){function u(t,B,L,O){var A=J.call(this)||this;A.buffer=t;A.bufferStart=B;A.index=L;A.parent=O;return A}Ea(u,J);Object.defineProperty(u.prototype,"type",{get:function(){return this.buffer.group.types[this.buffer.buffer[this.index]]},enumerable:!0,configurable:!0});Object.defineProperty(u.prototype,
"start",{get:function(){return this.buffer.buffer[this.index+1]+this.bufferStart},enumerable:!0,configurable:!0});Object.defineProperty(u.prototype,"end",{get:function(){return this.buffer.buffer[this.index+2]+this.bufferStart},enumerable:!0,configurable:!0});Object.defineProperty(u.prototype,"endIndex",{get:function(){return this.buffer.buffer[this.index+3]},enumerable:!0,configurable:!0});u.prototype.childBefore=function(t){t=this.buffer.findIndex(t,-1,this.bufferStart,this.index+4,this.endIndex);
return 0>t?null:new u(this.buffer,this.bufferStart,t,this)};u.prototype.childAfter=function(t){t=this.buffer.findIndex(t,1,this.bufferStart,this.index+4,this.endIndex);return 0>t?null:new u(this.buffer,this.bufferStart,t,this)};u.prototype.iterate=function(t){var B=t.from;B=void 0===B?this.start:B;var L=t.to;L=void 0===L?this.end:L;t=new Va(t.enter,t.leave);B<=L?this.buffer.iterChild(B,L,this.bufferStart,this.index,t):this.buffer.iterRev(B,L,this.bufferStart,this.index,this.endIndex,t);return t.result};
u.prototype.resolveAt=function(t){if(t<=this.start||t>=this.end)return this.parent.resolveAt(t);var B=this.buffer.findIndex(t,0,this.bufferStart,this.index+4,this.endIndex);return 0>B?this:(new u(this.buffer,this.bufferStart,B,this)).resolveAt(t)};u.prototype.toString=function(){var t=[];this.buffer.childToString(this.index,t);return t.join("")};return u}(aa),ca=function(){function J(u,t){this.buffer=u;this.index=t}Object.defineProperty(J.prototype,"id",{get:function(){return this.buffer[this.index-
4]},enumerable:!0,configurable:!0});Object.defineProperty(J.prototype,"start",{get:function(){return this.buffer[this.index-3]},enumerable:!0,configurable:!0});Object.defineProperty(J.prototype,"end",{get:function(){return this.buffer[this.index-2]},enumerable:!0,configurable:!0});Object.defineProperty(J.prototype,"size",{get:function(){return this.buffer[this.index-1]},enumerable:!0,configurable:!0});Object.defineProperty(J.prototype,"pos",{get:function(){return this.index},enumerable:!0,configurable:!0});
J.prototype.next=function(){this.index-=4};J.prototype.fork=function(){return new J(this.buffer,this.index)};return J}(),U=8};
shadow$provide[2]=function(aa,va,Pa,D){function Aa(Y){Aa="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(F){return typeof F}:function(F){return F&&"function"===typeof Symbol&&F.constructor===Symbol&&F!==Symbol.prototype?"symbol":typeof F};return Aa(Y)}function Na(Y){Na=Object.setPrototypeOf?Object.getPrototypeOf:function(F){return F.__proto__||Object.getPrototypeOf(F)};return Na(Y)}function Ea(Y,F){if("function"!==typeof F&&null!==F)throw new TypeError("Super expression must either be null or a function");
Y.prototype=Object.create(F&&F.prototype,{constructor:{value:Y,writable:!0,configurable:!0}});F&&Va(Y,F)}function Va(Y,F){Va=Object.setPrototypeOf||function(H,C){H.__proto__=C;return H};return Va(Y,F)}function Ba(Y,F){if(!(Y instanceof F))throw new TypeError("Cannot call a class as a function");}function Ca(Y,F){for(var H=0;H<F.length;H++){var C=F[H];C.enumerable=C.enumerable||!1;C.configurable=!0;"value"in C&&(C.writable=!0);Object.defineProperty(Y,C.key,C)}}function Ga(Y,F,H){F&&Ca(Y.prototype,
F);H&&Ca(Y,H);return Y}function Oa(Y,F,H){var C=3<arguments.length&&void 0!==arguments[3]?arguments[3]:!1;if(!(0==F&&0>=H)){var S=Y.length-2;0<=S&&0>=H&&H==Y[S+1]?Y[S]+=F:0==F&&0==Y[S]?Y[S+1]+=H:C?(Y[S]+=F,Y[S+1]+=H):Y.push(F,H)}}function ua(Y,F,H){if(0!=H.length)if(F=F.length-2>>1,F<Y.length)Y[Y.length-1]=Y[Y.length-1].append(H);else{for(;Y.length<F;)Y.push(p.Text.empty);Y.push(H)}}function Fa(Y,F,H){for(var C=Y.inserted,S=0,W=0,ea=0;ea<Y.sections.length;){var ma=Y.sections[ea++],xa=Y.sections[ea++];
if(0>xa)S+=ma,W+=ma;else{for(var ya=S,za=W,ta=p.Text.empty;;){ya+=ma;za+=xa;xa&&C&&(ta=ta.append(C[ea-2>>1]));if(H||ea==Y.sections.length||0>Y.sections[ea+1])break;ma=Y.sections[ea++];xa=Y.sections[ea++]}F(S,ya,W,za,ta);S=ya;W=za}}}function ka(Y,F,H){for(var C=[],S=3<arguments.length&&void 0!==arguments[3]&&arguments[3]?[]:null,W=new I(Y),ea=new I(F),ma=0,xa=0;;)if(-1==W.ins)ma+=W.len,W.next();else if(-1==ea.ins&&xa<ma){var ya=Math.min(ea.len,ma-xa);ea.forward(ya);Oa(C,ya,-1);xa+=ya}else if(0<=ea.ins&&
(W.done||xa<ma||xa==ma&&(ea.len<W.len||ea.len==W.len&&!H))){for(Oa(C,ea.ins,-1);ma>xa&&!W.done&&ma+W.len<xa+ea.len;)ma+=W.len,W.next();xa+=ea.len;ea.next()}else if(0<=W.ins){ya=0;for(var za=ma+W.len;;)if(0<=ea.ins&&xa>ma&&xa+ea.len<za)ya+=ea.ins,xa+=ea.len,ea.next();else if(-1==ea.ins&&xa<za){var ta=Math.min(ea.len,za-xa);ya+=ta;ea.forward(ta);xa+=ta}else break;Oa(C,ya,W.ins);S&&ua(S,C,W.text);ma=za;W.next()}else{if(W.done&&ea.done)return S?new Q(C,S):new T(C);throw Error("Mismatched change set lengths");
}}function Qa(Y,F){for(var H=[],C=2<arguments.length&&void 0!==arguments[2]&&arguments[2]?[]:null,S=new I(Y),W=new I(F),ea=!1;;){if(S.done&&W.done)return C?new Q(H,C):new T(H);if(0==S.ins)Oa(H,S.len,0,ea),S.next();else if(0!=W.len||W.done){if(S.done||W.done)throw Error("Mismatched change set lengths");var ma=Math.min(S.len2,W.len),xa=H.length;if(-1==S.ins){var ya=-1==W.ins?-1:W.off?0:W.ins;Oa(H,ma,ya,ea);C&&ya&&ua(C,H,W.text)}else-1==W.ins?(Oa(H,S.off?0:S.len,ma,ea),C&&ua(C,H,S.textBit(ma))):(Oa(H,
S.off?0:S.len,W.off?0:W.ins,ea),C&&!W.off&&ua(C,H,W.text));ea=(S.ins>ma||0<=W.ins&&W.len>ma)&&(ea||H.length>xa);S.forward2(ma);W.forward(ma)}else Oa(H,0,W.ins,ea),C&&ua(C,H,W.text),W.next()}}function Ja(Y){var F=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0;F=Y[F];Y.sort(function(ea,ma){return ea.from-ma.from});F=Y.indexOf(F);for(var H=1;H<Y.length;H++){var C=Y[H],S=Y[H-1];if(C.empty?C.from<=S.to:C.from<S.to){var W=S.from;S=Math.max(C.to,S.to);H<=F&&F--;Y.splice(--H,2,C.anchor>C.head?P.range(S,
W):P.range(W,S))}}return new P(Y,F)}function la(Y,F){var H=!0,C=!1,S=void 0;try{for(var W=Y.ranges[Symbol.iterator](),ea;!(H=(ea=W.next()).done);H=!0)if(ea.value.to>F)throw new RangeError("Selection points outside of document");}catch(ma){C=!0,S=ma}finally{try{if(!H&&null!=W["return"])W["return"]()}finally{if(C)throw S;}}}function ca(Y,F){return Y==F||Y.length==F.length&&Y.every(function(H,C){return H===F[C]})}function U(Y,F,H){if(Y.length!=F.length)return!1;for(var C=0;C<Y.length;C++)if(!H(Y[C],
F[C]))return!1;return!0}function J(Y,F,H){var C=H.map(function(ma){return Y[ma.id]}),S=H.map(function(ma){return ma.type}),W=C.filter(function(ma){return!(ma&1)}),ea=Y[F.id]>>1;return function(ma,xa){var ya=xa?xa.reconfigure?xa.startState.config.address[F.id]:ea<<1:null,za=null==ya,ta=!0,Sa=!1,Ua=void 0;try{for(var cb=W[Symbol.iterator](),db;!(ta=(db=cb.next()).done);ta=!0)O(ma,db.value)&1&&(za=!0)}catch(Rb){Sa=!0,Ua=Rb}finally{try{if(!ta&&null!=cb["return"])cb["return"]()}finally{if(Sa)throw Ua;
}}if(!za)return 0;za=[];for(ta=0;ta<C.length;ta++)if(Sa=A(ma,C[ta]),2==S[ta]){Ua=!0;cb=!1;db=void 0;try{for(var fb=Sa[Symbol.iterator](),zb;!(Ua=(zb=fb.next()).done);Ua=!0)za.push(zb.value)}catch(Rb){cb=!0,db=Rb}finally{try{if(!Ua&&null!=fb["return"])fb["return"]()}finally{if(cb)throw db;}}}else za.push(Sa);fb=F.combine(za);if(null!=ya&&F.compare(fb,A(xa.startState,ya)))return 0;ma.values[ea]=fb;return 1}}function u(Y,F){if(!Ra.hasOwnProperty(F))throw new RangeError("Invalid precedence: ".concat(F));
return new $a(Y,Ra[F])}function t(Y,F){return Y?u(F,Y):F}function B(Y){return(Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(Y):[]).concat(Object.keys(Y))}function L(Y,F){function H(ta,Sa){var Ua=S.get(ta);if(null!=Ua){if(Ua>=Sa)return;var cb=C[Ua].indexOf(ta);-1<cb&&C[Ua].splice(cb,1)}S.set(ta,Sa);if(Array.isArray(ta)){Ua=!0;cb=!1;var db=void 0;try{for(var fb=ta[Symbol.iterator](),zb;!(Ua=(zb=fb.next()).done);Ua=!0)H(zb.value,Sa)}catch(Rb){cb=!0,db=Rb}finally{try{if(!Ua&&null!=fb["return"])fb["return"]()}finally{if(cb)throw db;
}}}else if(ta instanceof eb){if(ta.tag in W)throw new RangeError("Duplicate use of tag '".concat(String(ta.tag),"' in extensions"));W[ta.tag]=!0;H(F[ta.tag]||ta.extension,Sa)}else ta.extension?H(ta.extension,Sa):ta instanceof $a?H(ta.e,ta.prec):(C[Sa].push(ta),ta instanceof Ka&&H(ta.facets,Sa))}var C=[[],[],[],[]],S=new Map,W=Object.create(null);H(Y,Ra["default"]);Y=!0;var ea=!1,ma=void 0;try{for(var xa=B(F)[Symbol.iterator](),ya;!(Y=(ya=xa.next()).done);Y=!0){var za=ya.value;za in W||"full"==za||
!F[za]||(W[za]=!0,H(F[za],Ra["default"]))}}catch(ta){ea=!0,ma=ta}finally{try{if(!Y&&null!=xa["return"])xa["return"]()}finally{if(ea)throw ma;}}return C.reduce(function(ta,Sa){return ta.concat(Sa)})}function O(Y,F){if(F&1)return 2;F>>=1;var H=Y.status[F];if(4==H)throw Error("Cyclic dependency between fields and/or facets");if(H&2)return H;Y.status[F]=4;H=Y.config.dynamicSlots[F](Y,Y.applying);return Y.status[F]=2|H}function A(Y,F){return F&1?Y.config.staticValues[F>>1]:Y.values[F>>1]}function n(Y,
F,H){var C=F.reconfigure;if(C&&C.append){C=Object.assign({},C);var S="undefined"==typeof Symbol?"__append"+Math.floor(4294967295*Math.random()):Symbol("appendConf");C[S]=C.append;C.append=void 0}S=F.selection;return{changes:F.changes instanceof Q?F.changes:Q.of(F.changes||[],H,Y.facet(Lb.lineSeparator)),selection:S&&(S instanceof P?S:P.single(S.anchor,S.head)),effects:F.effects?Array.isArray(F.effects)?F.effects:[F.effects]:kc,annotations:F.annotations?Array.isArray(F.annotations)?F.annotations:[F.annotations]:
kc,scrollIntoView:!!F.scrollIntoView,reconfigure:C}}function z(Y,F,H){var C=n(Y,F.length?F[0]:{},Y.doc.length);F.length&&!1===F[0].filter&&(H=!1);for(var S=1;S<F.length;S++){!1===F[S].filter&&(H=!1);var W=!!F[S].sequential,ea=void 0,ma=C;C=n(Y,F[S],W?C.changes.newLength:Y.doc.length);if(W){var xa=C.changes;var ya=Q.empty(C.changes.length);W=ma.changes.compose(C.changes)}else xa=C.changes.map(ma.changes),ya=ma.changes.mapDesc(C.changes,!0),W=ma.changes.compose(xa);C={changes:W,selection:C.selection?
C.selection.map(ya):null===(ea=ma.selection)||void 0===ea?void 0:ea.map(xa),effects:wb.mapEffects(ma.effects,xa).concat(wb.mapEffects(C.effects,ya)),annotations:ma.annotations.length?ma.annotations.concat(C.annotations):C.annotations,scrollIntoView:ma.scrollIntoView||C.scrollIntoView,reconfigure:C.reconfigure?C.reconfigure.full||!ma.reconfigure?C.reconfigure:Object.assign({},ma.reconfigure,C.reconfigure):ma.reconfigure}}Y=new Bb(Y,C.changes,C.selection,C.effects,C.annotations,C.reconfigure,C.scrollIntoView);
if(H){H=Y.startState;S=F=!0;ea=!1;ma=void 0;try{var za=H.facet(Nb)[Symbol.iterator]();for(var ta;!(S=(ta=za.next()).done);S=!0){var Sa=ta.value,Ua=Sa(Y);if(!1===Ua){F=!1;break}if(Array.isArray(Ua)){if(!0===F)var cb=Ua;else a:{C=F;W=Ua;ya=[];for(var db=xa=0;;){if(xa<C.length&&(db==W.length||W[db]>=C[xa])){var fb=C[xa++];var zb=C[xa++]}else if(db<W.length)fb=W[db++],zb=W[db++];else{cb=ya;break a}!ya.length||ya[ya.length-1]<fb?ya.push(fb,zb):ya[ya.length-1]<zb&&(ya[ya.length-1]=zb)}}F=cb}}}catch(Rb){ea=
!0,ma=Rb}finally{try{if(!S&&null!=za["return"])za["return"]()}finally{if(ea)throw ma;}}!0!==F&&(!1===F?(ta=Y.changes.invertedDesc,za=Q.empty(H.doc.length)):(ta=Y.changes.filter(F),za=ta.changes,ta=ta.filtered.invertedDesc),Y=new Bb(H,za,Y.selection&&Y.selection.map(ta),wb.mapEffects(Y.effects,ta),Y.annotations,Y.reconfigure,Y.scrollIntoView));za=H.facet(Ib);for(ta=za.length-1;0<=ta;ta--)Sa=za[ta](Y),Y=Sa instanceof Bb?Sa:Array.isArray(Sa)&&1==Sa.length&&Sa[0]instanceof Bb?Sa[0]:z(H,Array.isArray(Sa)?
Sa:[Sa],!1);za=Y}else za=Y;return za}function w(Y){return function(F){if(!/\S/.test(F))return Ob.Space;a:if(lc)var H=lc.test(F);else{for(H=0;H<F.length;H++){var C=F[H];if(/\w/.test(C)||"Â€"<C&&(C.toUpperCase()!=C.toLowerCase()||hc.test(C))){H=!0;break a}}H=!1}if(H)return Ob.Word;for(H=0;H<Y.length;H++)if(-1<F.indexOf(Y[H]))return Ob.Word;return Ob.Other}}Object.defineProperty(D,"__esModule",{value:!0});D.combineConfig=function(Y,F){var H=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{},C=
{},S=!0,W=!1,ea=void 0;try{for(var ma=Y[Symbol.iterator](),xa;!(S=(xa=ma.next()).done);S=!0)for(var ya=xa.value,za=0,ta=Object.keys(ya);za<ta.length;za++){var Sa=ta[za],Ua=ya[Sa],cb=C[Sa];if(void 0===cb)C[Sa]=Ua;else if(cb!==Ua&&void 0!==Ua)if(Object.hasOwnProperty.call(H,Sa))C[Sa]=H[Sa](cb,Ua);else throw Error("Config merge conflict for field "+Sa);}}catch(fb){W=!0,ea=fb}finally{try{if(!S&&null!=ma["return"])ma["return"]()}finally{if(W)throw ea;}}for(var db in F)void 0===C[db]&&(C[db]=F[db]);return C};
D.precedence=u;D.tagExtension=function(Y,F){return new eb(Y,F)};Object.defineProperty(D,"Text",{enumerable:!0,get:function(){return p.Text}});D.languageDataProp=D.Transaction=D.StateField=D.StateEffectType=D.StateEffect=D.SelectionRange=D.MapMode=D.IndentContext=D.Facet=D.EditorState=D.EditorSelection=D.CharCategory=D.ChangeSet=D.ChangeDesc=D.AnnotationType=D.Annotation=void 0;var p=va(0),v=va(1),x=/\r\n?|\n/,N;D.MapMode=N;(function(Y){Y[Y.Simple=0]="Simple";Y[Y.TrackDel=1]="TrackDel";Y[Y.TrackBefore=
2]="TrackBefore";Y[Y.TrackAfter=3]="TrackAfter"})(N||(D.MapMode=N={}));var T=function(){function Y(F){Ba(this,Y);this.sections=F}Ga(Y,[{key:"iterGaps",value:function(F){for(var H=0,C=0,S=0;H<this.sections.length;){var W=this.sections[H++],ea=this.sections[H++];0>ea?(F(C,S,W),S+=W):S+=ea;C+=W}}},{key:"iterChangedRanges",value:function(F){Fa(this,F,1<arguments.length&&void 0!==arguments[1]?arguments[1]:!1)}},{key:"composeDesc",value:function(F){return this.empty?F:F.empty?this:Qa(this,F)}},{key:"mapDesc",
value:function(F){var H=1<arguments.length&&void 0!==arguments[1]?arguments[1]:!1;return F.empty?this:ka(this,F,H)}},{key:"mapPos",value:function(F){for(var H=1<arguments.length&&void 0!==arguments[1]?arguments[1]:-1,C=2<arguments.length&&void 0!==arguments[2]?arguments[2]:N.Simple,S=0,W=0,ea=0;ea<this.sections.length;){var ma=this.sections[ea++],xa=this.sections[ea++],ya=S+ma;if(0>xa){if(ya>F)return W+(F-S);W+=ma}else{if(C!=N.Simple&&ya>=F&&(C==N.TrackDel&&S<F&&ya>F||C==N.TrackBefore&&S<F||C==N.TrackAfter&&
ya>F))return-1;if(ya>F||ya==F&&0>H&&!ma)return F==S||0>H?W:W+xa;W+=xa}S=ya}if(F>S)throw new RangeError("Position ".concat(F," is out of range for changeset of length ").concat(S));return W}},{key:"mapPosStable",value:function(F){for(var H=1<arguments.length&&void 0!==arguments[1]?arguments[1]:-1,C=0,S=0,W=0,ea=0;ea<this.sections.length;){var ma=this.sections[ea++],xa=this.sections[ea++],ya=C+ma;if(0>xa){if(ya>F)return S+Math.max(0,F-C);W=S+=ma}else{if(0>=H&&ya>=F)return W;S+=xa}C=ya}return S}},{key:"touchesRange",
value:function(F){for(var H=1<arguments.length&&void 0!==arguments[1]?arguments[1]:F,C=0,S=0;C<this.sections.length&&S<=H;){var W=this.sections[C++],ea=this.sections[C++];W=S+W;if(0<=ea&&S<=H&&W>=F)return S<F&&W>H?"cover":!0;S=W}return!1}},{key:"toString",value:function(){for(var F="",H=0;H<this.sections.length;){var C=this.sections[H++],S=this.sections[H++];F+=(F?" ":"")+C+(0<=S?":"+S:"")}return F}},{key:"length",get:function(){for(var F=0,H=0;H<this.sections.length;H+=2)F+=this.sections[H];return F}},
{key:"newLength",get:function(){for(var F=0,H=0;H<this.sections.length;H+=2){var C=this.sections[H+1];F+=0>C?this.sections[H]:C}return F}},{key:"empty",get:function(){return 0==this.sections.length||2==this.sections.length&&0>this.sections[1]}},{key:"invertedDesc",get:function(){for(var F=[],H=0;H<this.sections.length;){var C=this.sections[H++],S=this.sections[H++];0>S?F.push(C,S):F.push(S,C)}return new Y(F)}}]);return Y}();D.ChangeDesc=T;var Q=function(Y){function F(H,C){Ba(this,F);H=Na(F).call(this,
H);if(!H||"object"!==Aa(H)&&"function"!==typeof H){if(void 0===this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");H=this}H.inserted=C;return H}Ea(F,Y);Ga(F,[{key:"apply",value:function(H){if(this.length!=H.length)throw new RangeError("Applying change set to a document with the wrong length");Fa(this,function(C,S,W,ea,ma){return H=H.replace(W,W+(S-C),ma)},!1);return H}},{key:"mapDesc",value:function(H){return ka(this,H,1<arguments.length&&void 0!==arguments[1]?
arguments[1]:!1,!0)}},{key:"invert",value:function(H){for(var C=this.sections.slice(),S=[],W=0,ea=0;W<C.length;W+=2){var ma=C[W],xa=C[W+1];if(0<=xa){C[W]=xa;C[W+1]=ma;for(xa=W>>1;S.length<xa;)S.push(p.Text.empty);S.push(ma?H.slice(ea,ea+ma):p.Text.empty)}ea+=ma}return new F(C,S)}},{key:"compose",value:function(H){return this.empty?H:H.empty?this:Qa(this,H,!0)}},{key:"map",value:function(H){var C=1<arguments.length&&void 0!==arguments[1]?arguments[1]:!1;return H.empty?this:ka(this,H,C,!0)}},{key:"iterChanges",
value:function(H){Fa(this,H,1<arguments.length&&void 0!==arguments[1]?arguments[1]:!1)}},{key:"filter",value:function(H){var C=[],S=[],W=[],ea=new I(this),ma=0,xa=0;a:for(;;){for(var ya=ma==H.length?1E9:H[ma++];xa<ya||xa==ya&&0==ea.len;){if(ea.done)break a;var za=Math.min(ea.len,ya-xa);Oa(W,za,-1);var ta=-1==ea.ins?-1:0==ea.off?ea.ins:0;Oa(C,za,ta);0<ta&&ua(S,C,ea.text);ea.forward(za);xa+=za}for(ya=H[ma++];xa<ya;){if(ea.done)break a;za=Math.min(ea.len,ya-xa);Oa(C,za,-1);Oa(W,za,-1==ea.ins?-1:0==ea.off?
ea.ins:0);ea.forward(za);xa+=za}}return{changes:new F(C,S),filtered:new T(W)}}},{key:"desc",get:function(){return new T(this.sections)}}],[{key:"of",value:function(H,C,S){function W(){if(0<arguments.length&&void 0!==arguments[0]&&arguments[0]||ma.length){ya<C&&Oa(ma,C-ya,-1);var ta=new F(ma,xa);za=za?za.compose(ta.map(za)):ta;ma=[];xa=[];ya=0}}function ea(ta){if(Array.isArray(ta)){var Sa=!0,Ua=!1,cb=void 0;try{for(var db=ta[Symbol.iterator](),fb;!(Sa=(fb=db.next()).done);Sa=!0)ea(fb.value)}catch(zb){Ua=
!0,cb=zb}finally{try{if(!Sa&&null!=db["return"])db["return"]()}finally{if(Ua)throw cb;}}}else if(ta instanceof F){if(ta.length!=C)throw new RangeError("Mismatched change set length (got ".concat(ta.length,", expected ").concat(C,")"));W();za=za?za.compose(ta.map(za)):ta}else{Sa=ta.from;Ua=ta.to;Ua=void 0===Ua?Sa:Ua;ta=ta.insert;if(Sa>Ua||0>Sa||Ua>C)throw new RangeError("Invalid change range ".concat(Sa," to ").concat(Ua," (in doc of length ").concat(C,")"));ta=ta?"string"==typeof ta?p.Text.of(ta.split(S||
x)):ta:p.Text.empty;cb=ta.length;if(Sa!=Ua||0!=cb)Sa<ya&&W(),Sa>ya&&Oa(ma,Sa-ya,-1),Oa(ma,Ua-Sa,cb),ua(xa,ma,ta),ya=Ua}}var ma=[],xa=[],ya=0,za=null;ea(H);W(!za);return za}},{key:"empty",value:function(H){return new F(H?[H,-1]:[],[])}}]);return F}(T);D.ChangeSet=Q;var I=function(){function Y(F){Ba(this,Y);this.set=F;this.i=0;this.next()}Ga(Y,[{key:"next",value:function(){var F=this.set.sections;this.i<F.length?(this.len=F[this.i++],this.ins=F[this.i++]):(this.len=0,this.ins=-2);this.off=0}},{key:"textBit",
value:function(F){var H=this.set.inserted,C=this.i-2>>1;return C>=H.length&&!F?p.Text.empty:H[C].slice(this.off,null==F?void 0:this.off+F)}},{key:"forward",value:function(F){F==this.len?this.next():(this.len-=F,this.off+=F)}},{key:"forward2",value:function(F){-1==this.ins?this.forward(F):F==this.ins?this.next():(this.ins-=F,this.off+=F)}},{key:"done",get:function(){return-2==this.ins}},{key:"len2",get:function(){return 0>this.ins?this.len:this.ins}},{key:"text",get:function(){var F=this.set.inserted,
H=this.i-2>>1;return H>=F.length?p.Text.empty:F[H]}}]);return Y}(),M=function(){function Y(F,H,C){Ba(this,Y);this.from=F;this.to=H;this.flags=C}Ga(Y,[{key:"map",value:function(F){var H=F.mapPos(this.from);F=F.mapPos(this.to);return H==this.from&&F==this.to?this:new Y(H,F,this.flags)}},{key:"extend",value:function(F){var H=1<arguments.length&&void 0!==arguments[1]?arguments[1]:F;return F<=this.anchor&&H>=this.anchor?P.range(F,H):P.range(this.anchor,Math.abs(F-this.anchor)>Math.abs(H-this.anchor)?F:
H)}},{key:"eq",value:function(F){return this.anchor==F.anchor&&this.head==F.head}},{key:"toJSON",value:function(){return{anchor:this.anchor,head:this.head}}},{key:"anchor",get:function(){return this.flags&16?this.to:this.from}},{key:"head",get:function(){return this.flags&16?this.from:this.to}},{key:"empty",get:function(){return this.from==this.to}},{key:"assoc",get:function(){return this.flags&4?-1:this.flags&8?1:0}},{key:"bidiLevel",get:function(){var F=this.flags&3;return 3==F?null:F}},{key:"goalColumn",
get:function(){var F=this.flags>>5;return 33554431==F?void 0:F}}],[{key:"fromJSON",value:function(F){if(!F||"number"!=typeof F.anchor||"number"!=typeof F.head)throw new RangeError("Invalid JSON representation for SelectionRange");return P.range(F.anchor,F.head)}}]);return Y}();D.SelectionRange=M;var P=function(){function Y(F){var H=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0;Ba(this,Y);this.ranges=F;this.primaryIndex=H}Ga(Y,[{key:"map",value:function(F){return F.empty?this:Y.create(this.ranges.map(function(H){return H.map(F)}),
this.primaryIndex)}},{key:"eq",value:function(F){if(this.ranges.length!=F.ranges.length||this.primaryIndex!=F.primaryIndex)return!1;for(var H=0;H<this.ranges.length;H++)if(!this.ranges[H].eq(F.ranges[H]))return!1;return!0}},{key:"asSingle",value:function(){return 1==this.ranges.length?this:new Y([this.primary])}},{key:"addRange",value:function(F){var H=1<arguments.length&&void 0!==arguments[1]?arguments[1]:!0;return Y.create([F].concat(this.ranges),H?0:this.primaryIndex+1)}},{key:"replaceRange",value:function(F){var H=
1<arguments.length&&void 0!==arguments[1]?arguments[1]:this.primaryIndex,C=this.ranges.slice();C[H]=F;return Y.create(C,this.primaryIndex)}},{key:"toJSON",value:function(){return{ranges:this.ranges.map(function(F){return F.toJSON()}),primaryIndex:this.primaryIndex}}},{key:"primary",get:function(){return this.ranges[this.primaryIndex]}}],[{key:"fromJSON",value:function(F){if(!F||!Array.isArray(F.ranges)||"number"!=typeof F.primaryIndex||F.primaryIndex>=F.ranges.length)throw new RangeError("Invalid JSON representation for EditorSelection");
return new Y(F.ranges.map(function(H){return M.fromJSON(H)}),F.primaryIndex)}},{key:"single",value:function(F){return new Y([Y.range(F,1<arguments.length&&void 0!==arguments[1]?arguments[1]:F)],0)}},{key:"create",value:function(F){var H=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0;if(0==F.length)throw new RangeError("A selection needs at least one range");for(var C=0,S=0;S<F.length;S++){var W=F[S];if(W.empty?W.from<=C:W.from<C)return Ja(F.slice(),H);C=W.to}return new Y(F,H)}},{key:"cursor",
value:function(F){var H=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,C=2<arguments.length?arguments[2]:void 0,S=3<arguments.length?arguments[3]:void 0;return new M(F,F,(0==H?0:0>H?4:8)|(null==C?3:Math.min(2,C))|(null!==S&&void 0!==S?S:33554431)<<5)}},{key:"range",value:function(F,H,C){C=(null!==C&&void 0!==C?C:33554431)<<5;return H<F?new M(H,F,16|C):new M(F,H,C)}}]);return Y}();D.EditorSelection=P;var Z=0,ja=function(){function Y(F,H,C,S){Ba(this,Y);this.combine=F;this.compareInput=H;
this.compare=C;this.isStatic=S;this.id=Z++;this["default"]=F([])}Ga(Y,[{key:"of",value:function(F){return new Ha([],this,0,F)}},{key:"compute",value:function(F,H){if(this.isStatic)throw Error("Can't compute a static facet");return new Ha(F,this,1,H)}},{key:"computeN",value:function(F,H){if(this.isStatic)throw Error("Can't compute a static facet");return new Ha(F,this,2,H)}},{key:"from",value:function(F,H){var C=this;return function(S){return t(H,C.compute([S],function(W){return F(W.field(S))}))}}},
{key:"nFrom",value:function(F,H){var C=this;return function(S){return t(H,C.computeN([S],function(W){return F(W.field(S))}))}}}],[{key:"define",value:function(){var F=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return new Y(F.combine||function(H){return H},F.compareInput||function(H,C){return H===C},F.compare||(F.combine?function(H,C){return H===C}:ca),!!F["static"])}}]);return Y}();D.Facet=ja;var Ha=function(){function Y(F,H,C,S){Ba(this,Y);this.dependencies=F;this.facet=H;this.type=
C;this.value=S;this.id=Z++}Ga(Y,[{key:"dynamicSlot",value:function(F){var H=this.value,C=this.facet.compareInput,S=F[this.id]>>1,W=2==this.type,ea=!1,ma=!1,xa=[],ya=!0,za=!1,ta=void 0;try{for(var Sa=this.dependencies[Symbol.iterator](),Ua;!(ya=(Ua=Sa.next()).done);ya=!0){var cb=Ua.value;"doc"==cb?ea=!0:"selection"==cb?ma=!0:0==(F[cb.id]&1)&&xa.push(F[cb.id])}}catch(db){za=!0,ta=db}finally{try{if(!ya&&null!=Sa["return"])Sa["return"]()}finally{if(za)throw ta;}}return function(db,fb){if(!fb||fb.reconfigure)db.values[S]=
H(db);else{if(!(ea&&fb.docChanged||ma&&(fb.docChanged||fb.selection)||xa.some(function(Rb){return 0<(O(db,Rb)&1)})))return 0;var zb=H(db);fb=fb.startState.values[S];if(W?U(zb,fb,C):C(zb,fb))return 0;db.values[S]=zb}return 1}}}]);return Y}(),Ka=function(){function Y(F,H,C,S,W){Ba(this,Y);this.id=F;this.createF=H;this.updateF=C;this.compareF=S;this.facets=W}Ga(Y,[{key:"slot",value:function(F){var H=this,C=F[this.id]>>1;return function(S,W){if(!W)return S.values[C]=H.createF(S),1;var ea=0;if(W.reconfigure){var ma=
W.startState.config.address[H.id];ma=null==ma?null:ma>>1;ma=null==ma?H.createF(W.startState):W.startState.values[ma];ea=1}else ma=W.startState.values[C];W=H.updateF(ma,W);ea||H.compareF(ma,W)||(ea=1);ea&&(S.values[C]=W);return ea}}}],[{key:"define",value:function(F){var H=[],C=new Y(Z++,F.create,F.update,F.compare||function(za,ta){return za===ta},H);if(F.provide){var S=!0,W=!1,ea=void 0;try{for(var ma=F.provide[Symbol.iterator](),xa;!(S=(xa=ma.next()).done);S=!0){var ya=xa.value;ya instanceof ja?
H.push(ya.compute([C],function(za){return za.field(C)})):H.push(ya(C))}}catch(za){W=!0,ea=za}finally{try{if(!S&&null!=ma["return"])ma["return"]()}finally{if(W)throw ea;}}}return C}}]);return Y}();D.StateField=Ka;var Ra={fallback:3,"default":2,extend:1,override:0},$a=function C(F,H){Ba(this,C);this.e=F;this.prec=H},eb=function S(H,C){Ba(this,S);this.tag=H;this.extension=C},nb=function(){function H(C,S,W,ea,ma){Ba(this,H);this.source=C;this.replacements=S;this.dynamicSlots=W;this.address=ea;this.staticValues=
ma;for(this.statusTemplate=[];this.statusTemplate.length<ma.length;)this.statusTemplate.push(0)}Ga(H,[{key:"staticFacet",value:function(C){var S=this.address[C.id];return null==S?C["default"]:this.staticValues[S>>1]}}],[{key:"resolve",value:function(C){var S=1<arguments.length&&void 0!==arguments[1]?arguments[1]:Object.create(null),W=2<arguments.length?arguments[2]:void 0,ea=[],ma=Object.create(null),xa=!0,ya=!1,za=void 0;try{for(var ta=L(C,S)[Symbol.iterator](),Sa;!(xa=(Sa=ta.next()).done);xa=!0){var Ua=
Sa.value;Ua instanceof Ka?ea.push(Ua):(ma[Ua.facet.id]||(ma[Ua.facet.id]=[])).push(Ua)}}catch(Da){ya=!0,za=Da}finally{try{if(!xa&&null!=ta["return"])ta["return"]()}finally{if(ya)throw za;}}var cb=Object.create(null),db=[],fb=[];xa=function(){var Da=Rb[zb];cb[Da.id]=fb.length<<1;fb.push(function(Sb){return Da.slot(Sb)})};for(var zb=0,Rb=ea;zb<Rb.length;zb++)xa();ea=function(Da){var Sb=ma[Da],Eb=Sb[0].facet;if(Sb.every(function(ia){return 0==ia.type})){cb[Eb.id]=db.length<<1|1;var lb=Eb.combine(Sb.map(function(ia){return ia.value}));
Da=W?W.config.address[Eb.id]:null;null!=Da&&(Da=A(W,Da),Eb.compare(lb,Da)&&(lb=Da));db.push(lb)}else{Da=!0;var Fb=!1,G=void 0;try{var X=function(){var ia=oa.value;0==ia.type?(cb[ia.id]=db.length<<1|1,db.push(ia.value)):(cb[ia.id]=fb.length<<1,fb.push(function(qa){return ia.dynamicSlot(qa)}))};lb=Sb[Symbol.iterator]();for(var oa;!(Da=(oa=lb.next()).done);Da=!0)X()}catch(ia){Fb=!0,G=ia}finally{try{if(!Da&&null!=lb["return"])lb["return"]()}finally{if(Fb)throw G;}}cb[Eb.id]=fb.length<<1;fb.push(function(ia){return J(ia,
Eb,Sb)})}};for(var oc in ma)ea(oc);return new H(C,S,fb.map(function(Da){return Da(cb)}),cb,db)}}]);return H}(),Qb=ja.define({combine:function(H){return H.some(function(C){return C})},"static":!0}),Nb=ja.define(),Ib=ja.define();aa=new v.NodeProp;D.languageDataProp=aa;var Jb=ja.define();aa=function(){function H(C){var S=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};Ba(this,H);this.state=C;this.options=S}Ga(H,[{key:"textAfterPos",value:function(C){var S,W,ea=null===(S=this.options)||void 0===
S?void 0:S.simulateBreak;return C==ea&&(null===(W=this.options)||void 0===W?0:W.simulateDoubleBreak)?"":this.state.sliceDoc(C,Math.min(C+100,null!=ea&&ea>C?ea:1E9,this.state.doc.lineAt(C).to))}},{key:"countColumn",value:function(C,S){return(0,p.countColumn)(0>S?C:C.slice(0,S),0,this.state.tabSize)}},{key:"lineIndent",value:function(C){var S,W=null===(S=this.options)||void 0===S?void 0:S.overrideIndentation;if(W&&(S=W(C.from),-1<S))return S;C=C.slice(0,Math.min(100,C.length));return this.countColumn(C,
C.search(/\S/))}},{key:"column",value:function(C){var S,W=this.state.doc.lineAt(C),ea=W.slice(0,C-W.from);C=this.countColumn(ea,C-W.from);W=(null===(S=this.options)||void 0===S?0:S.overrideIndentation)?this.options.overrideIndentation(W.from):-1;-1<W&&(C+=W-this.countColumn(ea,ea.search(/\S/)));return C}},{key:"unit",get:function(){return this.state.indentUnit}}]);return H}();D.IndentContext=aa;var ob=function(){function H(C,S){Ba(this,H);this.type=C;this.value=S}Ga(H,null,[{key:"define",value:function(){return new Kb}}]);
return H}();D.Annotation=ob;var Kb=function(){function H(){Ba(this,H)}Ga(H,[{key:"of",value:function(C){return new ob(this,C)}}]);return H}();D.AnnotationType=Kb;var wb=function(){function H(C,S){Ba(this,H);this.type=C;this.value=S}Ga(H,[{key:"map",value:function(C){C=this.type.map(this.value,C);return void 0===C?void 0:C==this.value?this:new H(this.type,C)}},{key:"is",value:function(C){return this.type==C}}],[{key:"define",value:function(){return new Db((0<arguments.length&&void 0!==arguments[0]?
arguments[0]:{}).map||function(C){return C})}},{key:"mapEffects",value:function(C,S){if(!C.length)return C;var W=[],ea=!0,ma=!1,xa=void 0;try{for(var ya=C[Symbol.iterator](),za;!(ea=(za=ya.next()).done);ea=!0){var ta=za.value.map(S);ta&&W.push(ta)}}catch(Sa){ma=!0,xa=Sa}finally{try{if(!ea&&null!=ya["return"])ya["return"]()}finally{if(ma)throw xa;}}return W}}]);return H}();D.StateEffect=wb;var Db=function(){function H(C){Ba(this,H);this.map=C}Ga(H,[{key:"of",value:function(C){return new wb(this,C)}}]);
return H}();D.StateEffectType=Db;var Bb=function(){function H(C,S,W,ea,ma,xa,ya){Ba(this,H);this.startState=C;this.changes=S;this.selection=W;this.effects=ea;this.annotations=ma;this.reconfigure=xa;this.scrollIntoView=ya;this._state=this._doc=null;W&&la(W,S.newLength);ma.some(function(za){return za.type==H.time})||(this.annotations=ma.concat(H.time.of(Date.now())))}Ga(H,[{key:"annotation",value:function(C){var S=!0,W=!1,ea=void 0;try{for(var ma=this.annotations[Symbol.iterator](),xa;!(S=(xa=ma.next()).done);S=
!0){var ya=xa.value;if(ya.type==C)return ya.value}}catch(za){W=!0,ea=za}finally{try{if(!S&&null!=ma["return"])ma["return"]()}finally{if(W)throw ea;}}}},{key:"newDoc",get:function(){return this._doc||(this._doc=this.changes.apply(this.startState.doc))}},{key:"newSelection",get:function(){return this.selection||this.startState.selection.map(this.changes)}},{key:"state",get:function(){this._state||this.startState.applyTransaction(this);return this._state}},{key:"docChanged",get:function(){return!this.changes.empty}}]);
return H}();D.Transaction=Bb;Bb.time=ob.define();Bb.userEvent=ob.define();Bb.addToHistory=ob.define();var kc=[],Ob;D.CharCategory=Ob;(function(H){H[H.Word=0]="Word";H[H.Space=1]="Space";H[H.Other=2]="Other"})(Ob||(D.CharCategory=Ob={}));var hc=/[\u00df\u0587\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/;try{var lc=RegExp("[\\p{Alphabetic}\\p{Number}_]","u")}catch(H){}var Lb=function(){function H(C,S,W){var ea=3<arguments.length&&void 0!==arguments[3]?
arguments[3]:null;Ba(this,H);this.config=C;this.doc=S;this.selection=W;this.applying=null;this.status=C.statusTemplate.slice();if(ea&&!ea.reconfigure)this.values=ea.startState.values.slice();else if(this.values=C.dynamicSlots.map(function(za){return null}),ea)for(var ma in C.address){var xa=C.address[ma],ya=ea.startState.config.address[ma];null!=ya&&0==(xa&1)&&(this.values[xa>>1]=A(ea.startState,ya))}if(this.applying=ea)ea._state=this;for(ea=0;ea<this.config.dynamicSlots.length;ea++)O(this,ea<<1);
this.applying=null}Ga(H,[{key:"field",value:function(C){var S=1<arguments.length&&void 0!==arguments[1]?arguments[1]:!0,W=this.config.address[C.id];if(null==W){if(S)throw new RangeError("Field is not present in this state");}else return O(this,W),A(this,W)}},{key:"update",value:function(){for(var C=arguments.length,S=Array(C),W=0;W<C;W++)S[W]=arguments[W];return z(this,S,!0)}},{key:"applyTransaction",value:function(C){var S=this.config;C.reconfigure&&(S=nb.resolve(C.reconfigure.full||S.source,Object.assign(S.replacements,
C.reconfigure,{full:void 0}),this));new H(S,C.newDoc,C.newSelection,C)}},{key:"replaceSelection",value:function(C){"string"==typeof C&&(C=this.toText(C));return this.changeByRange(function(S){return{changes:{from:S.from,to:S.to,insert:C},range:P.cursor(S.from+C.length)}})}},{key:"changeByRange",value:function(C){var S=this.selection,W=C(S.ranges[0]),ea=this.changes(W.changes);W=[W.range];for(var ma=1;ma<S.ranges.length;ma++){for(var xa=C(S.ranges[ma]),ya=this.changes(xa.changes),za=ya.map(ea),ta=
0;ta<ma;ta++)W[ta]=W[ta].map(za);W.push(xa.range.map(ea.mapDesc(ya,!0)));ea=ea.compose(za)}return{changes:ea,selection:P.create(W,S.primaryIndex)}}},{key:"changes",value:function(){var C=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[];return C instanceof Q?C:Q.of(C,this.doc.length,this.facet(H.lineSeparator))}},{key:"toText",value:function(C){return p.Text.of(C.split(this.facet(H.lineSeparator)||x))}},{key:"sliceDoc",value:function(){return this.doc.sliceString(0<arguments.length&&void 0!==
arguments[0]?arguments[0]:0,1<arguments.length&&void 0!==arguments[1]?arguments[1]:this.doc.length,this.lineBreak)}},{key:"facet",value:function(C){var S=this.config.address[C.id];if(null==S)return C["default"];O(this,S);return A(this,S)}},{key:"toJSON",value:function(){return{doc:this.sliceDoc(),selection:this.selection.toJSON()}}},{key:"indentString",value:function(C){var S="";if(9==this.facet(H.indentUnit).charCodeAt(0))for(;C>=this.tabSize;)S+="\t",C-=this.tabSize;for(var W=0;W<C;W++)S+=" ";return S}},
{key:"phrase",value:function(C){var S=!0,W=!1,ea=void 0;try{for(var ma=this.facet(H.phrases)[Symbol.iterator](),xa;!(S=(xa=ma.next()).done);S=!0){var ya=xa.value;if(Object.prototype.hasOwnProperty.call(ya,C))return ya[C]}}catch(za){W=!0,ea=za}finally{try{if(!S&&null!=ma["return"])ma["return"]()}finally{if(W)throw ea;}}return C}},{key:"charCategorizer",value:function(C){return w(this.languageDataAt("wordChars",C).join(""))}},{key:"languageDataAt",value:function(C,S){for(var W=[],ea=this.facet(H.syntax),
ma=ea.length?0:1;2>ma;ma++){var xa=this.facet(ma?Jb:ea[0].languageDataFacetAt(this,S)),ya=!0,za=!1,ta=void 0;try{for(var Sa=xa[Symbol.iterator](),Ua;!(ya=(Ua=Sa.next()).done);ya=!0){var cb=Ua.value;Object.prototype.hasOwnProperty.call(cb,C)&&W.push(cb[C])}}catch(db){za=!0,ta=db}finally{try{if(!ya&&null!=Sa["return"])Sa["return"]()}finally{if(za)throw ta;}}}return W}},{key:"tabSize",get:function(){return this.facet(H.tabSize)}},{key:"lineBreak",get:function(){return this.facet(H.lineSeparator)||"\n"}},
{key:"indentUnit",get:function(){var C=this.facet(H.indentUnit);return 9==C.charCodeAt(0)?this.tabSize*C.length:C.length}},{key:"tree",get:function(){var C=this.facet(H.syntax);return C.length?C[0].getTree(this):v.Tree.empty}}],[{key:"fromJSON",value:function(C){var S=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};if(!C||"string"!=typeof C.doc)throw new RangeError("Invalid JSON representation for EditorState");return H.create({doc:C.doc,selection:P.fromJSON(C.selection),extensions:S.extensions})}},
{key:"create",value:function(){var C=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},S=nb.resolve(C.extensions||[]),W=C.doc instanceof p.Text?C.doc:p.Text.of((C.doc||"").split(S.staticFacet(H.lineSeparator)||x));C=C.selection?C.selection instanceof P?C.selection:P.single(C.selection.anchor,C.selection.head):P.single(0);la(C,W.length);S.staticFacet(Qb)||(C=C.asSingle());return new H(S,W,C)}}]);return H}();D.EditorState=Lb;Lb.allowMultipleSelections=Qb;Lb.indentation=ja.define();Lb.tabSize=
ja.define({combine:function(H){return H.length?H[0]:4}});Lb.lineSeparator=ja.define({combine:function(H){return H.length?H[0]:void 0},"static":!0});Lb.indentUnit=ja.define({combine:function(H){if(!H.length)return"  ";if(!/^(?: +|\t+)$/.test(H[0]))throw Error("Invalid indent unit: "+JSON.stringify(H[0]));return H[0]}});Lb.phrases=ja.define();Lb.syntax=ja.define();Lb.globalLanguageData=Jb;Lb.foldable=ja.define();Lb.changeFilter=Nb;Lb.transactionFilter=Ib};
shadow$provide[3]=function(aa,va,Pa,D){function Aa(Fa,ka){return"undefined"==typeof Symbol?"__"+Fa+(ka?Math.floor(1E8*Math.random()):""):ka?Symbol(Fa):Symbol.for(Fa)}function Na(Fa,ka,Qa){if("object"!=typeof ka)throw new RangeError("Expected style object, got "+JSON.stringify(ka));var Ja=[],la=function(U){if(/^@/.test(U)){var J=[];Na(Fa,ka[U],J);Qa.push(U+" {"+J.join(" ")+"}")}else if(/&/.test(U))Na(Fa.split(/\s*,\s*/).map(function(u){return U.replace(/&/g,u)}).join(", "),ka[U],Qa);else if("specificity"!=
U){if("object"==typeof ka[U])throw new RangeError("The value of a property ("+U+") should be a primitive value.");Ja.push(U.replace(/_.*/,"").replace(/[A-Z]/g,function(u){return"-"+u.toLowerCase()})+": "+ka[U])}},ca;for(ca in ka)la(ca);Ja.length&&Qa.push(Fa+" {"+Ja.join("; ")+"}")}var Ea=Aa("Í¼"),Va=Aa("styleSet",1),Ba=Aa("rules",1),Ca="undefined"==typeof aa?window:aa,Ga=D.StyleModule=function(Fa,ka){this[Ba]=[];for(var Qa in Fa){var Ja=Fa[Qa].specificity||0,la=Ga.newName(),ca=Qa;if(!1!==(ka&&ka.generateClasses)){var U=
la;ca="."+la;for(la=0;la<Ja;la++){var J="Í¼_"+(la?la.toString(36):"");ca+="."+J;U+=" "+J}this[Qa]=U}Na(ca,Fa[Qa],this[Ba])}};Ga.newName=function(){var Fa=Ca[Ea]||1;Ca[Ea]=Fa+1;return"Í¼"+Fa.toString(36)};Ga.prototype=Object.create(null);Ga.mount=function(Fa,ka){(Fa[Va]||new ua(Fa)).mount(Array.isArray(ka)?ka:[ka])};var Oa=null,ua=function(Fa){if(Fa.adoptedStyleSheets&&"undefined"!=typeof CSSStyleSheet){if(Oa)return Fa.adoptedStyleSheets=[Oa.sheet].concat(Fa.adoptedStyleSheets),Fa[Va]=Oa;this.sheet=
new CSSStyleSheet;Fa.adoptedStyleSheets=[this.sheet].concat(Fa.adoptedStyleSheets);Oa=this}else this.styleTag=(Fa.ownerDocument||Fa).createElement("style"),Fa=Fa.head||Fa,Fa.insertBefore(this.styleTag,Fa.firstChild);this.modules=[]};ua.prototype.mount=function(Fa){for(var ka=this.sheet,Qa=0,Ja=0,la=0;la<Fa.length;la++){var ca=Fa[la],U=this.modules.indexOf(ca);U<Ja&&-1<U&&(this.modules.splice(U,1),Ja--,U=-1);if(-1==U){if(this.modules.splice(Ja++,0,ca),ka)for(U=0;U<ca[Ba].length;U++)ka.insertRule(ca[Ba][U],
Qa++)}else{for(;Ja<U;)Qa+=this.modules[Ja++][Ba].length;Qa+=ca[Ba].length;Ja++}}if(!ka){Fa="";for(ka=0;ka<this.modules.length;ka++)Fa+=this.modules[ka][Ba].join("\n")+"\n";this.styleTag.textContent=Fa}}};
shadow$provide[4]=function(aa,va,Pa,D){function Aa(U,J){if(!(U instanceof J))throw new TypeError("Cannot call a class as a function");}function Na(U,J){for(var u=0;u<J.length;u++){var t=J[u];t.enumerable=t.enumerable||!1;t.configurable=!0;"value"in t&&(t.writable=!0);Object.defineProperty(U,t.key,t)}}function Ea(U,J,u){J&&Na(U.prototype,J);u&&Na(U,u);return U}function Va(U,J){return U.from-J.from||U.value.startSide-J.value.startSide}function Ba(U,J){var u=new Map,t=!0,B=!1,L=void 0;try{for(var O=
U[Symbol.iterator](),A;!(t=(A=O.next()).done);t=!0){var n=A.value;for(U=0;U<n.chunk.length;U++)500>n.chunk[U].maxPoint&&u.set(n.chunk[U],n.chunkPos[U])}}catch(v){B=!0,L=v}finally{try{if(!t&&null!=O["return"])O["return"]()}finally{if(B)throw L;}}t=new Set;B=!0;L=!1;O=void 0;try{for(var z=J[Symbol.iterator](),w;!(B=(w=z.next()).done);B=!0){var p=w.value;for(J=0;J<p.chunk.length;J++)u.get(p.chunk[J])==p.chunkPos[J]&&t.add(p.chunk[J])}}catch(v){L=!0,O=v}finally{try{if(!B&&null!=z["return"])z["return"]()}finally{if(L)throw O;
}}return t}function Ca(U,J){for(var u=U[J];;){var t=(J<<1)+1;if(t>=U.length)break;var B=U[t];t+1<U.length&&0<=B.compare(U[t+1])&&(B=U[t+1],t++);if(0>u.compare(B))break;U[t]=u;U[J]=B;J=t}}function Ga(U,J,u,t,B,L){U["goto"](J);u["goto"](t);B=t+B;var O=t;for(J=t-J;;){t=U.to+J-u.to||U.endSide-u.endSide;var A=0>t?U.to+J:u.to,n=Math.min(A,B);if(U.point||u.point)U.point&&u.point&&(U.point==u.point||U.point.eq(u.point))||L.comparePoint(O,n,U.point,u.point);else{var z;if(z=n>O){a:{z=U.active;var w=u.active;
if(z.length!=w.length)z=!1;else{var p=0;b:for(;p<z.length;p++){for(var v=0;v<w.length;v++)if(z[p]==w[p]||z[p].eq(w[v]))continue b;z=!1;break a}z=!0}}z=!z}z&&L.compareRange(O,n,U.active,u.active)}if(A>B)break;O=A;0>=t&&U.next();0<=t&&u.next()}}function Oa(U,J){for(var u=-1,t=1E9,B=0;B<J.length;B++)0>(J[B]-t||U[B].endSide-U[u].endSide)&&(u=B,t=J[B]);return u}Object.defineProperty(D,"__esModule",{value:!0});D.RangeValue=D.RangeSetBuilder=D.RangeSet=D.Range=void 0;aa=va(2);va=function(){function U(){Aa(this,
U)}Ea(U,[{key:"eq",value:function(J){return this==J}},{key:"range",value:function(J){return new ua(J,1<arguments.length&&void 0!==arguments[1]?arguments[1]:J,this)}}]);return U}();D.RangeValue=va;va.prototype.startSide=va.prototype.endSide=0;va.prototype.point=!1;va.prototype.mapMode=aa.MapMode.TrackDel;var ua=function B(J,u,t){Aa(this,B);this.from=J;this.to=u;this.value=t};D.Range=ua;var Fa=function(){function J(u,t,B,L){Aa(this,J);this.from=u;this.to=t;this.value=B;this.maxPoint=L}Ea(J,[{key:"findIndex",
value:function(u,t){var B=2<arguments.length&&void 0!==arguments[2]?arguments[2]:1E9*t,L=3<arguments.length&&void 0!==arguments[3]?arguments[3]:0;if(0>=u)return L;for(var O=0>t?this.to:this.from,A=O.length;;){if(L==A)return L;var n=L+A>>1,z=O[n]-u||(0>t?this.value[n].startSide:this.value[n].endSide)-B;if(n==L)return 0<=z?L:A;0<=z?A=n:L=n+1}}},{key:"between",value:function(u,t,B,L){t=this.findIndex(t,-1);for(B=this.findIndex(B,1,void 0,t);t<B;t++)if(!1===L(this.from[t]+u,this.to[t]+u,this.value[t]))return!1}},
{key:"map",value:function(u,t){for(var B=[],L=[],O=[],A=-1,n=-1,z=0;z<this.value.length;z++){var w=this.value[z],p=this.from[z]+u,v=this.to[z]+u;if(p==v){v=t.mapPos(p,w.startSide,w.mapMode);if(0>v)continue;p=v}else if(p=t.mapPos(p,w.startSide),v=t.mapPos(v,w.endSide),p>v||p==v&&0<w.startSide&&0>=w.endSide)continue;0>(v-p||w.endSide-w.startSide)||(0>A&&(A=p),w.point&&(n=Math.max(n,v-p)),B.push(w),L.push(p-A),O.push(v-A))}return{mapped:B.length?new J(L,O,B,n):null,pos:A}}},{key:"length",get:function(){return this.to[this.to.length-
1]}}]);return J}(),ka=function(){function J(u,t){var B=2<arguments.length&&void 0!==arguments[2]?arguments[2]:J.empty,L=3<arguments.length?arguments[3]:void 0;Aa(this,J);this.chunkPos=u;this.chunk=t;this.nextLayer=B;this.maxPoint=L}Ea(J,[{key:"chunkEnd",value:function(u){return this.chunkPos[u]+this.chunk[u].length}},{key:"update",value:function(u){var t=u.add;t=void 0===t?[]:t;var B=u.sort,L=u.filter,O=u.filterFrom;O=void 0===O?0:O;u=u.filterTo;u=void 0===u?this.length:u;if(0==t.length&&!L)return this;
(void 0===B?0:B)&&t.slice().sort(Va);if(this==J.empty)return t.length?J.of(t):this;B=(new Ja(this,null,-1))["goto"](0);for(var A=0,n=[],z=new Qa;B.value||A<t.length;)if(A<t.length&&0<=(B.from-t[A].from||B.startSide-t[A].value.startSide)){var w=t[A++];z.addInner(w.from,w.to,w.value)||n.push(w)}else if(1==B.rangeIndex&&B.chunkIndex<this.chunk.length&&(A==t.length||this.chunkEnd(B.chunkIndex)<t[A].from)&&(!L||O>this.chunkEnd(B.chunkIndex)||u<this.chunkPos[B.chunkIndex])&&z.addChunk(this.chunkPos[B.chunkIndex],
this.chunk[B.chunkIndex]))B.nextChunk();else{if(!L||O>B.to||u<B.from||L(B.from,B.to,B.value))z.addInner(B.from,B.to,B.value)||n.push(new ua(B.from,B.to,B.value));B.next()}return z.finishInner(this.nextLayer!=J.empty||n.length?this.nextLayer.update({add:n,filter:L,filterFrom:O,filterTo:u}):J.empty)}},{key:"map",value:function(u){if(0==u.length||this==J.empty)return this;for(var t=[],B=[],L=-1,O=0;O<this.chunk.length;O++){var A=this.chunkPos[O],n=this.chunk[O],z=u.touchesRange(A,A+n.length);!1===z?
(L=Math.max(L,n.maxPoint),t.push(n),B.push(u.mapPos(A))):!0===z&&(n=n.map(A,u),A=n.mapped,n=n.pos,A&&(L=Math.max(L,A.maxPoint),t.push(A),B.push(n)))}u=this.nextLayer.map(u);return 0==t.length?u:new J(B,t,u,L)}},{key:"between",value:function(u,t,B){if(this!=J.empty){for(var L=0;L<this.chunk.length;L++){var O=this.chunkPos[L],A=this.chunk[L];if(t>=O&&u<=O+A.length&&!1===A.between(O,u-O,t-O,B))return}this.nextLayer.between(u,t,B)}}},{key:"iter",value:function(){var u=0<arguments.length&&void 0!==arguments[0]?
arguments[0]:0;return la.from([this])["goto"](u)}},{key:"length",get:function(){var u=this.chunk.length-1;return 0>u?0:Math.max(this.chunkEnd(u),this.nextLayer.length)}},{key:"size",get:function(){if(this==J.empty)return 0;var u=this.nextLayer.size,t=!0,B=!1,L=void 0;try{for(var O=this.chunk[Symbol.iterator](),A;!(t=(A=O.next()).done);t=!0)u+=A.value.value.length}catch(n){B=!0,L=n}finally{try{if(!t&&null!=O["return"])O["return"]()}finally{if(B)throw L;}}return u}}],[{key:"iter",value:function(u){var t=
1<arguments.length&&void 0!==arguments[1]?arguments[1]:0;return la.from(u)["goto"](t)}},{key:"compare",value:function(u,t,B,L){var O,A=null!==(O=L.minPointSize)&&void 0!==O?O:-1;O=u.filter(function(v){return 500<=v.maxPoint||v!=J.empty&&0>t.indexOf(v)&&v.maxPoint>=A});var n=t.filter(function(v){return 500<=v.maxPoint||v!=J.empty&&0>u.indexOf(v)&&v.maxPoint>=A}),z=Ba(O,n),w=new ca(O,z,A),p=new ca(n,z,A);B.iterGaps(function(v,x,N){return Ga(w,v,p,x,N,L)});B.empty&&0==B.length&&Ga(w,0,p,0,0,L)}},{key:"spans",
value:function(u,t,B,L){var O;u=(new ca(u,null,null!==(O=L.minPointSize)&&void 0!==O?O:-1))["goto"](t);for(O=t;;){var A=Math.min(u.to,B);u.point?L.point(O,A,u.point,u.pointFrom<t,u.to>B):A>O&&L.span(O,A,u.active);if(u.to>B)break;O=u.to;u.next()}}},{key:"of",value:function(u){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:!1,B=new Qa,L=!0,O=!1,A=void 0;try{for(var n=(u instanceof ua?[u]:t?u.slice().sort(Va):u)[Symbol.iterator](),z;!(L=(z=n.next()).done);L=!0){var w=z.value;B.add(w.from,
w.to,w.value)}}catch(p){O=!0,A=p}finally{try{if(!L&&null!=n["return"])n["return"]()}finally{if(O)throw A;}}return B.finish()}}]);return J}();D.RangeSet=ka;ka.empty=new ka([],[],null,-1);ka.empty.nextLayer=ka.empty;var Qa=function(){function J(){Aa(this,J);this.chunks=[];this.chunkPos=[];this.chunkStart=-1;this.last=null;this.lastTo=this.lastFrom=-1E9;this.from=[];this.to=[];this.value=[];this.setMaxPoint=this.maxPoint=-1;this.nextLayer=null}Ea(J,[{key:"finishChunk",value:function(u){this.chunks.push(new Fa(this.from,
this.to,this.value,this.maxPoint));this.chunkPos.push(this.chunkStart);this.chunkStart=-1;this.setMaxPoint=Math.max(this.setMaxPoint,this.maxPoint);this.maxPoint=-1;u&&(this.from=[],this.to=[],this.value=[])}},{key:"add",value:function(u,t,B){this.addInner(u,t,B)||(this.nextLayer||(this.nextLayer=new J)).add(u,t,B)}},{key:"addInner",value:function(u,t,B){var L=u-this.lastTo||B.startSide-this.last.endSide;if(0>=L&&0>(u-this.lastFrom||B.startSide-this.last.startSide))throw Error("Ranges must be added sorted by `from` position and `startSide`");
if(0>L)return!1;250==this.from.length&&this.finishChunk(!0);0>this.chunkStart&&(this.chunkStart=u);this.from.push(u-this.chunkStart);this.to.push(t-this.chunkStart);this.last=B;this.lastFrom=u;this.lastTo=t;this.value.push(B);B.point&&(this.maxPoint=Math.max(this.maxPoint,t-u));return!0}},{key:"addChunk",value:function(u,t){if(0>(u-this.lastTo||t.value[0].startSide-this.last.endSide))return!1;this.from.length&&this.finishChunk(!0);this.setMaxPoint=Math.max(this.setMaxPoint,t.maxPoint);this.chunks.push(t);
this.chunkPos.push(u);var B=t.value.length-1;this.last=t.value[B];this.lastFrom=t.from[B]+u;this.lastTo=t.to[B]+u;return!0}},{key:"finish",value:function(){return this.finishInner(ka.empty)}},{key:"finishInner",value:function(u){this.from.length&&this.finishChunk(!1);if(0==this.chunks.length)return u;u=new ka(this.chunkPos,this.chunks,this.nextLayer?this.nextLayer.finishInner(u):u,this.setMaxPoint);this.from=null;return u}}]);return J}();D.RangeSetBuilder=Qa;var Ja=function(){function J(u,t,B){Aa(this,
J);this.layer=u;this.skip=t;this.minPoint=B}Ea(J,[{key:"goto",value:function(u){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:-1E9;this.chunkIndex=this.rangeIndex=0;this.gotoInner(u,t,!1);return this}},{key:"gotoInner",value:function(u,t,B){for(;this.chunkIndex<this.layer.chunk.length;){var L=this.layer.chunk[this.chunkIndex];if(!(this.skip&&this.skip.has(L)||this.layer.chunkEnd(this.chunkIndex)<u||L.maxPoint<this.minPoint))break;this.chunkIndex++;B=!1}u=this.chunkIndex==this.layer.chunk.length?
0:this.layer.chunk[this.chunkIndex].findIndex(u-this.layer.chunkPos[this.chunkIndex],-1,t);if(!B||this.rangeIndex<u)this.rangeIndex=u;this.next()}},{key:"forward",value:function(u,t){0>(this.to-u||this.endSide-t)&&this.gotoInner(u,t,!0)}},{key:"next",value:function(){for(;;)if(this.chunkIndex==this.layer.chunk.length){this.from=this.to=1E9;this.value=null;break}else{var u=this.layer.chunkPos[this.chunkIndex],t=this.layer.chunk[this.chunkIndex];this.from=u+t.from[this.rangeIndex];this.to=u+t.to[this.rangeIndex];
this.value=t.value[this.rangeIndex];if(++this.rangeIndex==t.value.length){this.chunkIndex++;if(this.skip)for(;this.chunkIndex<this.layer.chunk.length&&this.skip.has(this.layer.chunk[this.chunkIndex]);)this.chunkIndex++;this.rangeIndex=0}if(0>this.minPoint||this.value.point&&this.to-this.from>=this.minPoint)break}}},{key:"nextChunk",value:function(){this.chunkIndex++;this.rangeIndex=0;this.next()}},{key:"compare",value:function(u){return this.from-u.from||this.startSide-u.startSide||this.to-u.to||
this.endSide-u.endSide}},{key:"startSide",get:function(){return this.value?this.value.startSide:0}},{key:"endSide",get:function(){return this.value?this.value.endSide:0}}]);return J}(),la=function(){function J(u){Aa(this,J);this.heap=u}Ea(J,[{key:"goto",value:function(u){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:-1E9,B=!0,L=!1,O=void 0;try{for(var A=this.heap[Symbol.iterator](),n;!(B=(n=A.next()).done);B=!0)n.value["goto"](u,t)}catch(z){L=!0,O=z}finally{try{if(!B&&null!=A["return"])A["return"]()}finally{if(L)throw O;
}}for(t=this.heap.length>>1;0<=t;t--)Ca(this.heap,t);this.next();return this}},{key:"forward",value:function(u,t){var B=!0,L=!1,O=void 0;try{for(var A=this.heap[Symbol.iterator](),n;!(B=(n=A.next()).done);B=!0)n.value.forward(u,t)}catch(z){L=!0,O=z}finally{try{if(!B&&null!=A["return"])A["return"]()}finally{if(L)throw O;}}for(B=this.heap.length>>1;0<=B;B--)Ca(this.heap,B);0>(this.to-u||this.value.endSide-t)&&this.next()}},{key:"next",value:function(){if(0==this.heap.length)this.from=this.to=1E9,this.value=
null;else{var u=this.heap[0];this.from=u.from;this.to=u.to;(this.value=u.value)&&u.next();Ca(this.heap,0)}}},{key:"startSide",get:function(){return this.value?this.value.startSide:0}}],[{key:"from",value:function(u){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:null,B=2<arguments.length&&void 0!==arguments[2]?arguments[2]:-1,L=[],O=!0,A=!1,n=void 0;try{for(var z=u[Symbol.iterator](),w;!(O=(w=z.next()).done);O=!0)for(var p=w.value;p!=ka.empty;p=p.nextLayer)p.maxPoint>=B&&L.push(new Ja(p,
t,B))}catch(v){A=!0,n=v}finally{try{if(!O&&null!=z["return"])z["return"]()}finally{if(A)throw n;}}return 1==L.length?L[0]:new J(L)}}]);return J}(),ca=function(){function J(u,t,B){Aa(this,J);this.minPoint=B;this.active=[];this.activeTo=[];this.minActive=-1;this.point=null;this.pointFrom=0;this.to=-1E9;this.endSide=0;this.cursor=la.from(u,t,B)}Ea(J,[{key:"goto",value:function(u){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:-1E9;this.cursor["goto"](u,t);this.active.length=this.activeTo.length=
0;this.minActive=-1;this.to=u;this.endSide=t;this.next();return this}},{key:"forward",value:function(u,t){for(;-1<this.minActive&&0>(this.activeTo[this.minActive]-u||this.active[this.minActive].endSide-t);)this.removeActive(this.minActive);this.cursor.forward(u,t)}},{key:"removeActive",value:function(u){var t=this.active,B=t.pop();u!=t.length&&(t[u]=B);t=this.activeTo;B=t.pop();u!=t.length&&(t[u]=B);this.minActive=Oa(this.active,this.activeTo)}},{key:"next",value:function(){var u=this.to;for(this.point=
null;;){var t=this.minActive;if(-1<t&&0>(this.activeTo[t]-this.cursor.from||this.active[t].endSide-this.cursor.startSide)){if(this.activeTo[t]>u){this.to=this.activeTo[t];this.endSide=this.active[t].endSide;break}this.removeActive(t)}else if(this.cursor.value)if(this.cursor.from>u){this.to=this.cursor.from;this.endSide=this.cursor.startSide;break}else if(t=this.cursor.value,t.point){this.point=t;this.pointFrom=this.cursor.from;this.to=this.cursor.to;this.endSide=t.endSide;this.cursor.next();this.to>
u&&this.forward(this.to,this.endSide);break}else this.active.push(t),this.activeTo.push(this.cursor.to),this.minActive=Oa(this.active,this.activeTo),this.cursor.next();else{this.to=this.endSide=1E9;break}}}}]);return J}()};
shadow$provide[5]=function(aa,va,Pa,D){Object.defineProperty(D,"__esModule",{value:!0});var Aa={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"\x3d",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",
162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"\x3d",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",229:"q"},Na={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"\x26",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"\x3c",189:"_",190:"\x3e",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"',229:"Q"};aa="undefined"!=typeof navigator&&/Chrome\/(\d+)/.exec(navigator.userAgent);var Ea="undefined"!=typeof navigator&&/Apple Computer/.test(navigator.vendor);
va="undefined"!=typeof navigator&&/Gecko\/\d+/.test(navigator.userAgent);Pa="undefined"!=typeof navigator&&/Mac/.test(navigator.platform);var Va="undefined"!=typeof navigator&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent),Ba=aa&&(Pa||57>+aa[1])||va&&Pa;for(aa=0;10>aa;aa++)Aa[48+aa]=Aa[96+aa]=String(aa);for(aa=1;24>=aa;aa++)Aa[aa+111]="F"+aa;for(aa=65;90>=aa;aa++)Aa[aa]=String.fromCharCode(aa+32),Na[aa]=String.fromCharCode(aa);for(var Ca in Aa)Na.hasOwnProperty(Ca)||(Na[Ca]=
Aa[Ca]);D.base=Aa;D.keyName=function(Ga){Ga=!(Ba&&(Ga.ctrlKey||Ga.altKey||Ga.metaKey)||(Ea||Va)&&Ga.shiftKey&&Ga.key&&1==Ga.key.length)&&Ga.key||(Ga.shiftKey?Na:Aa)[Ga.keyCode]||Ga.key||"Unidentified";"Esc"==Ga&&(Ga="Escape");"Del"==Ga&&(Ga="Delete");"Left"==Ga&&(Ga="ArrowLeft");"Up"==Ga&&(Ga="ArrowUp");"Right"==Ga&&(Ga="ArrowRight");"Down"==Ga&&(Ga="ArrowDown");return Ga};D.shift=Na};
shadow$provide[6]=function(aa,va,Pa,D){function Aa(h,c,a){Aa="undefined"!==typeof Reflect&&Reflect.get?Reflect.get:function(d,f,k){for(;!Object.prototype.hasOwnProperty.call(d,f)&&(d=Ba(d),null!==d););if(d)return f=Object.getOwnPropertyDescriptor(d,f),f.get?f.get.call(k):f.value};return Aa(h,c,a||h)}function Na(h){Na="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(c){return typeof c}:function(c){return c&&"function"===typeof Symbol&&c.constructor===Symbol&&c!==Symbol.prototype?
"symbol":typeof c};return Na(h)}function Ea(h,c){return!c||"object"!==Na(c)&&"function"!==typeof c?Va(h):c}function Va(h){if(void 0===h)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return h}function Ba(h){Ba=Object.setPrototypeOf?Object.getPrototypeOf:function(c){return c.__proto__||Object.getPrototypeOf(c)};return Ba(h)}function Ca(h,c){if("function"!==typeof c&&null!==c)throw new TypeError("Super expression must either be null or a function");h.prototype=
Object.create(c&&c.prototype,{constructor:{value:h,writable:!0,configurable:!0}});c&&Ga(h,c)}function Ga(h,c){Ga=Object.setPrototypeOf||function(a,d){a.__proto__=d;return a};return Ga(h,c)}function Oa(h){if(Array.isArray(h)){var c=0;for(var a=Array(h.length);c<h.length;c++)a[c]=h[c];c=a}else c=void 0;c||(c=Symbol.iterator in Object(h)||"[object Arguments]"===Object.prototype.toString.call(h)?Array.from(h):void 0);if(!(h=c))throw new TypeError("Invalid attempt to spread non-iterable instance");return h}
function ua(h,c){if(!(h instanceof c))throw new TypeError("Cannot call a class as a function");}function Fa(h,c){for(var a=0;a<c.length;a++){var d=c[a];d.enumerable=d.enumerable||!1;d.configurable=!0;"value"in d&&(d.writable=!0);Object.defineProperty(h,d.key,d)}}function ka(h,c,a){c&&Fa(h.prototype,c);a&&Fa(h,a);return h}function Qa(h){return h.getSelection?h.getSelection():document.getSelection()}function Ja(h){var c=h.isCollapsed;c&&bb.chrome&&h.rangeCount&&!h.getRangeAt(0).collapsed&&(c=!1);return c}
function la(h,c){if(!c.anchorNode)return!1;try{return h.contains(3==c.anchorNode.nodeType?c.anchorNode.parentNode:c.anchorNode)}catch(a){return!1}}function ca(h){if(3==h.nodeType){var c=document.createRange();c.setEnd(h,h.nodeValue.length);c.setStart(h,0);return c.getClientRects()}return 1==h.nodeType?h.getClientRects():[]}function U(h,c,a,d){return a?u(h,c,a,d,-1)||u(h,c,a,d,1):!1}function J(h){for(var c=0;;c++)if(h=h.previousSibling,!h)return c}function u(h,c,a,d,f){for(;;){if(h==a&&c==d)return!0;
if(c==(0>f?0:t(h))){if("DIV"==h.nodeName)return!1;var k=h.parentNode;if(!k||1!=k.nodeType)return!1;c=J(h)+(0>f?0:1);h=k}else if(1==h.nodeType)h=h.childNodes[c+(0>f?-1:0)],c=0>f?t(h):0;else return!1}}function t(h){return 3==h.nodeType?h.nodeValue.length:h.childNodes.length}function B(h,c){c=c?h.left:h.right;return{left:c,right:c,top:h.top,bottom:h.bottom}}function L(h){if(h.setActive)return h.setActive();if(Pb)return h.focus(Pb);for(var c=[],a=h;a&&(c.push(a,a.scrollTop,a.scrollLeft),a!=a.ownerDocument);a=
a.parentNode);h.focus(null==Pb?{get preventScroll(){Pb={preventScroll:!0};return!0}}:void 0);if(!Pb)for(Pb=!1,h=0;h<c.length;){a=c[h++];var d=c[h++],f=c[h++];a.scrollTop!=d&&(a.scrollTop=d);a.scrollLeft!=f&&(a.scrollLeft=f)}}function O(h){var c=h.nextSibling;h.parentNode.removeChild(h);return c}function A(h,c){for(var a in h)"class"==a&&c["class"]?c["class"]+=" "+h["class"]:"style"==a&&c.style?c.style+=";"+h.style:c[a]=h[a];return c}function n(h,c){if(h==c)return!0;if(!h||!c)return!1;var a=Object.keys(h),
d=Object.keys(c);if(a.length!=d.length)return!1;for(var f=0;f<a.length;f++){var k=a[f];if(-1==d.indexOf(k)||h[k]!==c[k])return!1}return!0}function z(h,c,a){if(c)for(var d in c)a&&d in a||h.removeAttribute(d);if(a)for(var f in a)c&&c[f]==a[f]||h.setAttribute(f,a[f])}function w(h,c,a,d){var f=c,k=c,m=0;0==c&&0>a||c==d&&0<=a?bb.chrome||bb.gecko||(c?(f--,m=1):(k++,m=-1)):0>a?f--:k++;c=document.createRange();c.setEnd(h,k);c.setStart(h,f);h=c.getBoundingClientRect();return m?B(h,0>m):h}function p(h){var c=
h.inclusiveStart,a=h.inclusiveEnd;null==c&&(c=h.inclusive);null==a&&(a=h.inclusive);return{start:c||!1,end:a||!1}}function v(h,c,a){var d=a.length-1;0<=d&&a[d]+4>h?a[d]=Math.max(a[d],c):a.push(h,c)}function x(h,c){var a=Object.create(null),d;for(d in c){var f=d.split(/\s*,\s*/).map(function(k){var m=h,y;m==gc&&(y=/^(.*?)@(light|dark)$/.exec(k))&&(m="dark"==y[2]?Oc:ic,k=y[1]);k=k.split(".");m="."+m+("wrap"==k[0]?"":" ");for(y=1;y<=k.length;y++)m+=".cm-"+k.slice(0,y).join("-");return m}).join(", ");
a[f]=c[d]}return new Sb.StyleModule(a,{generateClasses:!1})}function N(h){h=h.split(".");for(var c="",a=1;a<=h.length;a++)c+=(c?" ":"")+"cm-"+h.slice(0,a).join("-");return c}function T(h){for(var c=[],a=0;a<h.length;a++)c.push(1<<+h[a]);return c}function Q(h,c){var a=h.length;c=c==Ac?1:2;if(!h||1==c&&!Uc.test(h))return[new pc(0,a,0)];for(var d=0,f=c,k=c;d<a;d++){var m=h.charCodeAt(d);m=247>=m?Vc[m]:1424<=m&&1524>=m?2:1536<=m&&1785>=m?Pc[m-1536]:1774<=m&&2220>=m?4:8192<=m&&8203>=m?256:8204==m?256:
1;512==m?m=f:8==m&&4==k&&(m=16);xb[d]=4==m?2:m;m&7&&(k=m);f=m}k=0;for(h=m=c;k<a;k++){d=xb[k];if(128==d)k<a-1&&m==xb[k+1]&&m&24?d=xb[k]=m:xb[k]=256;else if(64==d){for(f=k+1;f<a&&64==xb[f];)f++;for(m=k&&8==m||f<a&&8==xb[f]?1==h?1:8:256;k<f;k++)xb[k]=m;k=f-1}else 8==d&&1==h&&(xb[k]=1);m=d;d&7&&(h=d)}for(d=0;d<a;d++)if(256==xb[d]){for(h=d+1;h<a&&256==xb[h];)h++;f=1==(d?xb[d-1]:c);for(f=f==(1==(h<a?xb[h]:c))?f?1:2:c;d<h;d++)xb[d]=f;d=h-1}h=[];if(1==c)for(c=0;c<a;){d=c;for(f=1!=xb[c++];c<a&&f==(1!=xb[c]);)c++;
if(f)for(f=c;f>d;){k=f;for(m=2!=xb[--f];f>d&&m==(2!=xb[f-1]);)f--;h.push(new pc(f,k,m?2:1))}else h.push(new pc(d,c,0))}else for(c=0;c<a;){d=c;for(f=2==xb[c++];c<a&&f==(2==xb[c]);)c++;h.push(new pc(d,c,f?1:2))}return h}function I(h,c,a,d,f){var k,m=d.head-h.from,y=-1;if(0==m){if(!f||!h.length)return null;c[0].level!=a&&(m=c[0].side(!1,a),y=0)}else if(m==h.length){if(f)return null;var K=c[c.length-1];K.level!=a&&(m=K.side(!0,a),y=c.length-1)}0>y&&(y=pc.find(c,m,null!==(k=d.bidiLevel)&&void 0!==k?k:
-1,d.assoc));d=c[y];m==d.side(f,a)&&(d=c[y+=f?1:-1],m=d.side(!f,a));K=f==(d.dir==a);k=h.findClusterBreak(m,K);Jc=h.slice(Math.min(m,k),Math.max(m,k));return k!=d.side(f,a)?Da.EditorSelection.cursor(k+h.from,K?-1:1,d.level):(c=y==(f?c.length-1:0)?null:c[y+(f?1:-1)])||d.level==a?c&&c.level<d.level?Da.EditorSelection.cursor(c.side(!f,a)+h.from,0,c.level):Da.EditorSelection.cursor(k+h.from,0,d.level):Da.EditorSelection.cursor(f?h.to:h.from,f?-1:1,a)}function M(h,c){var a,d;null==h[c]&&(a=h[c-1])instanceof
q&&(d=h[c+1])instanceof q&&h.splice(c-1,3,new q(a.length+1+d.length))}function P(h,c,a){var d=new R;Eb.RangeSet.compare(h,c,a,d);return d.changes}function Z(h,c,a){h=h.facet(sa);if(h.length)h[0](c);else if(window.onerror)window.onerror(String(c),a,void 0,void 0,c);else a?console.error(a+":",c):console.error(c)}function ja(h,c,a){var d=[],f=h,k=0;Eb.RangeSet.spans(a.facet(Wa),h,c,{span:function(){},point:function(m,y){m>f&&(d.push({from:f,to:m}),k+=m-f);f=y},minPointSize:20});f<c&&(d.push({from:f,
to:c}),k+=c-f);return{total:k,ranges:d}}function Ha(h,c){var a=h.ranges;if(0>=c)return a[0].from;if(1<=c)return a[a.length-1].to;h=Math.floor(h.total*c);for(c=0;;c++){var d=a[c],f=d.from;d=d.to-f;if(h<=d)return f+h;h-=d}}function Ka(h,c){var a=0,d=!0,f=!1,k=void 0;try{for(var m=h.ranges[Symbol.iterator](),y;!(d=(y=m.next()).done);d=!0){var K=y.value,V=K.from,ba=K.to;if(c<=ba){a+=c-V;break}a+=ba-V}}catch(fa){f=!0,k=fa}finally{try{if(!d&&null!=m["return"])m["return"]()}finally{if(f)throw k;}}return a/
h.total}function Ra(h,c){var a=!0,d=!1,f=void 0;try{for(var k=h[Symbol.iterator](),m;!(a=(m=k.next()).done);a=!0){var y=m.value;if(c(y))return y}}catch(K){d=!0,f=K}finally{try{if(!a&&null!=k["return"])k["return"]()}finally{if(d)throw f;}}}function $a(h,c){var a=Qa(h.root);a=a.focusNode&&eb(a.focusNode,a.focusOffset,0);if(!a)return Ab.none;var d=h.docView.nearest(a),f=a;if(d instanceof Kc){var k=d.posAtStart;var m=k+d.length;f=d.dom}else if(d instanceof rb){for(;f.parentNode!=d.dom;)f=f.parentNode;
for(m=f.previousSibling;m&&!Gb.get(m);)m=m.previousSibling;k=m=m?Gb.get(m).posAtEnd:d.posAtStart}else return Ab.none;d=c.mapPos(k,1);c=Math.max(d,c.mapPos(m,-1));m=a.nodeValue;h=h.state;if(c-d<m.length)if(h.sliceDoc(d,Math.min(h.doc.length,d+m.length))==m)c=d+m.length;else if(h.sliceDoc(Math.max(0,c-m.length),c)==m)d=c-m.length;else return Ab.none;else if(h.sliceDoc(d,c)!=m)return Ab.none;return Ab.set(Ab.replace({widget:new td({top:f,text:a})}).range(d,c))}function eb(h,c,a){for(;;){if(3==h.nodeType)return h;
if(1==h.nodeType&&0<c&&0>=a)h=h.childNodes[c-1],c=t(h);else if(1==h.nodeType&&c<h.childNodes.length&&0<=a)h=h.childNodes[c],c=0;else return null}}function nb(h,c){return 1!=h.nodeType?0:(c&&"false"==h.childNodes[c-1].contentEditable?1:0)|(c<h.childNodes.length&&"false"==h.childNodes[c].contentEditable?2:0)}function Qb(h,c,a){var d=new ud;Eb.RangeSet.compare(h,c,a,d);return d.changes}function Nb(h,c){var a=2<arguments.length&&void 0!==arguments[2]?arguments[2]:1,d=h.charCategorizer(c),f=h.doc.lineAt(c),
k=c-f.from;if(0==f.length)return Da.EditorSelection.cursor(c);0==k?a=1:k==f.length&&(a=-1);var m=k,y=k;0>a?m=f.findClusterBreak(k,!1):y=f.findClusterBreak(k,!0);for(a=d(f.slice(m,y));0<m;){k=f.findClusterBreak(m,!1);if(d(f.slice(k,m))!=a)break;m=k}for(;y<f.length;){k=f.findClusterBreak(y,!0);if(d(f.slice(y,k))!=a)break;y=k}return Da.EditorSelection.range(m+f.from,y+f.from)}function Ib(h,c){return h.top<c.bottom-1&&h.bottom>c.top+1}function Jb(h,c){return c<h.top?{top:c,left:h.left,right:h.right,bottom:h.bottom}:
h}function ob(h,c){return c>h.bottom?{top:h.top,left:h.left,right:h.right,bottom:c}:h}function Kb(h,c,a){for(var d,f,k,m,y,K,V,ba,fa=h.firstChild;fa;fa=fa.nextSibling)for(var wa=ca(fa),Xa=0;Xa<wa.length;Xa++){var Ta=wa[Xa];f&&Ib(f,Ta)&&(Ta=Jb(ob(Ta,f.bottom),f.top));var tb=Ta.left>c?Ta.left-c:Math.max(0,c-Ta.right),Cb=Ta.top>a?Ta.top-a:Math.max(0,a-Ta.bottom);if(0==tb&&0==Cb)return 3==fa.nodeType?wb(fa,c,a):Kb(fa,c,a);if(!d||m>Cb||m==Cb&&k>tb)d=fa,f=Ta,k=tb,m=Cb;0==tb?a>Ta.bottom&&(!V||V.bottom<Ta.bottom)?
(y=fa,V=Ta):a<Ta.top&&(!ba||ba.top>Ta.top)&&(K=fa,ba=Ta):V&&Ib(V,Ta)?V=ob(V,Ta.bottom):ba&&Ib(ba,Ta)&&(ba=Jb(ba,Ta.top))}V&&V.bottom>=a?(d=y,f=V):ba&&ba.top<=a&&(d=K,f=ba);if(!d)return{node:h,offset:0};m=Math.max(f.left,Math.min(f.right,c));if(3==d.nodeType)return wb(d,m,a);if(!k&&"true"==d.contentEditable)return Kb(d,m,a);c=Array.prototype.indexOf.call(h.childNodes,d)+(c>=(f.left+f.right)/2?1:0);return{node:h,offset:c}}function wb(h,c,a){for(var d=h.nodeValue.length,f=document.createRange(),k=0;k<
d;k++){f.setEnd(h,k+1);f.setStart(h,k);for(var m=f.getClientRects(),y=0;y<m.length;y++){var K=m[y];if(K.top!=K.bottom&&K.left-1<=c&&K.right+1>=c&&K.top-1<=a&&K.bottom+1>=a){a=c=c>=(K.left+K.right)/2;if(bb.chrome||bb.gecko)f.setEnd(h,k),f.getBoundingClientRect().left==K.right&&(a=!c);return{node:h,offset:k+(a?1:0)}}}}return{node:h,offset:0}}function Db(h,c){for(var a=c.x,d=c.y,f=2<arguments.length&&void 0!==arguments[2]?arguments[2]:-1,k=h.contentDOM.getBoundingClientRect(),m,y=h.defaultLineHeight/
2,K=!1;;){m=h.blockAtHeight(d,k.top);if(m.top>d||m.bottom<d){f=m.top>d?-1:1;d=Math.min(m.bottom-y,Math.max(m.top+y,d));if(K)return-1;K=!0}if(m.type==Ub.Text)break;d=0<f?m.bottom+y:m.top-y}f=m.from;if(f<h.viewport.from)return 0==h.viewport.from?0:-1;if(f>h.viewport.to)return h.viewport.to==h.state.doc.length?h.state.doc.length:-1;a=Math.max(k.left+1,Math.min(k.right-1,a));m=h.root;y=m.elementFromPoint(a,d);k=-1;if(y&&h.contentDOM.contains(y)&&!(h.docView.nearest(y)instanceof Cc))if(m.caretPositionFromPoint){if(m=
m.caretPositionFromPoint(a,d)){var V=m.offsetNode;k=m.offset}}else m.caretRangeFromPoint&&(m=m.caretRangeFromPoint(a,d))&&(V=m.startContainer,k=m.startOffset);V||(V=rb.find(h.docView,f),a=Kb(V.dom,a,d),V=a.node,k=a.offset);return h.docView.posFromDOM(V,k)}function Bb(h,c,a,d){for(var f=h.state.doc.lineAt(c.head),k=h.bidiSpans(f),m=null;;){var y=I(f,k,h.textDirection,c,a),K=Jc;if(!y){if(f.number==(a?h.state.doc.lines:1))return c;K="\n";f=h.state.doc.line(f.number+(a?1:-1));k=h.bidiSpans(f);y=Da.EditorSelection.cursor(a?
f.from:f.to)}if(!m){if(!d)return y;m=d(K)}else if(!m(K))return c;c=y}}function kc(h,c,a){var d=h.state.charCategorizer(c),f=d(a);return function(k){k=d(k);f==Da.CharCategory.Space&&(f=k);return f==k}}function Ob(h,c){if(h.state.selection.primary.empty)return!1;h=Qa(h.root);if(0==h.rangeCount)return!0;h=h.getRangeAt(0).getClientRects();for(var a=0;a<h.length;a++){var d=h[a];if(d.left<=c.clientX&&d.right>=c.clientX&&d.top<=c.clientY&&d.bottom>=c.clientY)return!0}return!1}function hc(h,c){if(!c.bubbles)return!0;
if(c.defaultPrevented)return!1;for(var a=c.target,d;a!=h.contentDOM;a=a.parentNode)if(!a||11==a.nodeType||(d=Gb.get(a))&&d.ignoreEvent(c))return!1;return!0}function lc(h){var c=h.dom.parentNode;if(c){var a=c.appendChild(document.createElement("textarea"));a.style.cssText="position: fixed; left: -10000px; top: 10px";a.focus();setTimeout(function(){h.focus();a.remove();Lb(h,a.value)},50)}}function Lb(h,c){var a=h.state.toText(c),d=1;c=a.lines==h.state.selection.ranges.length?h.state.changeByRange(function(f){var k=
a.line(d++);return{changes:{from:f.from,to:f.to,insert:k.slice()},range:Da.EditorSelection.cursor(f.from+k.length)}}):h.state.replaceSelection(a);h.dispatch(c,{annotations:Da.Transaction.userEvent.of("paste"),scrollIntoView:!0})}function Y(h,c,a,d){if(1==d)return Da.EditorSelection.cursor(c,a);if(2==d)return Nb(h.state,c,a);if(a=rb.find(h.docView,c))return Da.EditorSelection.range(a.posAtStart,a.posAtEnd);h=h.state.doc.lineAt(c);return Da.EditorSelection.range(h.from,h.to)}function F(h,c){var a=h.posAtCoords({x:c.clientX,
y:c.clientY});if(0>a)a=null;else{var d=c.clientX;c=c.clientY;var f=rb.find(h.docView,a);if(f){var k=a-f.posAtStart;d=0==k?1:k==f.length?-1:(h=f.coordsAt(k,-1))&&c>=h.top&&c<=h.bottom&&d>=h.left&&d<=h.right?-1:(f=f.coordsAt(k,1))&&c>=f.top&&c<=f.bottom&&d>=f.left&&d<=f.right?1:h&&c>=h.top&&c<=h.bottom?-1:1}else d=1;a={pos:a,bias:d}}return a}function H(h){if(!vd)return h.detail;var c=id;id=h;return jd=!c||c.timeStamp>Date.now()-400&&2>Math.abs(c.clientX-h.clientX)&&2>Math.abs(c.clientY-h.clientY)?(jd+
1)%3:1}function C(h,c){var a=F(h,c),d=H(c),f=h.state.selection,k=a,m=c;return{update:function(y){y.changes&&(a&&(a.pos=y.changes.mapPos(a.pos)),f=f.map(y.changes))},get:function(y,K,V){if(y.clientX==m.clientX&&y.clientY==m.clientY)var ba=k;else ba=k=F(h,y),m=y;if(!ba||!a)return f;y=Y(h,ba.pos,ba.bias,d);if(a.pos!=ba.pos&&!K){var fa=Y(h,a.pos,a.bias,d);ba=Math.min(fa.from,y.from);fa=Math.max(fa.to,y.to);y=ba<y.from?Da.EditorSelection.range(ba,fa):Da.EditorSelection.range(fa,ba)}return K?f.replaceRange(f.primary.extend(y.from,
y.to)):V?f.addRange(y):Da.EditorSelection.create([y])}}}function S(h,c){var a=h.dom.parentNode;if(a){var d=a.appendChild(document.createElement("textarea"));d.style.cssText="position: fixed; left: -10000px; top: 10px";d.value=c;d.focus();d.selectionEnd=c.length;d.selectionStart=0;setTimeout(function(){d.remove();h.focus()},50)}}function W(h,c,a){for(;c;){var d=Gb.get(c);if(d&&d.parent==h)return d;d=c.parentNode;c=d!=h.dom?d:0<a?c.nextSibling:c.previousSibling}return null}function ea(h,c,a,d){var f,
k=h.state.selection.primary,m;if(-1<c&&(m=h.docView.domBoundsAround(c,a,0))){var y=m;c=y.from;var K=y.to;y=h.docView.impreciseHead||h.docView.impreciseAnchor?[]:ya(h.contentDOM,h.root);a=new wd(y);a.readRange(m.startDOM,m.endDOM);y=za(y,c);m=k.from;var V=null;8===h.inputState.lastKeyCode&&h.inputState.lastKeyTime>Date.now()-100&&(m=k.to,V="end");(m=ma(h.state.doc.sliceString(c,K,"ï·š"),a.text,m-c,V))&&(f={from:c+m.from,to:c+m.toA,insert:Da.Text.of(a.text.slice(m.from,m.toB).split("ï·š"))})}else h.hasFocus&&
(c=Qa(h.root),a=h.docView,m=a.impreciseHead,a=a.impreciseAnchor,m=m&&m.node==c.focusNode&&m.offset==c.focusOffset?h.state.selection.primary.head:h.docView.posFromDOM(c.focusNode,c.focusOffset),c=a&&a.node==c.anchorNode&&a.offset==c.anchorOffset?h.state.selection.primary.anchor:Ja(c)?m:h.docView.posFromDOM(c.anchorNode,c.anchorOffset),m!=k.head||c!=k.anchor)&&(y=Da.EditorSelection.single(c,m));if(f||y)if(!f&&d&&!k.empty&&y&&y.primary.empty&&(f={from:k.from,to:k.to,insert:h.state.doc.slice(k.from,k.to)}),
f){var ba=h.state;if(!bb.android||!(f.from==k.from&&f.to==k.to&&1==f.insert.length&&2==f.insert.lines&&ta(h,"Enter",10)||f.from==k.from-1&&f.to==k.to&&0==f.insert.length&&ta(h,"Backspace",8)||f.from==k.from&&f.to==k.to+1&&0==f.insert.length&&ta(h,"Delete",46))){var fa=f.insert.toString();h.state.facet(Ia).some(function(wa){return wa(h,f.from,f.to,fa)})||(f.from>=k.from&&f.to<=k.to&&f.to-f.from>=(k.to-k.from)/3?(y=k.from<f.from?ba.doc.sliceString(k.from,f.from,"ï·š"):"",k=k.to>f.to?ba.doc.sliceString(f.to,
k.to,"ï·š"):"",k=ba.replaceSelection(Da.Text.of((y+f.insert.sliceString(0,void 0,"ï·š")+k).split("ï·š")))):(k=ba.changes(f),k={changes:k,selection:y&&!ba.selection.primary.eq(y.primary)&&y.primary.to<=k.newLength?ba.selection.replaceRange(y.primary):void 0}),h.dispatch(k,{scrollIntoView:!0,annotations:Da.Transaction.userEvent.of("input")}))}}else y&&!y.primary.eq(k)&&(k=!1,h.inputState.lastSelectionTime>Date.now()-50&&("keyboardselection"==h.inputState.lastSelectionOrigin?k=!0:ba=Da.Transaction.userEvent.of(h.inputState.lastSelectionOrigin)),
h.dispatch({selection:y,scrollIntoView:k,annotations:ba}))}function ma(h,c,a,d){for(var f=Math.min(h.length,c.length),k=0;k<f&&h.charCodeAt(k)==c.charCodeAt(k);)k++;if(k==f&&h.length==c.length)return null;f=h.length;for(var m=c.length;0<f&&0<m&&h.charCodeAt(f-1)==c.charCodeAt(m-1);)f--,m--;"end"==d&&(a-=f+Math.max(0,k-Math.min(f,m))-k);f<k&&h.length<c.length?(k-=a<=k&&a>=f?k-a:0,m=k+(m-f),f=k):m<k&&(k-=a<=k&&a>=m?k-a:0,f=k+(f-m),m=k);return{from:k,toA:f,toB:m}}function xa(h){return 1==h.nodeType&&
/^(DIV|P|LI|UL|OL|BLOCKQUOTE|DD|DT|H\d|SECTION|PRE)$/.test(h.nodeName)}function ya(h,c){var a=[];if(c.activeElement!=h)return a;var d=Qa(c);h=d.anchorNode;c=d.anchorOffset;var f=d.focusNode;d=d.focusOffset;h&&(a.push(new kd(h,c)),f==h&&d==c||a.push(new kd(f,d)));return a}function za(h,c){if(0==h.length)return null;var a=h[0].pos;h=2==h.length?h[1].pos:a;return-1<a&&-1<h?Da.EditorSelection.single(a+c,h+c):null}function ta(h,c,a){a={key:c,code:c,keyCode:a,which:a,cancelable:!0};c=new KeyboardEvent("keydown",
a);h.contentDOM.dispatchEvent(c);a=new KeyboardEvent("keyup",a);h.contentDOM.dispatchEvent(a);return c.defaultPrevented||a.defaultPrevented}function Sa(h,c){return null==h?c.getBoundingClientRect().top:h}function Ua(){window.addEventListener("resize",function(){-1==Wc&&(Wc=setTimeout(cb,50))})}function cb(){Wc=-1;for(var h=document.querySelectorAll(".cm-content"),c=0;c<h.length;c++){var a=Gb.get(h[c]);a&&a.editorView.requestMeasure()}}function db(h,c,a){c.altKey&&(h="Alt-"+h);c.ctrlKey&&(h="Ctrl-"+
h);c.metaKey&&(h="Meta-"+h);!1!==a&&c.shiftKey&&(h="Shift-"+h);return h}function fb(h){var c=1<arguments.length&&void 0!==arguments[1]?arguments[1]:xd,a=Object.create(null),d=Object.create(null),f=function(dc,ac){var Dc=d[dc];if(null==Dc)d[dc]=ac;else if(Dc!=ac)throw Error("Key binding "+dc+" is used both as a regular binding and as a multi-stroke prefix");},k=function(dc,ac,Dc,Xc){var Qc=a[dc]||(a[dc]=Object.create(null)),$c=ac.split(/ (?!$)/).map(function(vc){vc=vc.split(/-(?!$)/);var bc=vc[vc.length-
1];"Space"==bc&&(bc=" ");for(var Rc,Lc,ld,Yc,Zc=0;Zc<vc.length-1;++Zc){var Ec=vc[Zc];if(/^(cmd|meta|m)$/i.test(Ec))Yc=!0;else if(/^a(lt)?$/i.test(Ec))Rc=!0;else if(/^(c|ctrl|control)$/i.test(Ec))Lc=!0;else if(/^s(hift)?$/i.test(Ec))ld=!0;else if(/^mod$/i.test(Ec))"mac"==c?Yc=!0:Lc=!0;else throw Error("Unrecognized modifier name: "+Ec);}Rc&&(bc="Alt-"+bc);Lc&&(bc="Ctrl-"+bc);Yc&&(bc="Meta-"+bc);ld&&(bc="Shift-"+bc);return bc});ac=function(vc){var bc=$c.slice(0,vc).join(" ");f(bc,!0);Qc[bc]||(Qc[bc]=
{preventDefault:!0,commands:[function(Rc){var Lc=wc={view:Rc,prefix:bc,scope:dc};setTimeout(function(){wc==Lc&&(wc=null)},yd);return!0}]})};for(var ad=1;ad<$c.length;ad++)ac(ad);ac=$c.join(" ");f(ac,!1);ac=Qc[ac]||(Qc[ac]={preventDefault:!1,commands:[]});ac.commands.push(Dc);Xc&&(ac.preventDefault=!0)},m=!0,y=!1,K=void 0;try{for(var V=h[Symbol.iterator](),ba;!(m=(ba=V.next()).done);m=!0){var fa=ba.value,wa=fa[c]||fa.key;if(wa){var Xa=!0,Ta=!1,tb=void 0;try{for(var Cb=(fa.scope?fa.scope.split(" "):
["editor"])[Symbol.iterator](),qc;!(Xa=(qc=Cb.next()).done);Xa=!0){var sc=qc.value;k(sc,wa,fa.run,fa.preventDefault);fa.shift&&k(sc,"Shift-"+wa,fa.shift,fa.preventDefault)}}catch(dc){Ta=!0,tb=dc}finally{try{if(!Xa&&null!=Cb["return"])Cb["return"]()}finally{if(Ta)throw tb;}}}}}catch(dc){y=!0,K=dc}finally{try{if(!m&&null!=V["return"])V["return"]()}finally{if(y)throw K;}}return a}function zb(h,c,a,d){var f=(0,Fb.keyName)(c),k=1==f.length&&" "!=f,m="";wc&&wc.view==a&&wc.scope==d&&(m=wc.prefix+" ",wc=
null);var y=!!m,K=function(tb){if(tb){var Cb=!0,qc=!1,sc=void 0;try{for(var dc=tb.commands[Symbol.iterator](),ac;!(Cb=(ac=dc.next()).done);Cb=!0){var Dc=ac.value;if(Dc(a))return!0}}catch(Xc){qc=!0,sc=Xc}finally{try{if(!Cb&&null!=dc["return"])dc["return"]()}finally{if(qc)throw sc;}}tb.preventDefault&&(y=!0)}return!1},V=!0,ba=!1,fa=void 0;try{for(var wa=h[Symbol.iterator](),Xa;!(V=(Xa=wa.next()).done);V=!0){var Ta=Xa.value[d];h=void 0;if(Ta){if(K(Ta[m+db(f,c,!k)]))return!0;if(k&&(c.shiftKey||c.altKey||
c.metaKey)&&(h=Fb.base[c.keyCode])&&h!=f){if(K(Ta[m+db(h,c,!0)]))return!0}else if(k&&c.shiftKey&&K(Ta[m+db(f,c,!0)]))return!0}}}catch(tb){ba=!0,fa=tb}finally{try{if(!V&&null!=wa["return"])wa["return"]()}finally{if(ba)throw fa;}}return y}function Rb(h){var c=h.ranges;h=h.primaryIndex;if(1==c.length)return Ab.none;for(var a=[],d=0;d<c.length;d++)if(d!=h){var f=c[d];a.push(f.empty?bd.deco.range(f.from):zd.range(c[d].from,c[d].to))}return Ab.set(a)}function oc(){if(null==cd&&"undefined"!=typeof document&&
document.body){var h=document.body.style;cd=null!=(h.tabSize||h.MozTabSize)}return cd||!1}Object.defineProperty(D,"__esModule",{value:!0});D.highlightSpecialChars=function(){var h=[Sc.of(0<arguments.length&&void 0!==arguments[0]?arguments[0]:{}),Ad];oc()||h.push(Bd);return h};D.indentOnInput=function(){return Da.EditorState.transactionFilter.of(function(h){if(!h.docChanged||"input"!=h.annotation(Da.Transaction.userEvent))return h;var c=h.startState.languageDataAt("indentOnInput",h.startState.selection.primary.head);
if(!c.length)return h;var a=h.newDoc,d=h.newSelection.primary.head,f=a.lineAt(d);if(d>f.from+md)return h;var k=a.sliceString(f.from,d);if(!c.some(function(fa){return fa.test(k)}))return h;var m=h.state,y=-1,K=[];c=!0;a=!1;d=void 0;try{f=function(){var fa=m.doc.lineAt(ba.value.head);if(fa.from==y)return"continue";y=fa.from;var wa=Math.max.apply(Math,Oa(m.facet(Da.EditorState.indentation).map(function(Ta){return Ta(new Da.IndentContext(m),fa.from)})));if(0>wa)return"continue";var Xa=/^\s*/.exec(fa.slice(0,
Math.min(fa.length,md)))[0];wa=m.indentString(wa);Xa!=wa&&K.push({from:fa.from,to:fa.from+Xa.length,insert:wa})};for(var V=m.selection.ranges[Symbol.iterator](),ba;!(c=(ba=V.next()).done);c=!0)f()}catch(fa){a=!0,d=fa}finally{try{if(!c&&null!=V["return"])V["return"]()}finally{if(a)throw d;}}return K.length?[h,{changes:K}]:h})};D.keymap=function(h,c){return[Cd,dd.of(fb(h,c))]};D.logException=Z;D.multipleSelections=function(){return[Da.EditorState.allowMultipleSelections.of(!0),Dd]};D.runScopeHandlers=
function(h,c,a){return zb(h.state.facet(dd),c,h,a)};D.themeClass=N;Object.defineProperty(D,"Range",{enumerable:!0,get:function(){return Eb.Range}});D.__test=D.WidgetType=D.ViewUpdate=D.ViewPlugin=D.PluginField=D.EditorView=D.Direction=D.Decoration=D.BlockType=D.BlockInfo=D.BidiSpan=void 0;var Da=va(2),Sb=va(3),Eb=va(4),lb=va(0),Fb=va(5),G=function(h,c){var a=Array.isArray(h)?h:void 0;if(!a)if(Symbol.iterator in Object(h)||"[object Arguments]"===Object.prototype.toString.call(h)){a=[];var d=!0,f=!1,
k=void 0;try{for(var m=h[Symbol.iterator](),y;!(d=(y=m.next()).done)&&(a.push(y.value),!c||a.length!==c);d=!0);}catch(K){f=!0,k=K}finally{try{if(!d&&null!=m["return"])m["return"]()}finally{if(f)throw k;}}}else a=void 0;if(!(h=a))throw new TypeError("Invalid attempt to destructure non-iterable instance");return h}("undefined"!=typeof navigator?[navigator,document]:[{userAgent:"",vendor:"",platform:""},{documentElement:{style:{}}}],2),X=G[0],oa=G[1],ia=/Edge\/(\d+)/.exec(X.userAgent),qa=/MSIE \d/.test(X.userAgent),
ra=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(X.userAgent),Ma=!!(qa||ra||ia),gb=!Ma&&/gecko\/(\d+)/i.test(X.userAgent),ib=!Ma&&/Chrome\/(\d+)/.exec(X.userAgent),jb="webkitFontSmoothing"in oa.documentElement.style,bb={mac:/Mac/.test(X.platform),ie:Ma,ie_version:qa?oa.documentMode||6:ra?+ra[1]:ia?+ia[1]:0,gecko:gb,gecko_version:gb?+(/Firefox\/(\d+)/.exec(X.userAgent)||[0,0])[1]:0,chrome:!!ib,chrome_version:ib?+ib[1]:0,ios:!Ma&&/AppleWebKit/.test(X.userAgent)&&/Mobile\/\w+/.test(X.userAgent),android:/Android\b/.test(X.userAgent),
webkit:jb,safari:/Apple Computer/.test(X.vendor),webkit_version:jb?+(/\bAppleWebKit\/(\d+)/.exec(navigator.userAgent)||[0,0])[1]:0,tabSize:null!=oa.documentElement.style.tabSize?"tab-size":"-moz-tab-size"},Xb=function(){function h(){ua(this,h);this.anchorNode=null;this.anchorOffset=0;this.focusNode=null;this.focusOffset=0}ka(h,[{key:"eq",value:function(c){return this.anchorNode==c.anchorNode&&this.anchorOffset==c.anchorOffset&&this.focusNode==c.focusNode&&this.focusOffset==c.focusOffset}},{key:"set",
value:function(c){this.anchorNode=c.anchorNode;this.anchorOffset=c.anchorOffset;this.focusNode=c.focusNode;this.focusOffset=c.focusOffset}}]);return h}(),Pb=null,jc=function(){function h(c,a){var d=2<arguments.length&&void 0!==arguments[2]?arguments[2]:!0;ua(this,h);this.node=c;this.offset=a;this.precise=d}ka(h,null,[{key:"before",value:function(c,a){return new h(c.parentNode,J(c),a)}},{key:"after",value:function(c,a){return new h(c.parentNode,J(c)+1,a)}}]);return h}(),Fc=[],Gb=function(){function h(){ua(this,
h);this.dom=this.parent=null;this.dirty=2}ka(h,[{key:"posBefore",value:function(c){var a=this.posAtStart,d=!0,f=!1,k=void 0;try{for(var m=this.children[Symbol.iterator](),y;!(d=(y=m.next()).done);d=!0){var K=y.value;if(K==c)return a;a+=K.length+K.breakAfter}}catch(V){f=!0,k=V}finally{try{if(!d&&null!=m["return"])m["return"]()}finally{if(f)throw k;}}throw new RangeError("Invalid child in posBefore");}},{key:"posAfter",value:function(c){return this.posBefore(c)+c.length}},{key:"coordsAt",value:function(c,
a){return null}},{key:"sync",value:function(c){if(this.dirty&2){var a=this.dom,d=null,f=!0,k=!1,m=void 0;try{for(var y=this.children[Symbol.iterator](),K;!(f=(K=y.next()).done);f=!0){var V=K.value;if(V.dirty){var ba=d?d.nextSibling:a.firstChild;!ba||V.dom||h.get(ba)||V.reuseDOM(ba);V.sync(c);V.dirty=0}c&&c.node==a&&d!=V.dom&&(c.written=!0);var fa=a,wa=V.dom,Xa=d?d.nextSibling:fa.firstChild;if(wa.parentNode==fa)for(;Xa!=wa;)Xa=O(Xa);else fa.insertBefore(wa,Xa);d=V.dom}}catch(Ta){k=!0,m=Ta}finally{try{if(!f&&
null!=y["return"])y["return"]()}finally{if(k)throw m;}}(y=d?d.nextSibling:a.firstChild)&&c&&c.node==a&&(c.written=!0);for(;y;)y=O(y)}else if(this.dirty&1){y=!0;K=!1;V=void 0;try{for(a=this.children[Symbol.iterator]();!(y=(d=a.next()).done);y=!0)f=d.value,f.dirty&&(f.sync(c),f.dirty=0)}catch(Ta){K=!0,V=Ta}finally{try{if(!y&&null!=a["return"])a["return"]()}finally{if(K)throw V;}}}}},{key:"reuseDOM",value:function(c){return!1}},{key:"localPosFromDOM",value:function(c,a){if(c==this.dom)c=this.dom.childNodes[a];
else{for(a=0==t(c)?0:0==a?-1:1;;){var d=c.parentNode;if(d==this.dom)break;0==a&&d.firstChild!=d.lastChild&&(a=c==d.firstChild?-1:1);c=d}c=0>a?c:c.nextSibling}if(c==this.dom.firstChild)return 0;for(;c&&!h.get(c);)c=c.nextSibling;if(!c)return this.length;for(d=a=0;;a++){var f=this.children[a];if(f.dom==c)return d;d+=f.length+f.breakAfter}}},{key:"domBoundsAround",value:function(c,a){for(var d=-1,f=-1,k=-1,m=-1,y=0,K=2<arguments.length&&void 0!==arguments[2]?arguments[2]:0;y<this.children.length;y++){var V=
this.children[y],ba=K+V.length;if(K<c&&ba>a)return V.domBoundsAround(c,a,K);ba>=c&&-1==d&&(d=y,f=K);if(ba>=a&&-1==k){k=y;m=ba;break}K=ba+V.breakAfter}return{from:f,to:m,startDOM:(d?this.children[d-1].dom.nextSibling:null)||this.dom.firstChild,endDOM:k<this.children.length-1?this.children[k+1].dom:null}}},{key:"markDirty",value:function(){var c=0<arguments.length&&void 0!==arguments[0]?arguments[0]:!1;this.dirty&2||(this.dirty|=2,this.markParentsDirty(c))}},{key:"markParentsDirty",value:function(c){for(var a=
this.parent;a;a=a.parent){c&&(a.dirty|=2);if(a.dirty&1)break;a.dirty|=1;c=!1}}},{key:"setParent",value:function(c){this.parent!=c&&(this.parent=c,this.dirty&&this.markParentsDirty(!0))}},{key:"setDOM",value:function(c){this.dom=c;c.cmView=this}},{key:"replaceChildren",value:function(c,a){var d,f=2<arguments.length&&void 0!==arguments[2]?arguments[2]:Fc;this.markDirty();for(var k=c;k<a;k++)this.children[k].parent=null;(d=this.children).splice.apply(d,[c,a-c].concat(Oa(f)));for(d=0;d<f.length;d++)f[d].setParent(this)}},
{key:"ignoreMutation",value:function(c){return!1}},{key:"ignoreEvent",value:function(c){return!1}},{key:"childCursor",value:function(){return new Tc(this.children,0<arguments.length&&void 0!==arguments[0]?arguments[0]:this.length,this.children.length)}},{key:"childPos",value:function(c){var a=1<arguments.length&&void 0!==arguments[1]?arguments[1]:1;return this.childCursor().findPos(c,a)}},{key:"toString",value:function(){var c=this.constructor.name.replace("View","");return c+(this.children.length?
"("+this.children.join()+")":this.length?"["+("Text"==c?this.text:this.length)+"]":"")+(this.breakAfter?"#":"")}},{key:"editorView",get:function(){if(!this.parent)throw Error("Accessing view in orphan content view");return this.parent.editorView}},{key:"overrideDOMText",get:function(){return null}},{key:"posAtStart",get:function(){return this.parent?this.parent.posBefore(this):0}},{key:"posAtEnd",get:function(){return this.posAtStart+this.length}},{key:"rootView",get:function(){for(var c=this;;){var a=
c.parent;if(!a)return c;c=a}}}],[{key:"get",value:function(c){return c.cmView}}]);return h}();Gb.prototype.breakAfter=0;var Tc=function(){function h(c,a,d){ua(this,h);this.children=c;this.pos=a;this.i=d;this.off=0}ka(h,[{key:"findPos",value:function(c){for(var a=1<arguments.length&&void 0!==arguments[1]?arguments[1]:1;;){if(c>this.pos||c==this.pos&&(0<a||0==this.i||this.children[this.i-1].breakAfter))return this.off=c-this.pos,this;var d=this.children[--this.i];this.pos-=d.length+d.breakAfter}}}]);
return h}(),Mb=[],Kc=function(h){function c(){ua(this,c);return Ea(this,Ba(c).apply(this,arguments))}Ca(c,h);ka(c,[{key:"match",value:function(a){return!1}},{key:"getSide",value:function(){return 0}},{key:"children",get:function(){return Mb}}]);return c}(Gb),mc=function(h){function c(a,d,f,k){ua(this,c);var m=Ea(this,Ba(c).call(this));m.text=a;m.tagName=d;m.attrs=k;m.textDOM=null;m["class"]=f;return m}Ca(c,h);ka(c,[{key:"createDOM",value:function(a){var d=this.tagName||(this.attrs||this["class"]?
"span":null);this.textDOM=a||document.createTextNode(this.text);if(d){a=document.createElement(d);a.appendChild(this.textDOM);this["class"]&&(a.className=this["class"]);if(this.attrs)for(var f in this.attrs)a.setAttribute(f,this.attrs[f]);this.setDOM(a)}else this.setDOM(this.textDOM)}},{key:"sync",value:function(a){this.dom||this.createDOM();if(this.textDOM.nodeValue!=this.text&&(a&&a.node==this.textDOM&&(a.written=!0),this.textDOM.nodeValue=this.text,a=this.dom,this.textDOM!=a&&(this.dom.firstChild!=
this.textDOM||a.lastChild!=this.textDOM))){for(;a.firstChild;)a.removeChild(a.firstChild);a.appendChild(this.textDOM)}}},{key:"reuseDOM",value:function(a){if(3!=a.nodeType)return!1;this.createDOM(a);return!0}},{key:"merge",value:function(a){var d=1<arguments.length&&void 0!==arguments[1]?arguments[1]:this.length,f=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(f&&(!(f instanceof c&&f.tagName==this.tagName&&f["class"]==this["class"]&&n(f.attrs,this.attrs))||256<this.length-(d-a)+f.length))return!1;
this.text=this.text.slice(0,a)+(f?f.text:"")+this.text.slice(d);this.markDirty();return!0}},{key:"slice",value:function(a){return new c(this.text.slice(a,1<arguments.length&&void 0!==arguments[1]?arguments[1]:this.length),this.tagName,this["class"],this.attrs)}},{key:"localPosFromDOM",value:function(a,d){return a==this.textDOM?d:d?this.text.length:0}},{key:"domAtPos",value:function(a){return new jc(this.textDOM,a)}},{key:"domBoundsAround",value:function(a,d,f){return{from:f,to:f+this.length,startDOM:this.dom,
endDOM:this.dom.nextSibling}}},{key:"coordsAt",value:function(a,d){return w(this.textDOM,a,d,this.length)}},{key:"length",get:function(){return this.text.length}}]);return c}(Kc),Cc=function(h){function c(a,d,f,k){ua(this,c);var m=Ea(this,Ba(c).call(this));m.widget=a;m.length=d;m.side=f;m.open=k;return m}Ca(c,h);ka(c,[{key:"slice",value:function(a){return c.create(this.widget,(1<arguments.length&&void 0!==arguments[1]?arguments[1]:this.length)-a,this.side)}},{key:"sync",value:function(){this.dom&&
this.widget.updateDOM(this.dom)||(this.setDOM(this.widget.toDOM(this.editorView)),this.dom.contentEditable="false")}},{key:"getSide",value:function(){return this.side}},{key:"merge",value:function(a){var d=1<arguments.length&&void 0!==arguments[1]?arguments[1]:this.length,f=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(f){if(!(f instanceof c&&f.open)||0<a&&!(f.open&1)||d<this.length&&!(f.open&2))return!1;if(!this.widget.compare(f.widget))throw Error("Trying to merge incompatible widgets");
}this.length=a+(f?f.length:0)+(this.length-d);return!0}},{key:"match",value:function(a){return a.length==this.length&&a instanceof c&&a.side==this.side&&this.widget.constructor==a.widget.constructor?(this.widget.eq(a.widget.value)||this.markDirty(!0),this.widget=a.widget,!0):!1}},{key:"ignoreMutation",value:function(){return!0}},{key:"ignoreEvent",value:function(a){return this.widget.ignoreEvent(a)}},{key:"domAtPos",value:function(a){return 0==a?jc.before(this.dom):jc.after(this.dom,a==this.length)}},
{key:"domBoundsAround",value:function(){return null}},{key:"coordsAt",value:function(a,d){d=this.dom.getClientRects();for(var f,k=0<a?d.length-1:0;!(f=d[k],0<a?0==k:k==d.length-1||f.top<f.bottom);k+=0<a?-1:1);return f}},{key:"overrideDOMText",get:function(){if(0==this.length)return lb.Text.empty;for(var a=this;a.parent;)a=a.parent;a=(a=a.editorView)&&a.state.doc;var d=this.posAtStart;return a?a.slice(d,d+this.length):lb.Text.empty}}],[{key:"create",value:function(a,d,f){return new (a.customView||
c)(a,d,f,3<arguments.length&&void 0!==arguments[3]?arguments[3]:0)}}]);return c}(Kc),ed=function(h){function c(){ua(this,c);return Ea(this,Ba(c).apply(this,arguments))}Ca(c,h);ka(c,[{key:"domAtPos",value:function(a){return new jc(this.widget.value.text,a)}},{key:"sync",value:function(){this.dom||this.setDOM(this.widget.toDOM(this.editorView))}},{key:"localPosFromDOM",value:function(a,d){return d?3==a.nodeType?Math.min(d,this.length):this.length:0}},{key:"ignoreMutation",value:function(){return!1}},
{key:"coordsAt",value:function(a,d){return w(this.widget.value.text,a,d,this.length)}},{key:"overrideDOMText",get:function(){return null}}]);return c}(Cc),sb=function(){function h(c){ua(this,h);this.value=c}ka(h,[{key:"eq",value:function(c){return this.value===c}},{key:"updateDOM",value:function(c){return!1}},{key:"compare",value:function(c){return this==c||this.constructor==c.constructor&&this.eq(c.value)}},{key:"ignoreEvent",value:function(c){return!0}},{key:"estimatedHeight",get:function(){return-1}},
{key:"customView",get:function(){return null}}]);return h}();D.WidgetType=sb;var Ub;D.BlockType=Ub;(function(h){h[h.Text=0]="Text";h[h.WidgetBefore=1]="WidgetBefore";h[h.WidgetAfter=2]="WidgetAfter";h[h.WidgetRange=3]="WidgetRange"})(Ub||(D.BlockType=Ub={}));var Ab=function(h){function c(a,d,f,k){ua(this,c);var m=Ea(this,Ba(c).call(this));m.startSide=a;m.endSide=d;m.widget=f;m.spec=k;return m}Ca(c,h);ka(c,[{key:"hasHeight",value:function(){return this.widget?-1<this.widget.estimatedHeight:!1}},{key:"point",
get:function(){return!1}},{key:"heightRelevant",get:function(){return!1}}],[{key:"mark",value:function(a){return new Bc(a)}},{key:"widget",value:function(a){var d=a.side||0;a.block&&(d+=(2E8+1)*(0<d?1:-1));return new ec(a,d,d,!!a.block,a.widget||null,!1)}},{key:"replace",value:function(a){var d=!!a.block,f=p(a),k=f.start;f=f.end;return new ec(a,d?-2E8*(k?2:1):1E8*(k?-1:1),d?2E8*(f?2:1):1E8*(f?1:-1),d,a.widget||null,!0)}},{key:"line",value:function(a){return new tc(a)}},{key:"set",value:function(a){return Eb.RangeSet.of(a,
1<arguments.length&&void 0!==arguments[1]?arguments[1]:!1)}}]);return c}(Eb.RangeValue);D.Decoration=Ab;Ab.none=Eb.RangeSet.empty;var Bc=function(h){function c(a){ua(this,c);var d=p(a),f=d.start;d=d.end;return Ea(this,Ba(c).call(this,1E8*(f?-1:1),1E8*(d?1:-1),null,a))}Ca(c,h);ka(c,[{key:"eq",value:function(a){return this==a||a instanceof c&&this.spec.tagName==a.spec.tagName&&this.spec["class"]==a.spec["class"]&&n(this.spec.attributes||null,a.spec.attributes||null)}},{key:"range",value:function(a){var d=
1<arguments.length&&void 0!==arguments[1]?arguments[1]:a;if(a>=d)throw new RangeError("Mark decorations may not be empty");return Aa(Ba(c.prototype),"range",this).call(this,a,d)}}]);return c}(Ab),tc=function(h){function c(a){ua(this,c);return Ea(this,Ba(c).call(this,-1E8,-1E8,null,a))}Ca(c,h);ka(c,[{key:"eq",value:function(a){return a instanceof c&&n(this.spec.attributes,a.spec.attributes)}},{key:"range",value:function(a){var d=1<arguments.length&&void 0!==arguments[1]?arguments[1]:a;if(d!=a)throw new RangeError("Line decoration ranges must be zero-length");
return Aa(Ba(c.prototype),"range",this).call(this,a,d)}},{key:"point",get:function(){return!0}}]);return c}(Ab);tc.prototype.mapMode=Da.MapMode.TrackBefore;var ec=function(h){function c(a,d,f,k,m,y){ua(this,c);a=Ea(this,Ba(c).call(this,d,f,m,a));a.block=k;a.isReplace=y;a.mapMode=k?0>d?Da.MapMode.TrackBefore:Da.MapMode.TrackAfter:Da.MapMode.TrackDel;return a}Ca(c,h);ka(c,[{key:"eq",value:function(a){var d;if(d=a instanceof c){d=this.widget;var f=a.widget;d=d==f||!!(d&&f&&d.compare(f))}return d&&this.block==
a.block&&this.startSide==a.startSide&&this.endSide==a.endSide}},{key:"range",value:function(a){var d=1<arguments.length&&void 0!==arguments[1]?arguments[1]:a;if(this.isReplace&&(a>d||a==d&&0<this.startSide&&0>this.endSide))throw new RangeError("Invalid range for replacement decoration");if(!this.isReplace&&d!=a)throw new RangeError("Widget decorations can only have zero-length ranges");return Aa(Ba(c.prototype),"range",this).call(this,a,d)}},{key:"point",get:function(){return!0}},{key:"type",get:function(){return this.startSide<
this.endSide?Ub.WidgetRange:0>this.startSide?Ub.WidgetBefore:Ub.WidgetAfter}},{key:"heightRelevant",get:function(){return this.block||!!this.widget&&5<=this.widget.estimatedHeight}}]);return c}(Ab),Vb=Da.Facet.define({combine:function(h){return h.join(" ")}}),cc=Da.Facet.define({combine:function(h){return-1<h.indexOf(!0)}}),gc=Sb.StyleModule.newName(),ic=Sb.StyleModule.newName(),Oc=Sb.StyleModule.newName(),fd=x(gc,{wrap:{position:"relative !important",boxSizing:"border-box","\x26.cm-focused":{outline_fallback:"1px dotted #212121",
outline:"5px auto -webkit-focus-ring-color"},display:"flex !important",flexDirection:"column"},scroller:{display:"flex !important",alignItems:"flex-start !important",fontFamily:"monospace",lineHeight:1.4,height:"100%",overflowX:"auto"},content:{margin:0,flexGrow:2,minHeight:"100%",display:"block",whiteSpace:"pre",boxSizing:"border-box",padding:"4px 0",outline:"none"},"content@light":{caretColor:"black"},"content@dark":{caretColor:"white"},line:{display:"block",padding:"0 2px 0 4px"},button:{verticalAlign:"middle",
color:"inherit",fontSize:"70%",padding:".2em 1em",borderRadius:"3px"},"button@light":{backgroundImage:"linear-gradient(#eff1f5, #d9d9df)",border:"1px solid #888","\x26:active":{backgroundImage:"linear-gradient(#b4b4b4, #d0d3d6)"}},"button@dark":{backgroundImage:"linear-gradient(#555, #111)",border:"1px solid #888","\x26:active":{backgroundImage:"linear-gradient(#111, #333)"}},textfield:{verticalAlign:"middle",color:"inherit",fontSize:"70%",border:"1px solid silver",padding:".2em .5em"},"textfield@light":{backgroundColor:"white"},
"textfield@dark":{border:"1px solid #555",backgroundColor:"inherit"},secondarySelection:{backgroundColor_fallback:"#3297FD",color_fallback:"white !important",backgroundColor:"Highlight",color:"HighlightText !important"},secondaryCursor:{display:"inline-block",verticalAlign:"text-top",width:0,height:"1.15em",margin:"0 -0.7px -.7em"},"secondaryCursor@light":{borderLeft:"1.4px solid #555"},"secondaryCursor@dark":{borderLeft:"1.4px solid #ddd"}}),Mc=N("line"),rb=function(h){function c(){ua(this,c);var a=
Ea(this,Ba(c).apply(this,arguments));a.children=[];a.length=0;a.prevAttrs=void 0;a.attrs=null;a.breakAfter=0;return a}Ca(c,h);ka(c,[{key:"merge",value:function(a,d,f,k){if(f){if(!(f instanceof c))return!1;this.dom||f.transferDOM(this)}k&&this.setDeco(f?f.attrs:null);f=f?f.children:[];var m=this.childCursor(),y=m.findPos(d,1);k=y.i;y=y.off;var K=m.findPos(a,-1);m=K.i;K=K.off;a-=d;d=!0;var V=!1,ba=void 0;try{for(var fa=f[Symbol.iterator](),wa;!(d=(wa=fa.next()).done);d=!0)a+=wa.value.length}catch(Xa){V=
!0,ba=Xa}finally{try{if(!d&&null!=fa["return"])fa["return"]()}finally{if(V)throw ba;}}this.length+=a;if(m==k&&K){fa=this.children[m];if(1==f.length&&fa.merge(K,y,f[0]))return!0;if(0==f.length)return fa.merge(K,y,null),!0;fa=fa.slice(y);fa.merge(0,0,f[f.length-1])?f[f.length-1]=fa:f.push(fa);k++;y=0}y?(fa=this.children[k],f.length&&fa.merge(0,y,f[f.length-1])?f.pop():fa.merge(0,y,null)):k<this.children.length&&f.length&&this.children[k].merge(0,0,f[f.length-1])&&f.pop();K?(fa=this.children[m],f.length&&
fa.merge(K,void 0,f[0])?f.shift():fa.merge(K,void 0,null),m++):m&&f.length&&this.children[m-1].merge(this.children[m-1].length,void 0,f[0])&&f.shift();for(;m<k&&f.length&&this.children[k-1].match(f[f.length-1]);)f.pop(),k--;for(;m<k&&f.length&&this.children[m].match(f[0]);)f.shift(),m++;(f.length||m!=k)&&this.replaceChildren(m,k,f);return!0}},{key:"split",value:function(a){var d=new c;d.breakAfter=this.breakAfter;if(0==this.length)return d;var f=this.childPos(a),k=f.i;if(f=f.off)d.append(this.children[k].slice(f)),
this.children[k].merge(f,void 0,null),k++;for(f=k;f<this.children.length;f++)d.append(this.children[f]);for(;0<k&&0==this.children[k-1].length;)this.children[k-1].parent=null,k--;this.children.length=k;this.markDirty();this.length=a;return d}},{key:"transferDOM",value:function(a){this.dom&&(a.setDOM(this.dom),a.prevAttrs=void 0===this.prevAttrs?this.attrs:this.prevAttrs,this.prevAttrs=void 0,this.dom=null)}},{key:"setDeco",value:function(a){n(this.attrs,a)||(this.dom&&(this.prevAttrs=this.attrs,this.markDirty()),
this.attrs=a)}},{key:"append",value:function(a){this.children.push(a);a.setParent(this);this.length+=a.length}},{key:"addLineDeco",value:function(a){if(a=a.spec.attributes)this.attrs=A(a,this.attrs||{})}},{key:"domAtPos",value:function(a){for(var d=0,f=0;d<this.children.length;d++){var k=this.children[d],m=f+k.length;if(!(m==f&&0>=k.getSide())){if(a>f&&a<m&&k.dom.parentNode==this.dom)return k.domAtPos(a-f);if(a<=f)break;f=m}}for(;0<d;d--)if(a=this.children[d-1].dom,a.parentNode==this.dom)return jc.after(a);
return new jc(this.dom,0)}},{key:"sync",value:function(a){this.dom||(this.setDOM(document.createElement("div")),this.dom.className=Mc,this.prevAttrs=this.attrs?null:void 0);void 0!==this.prevAttrs&&(z(this.dom,this.prevAttrs,this.attrs),this.dom.classList.add(Mc),this.prevAttrs=void 0);Aa(Ba(c.prototype),"sync",this).call(this,a);a=this.dom.lastChild;a&&("BR"==a.nodeName||Gb.get(a)instanceof mc)||(a=document.createElement("BR"),a.cmIgnore=!0,this.dom.appendChild(a))}},{key:"measureTextSize",value:function(){if(0==
this.children.length||20<this.length)return null;var a=0,d=!0,f=!1,k=void 0;try{for(var m=this.children[Symbol.iterator](),y;!(d=(y=m.next()).done);d=!0){var K=y.value;if(!(K instanceof mc))return null;var V=ca(K.dom);if(1!=V.length)return null;a+=V[0].width}}catch(ba){f=!0,k=ba}finally{try{if(!d&&null!=m["return"])m["return"]()}finally{if(f)throw k;}}return{lineHeight:this.dom.getBoundingClientRect().height,charWidth:a/this.length}}},{key:"coordsAt",value:function(a,d){for(var f=0,k=0;k<this.children.length;k++){var m=
this.children[k],y=f+m.length;if(y!=f&&(0>=d||y==this.length?y>=a:y>a))return m.coordsAt(a-f,d);f=y}return this.dom.lastChild.getBoundingClientRect()}},{key:"match",value:function(a){return!1}},{key:"type",get:function(){return Ub.Text}}],[{key:"find",value:function(a,d){for(var f=0,k=0;;f++){var m=a.children[f];k+=m.length;if(k>=d){if(m instanceof c)return m;if(m.length)return null}k+=m.breakAfter}}}]);return c}(Gb),Nc=[],Yb=function(h){function c(a,d,f){var k=3<arguments.length&&void 0!==arguments[3]?
arguments[3]:0;ua(this,c);var m=Ea(this,Ba(c).call(this));m.widget=a;m.length=d;m.type=f;m.open=k;m.breakAfter=0;return m}Ca(c,h);ka(c,[{key:"merge",value:function(a,d,f){if(!(f instanceof c&&f.open)||0<a&&!(f.open&1)||d<this.length&&!(f.open&2))return!1;if(!this.widget.compare(f.widget))throw Error("Trying to merge an open widget with an incompatible node");this.length=a+f.length+(this.length-d);return!0}},{key:"domAtPos",value:function(a){return 0==a?jc.before(this.dom):jc.after(this.dom,a==this.length)}},
{key:"split",value:function(a){var d=this.length-a;this.length=a;return new c(this.widget,d,this.type)}},{key:"sync",value:function(){this.dom&&this.widget.updateDOM(this.dom)||(this.setDOM(this.widget.toDOM(this.editorView)),this.dom.contentEditable="false")}},{key:"domBoundsAround",value:function(){return null}},{key:"match",value:function(a){return a instanceof c&&a.type==this.type&&a.widget.constructor==this.widget.constructor?(a.widget.eq(this.widget.value)||this.markDirty(!0),this.widget=a.widget,
this.length=a.length,this.breakAfter=a.breakAfter,!0):!1}},{key:"children",get:function(){return Nc}},{key:"overrideDOMText",get:function(){return this.parent?this.parent.view.state.doc.slice(this.posAtStart,this.posAtEnd):Da.Text.empty}}]);return c}(Gb),xc=function(){function h(c,a,d){ua(this,h);this.doc=c;this.pos=a;this.end=d;this.content=[];this.curLine=null;this.breakAtStart=0;this.text="";this.textOff=0;this.cursor=c.iter();this.skip=a}ka(h,[{key:"posCovered",value:function(){if(0==this.content.length)return!this.breakAtStart&&
this.doc.lineAt(this.pos).from!=this.pos;var c=this.content[this.content.length-1];return!c.breakAfter&&!(c instanceof Yb&&c.type==Ub.WidgetBefore)}},{key:"getLine",value:function(){this.curLine||this.content.push(this.curLine=new rb);return this.curLine}},{key:"addWidget",value:function(c){this.curLine=null;this.content.push(c)}},{key:"finish",value:function(){this.posCovered()||this.getLine()}},{key:"buildText",value:function(c,a,d,f,k){for(;0<c;){if(this.textOff==this.text.length){var m=this.cursor.next(this.skip);
k=m.value;var y=m.lineBreak;m=m.done;this.skip=0;if(m)throw Error("Ran out of text content when drawing inline views");if(y){this.posCovered()||this.getLine();this.content.length?this.content[this.content.length-1].breakAfter=1:this.breakAtStart=1;this.curLine=null;c--;continue}else this.text=k,this.textOff=0}k=Math.min(this.text.length-this.textOff,c);this.getLine().append(new mc(this.text.slice(this.textOff,this.textOff+k),a,d,f));c-=k;this.textOff+=k}}},{key:"span",value:function(c,a,d){var f=
null,k=null,m=null,y=!0,K=!1,V=void 0;try{for(var ba=d[Symbol.iterator](),fa;!(y=(fa=ba.next()).done);y=!0){var wa=fa.value.spec;wa.tagName&&(f=wa.tagName);wa["class"]&&(k=k?k+" "+wa["class"]:wa["class"]);if(wa.attributes)for(var Xa in wa.attributes){var Ta=wa.attributes[Xa];null!=Ta&&("class"==Xa?k=k?k+" "+Ta:Ta:(m||(m={}),"style"==Xa&&m.style&&(Ta=m.style+";"+Ta),m[Xa]=Ta))}}}catch(tb){K=!0,V=tb}finally{try{if(!y&&null!=ba["return"])ba["return"]()}finally{if(K)throw V;}}this.buildText(a-c,f,k,m,
d);this.pos=a}},{key:"point",value:function(c,a,d,f,k){f=(f?1:0)|(k?2:0);c=a-c;d instanceof ec?d.block?(k=d.type,k!=Ub.WidgetAfter||this.posCovered()||this.getLine(),this.addWidget(new Yb(d.widget||new ub("div"),c,k,f))):this.getLine().append(Cc.create(d.widget||new ub("span"),c,d.startSide,f)):this.doc.lineAt(this.pos).from==this.pos&&this.getLine().addLineDeco(d);c&&(this.textOff+c<=this.text.length?this.textOff+=c:(this.skip+=c-(this.text.length-this.textOff),this.text="",this.textOff=0),this.pos=
a)}}],[{key:"build",value:function(c,a,d,f){c=new h(c,a,d);Eb.RangeSet.spans(f,a,d,c);c.finish();return c}}]);return h}(),ub=function(h){function c(){ua(this,c);return Ea(this,Ba(c).apply(this,arguments))}Ca(c,h);ka(c,[{key:"toDOM",value:function(){return document.createElement(this.value)}},{key:"updateDOM",value:function(a){return a.nodeName.toLowerCase()==this.value}}]);return c}(sb),fc;D.Direction=fc;(function(h){h[h.LTR=0]="LTR";h[h.RTL=1]="RTL"})(fc||(D.Direction=fc={}));var Ac=fc.LTR,gd=fc.RTL,
Vc=T("88888888888888888888888888888888888666888888787833333333337888888000000000000000000000000008888880000000000000000000000000088888888888888888888888888888888888887866668888088888663380888308888800000000000000000000000800000000000000000000000000000008"),Pc=T("4444448826627288999999999992222222222222222222222222222222222222222222222229999999999999999999994444444444644222822222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222999999949999999229989999223333333333"),
Uc=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/,pc=function(){function h(c,a,d){ua(this,h);this.from=c;this.to=a;this.level=d}ka(h,[{key:"side",value:function(c,a){return this.dir==a==c?this.to:this.from}},{key:"dir",get:function(){return this.level%2?gd:Ac}}],[{key:"find",value:function(c,a,d,f){for(var k=-1,m=0;m<c.length;m++){var y=c[m];if(y.from<=a&&y.to>=a){if(y.level==d)return m;if(0>k||(0!=f?0>f?y.from<a:y.to>a:c[k].level>y.level))k=m}}if(0>k)throw new RangeError("Index out of range");return k}}]);
return h}();D.BidiSpan=pc;var xb=[],Jc="",Gc=["pre-wrap","normal","pre-line"],Hc=function(){function h(){ua(this,h);this.doc=lb.Text.empty;this.lineWrapping=!1;this.direction=fc.LTR;this.heightSamples={};this.lineHeight=14;this.charWidth=7;this.lineLength=30;this.heightChanged=!1}ka(h,[{key:"heightForGap",value:function(c,a){var d=this.doc.lineAt(a).number-this.doc.lineAt(c).number+1;this.lineWrapping&&(d+=Math.ceil((a-c-d*this.lineLength*.5)/this.lineLength));return this.lineHeight*d}},{key:"heightForLine",
value:function(c){return this.lineWrapping?(1+Math.max(0,Math.ceil((c-this.lineLength)/(this.lineLength-5))))*this.lineHeight:this.lineHeight}},{key:"setDoc",value:function(c){this.doc=c;return this}},{key:"mustRefresh",value:function(c,a,d){for(var f=!1,k=0;k<c.length;k++){var m=c[k];0>m?k++:this.heightSamples[Math.floor(10*m)]||(f=!0,this.heightSamples[Math.floor(10*m)]=!0)}return f||-1<Gc.indexOf(a)!=this.lineWrapping||this.direction!=d}},{key:"refresh",value:function(c,a,d,f,k,m){var y=-1<Gc.indexOf(c);
c=Math.round(d)!=Math.round(this.lineHeight)||this.lineWrapping!=y||this.direction!=a;this.lineWrapping=y;this.direction=a;this.lineHeight=d;this.charWidth=f;this.lineLength=k;if(c)for(this.heightSamples={},a=0;a<m.length;a++)d=m[a],0>d?a++:this.heightSamples[Math.floor(10*d)]=!0;return c}}]);return h}(),uc=function(){function h(c,a){ua(this,h);this.from=c;this.heights=a;this.index=0}ka(h,[{key:"more",get:function(){return this.index<this.heights.length}}]);return h}(),yc=function(){function h(c,
a,d,f,k){ua(this,h);this.from=c;this.length=a;this.top=d;this.height=f;this.type=k}ka(h,[{key:"join",value:function(c){var a=(Array.isArray(this.type)?this.type:[this]).concat(Array.isArray(c.type)?c.type:[c]);return new h(this.from,this.length+c.length,this.top,this.height+c.height,a)}},{key:"to",get:function(){return this.from+this.length}},{key:"bottom",get:function(){return this.top+this.height}}]);return h}();D.BlockInfo=yc;var b;(function(h){h[h.ByPos=0]="ByPos";h[h.ByHeight=1]="ByHeight";h[h.ByPosNoHeight=
2]="ByPosNoHeight"})(b||(b={}));var e=function(){function h(c,a){var d=2<arguments.length&&void 0!==arguments[2]?arguments[2]:2;ua(this,h);this.length=c;this.height=a;this.flags=d}ka(h,[{key:"setHeight",value:function(c,a){this.height!=a&&(1E-4<Math.abs(this.height-a)&&(c.heightChanged=!0),this.height=a)}},{key:"replace",value:function(c,a,d){return h.of(d)}},{key:"decomposeLeft",value:function(c,a){a.push(this)}},{key:"decomposeRight",value:function(c,a){a.push(this)}},{key:"applyChanges",value:function(c,
a,d,f){for(var k=this,m=f.length-1;0<=m;m--){var y=f[m],K=y.fromA,V=y.toA,ba=y.fromB;y=y.toB;var fa=k.lineAt(K,b.ByPosNoHeight,a,0,0),wa=fa.to>=V?fa:k.lineAt(V,b.ByPosNoHeight,a,0,0);y+=wa.to-V;for(V=wa.to;0<m&&fa.from<=f[m-1].toA;)K=f[m-1].fromA,ba=f[m-1].fromB,m--,K<fa.from&&(fa=k.lineAt(K,b.ByPosNoHeight,a,0,0));ba+=fa.from-K;K=fa.from;ba=E.build(d,c,ba,y);k=k.replace(K,V,ba)}return k.updateHeight(d,0)}},{key:"outdated",get:function(){return 0<(this.flags&2)},set:function(c){this.flags=(c?2:0)|
this.flags&-3}}],[{key:"empty",value:function(){return new l(0,0)}},{key:"of",value:function(c){if(1==c.length)return c[0];for(var a=0,d=c.length,f=0,k=0;;)if(a==d)if(f>2*k){var m=c[a-1];m["break"]?c.splice(--a,1,m.left,null,m.right):c.splice(--a,1,m.left,m.right);d+=1+m["break"];f-=m.size}else if(k>2*f)m=c[d],m["break"]?c.splice(d,1,m.left,null,m.right):c.splice(d,1,m.left,m.right),d+=2+m["break"],k-=m.size;else break;else f<k?(m=c[a++])&&(f+=m.size):(m=c[--d])&&(k+=m.size);f=0;null==c[a-1]?(f=1,
a--):null==c[a]&&(f=1,d++);return new r(h.of(c.slice(0,a)),f,h.of(c.slice(d)))}}]);return h}();e.prototype.size=1;var g=function(h){function c(a,d,f){ua(this,c);a=Ea(this,Ba(c).call(this,a,d));a.type=f;return a}Ca(c,h);ka(c,[{key:"blockAt",value:function(a,d,f,k){return new yc(k,this.length,f,this.height,this.type)}},{key:"lineAt",value:function(a,d,f,k,m){return this.blockAt(0,f,k,m)}},{key:"forEachLine",value:function(a,d,f,k,m,y){y(this.blockAt(0,f,k,m))}},{key:"updateHeight",value:function(a){var d=
1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,f=3<arguments.length?arguments[3]:void 0;f&&f.from<=d&&f.more&&this.setHeight(a,f.heights[f.index++]);this.outdated=!1;return this}},{key:"toString",value:function(){return"block(".concat(this.length,")")}}]);return c}(e),l=function(h){function c(a,d){ua(this,c);a=Ea(this,Ba(c).call(this,a,d,Ub.Text));a.collapsed=0;a.widgetHeight=0;return a}Ca(c,h);ka(c,[{key:"replace",value:function(a,d,f){a=f[0];return 1==f.length&&(a instanceof c||a instanceof
q&&a.flags&4)&&10>Math.abs(this.length-a.length)?(a instanceof q?a=new c(a.length,this.height):a.height=this.height,this.outdated||(a.outdated=!1),a):e.of(f)}},{key:"updateHeight",value:function(a){var d=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,f=2<arguments.length&&void 0!==arguments[2]?arguments[2]:!1,k=3<arguments.length?arguments[3]:void 0;k&&k.from<=d&&k.more?this.setHeight(a,k.heights[k.index++]):(f||this.outdated)&&this.setHeight(a,Math.max(this.widgetHeight,a.heightForLine(this.length-
this.collapsed)));this.outdated=!1;return this}},{key:"toString",value:function(){return"line(".concat(this.length).concat(this.collapsed?-this.collapsed:"").concat(this.widgetHeight?":"+this.widgetHeight:"",")")}}]);return c}(g),q=function(h){function c(a){ua(this,c);return Ea(this,Ba(c).call(this,a,0))}Ca(c,h);ka(c,[{key:"lines",value:function(a,d){var f=a.lineAt(d).number;a=a.lineAt(d+this.length).number;return{firstLine:f,lastLine:a,lineHeight:this.height/(a-f+1)}}},{key:"blockAt",value:function(a,
d,f,k){var m=this.lines(d,k),y=m.firstLine;k=m.lineHeight;a=Math.max(0,Math.min(m.lastLine-y,Math.floor((a-f)/k)));d=d.line(y+a);return new yc(d.from,d.length,f+k*a,k,Ub.Text)}},{key:"lineAt",value:function(a,d,f,k,m){if(d==b.ByHeight)return this.blockAt(a,f,k,m);if(d==b.ByPosNoHeight)return k=f.lineAt(a),a=k.from,new yc(a,k.to-a,0,0,Ub.Text);m=this.lines(f,m);d=m.firstLine;m=m.lineHeight;a=f.lineAt(a);return new yc(a.from,a.length,k+m*(a.number-d),m,Ub.Text)}},{key:"forEachLine",value:function(a,
d,f,k,m,y){m=this.lines(f,m);a=m.lastLine;d=m.lineHeight;for(m=m.firstLine;m<=a;m++){var K=f.line(m),V=K.from;K=K.to;if(V>K)break;K>=V&&y(new yc(V,K-V,k,k+=d,Ub.Text))}}},{key:"replace",value:function(a,d,f){d=this.length-d;if(0<d){var k=f[f.length-1];k instanceof c?f[f.length-1]=new c(k.length+d):f.push(null,new c(d-1))}0<a&&(d=f[0],d instanceof c?f[0]=new c(a+d.length):f.unshift(new c(a-1),null));return e.of(f)}},{key:"decomposeLeft",value:function(a,d){d.push(new c(a-1),null)}},{key:"decomposeRight",
value:function(a,d){d.push(null,new c(this.length-a-1))}},{key:"updateHeight",value:function(a){var d=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,f=2<arguments.length&&void 0!==arguments[2]?arguments[2]:!1,k=3<arguments.length?arguments[3]:void 0,m=d+this.length;if(k&&k.from<=d+this.length&&k.more){f=[];var y=Math.max(d,k.from);for(k.from>d&&f.push((new c(k.from-d-1)).updateHeight(a,d));y<=m&&k.more;){d=a.doc.lineAt(y).length;f.length&&f.push(null);var K=new l(d,k.heights[k.index++]);
K.outdated=!1;f.push(K);y+=d+1}y<=m&&f.push(null,(new c(m-y)).updateHeight(a,y));a.heightChanged=!0;return e.of(f)}if(f||this.outdated)this.setHeight(a,a.heightForGap(d,d+this.length)),this.outdated=!1;return this}},{key:"toString",value:function(){return"gap(".concat(this.length,")")}}]);return c}(e),r=function(h){function c(a,d,f){ua(this,c);d=Ea(this,Ba(c).call(this,a.length+d+f.length,a.height+f.height,d|(a.outdated||f.outdated?2:0)));d.left=a;d.right=f;d.size=a.size+f.size;return d}Ca(c,h);ka(c,
[{key:"blockAt",value:function(a,d,f,k){var m=f+this.left.height;return a<m||0==this.right.height?this.left.blockAt(a,d,f,k):this.right.blockAt(a,d,m,k+this.left.length+this["break"])}},{key:"lineAt",value:function(a,d,f,k,m){var y=k+this.left.height,K=m+this.left.length+this["break"],V=d==b.ByHeight?a<y||0==this.right.height:a<K;a=V?this.left.lineAt(a,d,f,k,m):this.right.lineAt(a,d,f,y,K);if(this["break"]||(V?a.to<K:a.from>K))return a;d=d==b.ByPosNoHeight?b.ByPosNoHeight:b.ByPos;return V?a.join(this.right.lineAt(K,
d,f,y,K)):this.left.lineAt(K,d,f,k,m).join(a)}},{key:"forEachLine",value:function(a,d,f,k,m,y){var K=k+this.left.height,V=m+this.left.length+this["break"];if(this["break"])a<V&&this.left.forEachLine(a,d,f,k,m,y),d>=V&&this.right.forEachLine(a,d,f,K,V,y);else{var ba=this.lineAt(V,b.ByPos,f,k,m);a<ba.from&&this.left.forEachLine(a,ba.from-1,f,k,m,y);ba.to>=a&&ba.from<=d&&y(ba);d>ba.to&&this.right.forEachLine(ba.to+1,d,f,K,V,y)}}},{key:"replace",value:function(a,d,f){var k=this.left.length+this["break"];
if(d<k)return this.balanced(this.left.replace(a,d,f),this.right);if(a>this.left.length)return this.balanced(this.left,this.right.replace(a-k,d-k,f));k=[];0<a&&this.decomposeLeft(a,k);var m=k.length,y=!0,K=!1,V=void 0;try{for(var ba=f[Symbol.iterator](),fa;!(y=(fa=ba.next()).done);y=!0)k.push(fa.value)}catch(wa){K=!0,V=wa}finally{try{if(!y&&null!=ba["return"])ba["return"]()}finally{if(K)throw V;}}0<a&&M(k,m-1);d<this.length&&(a=k.length,this.decomposeRight(d,k),M(k,a));return e.of(k)}},{key:"decomposeLeft",
value:function(a,d){var f=this.left.length;if(a<=f)return this.left.decomposeLeft(a,d);d.push(this.left);this["break"]&&(f++,a>=f&&d.push(null));a>f&&this.right.decomposeLeft(a-f,d)}},{key:"decomposeRight",value:function(a,d){var f=this.left.length,k=f+this["break"];if(a>=k)return this.right.decomposeRight(a-k,d);a<f&&this.left.decomposeRight(a,d);this["break"]&&a<k&&d.push(null);d.push(this.right)}},{key:"balanced",value:function(a,d){if(a.size>2*d.size||d.size>2*a.size)return e.of(this["break"]?
[a,null,d]:[a,d]);this.left=a;this.right=d;this.height=a.height+d.height;this.outdated=a.outdated||d.outdated;this.size=a.size+d.size;this.length=a.length+this["break"]+d.length;return this}},{key:"updateHeight",value:function(a){var d=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,f=2<arguments.length&&void 0!==arguments[2]?arguments[2]:!1,k=3<arguments.length?arguments[3]:void 0,m=this.left,y=this.right,K=d+m.length+this["break"],V=null;k&&k.from<=d+m.length&&k.more?V=m=m.updateHeight(a,
d,f,k):m.updateHeight(a,d,f);k&&k.from<=K+y.length&&k.more?V=y=y.updateHeight(a,K,f,k):y.updateHeight(a,K,f);if(V)return this.balanced(m,y);this.height=this.left.height+this.right.height;this.outdated=!1;return this}},{key:"toString",value:function(){return this.left+(this["break"]?" ":"-")+this.right}},{key:"break",get:function(){return this.flags&1}}]);return c}(e),E=function(){function h(c,a){ua(this,h);this.pos=c;this.oracle=a;this.nodes=[];this.lineEnd=this.lineStart=-1;this.covering=null;this.writtenTo=
c}ka(h,[{key:"span",value:function(c,a){if(-1<this.lineStart){c=Math.min(a,this.lineEnd);var d=this.nodes[this.nodes.length-1];d instanceof l?d.length+=c-this.pos:(c>this.pos||!this.isCovered)&&this.nodes.push(new l(c-this.pos,-1));this.writtenTo=c;a>c&&(this.nodes.push(null),this.writtenTo++,this.lineStart=-1)}this.pos=a}},{key:"point",value:function(c,a,d){if(c<a||d.heightRelevant){var f=d.widget?Math.max(0,d.widget.estimatedHeight):0;c=a-c;d.block?this.addBlock(new g(c,f,d.type)):(c||5<=f)&&this.addLineDeco(f,
c)}else a>c&&this.span(c,a);-1<this.lineEnd&&this.lineEnd<this.pos&&(this.lineEnd=this.oracle.doc.lineAt(this.pos).to)}},{key:"enterLine",value:function(){if(!(-1<this.lineStart)){var c=this.oracle.doc.lineAt(this.pos),a=c.from;c=c.to;this.lineStart=a;this.lineEnd=c;this.writtenTo<a&&((this.writtenTo<a-1||null==this.nodes[this.nodes.length-1])&&this.nodes.push(this.blankContent(this.writtenTo,a-1)),this.nodes.push(null));this.pos>a&&this.nodes.push(new l(this.pos-a,-1));this.writtenTo=this.pos}}},
{key:"blankContent",value:function(c,a){var d=new q(a-c);this.oracle.doc.lineAt(c).to==a&&(d.flags|=4);return d}},{key:"ensureLine",value:function(){this.enterLine();var c=this.nodes.length?this.nodes[this.nodes.length-1]:null;if(c instanceof l)return c;c=new l(0,-1);this.nodes.push(c);return c}},{key:"addBlock",value:function(c){this.enterLine();c.type!=Ub.WidgetAfter||this.isCovered||this.ensureLine();this.nodes.push(c);this.writtenTo=this.pos+=c.length;c.type!=Ub.WidgetBefore&&(this.covering=c)}},
{key:"addLineDeco",value:function(c,a){var d=this.ensureLine();d.length+=a;d.collapsed+=a;d.widgetHeight=Math.max(d.widgetHeight,c);this.writtenTo=this.pos+=a}},{key:"finish",value:function(c){var a=0==this.nodes.length?null:this.nodes[this.nodes.length-1];!(-1<this.lineStart)||a instanceof l||this.isCovered?(this.writtenTo<this.pos||null==a)&&this.nodes.push(this.blankContent(this.writtenTo,this.pos)):this.nodes.push(new l(0,-1));a=!0;var d=!1,f=void 0;try{for(var k=this.nodes[Symbol.iterator](),
m;!(a=(m=k.next()).done);a=!0){var y=m.value;y instanceof l&&y.updateHeight(this.oracle,c);c+=y?y.length:1}}catch(K){d=!0,f=K}finally{try{if(!a&&null!=k["return"])k["return"]()}finally{if(d)throw f;}}return this.nodes}},{key:"isCovered",get:function(){return this.covering&&this.nodes[this.nodes.length-1]==this.covering}},{key:"minPointSize",get:function(){return 0}}],[{key:"build",value:function(c,a,d,f){c=new h(d,c);Eb.RangeSet.spans(a,d,f,c);return c.finish(d)}}]);return h}(),R=function(){function h(){ua(this,
h);this.changes=[]}ka(h,[{key:"compareRange",value:function(){}},{key:"comparePoint",value:function(c,a,d,f){(c<a||d&&d.heightRelevant||f&&f.heightRelevant)&&v(c,a,this.changes)}},{key:"minPointSize",get:function(){return 0}}]);return h}(),ha=[],da=Da.Facet.define(),na=Da.Facet.define(),pa=Da.Facet.define(),sa=Da.Facet.define(),La=Da.Facet.define(),Ia=Da.Facet.define(),Ya=Da.Facet.define({combine:function(h){return h.length?h[0]:!0}}),Za=function(){function h(){ua(this,h)}ka(h,null,[{key:"define",
value:function(){return new h}}]);return h}();D.PluginField=Za;Za.scrollMargins=Za.define();var kb=0,qb=Da.Facet.define(),hb=function(){function h(c,a,d){ua(this,h);this.id=c;this.create=a;this.fields=d;this.extension=qb.of(this)}ka(h,[{key:"provide",value:function(c,a){return new h(this.id,this.create,this.fields.concat({field:c,get:a}))}},{key:"decorations",value:function(c){return this.provide(pb,c||function(a){return a.decorations})}},{key:"eventHandlers",value:function(c){return this.provide(yb,
function(a){return{plugin:a,handlers:c}})}}],[{key:"define",value:function(c){return new h(kb++,c,[])}},{key:"fromClass",value:function(c){return h.define(function(a){return new c(a)})}}]);return h}();D.ViewPlugin=hb;var pb=Za.define(),yb=Za.define(),Tb=function(){function h(c,a){ua(this,h);this.value=c;this.spec=a;this.updateFunc=this.value.update?this.value.update.bind(this.value):function(){}}ka(h,[{key:"takeField",value:function(c,a){var d=!0,f=!1,k=void 0;try{for(var m=this.spec.fields[Symbol.iterator](),
y;!(d=(y=m.next()).done);d=!0){var K=y.value,V=K.get;K.field==c&&a.push(V(this.value))}}catch(ba){f=!0,k=ba}finally{try{if(!d&&null!=m["return"])m["return"]()}finally{if(f)throw k;}}}},{key:"update",value:function(c){try{return this.updateFunc(c),this}catch(a){Z(c.state,a,"CodeMirror plugin crashed");if(this.value.destroy)try{this.value.destroy()}catch(d){}return h.dummy}}},{key:"destroy",value:function(c){try{this.value.destroy&&this.value.destroy()}catch(a){Z(c.state,a,"CodeMirror plugin crashed")}}}],
[{key:"create",value:function(c,a){try{var d=c.create(a)}catch(f){return Z(a.state,f,"CodeMirror plugin crashed"),h.dummy}return new h(d,c)}}]);return h}();Tb.dummy=new Tb({},hb.define(function(){return{}}));var Wb=Da.Facet.define({combine:function(h){return h.reduce(function(c,a){return A(a,c)},{})}}),Ic=Da.Facet.define({combine:function(h){return h.reduce(function(c,a){return A(a,c)},{})}}),Wa=Da.Facet.define(),vb=Da.Facet.define(),Hb=function(){function h(c,a,d,f){ua(this,h);this.fromA=c;this.toA=
a;this.fromB=d;this.toB=f}ka(h,[{key:"join",value:function(c){return new h(Math.min(this.fromA,c.fromA),Math.max(this.toA,c.toA),Math.min(this.fromB,c.fromB),Math.max(this.toB,c.toB))}},{key:"addToSet",value:function(c){for(var a=c.length,d=this;0<a;a--){var f=c[a-1];if(!(f.fromA>d.toA)){if(f.toA<d.fromA)break;d=d.join(f);c.splice(a-1,1)}}c.splice(a,0,d);return c}}],[{key:"extendWithRanges",value:function(c,a){if(0==a.length)return c;for(var d=[],f=0,k=0,m=0,y=0;;f++){var K=f==c.length?null:c[f];
m-=y;for(var V=K?K.fromB:1E9;k<a.length&&a[k]<V;){var ba=a[k+1],fa=Math.max(y,a[k]),wa=Math.min(V,ba);fa<=wa&&(new h(fa+m,wa+m,fa,wa)).addToSet(d);if(ba>V)break;else k+=2}if(!K)return d;(new h(K.fromA,K.toA,K.fromB,K.toB)).addToSet(d);m=K.toA;y=K.toB}}}]);return h}(),ab=function(){function h(c,a){var d=2<arguments.length&&void 0!==arguments[2]?arguments[2]:ha;ua(this,h);this.view=c;this.state=a;this.transactions=d;this.flags=0;this.prevState=c.state;this.changes=Da.ChangeSet.empty(this.prevState.doc.length);
var f=!0,k=!1,m=void 0;try{for(var y=d[Symbol.iterator](),K;!(f=(K=y.next()).done);f=!0)this.changes=this.changes.compose(K.value.changes)}catch(ba){k=!0,m=ba}finally{try{if(!f&&null!=y["return"])y["return"]()}finally{if(k)throw m;}}var V=[];this.changes.iterChangedRanges(function(ba,fa,wa,Xa){return V.push(new Hb(ba,fa,wa,Xa))});this.changedRanges=V;d=c.hasFocus;d!=c.inputState.notifiedFocused&&(c.inputState.notifiedFocused=d,1!=this.flags);this.docChanged&&(this.flags|=2)}ka(h,[{key:"viewportChanged",
get:function(){return 0<(this.flags&4)}},{key:"heightChanged",get:function(){return 0<(this.flags&2)}},{key:"focusChanged",get:function(){return 0<(this.flags&1)}},{key:"docChanged",get:function(){return this.transactions.some(function(c){return c.docChanged})}},{key:"selectionSet",get:function(){return this.transactions.some(function(c){return c.selection})}},{key:"empty",get:function(){return 0==this.flags&&0==this.transactions.length}}]);return h}();D.ViewUpdate=ab;var mb=function(){function h(c,
a,d){ua(this,h);this.from=c;this.to=a;this.size=d}ka(h,[{key:"draw",value:function(c){return Ab.replace({widget:new nc({size:this.size,vertical:c})}).range(this.from,this.to)}}],[{key:"same",value:function(c,a){if(c.length!=a.length)return!1;for(var d=0;d<c.length;d++){var f=c[d],k=a[d];if(f.from!=k.from||f.to!=k.to||f.size!=k.size)return!1}return!0}}]);return h}(),nc=function(h){function c(){ua(this,c);return Ea(this,Ba(c).apply(this,arguments))}Ca(c,h);ka(c,[{key:"toDOM",value:function(){var a=
document.createElement("div");this.value.vertical?a.style.height=this.value.size+"px":(a.style.width=this.value.size+"px",a.style.height="2px",a.style.display="inline-block");return a}},{key:"eq",value:function(a){return this.value.size==a.size&&this.value.vertical==a.vertical}},{key:"estimatedHeight",get:function(){return this.value.vertical?this.value.size:-1}}]);return c}(sb),zc=function(){function h(c){ua(this,h);this.state=c;this.pixelViewport={left:0,right:window.innerWidth,top:0,bottom:0};
this.paddingBottom=this.paddingTop=0;this.heightOracle=new Hc;this.heightMap=e.empty();this.scrollTo=null;this.printing=!1;this.visibleRanges=[];this.mustEnforceCursorAssoc=!1;this.heightMap=this.heightMap.applyChanges(c.facet(Wa),lb.Text.empty,this.heightOracle.setDoc(c.doc),[new Hb(0,0,0,c.doc.length)]);this.viewport=this.getViewport(0,null);this.lineGaps=this.ensureLineGaps([]);this.lineGapDeco=Ab.set(this.lineGaps.map(function(a){return a.draw(!1)}));this.computeVisibleRanges()}ka(h,[{key:"update",
value:function(c){var a=1<arguments.length&&void 0!==arguments[1]?arguments[1]:null,d=this.state;this.state=c.state;var f=this.state.facet(Wa),k=Hb.extendWithRanges(c.changedRanges,P(c.prevState.facet(Wa),f,c?c.changes:Da.ChangeSet.empty(this.state.doc.length))),m=this.heightMap.height;this.heightMap=this.heightMap.applyChanges(f,d.doc,this.heightOracle.setDoc(this.state.doc),k);this.heightMap.height!=m&&(c.flags|=2);d=k.length?this.mapViewport(this.viewport,c.changes):this.viewport;if(a&&(a.head<
d.from||a.head>d.to)||!this.viewportIsAppropriate(d))d=this.getViewport(0,a);d.eq(this.viewport)||(this.viewport=d,c.flags|=4);if(this.lineGaps.length||15E3<this.viewport.to-this.viewport.from)c.flags|=this.updateLineGaps(this.ensureLineGaps(this.mapLineGaps(this.lineGaps,c.changes)));this.computeVisibleRanges();a&&(this.scrollTo=a);!this.mustEnforceCursorAssoc&&c.selectionSet&&c.view.lineWrapping&&c.state.selection.primary.empty&&c.state.selection.primary.assoc&&(this.mustEnforceCursorAssoc=!0)}},
{key:"measure",value:function(c,a){var d=c.dom,f="",k=fc.LTR;if(!a){var m=window.getComputedStyle(d);f=m.whiteSpace;k="rtl"==m.direction?fc.RTL:fc.LTR;this.paddingTop=parseInt(m.paddingTop)||0;this.paddingBottom=parseInt(m.paddingBottom)||0}if(this.printing)m={top:-1E8,bottom:1E8,left:-1E8,right:1E8};else{m=this.paddingTop;var y=d.getBoundingClientRect(),K=Math.max(0,y.left),V=Math.min(innerWidth,y.right),ba=Math.max(0,y.top),fa=Math.min(innerHeight,y.bottom);for(d=d.parentNode;d;)if(1==d.nodeType){if((d.scrollHeight>
d.clientHeight||d.scrollWidth>d.clientWidth)&&"visible"!=window.getComputedStyle(d).overflow){var wa=d.getBoundingClientRect();K=Math.max(K,wa.left);V=Math.min(V,wa.right);ba=Math.max(ba,wa.top);fa=Math.min(fa,wa.bottom)}d=d.parentNode}else if(11==d.nodeType)d=d.host;else break;m={left:K-y.left,right:V-y.left,top:ba-(y.top+m),bottom:fa-(y.top+m)}}K=m;m=K.top-this.pixelViewport.top;y=K.bottom-this.pixelViewport.bottom;this.pixelViewport=K;if(this.pixelViewport.bottom<=this.pixelViewport.top||this.pixelViewport.right<=
this.pixelViewport.left)return 0;V=c.measureVisibleLineHeights();ba=!1;K=0;a||(this.heightOracle.mustRefresh(V,f,k)&&(a=c.measureTextSize(),ba=a.charWidth,ba=this.heightOracle.refresh(f,k,a.lineHeight,ba,c.dom.clientWidth/ba,V))&&(c.minWidth=0),0<m&&0<y?K=Math.max(m,y):0>m&&0>y&&(K=Math.min(m,y)));this.heightOracle.heightChanged=!1;this.heightMap=this.heightMap.updateHeight(this.heightOracle,0,ba,new uc(this.viewport.from,V));f=this.heightOracle.heightChanged?2:0;if(!this.viewportIsAppropriate(this.viewport,
K)||this.scrollTo&&(this.scrollTo.head<this.viewport.from||this.scrollTo.head>this.viewport.to))this.viewport=this.getViewport(K,this.scrollTo),f|=4;if(this.lineGaps.length||15E3<this.viewport.to-this.viewport.from)f|=this.updateLineGaps(this.ensureLineGaps(ba?[]:this.lineGaps));this.computeVisibleRanges();this.mustEnforceCursorAssoc&&(this.mustEnforceCursorAssoc=!1,c.enforceCursorAssoc());return f}},{key:"getViewport",value:function(c,a){var d=.5-Math.max(-.5,Math.min(.5,c/1E3/2));c=this.heightMap;
var f=this.state.doc,k=this.pixelViewport,m=k.top;k=k.bottom;d=new rc(c.lineAt(m-1E3*d,b.ByHeight,f,0,0).from,c.lineAt(k+1E3*(1-d),b.ByHeight,f,0,0).to);a&&(a.head<d.from?(a=c.lineAt(a.head,b.ByPos,f,0,0).top,d=new rc(c.lineAt(a-500,b.ByHeight,f,0,0).from,c.lineAt(a+(k-m)+500,b.ByHeight,f,0,0).to)):a.head>d.to&&(a=c.lineAt(a.head,b.ByPos,f,0,0).bottom,d=new rc(c.lineAt(a-(k-m)-500,b.ByHeight,f,0,0).from,c.lineAt(a+500,b.ByHeight,f,0,0).to)));return d}},{key:"mapViewport",value:function(c,a){var d=
a.mapPos(c.from,-1);c=a.mapPos(c.to,1);return new rc(this.heightMap.lineAt(d,b.ByPos,this.state.doc,0,0).from,this.heightMap.lineAt(c,b.ByPos,this.state.doc,0,0).to)}},{key:"viewportIsAppropriate",value:function(c){var a=c.from,d=c.to,f=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,k=this.heightMap.lineAt(a,b.ByPos,this.state.doc,0,0).top,m=this.heightMap.lineAt(d,b.ByPos,this.state.doc,0,0).bottom;return(0==a||k<=this.pixelViewport.top-Math.max(10,Math.min(-f,250)))&&(d==this.state.doc.length||
m>=this.pixelViewport.bottom+Math.max(10,Math.min(f,250)))&&k>this.pixelViewport.top-2E3&&m<this.pixelViewport.bottom+2E3}},{key:"mapLineGaps",value:function(c,a){if(!c.length||a.empty)return c;var d=[],f=!0,k=!1,m=void 0;try{for(var y=c[Symbol.iterator](),K;!(f=(K=y.next()).done);f=!0){var V=K.value;a.touchesRange(V.from,V.to)||d.push(new mb(a.mapPos(V.from),a.mapPos(V.to),V.size))}}catch(ba){k=!0,m=ba}finally{try{if(!f&&null!=y["return"])y["return"]()}finally{if(k)throw m;}}return d}},{key:"ensureLineGaps",
value:function(c){var a=this,d=[];if(this.heightOracle.direction!=fc.LTR)return d;this.heightMap.forEachLine(this.viewport.from,this.viewport.to,this.state.doc,0,0,function(f){if(!(1E4>f.length)){var k=ja(f.from,f.to,a.state);if(!(1E4>k.total)){if(a.heightOracle.lineWrapping){var m=f.from!=a.viewport.from?f.from:Ha(k,(a.pixelViewport.top-f.top)/f.height);var y=f.to!=a.viewport.to?f.to:Ha(k,(a.pixelViewport.bottom-f.top)/f.height)}else y=k.total*a.heightOracle.charWidth,m=Ha(k,a.pixelViewport.left/
y),y=Ha(k,a.pixelViewport.right/y);var K=a.state.selection.primary;K.from<=m&&K.to>=f.from&&(m=K.from);K.from<=f.to&&K.to>=y&&(y=K.to);var V=m-1E4,ba=y+1E4;V>f.from+5E3&&d.push(Ra(c,function(fa){return fa.from==f.from&&fa.to>V-5E3&&fa.to<V+5E3})||new mb(f.from,V,a.gapSize(f,V,!0,k)));ba<f.to-5E3&&d.push(Ra(c,function(fa){return fa.to==f.to&&fa.from>ba-5E3&&fa.from<ba+5E3})||new mb(ba,f.to,a.gapSize(f,ba,!1,k)))}}});return d}},{key:"gapSize",value:function(c,a,d,f){if(this.heightOracle.lineWrapping)return f=
c.height*Ka(f,a),d?f:c.height-f;c=Ka(f,a);return f.total*this.heightOracle.charWidth*(d?c:1-c)}},{key:"updateLineGaps",value:function(c){var a=this;return mb.same(c,this.lineGaps)?0:(this.lineGaps=c,this.lineGapDeco=Ab.set(c.map(function(d){return d.draw(a.heightOracle.lineWrapping)})),16)}},{key:"computeVisibleRanges",value:function(){var c=this.state.facet(Wa);this.lineGaps.length&&(c=c.concat(this.lineGapDeco));var a=[];Eb.RangeSet.spans(c,this.viewport.from,this.viewport.to,{span:function(d,f){a.push({from:d,
to:f})},point:function(){},minPointSize:20});this.visibleRanges=a}},{key:"lineAt",value:function(c,a){return this.heightMap.lineAt(c,b.ByPos,this.state.doc,a+this.paddingTop,0)}},{key:"lineAtHeight",value:function(c,a){return this.heightMap.lineAt(c,b.ByHeight,this.state.doc,a+this.paddingTop,0)}},{key:"blockAtHeight",value:function(c,a){return this.heightMap.blockAt(c,this.state.doc,a+this.paddingTop,0)}},{key:"forEachLine",value:function(c,a,d,f){return this.heightMap.forEachLine(c,a,this.state.doc,
f+this.paddingTop,0,d)}}]);return h}(),rc=function(){function h(c,a){ua(this,h);this.from=c;this.to=a}ka(h,[{key:"eq",value:function(c){return this.from==c.from&&this.to==c.to}}]);return h}(),Ed=[],nd=function(h){function c(a){ua(this,c);var d=Ea(this,Ba(c).call(this));d.view=a;d.viewports=Ed;d.compositionDeco=Ab.none;d.decorations=[];d.minWidth=0;d.minWidthFrom=0;d.minWidthTo=0;d.impreciseAnchor=null;d.impreciseHead=null;d.setDOM(a.contentDOM);d.children=[new rb];d.children[0].setParent(Va(d));d.updateInner([new Hb(0,
0,0,a.state.doc.length)],d.updateDeco(),0);return d}Ca(c,h);ka(c,[{key:"update",value:function(a){var d=this,f,k=a.changedRanges;0<this.minWidth&&k.length&&(k.every(function(K){var V=K.fromA;return K.toA<d.minWidthFrom||V>d.minWidthTo})?(this.minWidthFrom=a.changes.mapPos(this.minWidthFrom,1),this.minWidthTo=a.changes.mapPos(this.minWidthTo,1)):this.minWidth=0);null!==(f=this.view.inputState)&&void 0!==f&&f.composing?a.transactions.length&&(this.compositionDeco=$a(this.view,a.changes)):this.compositionDeco=
Ab.none;f=(bb.ie||bb.chrome)&&!this.compositionDeco.size&&a&&a.state.doc.lines!=a.prevState.doc.lines;var m=this.decorations,y=this.updateDeco();m=Qb(m,y,a.changes);k=Hb.extendWithRanges(k,m);m=a.transactions.some(function(K){return"pointerselection"==K.annotation(Da.Transaction.userEvent)});if(0==this.dirty&&0==k.length&&!(a.flags&20)&&a.state.selection.primary.from>=this.view.viewport.from&&a.state.selection.primary.to<=this.view.viewport.to)return this.updateSelection(f,m),!1;this.updateInner(k,
y,a.prevState.doc.length,f,m);return!0}},{key:"updateInner",value:function(a,d,f){var k=this,m=3<arguments.length&&void 0!==arguments[3]?arguments[3]:!1,y=4<arguments.length&&void 0!==arguments[4]?arguments[4]:!1;this.updateChildren(a,d,f);this.view.observer.ignore(function(){k.dom.style.height=k.view.viewState.heightMap.height+"px";k.dom.style.minWidth=k.minWidth?k.minWidth+"px":"";var K=bb.chrome?{node:Qa(k.view.root).focusNode,written:!1}:void 0;k.sync(K);k.dirty=0;if(null===K||void 0===K?0:K.written)m=
!0;k.updateSelection(m,y);k.dom.style.height=""})}},{key:"updateChildren",value:function(a,d,f){f=this.childCursor(f);for(var k=a.length-1;;k--){var m=0<=k?a[k]:null;if(!m)break;var y=m.fromA,K=m.toA,V=xc.build(this.view.state.doc,m.fromB,m.toB,d);m=V.content;V=V.breakAtStart;var ba=f.findPos(K,1);K=ba.i;ba=ba.off;y=f.findPos(y,-1);this.replaceRange(y.i,y.off,K,ba,m,V)}}},{key:"replaceRange",value:function(a,d,f,k,m,y){var K=this.children[a],V=m.length?m[m.length-1]:null,ba=V?V.breakAfter:y;if(a!=
f||y||ba||!(2>m.length)||!K.merge(d,k,m.length?V:null,0==d)){var fa=this.children[f];k<fa.length||fa.children.length&&0==fa.children[fa.children.length-1].length?(a==f&&(fa=fa.split(k),k=0),!ba&&V&&fa.merge(0,k,V,!0)?m[m.length-1]=fa:((k||fa.children.length&&0==fa.children[0].length)&&fa.merge(0,k,null,!1),m.push(fa))):fa.breakAfter&&(V?V.breakAfter=1:y=1);f++;K.breakAfter=y;0<d&&(!y&&m.length&&K.merge(d,K.length,m[0],!1)?K.breakAfter=m.shift().breakAfter:(d<K.length||K.children.length&&0==K.children[K.children.length-
1].length)&&K.merge(d,K.length,null,!1),a++);for(;a<f&&m.length;)if(this.children[f-1].match(m[m.length-1]))f--,m.pop();else if(this.children[a].match(m[0]))a++,m.shift();else break;(a<f||m.length)&&this.replaceChildren(a,f,m)}}},{key:"updateSelection",value:function(){var a=0<arguments.length&&void 0!==arguments[0]?arguments[0]:!1;if(1<arguments.length&&void 0!==arguments[1]&&arguments[1]||this.mayControlSelection()){var d=this.view.state.selection.primary,f=this.domAtPos(d.anchor),k=this.domAtPos(d.head),
m=Qa(this.root);(a||!m.focusNode||bb.gecko&&d.empty&&nb(m.focusNode,m.focusOffset)||!U(f.node,f.offset,m.anchorNode,m.anchorOffset)||!U(k.node,k.offset,m.focusNode,m.focusOffset))&&this.view.observer.ignore(function(){if(d.empty){if(bb.gecko){var y=nb(f.node,f.offset);if(y&&3!=y){var K=eb(f.node,f.offset,1==y?1:-1);K&&(f=new jc(K,1==y?0:K.nodeValue.length))}}m.collapse(f.node,f.offset);null!=d.bidiLevel&&null!=m.cursorBidiLevel&&(m.cursorBidiLevel=d.bidiLevel)}else m.extend?(m.collapse(f.node,f.offset),
m.extend(k.node,k.offset)):(y=document.createRange(),d.anchor>d.head&&(K=[k,f],f=K[0],k=K[1]),y.setEnd(k.node,k.offset),y.setStart(f.node,f.offset),m.removeAllRanges(),m.addRange(y))});this.impreciseAnchor=f.precise?null:new jc(m.anchorNode,m.anchorOffset);this.impreciseHead=k.precise?null:new jc(m.focusNode,m.focusOffset)}}},{key:"enforceCursorAssoc",value:function(){var a=this.view.state.selection.primary,d=Qa(this.root);if(a.empty&&a.assoc&&d.modify){var f=rb.find(this,a.head);if(f){var k=f.posAtStart;
a.head!=k&&a.head!=k+f.length&&(f=this.coordsAt(a.head,-1),k=this.coordsAt(a.head,1),!f||!k||f.bottom>k.top||(f=this.domAtPos(a.head+a.assoc),d.collapse(f.node,f.offset),d.modify("move",0>a.assoc?"forward":"backward","lineboundary")))}}}},{key:"mayControlSelection",value:function(){return this.view.state.facet(Ya)?this.root.activeElement==this.dom:la(this.dom,Qa(this.root))}},{key:"nearest",value:function(a){for(;a;){var d=Gb.get(a);if(d&&d.rootView==this)return d;a=a.parentNode}return null}},{key:"posFromDOM",
value:function(a,d){var f=this.nearest(a);if(!f)throw new RangeError("Trying to find position for a DOM position outside of the document");return f.localPosFromDOM(a,d)+f.posAtStart}},{key:"domAtPos",value:function(a){var d=this.childCursor().findPos(a,-1);a=d.i;for(d=d.off;a<this.children.length-1;){var f=this.children[a];if(d<f.length||f instanceof rb)break;a++;d=0}return this.children[a].domAtPos(d)}},{key:"coordsAt",value:function(a,d){for(var f=this.length,k=this.children.length-1;;k--){var m=
this.children[k];f=f-m.breakAfter-m.length;if(a>=f&&m.type!=Ub.WidgetAfter)return m.coordsAt(a-f,d)}}},{key:"measureVisibleLineHeights",value:function(){var a=[],d=this.view.viewState.viewport,f=d.from;d=d.to;for(var k=Math.max(this.view.scrollDOM.clientWidth,this.minWidth)+1,m=0,y=0;y<this.children.length;y++){var K=this.children[y],V=m+K.length;if(V>d)break;if(m>=f){a.push(K.dom.getBoundingClientRect().height);var ba=K.dom.scrollWidth;ba>k&&(this.minWidth=k=ba,this.minWidthFrom=m,this.minWidthTo=
V)}m=V+K.breakAfter}return a}},{key:"measureTextSize",value:function(){var a=this,d=!0,f=!1,k=void 0;try{for(var m=this.children[Symbol.iterator](),y;!(d=(y=m.next()).done);d=!0){var K=y.value;if(K instanceof rb){var V=K.measureTextSize();if(V)return V}}}catch(Xa){f=!0,k=Xa}finally{try{if(!d&&null!=m["return"])m["return"]()}finally{if(f)throw k;}}var ba=document.createElement("div"),fa,wa;ba.className="cm-line";ba.textContent="abc def ghi jkl mno pqr stu";this.view.observer.ignore(function(){a.dom.appendChild(ba);
var Xa=ca(ba.firstChild)[0];fa=ba.getBoundingClientRect().height;wa=Xa?Xa.width/27:7;ba.remove()});return{lineHeight:fa,charWidth:wa}}},{key:"childCursor",value:function(){var a=0<arguments.length&&void 0!==arguments[0]?arguments[0]:this.length,d=this.children.length;d&&(a-=this.children[--d].length);return new Tc(this.children,a,d)}},{key:"computeBlockGapDeco",value:function(){var a=this.view.viewState.viewport,d=[a],f=this.view.state.selection.primary,k=f.head,m=f.anchor;if(k<a.from||k>a.to)a=this.view.viewState.lineAt(k,
0),d.push(new rc(a.from,a.to));d.some(function(ba){var fa=ba.to;return m>=ba.from&&m<=fa})||(a=this.view.viewState.lineAt(m,0),d.push(new rc(a.from,a.to)));this.viewports=d.sort(function(ba,fa){return ba.from-fa.from});a=[];for(k=f=0;;k++){var y=k==d.length?null:d[k],K=y?y.from-1:this.length;if(K>f){var V=this.view.viewState.lineAt(K,0).bottom-this.view.viewState.lineAt(f,0).top;a.push(Ab.replace({widget:new Fd(V),block:!0,inclusive:!0}).range(f,K))}if(!y)break;f=y.to+1}return Ab.set(a)}},{key:"updateDeco",
value:function(){return this.decorations=[].concat(Oa(this.view.state.facet(Wa)),[this.computeBlockGapDeco(),this.view.viewState.lineGapDeco,this.compositionDeco],Oa(this.view.pluginField(pb)))}},{key:"scrollPosIntoView",value:function(a,d){var f;if(a=this.coordsAt(a,d)){var k=f=d=0,m=0,y=!0,K=!1,V=void 0;try{for(var ba=this.view.pluginField(Za.scrollMargins)[Symbol.iterator](),fa;!(y=(fa=ba.next()).done);y=!0){var wa=fa.value;if(wa){var Xa=wa.left,Ta=wa.right,tb=wa.top;var Cb=wa.bottom;null!=Xa&&
(d=Math.max(d,Xa));null!=Ta&&(f=Math.max(f,Ta));null!=tb&&(k=Math.max(k,tb));null!=Cb&&(m=Math.max(m,Cb))}}}catch(qc){K=!0,V=qc}finally{try{if(!y&&null!=ba["return"])ba["return"]()}finally{if(K)throw V;}}wa=this.dom;ba={left:a.left-d,top:a.top-k,right:a.right+f,bottom:a.bottom+m};fa=wa.ownerDocument.defaultView;for(wa=wa.parentNode;wa;)if(1==wa.nodeType){if(Xa=wa==document.body)Cb=0,a=fa.innerWidth,d=0,f=fa.innerHeight;else{if(wa.scrollHeight<=wa.clientHeight&&wa.scrollWidth<=wa.clientWidth){wa=wa.parentNode;
continue}Ta=wa.getBoundingClientRect();Cb=Ta.left;a=Ta.left+wa.clientWidth;d=Ta.top;f=Ta.top+wa.clientHeight}tb=Ta=0;ba.top<d?tb=-(d-ba.top+5):ba.bottom>f&&(tb=ba.bottom-f+5);ba.left<Cb?Ta=-(Cb-ba.left+5):ba.right>a&&(Ta=ba.right-a+5);if(Ta||tb)Xa?fa.scrollBy(Ta,tb):(tb&&(Cb=wa.scrollTop,wa.scrollTop+=tb,tb=wa.scrollTop-Cb),Ta&&(Cb=wa.scrollLeft,wa.scrollLeft+=Ta,Ta=wa.scrollLeft-Cb),ba={left:ba.left-Ta,top:ba.top-tb,right:ba.right-Ta,bottom:ba.bottom-tb});if(Xa)break;wa=wa.parentNode}else if(11==
wa.nodeType)wa=wa.host;else break}}},{key:"root",get:function(){return this.view.root}},{key:"editorView",get:function(){return this.view}},{key:"length",get:function(){return this.view.state.doc.length}}]);return c}(Gb),Fd=function(h){function c(){ua(this,c);return Ea(this,Ba(c).apply(this,arguments))}Ca(c,h);ka(c,[{key:"toDOM",value:function(){var a=document.createElement("div");this.updateDOM(a);return a}},{key:"updateDOM",value:function(a){if(1E7>this.value){for(;a.lastChild;)a.lastChild.remove();
a.style.height=this.value+"px"}else{a.style.height="";for(var d=this.value;0<d;d-=1E7)a.appendChild(document.createElement("div")).style.height=Math.min(d,1E7)+"px"}return!0}},{key:"estimatedHeight",get:function(){return this.value}}]);return c}(sb),td=function(h){function c(){ua(this,c);return Ea(this,Ba(c).apply(this,arguments))}Ca(c,h);ka(c,[{key:"eq",value:function(a){return this.value.top==a.top&&this.value.text==a.text}},{key:"toDOM",value:function(){return this.value.top}},{key:"ignoreEvent",
value:function(){return!1}},{key:"customView",get:function(){return ed}}]);return c}(sb),ud=function(){function h(){ua(this,h);this.changes=[]}ka(h,[{key:"compareRange",value:function(c,a){v(c,a,this.changes)}},{key:"comparePoint",value:function(c,a){v(c,a,this.changes)}}]);return h}(),Hd=function(){function h(c){var a=this;ua(this,h);this.lastKeyTime=this.lastKeyCode=0;this.lastSelectionOrigin=null;this.lastSelectionTime=0;this.registeredEvents=[];this.customHandlers=[];this.composing=!1;this.compositionEndedAt=
0;this.mouseSelection=null;var d=function(k){var m=Zb[k];c.contentDOM.addEventListener(k,function(y){hc(c,y)&&!a.ignoreDuringComposition(y)&&(a.mustFlushObserver(y)&&c.observer.forceFlush(),a.runCustomHandlers(k,c,y)?y.preventDefault():m(c,y))});a.registeredEvents.push(k)},f;for(f in Zb)d(f);c.contentDOM.addEventListener("keydown",function(k){c.inputState.lastKeyCode=k.keyCode;c.inputState.lastKeyTime=Date.now()});c.root.activeElement==c.contentDOM&&c.dom.classList.add("cm-focused");this.notifiedFocused=
c.hasFocus;this.ensureHandlers(c)}ka(h,[{key:"setSelectionOrigin",value:function(c){this.lastSelectionOrigin=c;this.lastSelectionTime=Date.now()}},{key:"ensureHandlers",value:function(c){var a=this,d=this.customHandlers=c.pluginField(yb),f=!0,k=!1,m=void 0;try{for(var y=d[Symbol.iterator](),K;!(f=(K=y.next()).done);f=!0){var V=K.value;d=function(fa){0>a.registeredEvents.indexOf(fa)&&(a.registeredEvents.push(fa),("scroll"!=fa?c.contentDOM:c.scrollDOM).addEventListener(fa,function(wa){hc(c,wa)&&a.runCustomHandlers(fa,
c,wa)&&wa.preventDefault()}))};for(var ba in V.handlers)d(ba)}}catch(fa){k=!0,m=fa}finally{try{if(!f&&null!=y["return"])y["return"]()}finally{if(k)throw m;}}}},{key:"runCustomHandlers",value:function(c,a,d){var f=!0,k=!1,m=void 0;try{for(var y=this.customHandlers[Symbol.iterator](),K;!(f=(K=y.next()).done);f=!0){var V=K.value,ba=V.handlers[c];if(ba)try{if(ba.call(V.plugin,d,a)||d.defaultPrevented)return!0}catch(fa){Z(a.state,fa)}}}catch(fa){k=!0,m=fa}finally{try{if(!f&&null!=y["return"])y["return"]()}finally{if(k)throw m;
}}return!1}},{key:"ignoreDuringComposition",value:function(c){return/^key/.test(c.type)?this.composing?!0:bb.safari&&500>c.timeStamp-this.compositionEndedAt?(this.compositionEndedAt=0,!0):!1:!1}},{key:"mustFlushObserver",value:function(c){return"keydown"==c.type||"compositionend"==c.type}},{key:"startMouseSelection",value:function(c,a,d){this.mouseSelection&&this.mouseSelection.destroy();this.mouseSelection=new Gd(this,c,a,d)}},{key:"update",value:function(c){this.mouseSelection&&this.mouseSelection.update(c);
this.lastKeyCode=this.lastSelectionTime=0}},{key:"destroy",value:function(){this.mouseSelection&&this.mouseSelection.destroy()}}]);return h}(),Gd=function(){function h(c,a,d,f){ua(this,h);this.inputState=c;this.view=a;this.startEvent=d;this.style=f;c=a.contentDOM.ownerDocument;c.addEventListener("mousemove",this.move=this.move.bind(this));c.addEventListener("mouseup",this.up=this.up.bind(this));this.extend=d.shiftKey;if(c=a.state.facet(Da.EditorState.allowMultipleSelections))c=a.state.facet(da),c=
c.length?c[0](d):bb.mac?d.metaKey:d.ctrlKey;this.multiple=c;c=a.state.facet(na);this.dragMove=c.length?c[0](d):bb.mac?!d.altKey:!d.ctrlKey;this.dragging=Ob(a,d)?null:!1;!1===this.dragging&&(d.preventDefault(),this.select(d))}ka(h,[{key:"move",value:function(c){if(0==c.buttons)return this.destroy();!1===this.dragging&&this.select(c)}},{key:"up",value:function(c){null==this.dragging&&this.select(this.startEvent);this.dragging||c.preventDefault();this.destroy()}},{key:"destroy",value:function(){var c=
this.view.contentDOM.ownerDocument;c.removeEventListener("mousemove",this.move);c.removeEventListener("mouseup",this.up);this.inputState.mouseSelection=null}},{key:"select",value:function(c){c=this.style.get(c,this.extend,this.multiple);c.eq(this.view.state.selection)&&c.primary.assoc==this.view.state.selection.primary.assoc||this.view.dispatch({selection:c,annotations:Da.Transaction.userEvent.of("pointerselection"),scrollIntoView:!0})}},{key:"update",value:function(c){c.docChanged&&this.dragging&&
(this.dragging=this.dragging.map(c.changes));this.style.update(c)}}]);return h}(),Zb=Object.create(null),od=bb.ie&&15>bb.ie_version||bb.ios&&604>bb.webkit_version;Zb.keydown=function(h,c){var a=(c.ctrlKey?1:0)|(c.metaKey?8:0)|(c.altKey?2:0)|(c.shiftKey?4:0),d=c.keyCode,f=bb.mac&&1==a;(8==d||f&&72==d||46==d||f&&68==d||27==d||a==(bb.mac?8:1)&&(66==d||73==d||89==d||90==d))&&c.preventDefault();h.inputState.setSelectionOrigin("keyboardselection")};Zb.touchdown=Zb.touchmove=function(h){h.inputState.setSelectionOrigin("pointerselection")};
Zb.mousedown=function(h,c){var a=null,d=!0,f=!1,k=void 0;try{for(var m=h.state.facet(pa)[Symbol.iterator](),y;!(d=(y=m.next()).done);d=!0){var K=y.value;if(a=K(h,c))break}}catch(V){f=!0,k=V}finally{try{if(!d&&null!=m["return"])m["return"]()}finally{if(f)throw k;}}a||0!=c.button||(a=C(h,c));a&&(h.root.activeElement!=h.contentDOM&&h.observer.ignore(function(){return L(h.contentDOM)}),h.inputState.startMouseSelection(h,c,a))};var vd=bb.ie&&11>=bb.ie_version,id=null,jd=0;Zb.dragstart=function(h,c){var a=
h.state.selection.primary,d=h.inputState.mouseSelection;d&&(d.dragging=a);c.dataTransfer&&(c.dataTransfer.setData("Text",h.state.sliceDoc(a.from,a.to)),c.dataTransfer.effectAllowed="copyMove")};Zb.drop=function(h,c){if(c.dataTransfer){var a=h.posAtCoords({x:c.clientX,y:c.clientY}),d=c.dataTransfer.getData("Text");0>a||!d||(c.preventDefault(),c=(c=h.inputState.mouseSelection)&&c.dragging&&c.dragMove?{from:c.dragging.from,to:c.dragging.to}:null,d={from:a,insert:d},d=h.state.changes(c?[c,d]:d),h.focus(),
h.dispatch({changes:d,selection:{anchor:d.mapPos(a,-1),head:d.mapPos(a,1)},annotations:Da.Transaction.userEvent.of("drop")}))}};Zb.paste=function(h,c){h.observer.flush();var a=od?null:c.clipboardData;(a=a&&a.getData("text/plain"))?(Lb(h,a),c.preventDefault()):lc(h)};Zb.copy=Zb.cut=function(h,c){var a=h.state;var d=[],f=[],k=!0,m=!1,y=void 0;try{for(var K=a.selection.ranges[Symbol.iterator](),V;!(k=(V=K.next()).done);k=!0){var ba=V.value;ba.empty||(d.push(a.sliceDoc(ba.from,ba.to)),f.push(ba))}}catch(Ta){m=
!0,y=Ta}finally{try{if(!k&&null!=K["return"])K["return"]()}finally{if(m)throw y;}}if(!d.length){k=-1;m=!0;y=!1;K=void 0;try{for(var fa=a.selection.ranges[Symbol.iterator](),wa;!(m=(wa=fa.next()).done);m=!0){var Xa=a.doc.lineAt(wa.value.from);Xa.number>k&&(d.push(Xa.slice()),f.push({from:Xa.from,to:Math.min(a.doc.length,Xa.to+1)}));k=Xa.number}}catch(Ta){y=!0,K=Ta}finally{try{if(!m&&null!=fa["return"])fa["return"]()}finally{if(y)throw K;}}}if(a=d.join(a.lineBreak))(d=od?null:c.clipboardData)?(c.preventDefault(),
d.clearData(),d.setData("text/plain",a)):S(h,a),"cut"==c.type&&h.dispatch({changes:f,scrollIntoView:!0,annotations:Da.Transaction.userEvent.of("cut")})};Zb.focus=Zb.blur=function(h){setTimeout(function(){h.hasFocus!=h.inputState.notifiedFocused&&h.update([])},10)};Zb.beforeprint=function(h){h.viewState.printing=!0;h.requestMeasure();setTimeout(function(){h.viewState.printing=!1;h.requestMeasure()},2E3)};Zb.compositionstart=Zb.compositionupdate=function(h){h.inputState.composing||(h.docView.compositionDeco.size&&
(h.observer.flush(),h.docView.compositionDeco.size&&h.update([])),h.inputState.composing=!0)};Zb.compositionend=function(h){h.inputState.composing=!1;h.inputState.compositionEndedAt=Date.now();setTimeout(function(){h.inputState.composing||h.docView.compositionDeco.size&&h.update([])},50)};var Id={childList:!0,characterData:!0,subtree:!0,characterDataOldValue:!0},hd=bb.ie&&11>=bb.ie_version,Jd=function(){function h(c,a,d){var f=this;ua(this,h);this.view=c;this.onChange=a;this.onScrollChanged=d;this.active=
!1;this.ignoreSelection=new Xb;this.delayedFlush=-1;this.queue=[];this.scrollTargets=[];this.intersection=null;this.intersecting=!1;this.parentCheck=-1;this.dom=c.contentDOM;this.observer=new MutationObserver(function(k){var m=!0,y=!1,K=void 0;try{for(var V=k[Symbol.iterator](),ba;!(m=(ba=V.next()).done);m=!0)f.queue.push(ba.value)}catch(fa){y=!0,K=fa}finally{try{if(!m&&null!=V["return"])V["return"]()}finally{if(y)throw K;}}bb.ie&&11>=bb.ie_version&&k.some(function(fa){return"childList"==fa.type&&
fa.removedNodes.length||"characterData"==fa.type&&fa.oldValue.length>fa.target.nodeValue.length})?f.flushSoon():f.flush()});hd&&(this.onCharData=function(k){f.queue.push({target:k.target,type:"characterData",oldValue:k.prevValue});f.flushSoon()});this.onSelectionChange=function(){if(f.view.root.activeElement==f.dom){if(bb.ie&&11>=bb.ie_version&&!f.view.state.selection.primary.empty){var k=Qa(f.view.root);if(k.focusNode&&U(k.focusNode,k.focusOffset,k.anchorNode,k.anchorOffset))return f.flushSoon()}f.flush()}};
this.start();this.onScroll=this.onScroll.bind(this);window.addEventListener("scroll",this.onScroll);"function"==typeof IntersectionObserver&&(this.intersection=new IntersectionObserver(function(k){0>f.parentCheck&&(f.parentCheck=setTimeout(f.listenForScroll.bind(f),1E3));0<k[k.length-1].intersectionRatio!=f.intersecting&&(f.intersecting=!f.intersecting,f.onScroll())},{}),this.intersection.observe(this.dom));this.listenForScroll()}ka(h,[{key:"onScroll",value:function(){this.intersecting&&(this.flush(),
this.onScrollChanged())}},{key:"listenForScroll",value:function(){this.parentCheck=-1;for(var c=0,a=null,d=this.dom;d;)if(1==d.nodeType)!a&&c<this.scrollTargets.length&&this.scrollTargets[c]==d?c++:a||(a=this.scrollTargets.slice(0,c)),a&&a.push(d),d=d.parentNode;else if(11==d.nodeType)d=d.host;else break;c<this.scrollTargets.length&&!a&&(a=this.scrollTargets.slice(0,c));if(a){c=!0;d=!1;var f=void 0;try{for(var k=this.scrollTargets[Symbol.iterator](),m;!(c=(m=k.next()).done);c=!0)m.value.removeEventListener("scroll",
this.onScroll)}catch(V){d=!0,f=V}finally{try{if(!c&&null!=k["return"])k["return"]()}finally{if(d)throw f;}}k=!0;m=!1;c=void 0;try{for(var y=(this.scrollTargets=a)[Symbol.iterator](),K;!(k=(K=y.next()).done);k=!0)K.value.addEventListener("scroll",this.onScroll)}catch(V){m=!0,c=V}finally{try{if(!k&&null!=y["return"])y["return"]()}finally{if(m)throw c;}}}}},{key:"ignore",value:function(c){if(!this.active)return c();try{return this.stop(),c()}finally{this.start(),this.clear()}}},{key:"start",value:function(){this.active||
(this.observer.observe(this.dom,Id),this.dom.ownerDocument.addEventListener("selectionchange",this.onSelectionChange),hd&&this.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.active=!0)}},{key:"stop",value:function(){this.active&&(this.active=!1,this.observer.disconnect(),this.dom.ownerDocument.removeEventListener("selectionchange",this.onSelectionChange),hd&&this.dom.removeEventListener("DOMCharacterDataModified",this.onCharData))}},{key:"clearSelection",value:function(){this.ignoreSelection.set(Qa(this.view.root))}},
{key:"clear",value:function(){this.observer.takeRecords();this.queue.length=0;this.clearSelection()}},{key:"flushSoon",value:function(){var c=this;0>this.delayedFlush&&(this.delayedFlush=window.setTimeout(function(){c.delayedFlush=-1;c.flush()},20))}},{key:"forceFlush",value:function(){0<=this.delayedFlush&&(window.clearTimeout(this.delayedFlush),this.delayedFlush=-1,this.flush())}},{key:"flush",value:function(){var c=this;if(!(0<=this.delayedFlush)){var a=this.queue,d=!0,f=!1,k=void 0;try{for(var m=
this.observer.takeRecords()[Symbol.iterator](),y;!(d=(y=m.next()).done);d=!0)a.push(y.value)}catch(Xa){f=!0,k=Xa}finally{try{if(!d&&null!=m["return"])m["return"]()}finally{if(f)throw k;}}a.length&&(this.queue=[]);d=Qa(this.view.root);d=!this.ignoreSelection.eq(d)&&la(this.dom,d);if(0!=a.length||d){k=f=-1;m=!1;y=!0;var K=!1,V=void 0;try{for(var ba=a[Symbol.iterator](),fa;!(y=(fa=ba.next()).done);y=!0){var wa=this.readMutation(fa.value);wa&&(wa.typeOver&&(m=!0),-1==f?(f=wa.from,k=wa.to):(f=Math.min(wa.from,
f),k=Math.max(wa.to,k)))}}catch(Xa){K=!0,V=Xa}finally{try{if(!y&&null!=ba["return"])ba["return"]()}finally{if(K)throw V;}}a=this.view.state;if(-1<f||d)this.onChange(f,k,m);this.view.state==a&&(this.view.docView.dirty&&(this.ignore(function(){return c.view.docView.sync()}),this.view.docView.dirty=0),this.view.docView.updateSelection());this.clearSelection()}}}},{key:"readMutation",value:function(c){var a=this.view.docView.nearest(c.target);if(!a||a.ignoreMutation(c))return null;a.markDirty();if("childList"==
c.type){var d=W(a,c.previousSibling||c.target.previousSibling,-1);c=W(a,c.nextSibling||c.target.nextSibling,1);return{from:d?a.posAfter(d):a.posAtStart,to:c?a.posBefore(c):a.posAtEnd,typeOver:!1}}return{from:a.posAtStart,to:a.posAtEnd,typeOver:c.target.nodeValue==c.oldValue}}},{key:"destroy",value:function(){this.stop();this.intersection&&this.intersection.disconnect();var c=!0,a=!1,d=void 0;try{for(var f=this.scrollTargets[Symbol.iterator](),k;!(c=(k=f.next()).done);c=!0)k.value.removeEventListener("scroll",
this.onScroll)}catch(m){a=!0,d=m}finally{try{if(!c&&null!=f["return"])f["return"]()}finally{if(a)throw d;}}window.removeEventListener("scroll",this.onScroll);clearTimeout(this.parentCheck)}}]);return h}(),wd=function(){function h(c){ua(this,h);this.points=c;this.text=""}ka(h,[{key:"readRange",value:function(c,a){if(c){for(var d=c.parentNode;;){this.findPointBefore(d,c);this.readNode(c);var f=c.nextSibling;if(f==a)break;var k=Gb.get(c),m=Gb.get(f);if((k?k.breakAfter:xa(c))||(m?m.breakAfter:xa(f))&&
("BR"!=c.nodeName||c.cmIgnore))this.text+="ï·š";c=f}this.findPointBefore(d,a)}}},{key:"readNode",value:function(c){if(!c.cmIgnore){var a=Gb.get(c);a=a&&a.overrideDOMText;var d;null!=a?d=a.sliceString(0,void 0,"ï·š"):3==c.nodeType?d=c.nodeValue:"BR"==c.nodeName?d=c.nextSibling?"ï·š":"":1==c.nodeType&&this.readRange(c.firstChild,null);null!=d&&(this.findPointIn(c,d.length),this.text+=d)}}},{key:"findPointBefore",value:function(c,a){var d=!0,f=!1,k=void 0;try{for(var m=this.points[Symbol.iterator](),y;!(d=
(y=m.next()).done);d=!0){var K=y.value;K.node==c&&c.childNodes[K.offset]==a&&(K.pos=this.text.length)}}catch(V){f=!0,k=V}finally{try{if(!d&&null!=m["return"])m["return"]()}finally{if(f)throw k;}}}},{key:"findPointIn",value:function(c,a){var d=!0,f=!1,k=void 0;try{for(var m=this.points[Symbol.iterator](),y;!(d=(y=m.next()).done);d=!0){var K=y.value;K.node==c&&(K.pos=this.text.length+Math.min(K.offset,a))}}catch(V){f=!0,k=V}finally{try{if(!d&&null!=m["return"])m["return"]()}finally{if(f)throw k;}}}}]);
return h}(),kd=function d(c,a){ua(this,d);this.node=c;this.offset=a;this.pos=-1},$b=function(){function c(){var a=this,d=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};ua(this,c);this.plugins=[];this.editorAttrs={};this.contentAttrs={};this.bidiCache=[];this.updateState=2;this.measureScheduled=-1;this.measureRequests=[];this.contentDOM=document.createElement("div");this.scrollDOM=document.createElement("div");this.scrollDOM.className=N("scroller");this.scrollDOM.appendChild(this.contentDOM);
this.dom=document.createElement("div");this.dom.appendChild(this.scrollDOM);this._dispatch=d.dispatch||function(f){return a.update([f])};this.dispatch=this.dispatch.bind(this);this.root=d.root||document;this.viewState=new zc(d.state||Da.EditorState.create());this.plugins=this.state.facet(qb).map(function(f){return Tb.create(f,a)});this.observer=new Jd(this,function(f,k,m){return ea(a,f,k,m)},function(){return a.measure()});this.docView=new nd(this);this.inputState=new Hd(this);this.mountStyles();
this.updateAttrs();this.updateState=0;Ua();this.requestMeasure();d.parent&&d.parent.appendChild(this.dom)}ka(c,[{key:"dispatch",value:function(){var a;this._dispatch(1==arguments.length&&(0>=arguments.length?void 0:arguments[0])instanceof Da.Transaction?0>=arguments.length?void 0:arguments[0]:(a=this.state).update.apply(a,arguments))}},{key:"update",value:function(a){if(0!=this.updateState)throw Error("Calls to EditorView.update are not allowed while an update is in progress");this.updateState=2;
var d=this.state,f=!0,k=!1,m=void 0;try{for(var y=a[Symbol.iterator](),K;!(f=(K=y.next()).done);f=!0){var V=K.value;if(V.startState!=d)throw new RangeError("Trying to update state with a transaction that doesn't start from the previous state.");d=V.state}}catch(Xa){k=!0,m=Xa}finally{try{if(!f&&null!=y["return"])y["return"]()}finally{if(k)throw m;}}f=new ab(this,d,a);a=a.some(function(Xa){return Xa.scrollIntoView})?d.selection.primary:null;this.viewState.update(f,a);this.bidiCache=pd.update(this.bidiCache,
f.changes);f.empty||this.updatePlugins(f);d=this.docView.update(f);this.state.facet(vb)!=this.styleModules&&this.mountStyles();this.updateAttrs();this.updateState=0;(d||a||this.viewState.mustEnforceCursorAssoc)&&this.requestMeasure();a=!0;d=!1;k=void 0;try{for(var ba=this.state.facet(La)[Symbol.iterator](),fa;!(a=(fa=ba.next()).done);a=!0){var wa=fa.value;wa(f)}}catch(Xa){d=!0,k=Xa}finally{try{if(!a&&null!=ba["return"])ba["return"]()}finally{if(d)throw k;}}}},{key:"setState",value:function(a){var d=
this;if(0!=this.updateState)throw Error("Calls to EditorView.setState are not allowed while an update is in progress");this.updateState=2;var f=!0,k=!1,m=void 0;try{for(var y=this.plugins[Symbol.iterator](),K;!(f=(K=y.next()).done);f=!0)K.value.destroy(this)}catch(V){k=!0,m=V}finally{try{if(!f&&null!=y["return"])y["return"]()}finally{if(k)throw m;}}this.viewState=new zc(a);this.plugins=a.facet(qb).map(function(V){return Tb.create(V,d)});this.docView=new nd(this);this.inputState.ensureHandlers(this);
this.mountStyles();this.updateAttrs();this.bidiCache=[];this.updateState=0;this.requestMeasure()}},{key:"updatePlugins",value:function(a){var d=a.prevState.facet(qb),f=a.state.facet(qb);if(d!=f){var k=[],m=[],y=!0,K=!1,V=void 0;try{for(var ba=f[Symbol.iterator](),fa;!(y=(fa=ba.next()).done);y=!0){var wa=fa.value,Xa=d.indexOf(wa);if(0>Xa)k.push(Tb.create(wa,this));else{var Ta=this.plugins[Xa].update(a);m.push(Ta);k.push(Ta)}}}catch(sc){K=!0,V=sc}finally{try{if(!y&&null!=ba["return"])ba["return"]()}finally{if(K)throw V;
}}a=!0;d=!1;f=void 0;try{for(var tb=this.plugins[Symbol.iterator](),Cb;!(a=(Cb=tb.next()).done);a=!0){var qc=Cb.value;0>m.indexOf(qc)&&qc.destroy(this)}}catch(sc){d=!0,f=sc}finally{try{if(!a&&null!=tb["return"])tb["return"]()}finally{if(d)throw f;}}this.plugins=k;this.inputState.ensureHandlers(this)}else for(k=0;k<this.plugins.length;k++)this.plugins[k]=this.plugins[k].update(a)}},{key:"measure",value:function(){var a=this;-1<this.measureScheduled&&cancelAnimationFrame(this.measureScheduled);this.measureScheduled=
1;for(var d=null,f=0;;f++){this.updateState=1;var k=this.viewState.measure(this.docView,0<f),m=this.measureRequests;if(!k&&!m.length&&null==this.viewState.scrollTo)break;this.measureRequests=[];if(5<f){console.warn("Viewport failed to stabilize");break}var y=m.map(function(wa){try{return wa.read(a)}catch(Xa){return Z(a.state,Xa),qd}}),K=new ab(this,this.state);K.flags|=k;d?d.flags|=k:d=K;this.updateState=2;this.updatePlugins(K);k&&this.docView.update(K);for(K=0;K<m.length;K++)if(y[K]!=qd)try{m[K].write(y[K],
this)}catch(wa){Z(this.state,wa)}this.viewState.scrollTo&&(this.docView.scrollPosIntoView(this.viewState.scrollTo.head,this.viewState.scrollTo.assoc),this.viewState.scrollTo=null);if(!(k&4)&&0==this.measureRequests.length)break}this.updateState=0;this.measureScheduled=-1;if(d){f=!0;k=!1;m=void 0;try{for(var V=this.state.facet(La)[Symbol.iterator](),ba;!(f=(ba=V.next()).done);f=!0){var fa=ba.value;fa(d)}}catch(wa){k=!0,m=wa}finally{try{if(!f&&null!=V["return"])V["return"]()}finally{if(k)throw m;}}}}},
{key:"updateAttrs",value:function(){var a=A(this.state.facet(Wb),{"class":N("wrap")+(this.hasFocus?" cm-focused ":" ")+this.themeClasses});z(this.dom,this.editorAttrs,a);this.editorAttrs=a;a=A(this.state.facet(Ic),{spellcheck:"false",contenteditable:String(this.state.facet(Ya)),"class":N("content"),style:"".concat(bb.tabSize,": ").concat(this.state.tabSize),role:"textbox","aria-multiline":"true"});z(this.contentDOM,this.contentAttrs,a);this.contentAttrs=a}},{key:"mountStyles",value:function(){this.styleModules=
this.state.facet(vb);Sb.StyleModule.mount(this.root,this.styleModules.concat(fd).reverse())}},{key:"domAtPos",value:function(a){return this.docView.domAtPos(a)}},{key:"posAtDOM",value:function(a){return this.docView.posFromDOM(a,1<arguments.length&&void 0!==arguments[1]?arguments[1]:0)}},{key:"readMeasured",value:function(){if(2==this.updateState)throw Error("Reading the editor layout isn't allowed during an update");0==this.updateState&&-1<this.measureScheduled&&this.measure()}},{key:"requestMeasure",
value:function(a){var d=this;0>this.measureScheduled&&(this.measureScheduled=requestAnimationFrame(function(){return d.measure()}));if(a){if(null!=a.key)for(var f=0;f<this.measureRequests.length;f++)if(this.measureRequests[f].key===a.key){this.measureRequests[f]=a;return}this.measureRequests.push(a)}}},{key:"pluginField",value:function(a){var d=[],f=!0,k=!1,m=void 0;try{for(var y=this.plugins[Symbol.iterator](),K;!(f=(K=y.next()).done);f=!0)K.value.takeField(a,d)}catch(V){k=!0,m=V}finally{try{if(!f&&
null!=y["return"])y["return"]()}finally{if(k)throw m;}}return d}},{key:"plugin",value:function(a){var d=!0,f=!1,k=void 0;try{for(var m=this.plugins[Symbol.iterator](),y;!(d=(y=m.next()).done);d=!0){var K=y.value;if(K.spec==a)return K.value}}catch(V){f=!0,k=V}finally{try{if(!d&&null!=m["return"])m["return"]()}finally{if(f)throw k;}}return null}},{key:"blockAtHeight",value:function(a,d){this.readMeasured();return this.viewState.blockAtHeight(a,Sa(d,this.contentDOM))}},{key:"visualLineAtHeight",value:function(a,
d){this.readMeasured();return this.viewState.lineAtHeight(a,Sa(d,this.contentDOM))}},{key:"visualLineAt",value:function(a){return this.viewState.lineAt(a,1<arguments.length&&void 0!==arguments[1]?arguments[1]:0)}},{key:"viewportLines",value:function(a,d){var f=this.viewport;this.viewState.forEachLine(f.from,f.to,a,Sa(d,this.contentDOM))}},{key:"moveByChar",value:function(a,d,f){return Bb(this,a,d,f)}},{key:"moveByGroup",value:function(a,d){var f=this;return Bb(this,a,d,function(k){return kc(f,a.head,
k)})}},{key:"moveToLineBoundary",value:function(a,d){a:{var f=2<arguments.length&&void 0!==arguments[2]?arguments[2]:!0;var k=this.state.doc.lineAt(a.head);if(f=f&&this.lineWrapping?this.coordsAtPos(0>a.assoc&&a.head>k.from?a.head-1:a.head):null){var m=this.dom.getBoundingClientRect();f=this.posAtCoords({x:d==(this.textDirection==fc.LTR)?m.right-1:m.left+1,y:(f.top+f.bottom)/2});if(-1<f){k=Da.EditorSelection.cursor(f,d?-1:1);break a}}f=rb.find(this.docView,a.head);k=Da.EditorSelection.cursor(f?d?
f.posAtEnd:f.posAtStart:d?k.to:k.from,d?-1:1)}return k}},{key:"moveVertically",value:function(a,d,f){a:{var k,m=a.head;var y=d?1:-1;if(m==(d?this.state.doc.length:0))y=Da.EditorSelection.cursor(m);else{var K=this.coordsAtPos(m);if(K){var V=this.dom.getBoundingClientRect();d=null!==(k=a.goalColumn)&&void 0!==k?k:K.left-V.left;k=V.left+d;f=null!==f&&void 0!==f?f:5;K=0>y?K.top:K.bottom;for(V=0;50>V;V+=10){var ba=Db(this,{x:k,y:K+(f+V)*y},y);if(0>ba)break;if(ba!=m){y=Da.EditorSelection.cursor(ba,void 0,
void 0,d);break a}}}f=this.state.doc;K=f.lineAt(m);d=this.state.tabSize;k=a.goalColumn;a=0;if(null==k){for(m=f.iterRange(K.from,m);!m.next().done;)a=(0,lb.countColumn)(m.value,a,d);k=a*this.defaultCharacterWidth}else a=Math.round(k/this.defaultCharacterWidth);if(0>y&&0==K.from)y=Da.EditorSelection.cursor(0);else if(0<y&&K.to==f.length)y=Da.EditorSelection.cursor(K.to);else{K=f.line(K.number+y);y=K.from;m=0;for(f=f.iterRange(K.from,K.to);m>=a&&!f.next().done;)m=(0,lb.findColumn)(f.value,m,a,d),K=m.offset,
m=a-m.leftOver,y+=K;y=Da.EditorSelection.cursor(y,void 0,void 0,k)}}}return y}},{key:"scrollPosIntoView",value:function(a){this.viewState.scrollTo=Da.EditorSelection.cursor(a);this.requestMeasure()}},{key:"posAtCoords",value:function(a){this.readMeasured();return Db(this,a)}},{key:"coordsAtPos",value:function(a){var d=1<arguments.length&&void 0!==arguments[1]?arguments[1]:1;this.readMeasured();var f=this.state.doc.lineAt(a),k=this.bidiSpans(f),m=this.docView.coordsAt(a,d);if(!m||m.left==m.right)return m;
f=k[pc.find(k,a-f.from,-1,d)];return B(m,f.dir==fc.LTR==0<d)}},{key:"bidiSpans",value:function(a){if(a.length>Kd)return[new pc(0,a.length,0)];var d=this.textDirection,f=!0,k=!1,m=void 0;try{for(var y=this.bidiCache[Symbol.iterator](),K;!(f=(K=y.next()).done);f=!0){var V=K.value;if(V.from==a.from&&V.dir==d)return V.order}}catch(ba){k=!0,m=ba}finally{try{if(!f&&null!=y["return"])y["return"]()}finally{if(k)throw m;}}f=Q(a.slice(),this.textDirection);this.bidiCache.push(new pd(a.from,a.to,d,f));return f}},
{key:"focus",value:function(){var a=this;this.observer.ignore(function(){L(a.contentDOM);a.docView.updateSelection()})}},{key:"destroy",value:function(){var a=!0,d=!1,f=void 0;try{for(var k=this.plugins[Symbol.iterator](),m;!(a=(m=k.next()).done);a=!0)m.value.destroy(this)}catch(y){d=!0,f=y}finally{try{if(!a&&null!=k["return"])k["return"]()}finally{if(d)throw f;}}this.inputState.destroy();this.dom.remove();this.observer.destroy();-1<this.measureScheduled&&cancelAnimationFrame(this.measureScheduled)}},
{key:"state",get:function(){return this.viewState.state}},{key:"viewport",get:function(){return this.viewState.viewport}},{key:"visibleRanges",get:function(){return this.viewState.visibleRanges}},{key:"themeClasses",get:function(){return gc+" "+(this.state.facet(cc)?Oc:ic)+" "+this.state.facet(Vb)}},{key:"contentHeight",get:function(){return this.viewState.heightMap.height+this.viewState.paddingTop+this.viewState.paddingBottom}},{key:"defaultCharacterWidth",get:function(){return this.viewState.heightOracle.charWidth}},
{key:"defaultLineHeight",get:function(){return this.viewState.heightOracle.lineHeight}},{key:"textDirection",get:function(){return this.viewState.heightOracle.direction}},{key:"lineWrapping",get:function(){return this.viewState.heightOracle.lineWrapping}},{key:"hasFocus",get:function(){return this.root.activeElement==this.contentDOM}}],[{key:"domEventHandlers",value:function(a){return hb.define(function(){return{}}).eventHandlers(a)}},{key:"theme",value:function(a,d){var f=Sb.StyleModule.newName();
a=[Vb.of(f),vb.of(x(f,a))];d&&d.dark&&a.push(cc.of(!0));return a}},{key:"baseTheme",value:function(a){return(0,Da.precedence)(vb.of(x(gc,a)),"fallback")}}]);return c}();D.EditorView=$b;$b.styleModule=vb;$b.inputHandler=Ia;$b.exceptionSink=sa;$b.updateListener=La;$b.editable=Ya;$b.dragMovesSelection=na;$b.clickAddsSelectionRange=da;$b.mouseSelectionStyle=pa;$b.decorations=Wa;$b.lineWrapping=$b.theme({content:{whiteSpace:"pre-wrap"}});$b.contentAttributes=Ic;$b.editorAttributes=Wb;var Kd=4096,Wc=-1,
qd={},pd=function(){function c(a,d,f,k){ua(this,c);this.from=a;this.to=d;this.dir=f;this.order=k}ka(c,null,[{key:"update",value:function(a,d){if(d.empty)return a;for(var f=[],k=a.length?a[a.length-1].dir:fc.LTR,m=Math.max(0,a.length-10);m<a.length;m++){var y=a[m];y.dir!=k||d.touchesRange(y.from,y.to)||f.push(new c(d.mapPos(y.from,1),d.mapPos(y.to,-1),y.dir,y.order))}return f}}]);return c}(),xd="undefined"==typeof navigator?"key":/Mac/.test(navigator.platform)?"mac":/Win/.test(navigator.platform)?
"win":/Linux|X11/.test(navigator.platform)?"linux":"key",dd=Da.Facet.define(),Cd=$b.domEventHandlers({keydown:function(c,a){return zb(a.state.facet(dd),c,a,"editor")}}),wc=null,yd=4E3,Dd=Da.StateField.define({create:function(c){return Rb(c.selection)},update:function(c,a){return a.docChanged||a.selection?Rb(a.state.selection):c},provide:[$b.decorations]}),bd=function(c){function a(){ua(this,a);return Ea(this,Ba(a).apply(this,arguments))}Ca(a,c);ka(a,[{key:"toDOM",value:function(){var d=document.createElement("span");
d.className=N("secondaryCursor");return d}}]);return a}(sb);bd.deco=Ab.widget({widget:new bd(null)});var zd=Ab.mark({"class":N("secondarySelection")}),Ld=/[\0-\x08\n-\x1F\x7F-\x9F\xAD\u061C\u200B\u200C\u200E\u200F\u2028\u2029\uFEFF\uFFF9-\uFFFC]/g,Md={0:"null",7:"bell",8:"backspace",10:"newline",11:"vertical tab",13:"carriage return",27:"escape",8203:"zero width space",8204:"zero width non-joiner",8205:"zero width joiner",8206:"left-to-right mark",8207:"right-to-left mark",8232:"line separator",8233:"paragraph separator",
65279:"zero width no-break space",65532:"object replacement"},cd=null,rd=null!=/x/.unicode?"gu":"g",Sc=Da.Facet.define({combine:function(c){c=(0,Da.combineConfig)(c,{render:null,specialChars:Ld,addSpecialChars:null});if(c.replaceTabs=!oc())c.specialChars=new RegExp("\t|"+c.specialChars.source,rd);c.addSpecialChars&&(c.specialChars=new RegExp(c.specialChars.source+"|"+c.addSpecialChars.source,rd));return c}}),Ad=hb.fromClass(function(){function c(a){ua(this,c);this.view=a;this.decorations=Ab.none;
this.decorationCache=Object.create(null);this.recompute()}ka(c,[{key:"update",value:function(a){var d=a.prevState.facet(Sc)!=a.state.facet(Sc);d&&(this.decorationCache=Object.create(null));(d||a.changes.length||a.viewportChanged)&&this.recompute()}},{key:"recompute",value:function(){var a=[],d=!0,f=!1,k=void 0;try{for(var m=this.view.visibleRanges[Symbol.iterator](),y;!(d=(y=m.next()).done);d=!0){var K=y.value;this.getDecorationsFor(K.from,K.to,a)}}catch(V){f=!0,k=V}finally{try{if(!d&&null!=m["return"])m["return"]()}finally{if(f)throw k;
}}this.decorations=Ab.set(a)}},{key:"getDecorationsFor",value:function(a,d,f){var k=this.view.state.facet(Sc),m=this.view.state.doc,y=a;for(a=m.iterRange(a,d);!a.next().done;){if(!a.lineBreak)for(;d=k.specialChars.exec(a.value);){var K=(0,lb.codePointAt)(d[0],0);if(null!=K){if(9==K){var V=m.lineAt(y+d.index);K=this.view.state.tabSize;V=(0,lb.countColumn)(m.sliceString(V.from,y+d.index),0,K);K=Ab.replace({widget:new Nd((K-V%K)*this.view.defaultCharacterWidth)})}else K=this.decorationCache[K]||(this.decorationCache[K]=
Ab.replace({widget:new Od(k,K)}));f.push(K.range(y+d.index,y+d.index+d[0].length))}}y+=a.value.length}}}]);return c}()).decorations(),Od=function(c){function a(d,f){ua(this,a);f=Ea(this,Ba(a).call(this,f));f.options=d;return f}Ca(a,c);ka(a,[{key:"toDOM",value:function(){var d=this.value;d=32<=d?null:10==d?"â¤":String.fromCharCode(9216+d);d=d||"â€¢";var f="Control character "+(Md[this.value]||this.value),k=this.options.render&&this.options.render(this.value,f,d);if(k)return k;k=document.createElement("span");
k.textContent=d;k.title=f;k.setAttribute("aria-label",f);k.style.color="red";return k}},{key:"ignoreEvent",value:function(){return!1}}]);return a}(sb),Nd=function(c){function a(){ua(this,a);return Ea(this,Ba(a).apply(this,arguments))}Ca(a,c);ka(a,[{key:"toDOM",value:function(){var d=document.createElement("span");d.textContent="\t";d.className=sd.tab;d.style.width=this.value+"px";return d}},{key:"ignoreEvent",value:function(){return!1}}]);return a}(sb),sd=new Sb.StyleModule({tab:{display:"inline-block",
overflow:"hidden",verticalAlign:"bottom"}}),Bd=$b.styleModule.of(sd),md=200;D.__test={HeightMap:e,HeightOracle:Hc,MeasuredHeights:uc,QueryType:b,ChangedRange:Hb,computeOrder:Q,moveVisually:I}};
shadow$provide[7]=function(aa,va,Pa,D){function Aa(la){for(var ca=0;ca<Ja.length;ca+=2)if(Ja.charCodeAt(ca)==la)return Ja.charAt(ca+1);return(0,ka.fromCodePoint)(128>la?la:la+1)}function Na(la,ca,U,J){var u=la.state.selection.primary;if(2<J.length||2==J.length&&1==(0,ka.codePointSize)((0,ka.codePointAt)(J,0))||ca!=u.from||U!=u.to)return!1;ca=Ea(la.state,J);if(!ca)return!1;la.dispatch(ca);return!0}function Ea(la,ca){var U=la.languageDataAt("closeBrackets",la.selection.primary.head)[0]||Qa,J=U.brackets||
Qa.brackets,u=!0,t=!1,B=void 0;try{for(var L=J[Symbol.iterator](),O;!(u=(O=L.next()).done);u=!0){var A=O.value,n=Aa((0,ka.codePointAt)(A,0));if(ca==A)return n==A?Ga(la,A,-1<J.indexOf(A+A+A)):Ba(la,A,n,U.before||Qa.before);if(ca==n)return Ca(la,A,n)}}catch(z){t=!0,B=z}finally{try{if(!u&&null!=L["return"])L["return"]()}finally{if(t)throw B;}}return null}function Va(la,ca){la=la.sliceString(ca,ca+2);return la.slice(0,(0,ka.codePointSize)((0,ka.codePointAt)(la,0)))}function Ba(la,ca,U,J){var u=null,t=
la.changeByRange(function(B){if(!B.empty)return{changes:[{insert:ca,from:B.from},{insert:U,from:B.to}],range:Fa.EditorSelection.range(B.anchor+ca.length,B.head+ca.length)};var L=Va(la.doc,B.head);return!L||/\s/.test(L)||-1<J.indexOf(L)?{changes:{insert:ca+U,from:B.head},range:Fa.EditorSelection.cursor(B.head+ca.length)}:{range:u=B}});return u?null:la.update(t,{scrollIntoView:!0})}function Ca(la,ca,U){var J=null;ca=la.selection.ranges.map(function(u){return u.empty&&Va(la.doc,u.head)==U?Fa.EditorSelection.cursor(u.head+
U.length):J=u});return J?null:la.update({selection:Fa.EditorSelection.create(ca,la.selection.primaryIndex),scrollIntoView:!0})}function Ga(la,ca,U){var J=null,u=la.changeByRange(function(t){if(!t.empty)return{changes:[{insert:ca,from:t.from},{insert:ca,from:t.to}],range:Fa.EditorSelection.range(t.anchor+ca.length,t.head+ca.length)};var B=t.head,L=Va(la.doc,B);if(L==ca){if(Oa(la,B))return{changes:{insert:ca+ca,from:B},range:Fa.EditorSelection.cursor(B+ca.length)};t=U&&la.sliceDoc(B,B+3*ca.length)==
ca+ca+ca;return{range:Fa.EditorSelection.cursor(B+ca.length*(t?3:1))}}return U&&la.sliceDoc(B-2*ca.length,B)==ca+ca&&Oa(la,B-2*ca.length)?{changes:{insert:ca+ca+ca+ca,from:B},range:Fa.EditorSelection.cursor(B+ca.length)}:la.charCategorizer(B)(L)!=Fa.CharCategory.Word&&(L=la.sliceDoc(B-1,B),L!=ca&&la.charCategorizer(B)(L)!=Fa.CharCategory.Word)?{changes:{insert:ca+ca,from:B},range:Fa.EditorSelection.cursor(B+ca.length)}:{range:J=t}});return J?null:la.update(u,{scrollIntoView:!0})}function Oa(la,ca){la=
la.tree.resolve(ca+1);return la.parent&&la.start==ca}Object.defineProperty(D,"__esModule",{value:!0});D.closeBrackets=function(){return ua.EditorView.inputHandler.of(Na)};D.handleInsertion=Ea;D.deleteBracketPair=D.closeBracketsKeymap=void 0;var ua=va(6),Fa=va(2),ka=va(0),Qa={brackets:["(","[","{","'",'"'],before:")]}'\":;\x3e"},Ja="()[]{}\x3c\x3e";aa=function(la){var ca=la.state;la=la.dispatch;var U=(ca.languageDataAt("closeBrackets",ca.selection.primary.head)[0]||Qa).brackets||Qa.brackets,J=null,
u=ca.changeByRange(function(t){if(t.empty){var B=t.head;B=ca.doc.sliceString(B-2,B);B=(0,ka.codePointSize)((0,ka.codePointAt)(B,0))==B.length?B:B.slice(1);var L=!0,O=!1,A=void 0;try{for(var n=U[Symbol.iterator](),z;!(L=(z=n.next()).done);L=!0){var w=z.value;if(w==B&&Va(ca.doc,t.head)==Aa((0,ka.codePointAt)(w,0)))return{changes:{from:t.head-w.length,to:t.head+w.length},range:Fa.EditorSelection.cursor(t.head-w.length)}}}catch(p){O=!0,A=p}finally{try{if(!L&&null!=n["return"])n["return"]()}finally{if(O)throw A;
}}}return{range:J=t}});J||la(ca.update(u,{scrollIntoView:!0}));return!J};D.deleteBracketPair=aa;D.closeBracketsKeymap=[{key:"Backspace",run:aa}]};
shadow$provide[8]=function(aa,va,Pa,D){function Aa(ca,U){if(!(ca instanceof U))throw new TypeError("Cannot call a class as a function");}function Na(ca,U){for(var J=0;J<U.length;J++){var u=U[J];u.enumerable=u.enumerable||!1;u.configurable=!0;"value"in u&&(u.writable=!0);Object.defineProperty(ca,u.key,u)}}function Ea(ca,U,J){U&&Na(ca.prototype,U);J&&Na(ca,J);return ca}Object.defineProperty(D,"__esModule",{value:!0});D.styleTags=D.highlighter=D.defaultTags=D.defaultHighlighter=D.TagSystem=void 0;var Va=
va(1),Ba=va(3),Ca=va(6),Ga=va(2),Oa=va(4);aa=function(){function ca(U){var J=this;Aa(this,ca);this.typeNames=[""];this.typeIDs=Object.create(null);this.prop=new Va.NodeProp;this.flags=U.flags;this.types=U.types;this.flagMask=Math.pow(2,this.flags.length)-1;this.typeShift=this.flags.length;var u=U.subtypes||0,t=[void 0];this.typeIDs[""]=0;var B=1,L=!0,O=!1,A=void 0;try{for(var n=U.types[Symbol.iterator](),z;!(L=(z=n.next()).done);L=!0){var w=z.value,p=/^([\w\-]+)(?:=([\w-]+))?$/.exec(w);if(!p)throw new RangeError("Invalid type name "+
w);var v=B++;this.typeNames[v]=p[1];this.typeIDs[p[1]]=v;t[v]=p[2];for(U=0;U<u;U++){var x=B++,N=p[1]+"#"+(U+1);this.typeNames[x]=N;this.typeIDs[N]=x;t[x]=p[1]}}}catch(T){O=!0,A=T}finally{try{if(!L&&null!=n["return"])n["return"]()}finally{if(O)throw A;}}this.parents=t.map(function(T){if(null==T)return 0;var Q=J.typeIDs[T];if(null==Q)throw new RangeError("Unknown parent type '".concat(T,"' specified"));return Q});if(30<this.flags.length||this.typeNames.length>Math.pow(2,30-this.flags.length))throw new RangeError("Too many style tag flags to fit in a 30-bit integer");
}Ea(ca,[{key:"get",value:function(U){var J=0,u=!0,t=!1,B=void 0;try{for(var L=U.split(" ")[Symbol.iterator](),O;!(u=(O=L.next()).done);u=!0){var A=O.value;if(A){var n=this.flags.indexOf(A);if(-1<n)J+=1<<n;else{var z=this.typeIDs[A];if(null==z)throw new RangeError("Unknown tag type '".concat(A,"'"));if(J>>this.typeShift)throw new RangeError("Multiple tag types specified in '".concat(U,"'"));J+=z<<this.typeShift}}}}catch(w){t=!0,B=w}finally{try{if(!u&&null!=L["return"])L["return"]()}finally{if(t)throw B;
}}return J}},{key:"getWithMode",value:function(U){var J="+"==U[0]?1:"!"==U[0]?0:2;return{mode:J,tag:this.get(2==J?U:U.slice(1))}}},{key:"addTagProp",value:function(U){var J=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},u=this.getWithMode(U);return this.prop.set(J,new ka(u.tag,u.mode,Fa))}},{key:"add",value:function(U){var J=Object.create(null),u;for(u in U){var t=this.getWithMode(U[u]),B=t.mode;t=t.tag;var L=!0,O=!1,A=void 0;try{for(var n=u.split(" ")[Symbol.iterator](),z;!(L=(z=n.next()).done);L=
!0){var w=z.value.split("/"),p=w[w.length-1],v=1<w.length?w.slice(0,w.length-1).map(function(N){return"*"==N?null:N}):Fa,x=new ka(t,B,v);J[p]=x.sort(J[p])}}catch(N){O=!0,A=N}finally{try{if(!L&&null!=n["return"])n["return"]()}finally{if(O)throw A;}}}return this.prop.add(J)}},{key:"highlighter",value:function(U){var J=this,u=new Ja(this,U);return[Ca.ViewPlugin.define(function(t){return new la(t,J.prop,u)}).decorations(),Ca.EditorView.styleModule.of(u.module)]}},{key:"specificity",value:function(U){for(var J=
U&this.flagMask,u=0,t=1;t<=this.flags.length;t++)J&1<<t&&u++;for(U>>=this.typeShift;U;U=this.parents[U])u+=1E3;return u}}]);return ca}();D.TagSystem=aa;var ua=new aa({flags:"invalid meta standard definition constant local control link strong emphasis monospace changed inserted deleted".split(" "),subtypes:7,types:"comment lineComment\x3dcomment blockComment\x3dcomment docComment\x3dcomment name variableName\x3dname typeName\x3dname propertyName\x3dname className\x3dname labelName\x3dname functionName\x3dname namespace\x3dname literal string\x3dliteral docString\x3dstring character\x3dstring number\x3dliteral integer\x3dnumber float\x3dnumber regexp\x3dliteral escape\x3dliteral color\x3dliteral content heading\x3dcontent list\x3dcontent quote\x3dcontent keyword self\x3dkeyword null\x3dkeyword atom\x3dkeyword unit\x3dkeyword modifier\x3dkeyword operatorKeyword\x3dkeyword operator derefOperator\x3doperator arithmeticOperator\x3doperator logicOperator\x3doperator bitwiseOperator\x3doperator compareOperator\x3doperator updateOperator\x3doperator typeOperator\x3doperator punctuation separator\x3dpunctuation bracket\x3dpunctuation angleBracket\x3dbracket squareBracket\x3dbracket paren\x3dbracket brace\x3dbracket".split(" ")});
D.defaultTags=ua;var Fa=[],ka=function(){function ca(U,J,u,t){Aa(this,ca);this.tag=U;this.mode=J;this.context=u;this.next=t}Ea(ca,[{key:"sort",value:function(U){if(!U||U.context.length<this.context.length)return this.next=U,this;U.next=this.sort(U.next);return U}}]);return ca}();D.styleTags=function(ca){return ua.add(ca)};aa=function(ca){return ua.highlighter(ca)};D.highlighter=aa;var Qa=function B(U,J,u,t){Aa(this,B);this.type=U;this.flags=J;this.specificity=u;this.cls=t},Ja=function(){function U(J,
u){Aa(this,U);this.tags=J;this.cache=Object.create(null);var t=Object.create(null),B=0,L=[],O;for(O in u){var A="c"+B++;t[A]=u[O];var n=!0,z=!1,w=void 0;try{for(var p=O.split(/\s*,\s*/)[Symbol.iterator](),v;!(n=(v=p.next()).done);n=!0){var x=J.get(v.value);L.push(new Qa(x>>J.typeShift,x&J.flagMask,J.specificity(x),A))}}catch(N){z=!0,w=N}finally{try{if(!n&&null!=p["return"])p["return"]()}finally{if(z)throw w;}}}this.rules=L.sort(function(N,T){return T.specificity-N.specificity});this.module=new Ba.StyleModule(t)}
Ea(U,[{key:"match",value:function(J){var u=this.cache[J];if(null!=u)return u;u="";for(var t=J>>this.tags.typeShift,B=J&this.tags.flagMask;;){var L=!0,O=!1,A=void 0;try{for(var n=this.rules[Symbol.iterator](),z;!(L=(z=n.next()).done);L=!0){var w=z.value;if(w.type==t&&(w.flags&B)==w.flags&&(u&&(u+=" "),u+=this.module[w.cls],B&=~w.flags,t))break}}catch(p){O=!0,A=p}finally{try{if(!L&&null!=n["return"])n["return"]()}finally{if(O)throw A;}}if(t)t=this.tags.parents[t];else break}return this.cache[J]=u}}]);
return U}(),la=function(){function U(J,u,t){Aa(this,U);this.prop=u;this.styling=t;this.nodeStack=[""];this.classStack=[""];this.inheritStack=[""];this.tree=J.state.tree;this.decorations=this.buildDeco(J.visibleRanges,this.tree)}Ea(U,[{key:"update",value:function(J){var u=J.state.facet(Ga.EditorState.syntax);if(!u.length)this.decorations=Ca.Decoration.none;else if(u[0].parsePos(J.state)<J.view.viewport.to)this.decorations=this.decorations.map(J.changes);else if(this.tree!=u[0].getTree(J.state)||J.viewportChanged)this.tree=
u[0].getTree(J.state),this.decorations=this.buildDeco(J.view.visibleRanges,this.tree)}},{key:"buildDeco",value:function(J,u){function t(M,P){M>O&&P&&L.add(O,M,Ca.Decoration.mark({"class":P}));O=M}var B=this,L=new Oa.RangeSetBuilder,O,A,n,z=this.nodeStack,w=this.classStack,p=this.inheritStack,v=!0,x=!1,N=void 0;try{for(var T=function(){var M=I.value,P=M.from,Z=M.to;A="";n=0;O=P;u.iterate({from:P,to:Z,enter:function(ja,Ha){n++;for(var Ka=p[n-1],Ra=Ka,$a=ja.prop(B.prop),eb=!1;$a;){var nb;if(!(nb=!$a.context.length))a:if(nb=
$a.context,nb.length>n-1)nb=!1;else{for(var Qb=n-1,Nb=nb.length-1;0<=Nb;Nb--,Qb--){var Ib=nb[Nb];if(Ib&&Ib!=z[Qb]){nb=!1;break a}}nb=!0}if(nb){if(nb=B.styling.match($a.tag))Ra&&(Ra+=" "),Ra+=nb,1==$a.mode?Ka=Ra:0==$a.mode&&(eb=!0);break}$a=$a.next}Ra!=A&&(t(Ha,A),A=Ra);if(eb)return n--,!1;w[n]=Ra;p[n]=Ka;z[n]=ja.name},leave:function(ja,Ha,Ka){n--;ja=w[n];ja!=A&&(t(Math.min(Z,Ka),A),A=ja)}})},Q=J[Symbol.iterator](),I;!(v=(I=Q.next()).done);v=!0)T()}catch(M){x=!0,N=M}finally{try{if(!v&&null!=Q["return"])Q["return"]()}finally{if(x)throw N;
}}return L.finish()}}]);return U}();aa=aa({deleted:{textDecoration:"line-through"},inserted:{textDecoration:"underline"},link:{textDecoration:"underline"},strong:{fontWeight:"bold"},emphasis:{fontStyle:"italic"},invalid:{color:"#f00"},keyword:{color:"#708"},atom:{color:"#219"},number:{color:"#164"},string:{color:"#a11"},"regexp, escape":{color:"#e40"},"variableName definition":{color:"#00f"},typeName:{color:"#085"},className:{color:"#167"},"propertyName definition":{color:"#00c"},comment:{color:"#940"},
meta:{color:"#555"}});D.defaultHighlighter=aa};
shadow$provide[9]=function(aa,va,Pa,D){function Aa(w,p){if(!(w instanceof p))throw new TypeError("Cannot call a class as a function");}function Na(w,p){for(var v=0;v<p.length;v++){var x=p[v];x.enumerable=x.enumerable||!1;x.configurable=!0;"value"in x&&(x.writable=!0);Object.defineProperty(w,x.key,x)}}function Ea(w,p,v){p&&Na(w.prototype,p);v&&Na(w,v);return w}function Va(w,p){return function(v){var x=v.state;v=v.dispatch;var N=x.field(t,!1);if(!N)return!1;x=N.pop(w,x,p);if(!x)return!1;v(x);return!0}}
function Ba(w){return function(p){p=p.field(t,!1);if(!p)return 0;p=0==w?p.done:p.undone;return p.length-(p.length&&!p[0].changes?1:0)}}function Ca(w,p,v,x){w=w.slice(p+1>v+20?p-v-1:0,p);w.push(x);return w}function Ga(w,p){var v=[],x=!1;w.iterChangedRanges(function(N,T){return v.push(N,T)});p.iterChangedRanges(function(N,T,Q,I){for(N=0;N<v.length;){T=v[N++];var M=v[N++];I>=T&&Q<=M&&(x=!0)}});return x}function Oa(w,p){return w.ranges.length==p.ranges.length&&0===w.ranges.filter(function(v,x){return v.empty!=
p.ranges[x].empty}).length}function ua(w,p){return w.length?p.length?w.concat(p):w:p}function Fa(w,p){if(w.length){var v=w[w.length-1],x=v.selectionsAfter.slice(Math.max(0,v.selectionsAfter.length-n));if(x.length&&x[x.length-1].eq(p))return w;x.push(p);return Ca(w,w.length-1,1E9,v.setSelAfter(x))}return[O.selection([p])]}function ka(w){var p=w[w.length-1],v=w.slice();v[w.length-1]=p.setSelAfter(p.selectionsAfter.slice(0,p.selectionsAfter.length-1));return v}function Qa(w,p){if(!w.length)return w;
for(var v=w.length,x=A;v;){x=Ja(w[v-1],p,x);if(x.changes&&!x.changes.empty||x.effects.length)return w=w.slice(0,v),w[v-1]=x,w;p=x.mapped;v--;x=x.selectionsAfter}return x.length?[O.selection(x)]:A}function Ja(w,p,v){v=ua(w.selectionsAfter.length?w.selectionsAfter.map(function(T){return T.map(p)}):A,v);if(!w.changes)return O.selection(v);var x=w.changes.map(p),N=p.mapDesc(w.changes,!0);N=w.mapped?w.mapped.composeDesc(N):N;return new O(x,la.StateEffect.mapEffects(w.effects,p),N,w.startSelection.map(p),
v)}Object.defineProperty(D,"__esModule",{value:!0});D.history=function(){return[t,u.of(0<arguments.length&&void 0!==arguments[0]?arguments[0]:{})]};D.undoSelection=D.undoDepth=D.undo=D.redoSelection=D.redoDepth=D.redo=D.isolateHistory=D.invertedEffects=D.historyKeymap=void 0;var la=va(2),ca=la.Annotation.define(),U=la.Annotation.define();D.isolateHistory=U;var J=la.Facet.define();D.invertedEffects=J;var u=la.Facet.define({combine:function(w){return(0,la.combineConfig)(w,{minDepth:100,newGroupDelay:500},
{minDepth:Math.max,newGroupDelay:Math.min})}}),t=la.StateField.define({create:function(){return z.empty},update:function(w,p){var v=p.state.facet(u),x=p.annotation(ca);if(x){var N=O.fromTransaction(p),T=x.side;w=0==T?w.undone:w.done;w=N?Ca(w,w.length,v.minDepth,N):Fa(w,p.startState.selection);return new z(0==T?x.rest:w,0==T?w:x.rest)}x=p.annotation(U);if("full"==x||"before"==x)w=w.isolate();if(!1===p.annotation(la.Transaction.addToHistory))return p.changes.length?w.addMapping(p.changes.desc):w;N=
O.fromTransaction(p);T=p.annotation(la.Transaction.time);var Q=p.annotation(la.Transaction.userEvent);N?w=w.addChanges(N,T,Q,v.newGroupDelay,v.minDepth):p.selection&&(w=w.addSelection(p.startState.selection,T,Q,v.newGroupDelay));if("full"==x||"after"==x)w=w.isolate();return w}});aa=Va(0,!1);D.undo=aa;va=Va(1,!1);D.redo=va;Pa=Va(0,!0);D.undoSelection=Pa;var B=Va(1,!0);D.redoSelection=B;var L=Ba(0);D.undoDepth=L;L=Ba(1);D.redoDepth=L;var O=function(){function w(p,v,x,N,T){Aa(this,w);this.changes=p;
this.effects=v;this.mapped=x;this.startSelection=N;this.selectionsAfter=T}Ea(w,[{key:"setSelAfter",value:function(p){return new w(this.changes,this.effects,this.mapped,this.startSelection,p)}}],[{key:"fromTransaction",value:function(p){var v=A,x=!0,N=!1,T=void 0;try{for(var Q=p.startState.facet(J)[Symbol.iterator](),I;!(x=(I=Q.next()).done);x=!0){var M=I.value,P=M(p);P.length&&(v=v.concat(P))}}catch(Z){N=!0,T=Z}finally{try{if(!x&&null!=Q["return"])Q["return"]()}finally{if(N)throw T;}}return!v.length&&
p.changes.empty?null:new w(p.changes.invert(p.startState.doc),v,void 0,p.startState.selection,A)}},{key:"selection",value:function(p){return new w(void 0,A,void 0,void 0,p)}}]);return w}(),A=[],n=200,z=function(){function w(p,v){var x=2<arguments.length&&void 0!==arguments[2]?arguments[2]:0,N=3<arguments.length&&void 0!==arguments[3]?arguments[3]:void 0;Aa(this,w);this.done=p;this.undone=v;this.prevTime=x;this.prevUserEvent=N}Ea(w,[{key:"isolate",value:function(){return this.prevTime?new w(this.done,
this.undone):this}},{key:"addChanges",value:function(p,v,x,N,T){var Q=this.done,I=Q[Q.length-1];Q=I&&I.changes&&v-this.prevTime<N&&!I.selectionsAfter.length&&I.changes.length&&p.changes&&Ga(I.changes,p.changes)?Ca(Q,Q.length-1,T,new O(p.changes.compose(I.changes),ua(p.effects,I.effects),I.mapped,I.startSelection,A)):Ca(Q,Q.length,T,p);return new w(Q,A,v,x)}},{key:"addSelection",value:function(p,v,x,N){var T=this.done.length?this.done[this.done.length-1].selectionsAfter:A;return 0<T.length&&v-this.prevTime<
N&&"keyboardselection"==x&&this.prevUserEvent==x&&Oa(T[T.length-1],p)?this:new w(Fa(this.done,p),this.undone,v,x)}},{key:"addMapping",value:function(p){return new w(Qa(this.done,p),Qa(this.undone,p),this.prevTime,this.prevUserEvent)}},{key:"pop",value:function(p,v,x){var N=0==p?this.done:this.undone;if(0==N.length)return null;var T=N[N.length-1];return x&&T.selectionsAfter.length?v.update({selection:T.selectionsAfter[T.selectionsAfter.length-1],annotations:ca.of({side:p,rest:ka(N)})}):T.changes?(x=
1==N.length?A:N.slice(0,N.length-1),T.mapped&&(x=Qa(x,T.mapped)),v.update({changes:T.changes,selection:T.startSelection,effects:T.effects,annotations:ca.of({side:p,rest:x}),filter:!1})):null}}]);return w}();z.empty=new z(A,A);D.historyKeymap=[{key:"Mod-z",run:aa,preventDefault:!0},{key:"Mod-y",mac:"Mod-Shift-z",run:va,preventDefault:!0},{key:"Mod-u",run:Pa,preventDefault:!0},{key:"Alt-u",mac:"Mod-Shift-u",run:B,preventDefault:!0}]};
shadow$provide[10]=function(aa,va,Pa,D){function Aa(Ja,la,ca){var U=Ja.prop(0>la?Ca.NodeProp.openedBy:Ca.NodeProp.closedBy);return U?U:1==Ja.name.length&&(Ja=ca.indexOf(Ja.name),-1<Ja&&Ja%2==(0>la?1:0))?[ca[Ja+la]]:null}function Na(Ja,la,ca){var U=3<arguments.length&&void 0!==arguments[3]?arguments[3]:{},J=U.maxScanDistance||Ga;U=U.brackets||Oa;var u=Ja.tree,t=u.resolve(la,ca),B;if(B=Aa(t.type,ca,U))return Ea(Ja,la,ca,t,B,U);a:if(t=t.type,B=0>ca?Ja.sliceDoc(la-1,la):Ja.sliceDoc(la,la+1),B=U.indexOf(B),
0>B||0==B%2!=0<ca)J=null;else{for(var L={from:0>ca?la-1:la,to:0<ca?la+1:la},O=Ja.doc.iterRange(la,0<ca?Ja.doc.length:0),A=0,n=0;!O.next().done&&n<=J;){var z=O.value;0>ca&&(n+=z.length);for(var w=la+n*ca,p=0<ca?0:z.length-1,v=0<ca?z.length:-1;p!=v;p+=ca){var x=U.indexOf(z[p]);if(!(0>x||u.resolve(w+p,1).type!=t))if(0==x%2==0<ca)A++;else if(1==A){J={start:L,end:{from:w+p,to:w+p+1},matched:x>>1==B>>1};break a}else A--}0<ca&&(n+=z.length)}J=O.done?{start:L,matched:!1}:null}return J}function Ea(Ja,la,ca,
U,J,u){Ja=U.parent;var t={from:U.start,to:U.end},B=0;return Ja&&Ja.iterate({from:0>ca?U.start:U.end,to:0>ca?Ja.start:Ja.end,enter:function(L,O,A){if(!(0>ca?A>U.start:O<U.end)){if(0==B&&-1<J.indexOf(L.name))return{start:t,end:{from:O,to:A},matched:!0};if(Aa(L,ca,u))B++;else if(Aa(L,-ca,u)&&(B--,0==B))return{start:t,end:{from:O,to:A},matched:!1};return!1}}})||{start:t,matched:!1}}Object.defineProperty(D,"__esModule",{value:!0});D.bracketMatching=function(){return[ua.of(0<arguments.length&&void 0!==
arguments[0]?arguments[0]:{}),Qa]};D.matchBrackets=Na;var Va=va(2),Ba=va(6),Ca=va(1);aa=Ba.EditorView.baseTheme({matchingBracket:{color:"#0b0"},nonmatchingBracket:{color:"#a22"}});var Ga=1E4,Oa="()[]{}",ua=Va.Facet.define({combine:function(Ja){return(0,Va.combineConfig)(Ja,{afterCursor:!0,brackets:Oa,maxScanDistance:Ga})}}),Fa=Ba.Decoration.mark({"class":(0,Ba.themeClass)("matchingBracket")}),ka=Ba.Decoration.mark({"class":(0,Ba.themeClass)("nonmatchingBracket")}),Qa=[Va.StateField.define({create:function(){return Ba.Decoration.none},
update:function(Ja,la){if(!la.docChanged&&!la.selection)return Ja;Ja=[];var ca=la.state.facet(ua),U=!0,J=!1,u=void 0;try{for(var t=la.state.selection.ranges[Symbol.iterator](),B;!(U=(B=t.next()).done);U=!0){var L=B.value;if(L.empty){var O=Na(la.state,L.head,-1,ca)||0<L.head&&Na(la.state,L.head-1,1,ca)||ca.afterCursor&&(Na(la.state,L.head,1,ca)||L.head<la.state.doc.length&&Na(la.state,L.head+1,-1,ca));if(O){var A=O.matched?Fa:ka;Ja.push(A.range(O.start.from,O.start.to));O.end&&Ja.push(A.range(O.end.from,
O.end.to))}}}}catch(n){J=!0,u=n}finally{try{if(!U&&null!=t["return"])t["return"]()}finally{if(J)throw u;}}return Ba.Decoration.set(Ja,!0)},provide:[Ba.EditorView.decorations]}),aa]};
shadow$provide[11]=function(aa,va,Pa,D){function Aa(p,v,x){v in p?Object.defineProperty(p,v,{value:x,enumerable:!0,configurable:!0,writable:!0}):p[v]=x;return p}function Na(p){Na="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(v){return typeof v}:function(v){return v&&"function"===typeof Symbol&&v.constructor===Symbol&&v!==Symbol.prototype?"symbol":typeof v};return Na(p)}function Ea(p,v){if(!(p instanceof v))throw new TypeError("Cannot call a class as a function");}function Va(p,
v){for(var x=0;x<v.length;x++){var N=v[x];N.enumerable=N.enumerable||!1;N.configurable=!0;"value"in N&&(N.writable=!0);Object.defineProperty(p,N.key,N)}}function Ba(p,v,x){v&&Va(p.prototype,v);x&&Va(p,x);return p}function Ca(p){Ca=Object.setPrototypeOf?Object.getPrototypeOf:function(v){return v.__proto__||Object.getPrototypeOf(v)};return Ca(p)}function Ga(p,v){if("function"!==typeof v&&null!==v)throw new TypeError("Super expression must either be null or a function");p.prototype=Object.create(v&&
v.prototype,{constructor:{value:p,writable:!0,configurable:!0}});v&&Oa(p,v)}function Oa(p,v){Oa=Object.setPrototypeOf||function(x,N){x.__proto__=N;return x};return Oa(p,v)}function ua(p){return J.EditorState.indentation.of(function(v,x){a:{for(var N=p.getTree(v.state).resolve(x),T=N,Q=x;;){Q=T.childBefore(Q);if(!Q)break;Q.type.prop(U.NodeProp.error)&&Q.start==Q.end?(N=T,Q=Q.start):(T=Q,Q=T.end+1)}for(;N;N=N.parent)if(T=Fa(N)){v=T(new B(v,x,N));break a}v=-1}return v})}function Fa(p){var v=p.type.prop(t);
if(v)return v;v=p.firstChild;var x;if(v&&(x=v.type.prop(U.NodeProp.closedBy))){var N=p.lastChild,T=N&&-1<x.indexOf(N.name);return function(Q){var I;if(I=T){var M,P;I=!(Q.pos==(null===(M=Q.options)||void 0===M?void 0:M.simulateBreak)&&(null===(P=Q.options)||void 0===P?0:P.simulateDoubleBreak))}return Qa(Q,!0,1,void 0,I?N.start:void 0)}}return null==p.parent?ka:null}function ka(){return 0}function Qa(p,v,x,N,T){var Q=p.textAfter,I=Q.match(/^\s*/)[0].length;N=N&&Q.slice(I,I+N.length)==N||T==p.pos+I;
var M;if(v)a:if(v=p.node,T=v.childAfter(v.start),Q=v.lastChild,T)for(I=null===(M=p.options)||void 0===M?void 0:M.simulateBreak,M=p.state.doc.lineAt(T.start),M=null==I||I<=M.from?M.to:Math.min(M.to,I),I=T.end;;){I=v.childAfter(I);if(!I||I==Q){M=null;break a}if(!I.type.prop(U.NodeProp.skipped)){M=I.start<M?T:null;break a}I=I.end}else M=null;else M=null;return M?N?p.column(M.start):p.column(M.end):p.baseIndent+(N?0:p.unit*x)}function Ja(p){return J.EditorState.foldable.of(function(v,x,N){for(var T=null,
Q=p.getTree(v).resolve(N);Q;Q=Q.parent)if(!(Q.end<=N||Q.start>N)){if(T&&Q.start<x)break;var I=Q.type.prop(L);I&&(I=I(Q,v))&&I.from<=N&&I.from>=x&&I.to>N&&(T=I)}return T})}function la(p,v){for(var x=2<arguments.length&&void 0!==arguments[2]?arguments[2]:5E6,N=Date.now()+v;;){var T=p.advance();if(T)return T;if(p.pos>x||Date.now()>N)return null}}function ca(p,v){var x=p.forceFinish();p=x.applyChanges([{fromA:p.pos,toA:x.length,fromB:p.pos,toB:x.length}]).append(v.applyChanges([{fromA:0,toA:p.pos,fromB:0,
toB:p.pos}]));return{parsed:x,cache:p}}Object.defineProperty(D,"__esModule",{value:!0});D.continuedIndent=function(){var p=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},v=p.except;p=p.units;var x=void 0===p?1:p;return function(N){var T=v&&v.test(N.textAfter);return N.baseIndent+(T?0:x*N.unit)}};D.delimitedIndent=function(p){var v=p.closing,x=p.align,N=void 0===x?!0:x;p=p.units;var T=void 0===p?1:p;return function(Q){return Qa(Q,N,T,v)}};D.indentNodeProp=D.foldNodeProp=D.flatIndent=D.TreeIndentContext=
D.LezerSyntax=void 0;var U=va(1),J=va(2),u=va(6),t=new U.NodeProp;D.indentNodeProp=t;var B=function(p){function v(x,N,T){Ea(this,v);x=Ca(v).call(this,x.state,x.options);if(!x||"object"!==Na(x)&&"function"!==typeof x){if(void 0===this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");x=this}x.pos=N;x.node=T;return x}Ga(v,p);Ba(v,[{key:"textAfter",get:function(){return this.textAfterPos(this.pos)}},{key:"baseIndent",get:function(){for(var x=this.state.doc.lineAt(this.node.start);;){for(var N=
this.node.resolve(x.from);N.parent&&N.parent.start==N.start;)N=N.parent;var T;a:{for(T=this.node;T;T=T.parent)if(N==T){T=!0;break a}T=!1}if(T)break;x=this.state.doc.lineAt(N.start)}return this.lineIndent(x)}}]);return v}(J.IndentContext);D.TreeIndentContext=B;D.flatIndent=function(p){return p.baseIndent};var L=new U.NodeProp;D.foldNodeProp=L;aa=function(){function p(v,x,N){var T=this;Ea(this,p);this.parser=v;this.dialect=x;this.languageData=N;var Q=J.StateEffect.define();this.field=J.StateField.define({create:function(I){return A.advance(U.Tree.empty,
T,I.doc)},update:function(I,M){return I.apply(M,T,Q)}});this.extension=[J.EditorState.syntax.of(this),this.field,u.ViewPlugin.define(function(I){return new w(I,T,Q)}),ua(this),Ja(this)]}Ba(p,[{key:"withDialect",value:function(v){return new p(this.parser,v,this.languageData)}},{key:"getTree",value:function(v){return v.field(this.field).tree}},{key:"parsePos",value:function(v){return v.field(this.field).upto}},{key:"ensureTree",value:function(v,x){var N=2<arguments.length&&void 0!==arguments[2]?arguments[2]:
100,T=v.field(this.field);if(T.upto>=x)return T.updatedTree;T.parse||T.startParse(this,v.doc);return T.parse.pos<x&&(N=la(T.parse,N,x))?T.stopParse(N,v.doc.length):T.parse.pos<x?null:T.stopParse()}},{key:"languageDataFacetAt",value:function(v,x){if(this.parser.hasNested)for(v=this.getTree(v).resolve(x,-1);v;){if(x=v.type.prop(J.languageDataProp))return x;v=v.parent}return this.languageData}}],[{key:"define",value:function(v){var x=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},N=J.Facet.define({combine:x.languageData?
function(T){return T.concat(x.languageData)}:void 0});return new p(v.withProps(J.languageDataProp.add(Aa({},v.topType.name,N))),x.dialect||"",N)}}]);return p}();D.LezerSyntax=aa;var O=function(){function p(v){var x=1<arguments.length&&void 0!==arguments[1]?arguments[1]:v.length;Ea(this,p);this.doc=v;this.length=x;this.cursorPos=0;this.string="";this.cursor=v.iter()}Ba(p,[{key:"get",value:function(v){if(v>=this.length)return-1;var x=this.cursorPos-this.string.length;if(v<x||v>=this.cursorPos)v<this.cursorPos&&
(this.cursor=this.doc.iter(),this.cursorPos=0),this.string=this.cursor.next(v-this.cursorPos).value,this.cursorPos=v+this.string.length,x=this.cursorPos-this.string.length;return this.string.charCodeAt(v-x)}},{key:"read",value:function(v,x){var N=this.cursorPos-this.string.length;return v<N||x>=this.cursorPos?this.doc.sliceString(v,x):this.string.slice(v-N,x-N)}},{key:"clip",value:function(v){return new p(this.doc,v)}}]);return p}(),A=function(){function p(v,x,N){Ea(this,p);this.tree=v;this.upto=
x;this.cache=N;this.parse=null;this.updatedTree=v}Ba(p,[{key:"apply",value:function(v,x,N){var T=!0,Q=!1,I=void 0;try{for(var M=v.effects[Symbol.iterator](),P;!(T=(P=M.next()).done);T=!0){var Z=P.value;if(Z.is(N))return Z.value}}catch(Ha){Q=!0,I=Ha}finally{try{if(!T&&null!=M["return"])M["return"]()}finally{if(Q)throw I;}}if(!v.docChanged)return this;var ja=[];v.changes.iterChangedRanges(function(Ha,Ka,Ra,$a){return ja.push({fromA:Ha,toA:Ka,fromB:Ra,toB:$a})});return p.advance((this.parse?ca(this.parse,
this.updatedTree).cache:this.cache).applyChanges(ja),x,v.state.doc)}},{key:"startParse",value:function(v,x){this.parse=v.parser.startParse(new O(x),{cache:this.cache,dialect:v.dialect})}},{key:"stopParse",value:function(v,x){if(v)this.cache=v;else{var N=ca(this.parse,this.updatedTree);v=N.parsed;this.cache=N.cache}this.updatedTree=v;this.upto=null!==x&&void 0!==x?x:this.parse.pos;this.parse=null;return v}}],[{key:"advance",value:function(v,x,N){x=x.parser.startParse(new O(N),{cache:v,dialect:x.dialect});
var T=la(x,25);if(T)return new p(T,N.length,T);v=ca(x,v);return new p(v.parsed,x.pos,v.cache)}}]);return p}(),n="undefined"!=typeof window&&window.requestIdleCallback||function(p,v){return setTimeout(p,v.timeout)},z="undefined"!=typeof window&&window.cancelIdleCallback||clearTimeout,w=function(){function p(v,x,N){Ea(this,p);this.view=v;this.syntax=x;this.setSyntax=N;this.working=-1;this.work=this.work.bind(this);this.scheduleWork()}Ba(p,[{key:"update",value:function(v){v.docChanged&&this.scheduleWork()}},
{key:"scheduleWork",value:function(){if(!(-1<this.working)){var v=this.view.state;v.field(this.syntax.field).upto>=v.doc.length||(this.working=n(this.work,{timeout:200}))}}},{key:"work",value:function(v){this.working=-1;var x=this.view.state,N=x.field(this.syntax.field);N.upto>=x.doc.length||(N.parse||N.startParse(this.syntax,x.doc),(v=la(N.parse,v?Math.max(25,v.timeRemaining()):100))||.8<N.parse.badness?(v=N.stopParse(v,x.doc.length),this.view.dispatch({effects:this.setSyntax.of(new A(v,x.doc.length,
N.cache))})):this.scheduleWork())}},{key:"destroy",value:function(){0<=this.working&&z(this.working)}}]);return p}()};
shadow$provide[12]=function(aa,va,Pa,D){function Aa(){throw Error("setTimeout has not been defined");}function Na(){throw Error("clearTimeout has not been defined");}function Ea(ca){if(ua===setTimeout)return setTimeout(ca,0);if((ua===Aa||!ua)&&setTimeout)return ua=setTimeout,setTimeout(ca,0);try{return ua(ca,0)}catch(U){try{return ua.call(null,ca,0)}catch(J){return ua.call(this,ca,0)}}}function Va(ca){if(Fa===clearTimeout)return clearTimeout(ca);if((Fa===Na||!Fa)&&clearTimeout)return Fa=clearTimeout,
clearTimeout(ca);try{return Fa(ca)}catch(U){try{return Fa.call(null,ca)}catch(J){return Fa.call(this,ca)}}}function Ba(){Qa&&Ja&&(Qa=!1,Ja.length?ka=Ja.concat(ka):la=-1,ka.length&&Ca())}function Ca(){if(!Qa){var ca=Ea(Ba);Qa=!0;for(var U=ka.length;U;){Ja=ka;for(ka=[];++la<U;)Ja&&Ja[la].run();la=-1;U=ka.length}Ja=null;Qa=!1;Va(ca)}}function Ga(ca,U){this.fun=ca;this.array=U}function Oa(){}aa=Pa.exports={};try{var ua="function"===typeof setTimeout?setTimeout:Aa}catch(ca){ua=Aa}try{var Fa="function"===
typeof clearTimeout?clearTimeout:Na}catch(ca){Fa=Na}var ka=[],Qa=!1,Ja,la=-1;aa.nextTick=function(ca){var U=Array(arguments.length-1);if(1<arguments.length)for(var J=1;J<arguments.length;J++)U[J-1]=arguments[J];ka.push(new Ga(ca,U));1!==ka.length||Qa||Ea(Ca)};Ga.prototype.run=function(){this.fun.apply(null,this.array)};aa.title="browser";aa.browser=!0;aa.env={};aa.argv=[];aa.version="";aa.versions={};aa.on=Oa;aa.addListener=Oa;aa.once=Oa;aa.off=Oa;aa.removeListener=Oa;aa.removeAllListeners=Oa;aa.emit=
Oa;aa.prependListener=Oa;aa.prependOnceListener=Oa;aa.listeners=function(ca){return[]};aa.binding=function(ca){throw Error("process.binding is not supported");};aa.cwd=function(){return"/"};aa.chdir=function(ca){throw Error("process.chdir is not supported");};aa.umask=function(){return 0}};
shadow$provide[13]=function(aa,va,Pa,D){function Aa(A,n){function z(){this.constructor=A}Ga(A,n);A.prototype=null===n?Object.create(n):(z.prototype=n.prototype,new z)}function Na(A,n){void 0===n&&(n=Uint16Array);for(var z=null,w=0,p=0;w<A.length;){for(var v=0;;){var x=A.charCodeAt(w++),N=!1;if(126==x){v=65535;break}92<=x&&x--;34<=x&&x--;x-=32;46<=x&&(x-=46,N=!0);v+=x;if(N)break;v*=46}z?z[p++]=v:z=new n(v)}return z}function Ea(A,n,z){for(var w=n,p;65535!=(p=A[w]);w++)if(p==z)return w-n;return-1}function Va(A){for(var n=
null,z=0;z<A.length;z++){var w=A[z];w.pos==w.cx.input.length&&w.cx.parser.stateFlag(w.state,2)&&(!n||n.recovered>w.recovered)&&(n=w)}return n}function Ba(A){if(-2==A.cx.wrapType)return null;var n=A.cx.parent,z=A.forceAll().toTree(),w=n.cx.parser,p=w.nested[w.startNested(n.state)];z=new Ca.Tree(z.type,z.children,z.positions.map(function(v){return v-n.pos}),A.pos-n.pos);-1<A.cx.wrapType&&(z=new Ca.Tree(w.group.types[A.cx.wrapType],[z],[0],z.length));A.cx.wrapType=-2;n.useNode(z,w.getGoto(n.state,p.placeholder,
!0));la&&console.log(n+(" (via unnest "+(-1<A.cx.wrapType?w.getName(A.cx.wrapType):z.type.name)+")"));return n}aa=va(12);"use strict";Object.defineProperty(D,"__esModule",{value:!0});var Ca=va(1),Ga=function(A,n){Ga=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(z,w){z.__proto__=w}||function(z,w){for(var p in w)w.hasOwnProperty(p)&&(z[p]=w[p])};return Ga(A,n)},Oa=function(){function A(n,z,w,p,v,x,N,T,Q){this.cx=n;this.stack=z;this.state=w;this.reducePos=p;this.pos=v;this.recovered=
x;this.buffer=N;this.bufferBase=T;this.parent=Q}A.prototype.toString=function(){return"["+this.stack.filter(function(n,z){return 0==z%3}).concat(this.state)+"]@"+this.pos+(this.recovered?"!"+this.recovered:"")};A.start=function(n,z,w){void 0===w&&(w=0);return new A(n,[],z,w,w,0,[],0,null)};A.prototype.pushState=function(n,z){this.stack.push(this.state,z,this.bufferBase+this.buffer.length);this.state=n};A.prototype.reduce=function(n){var z=n>>19,w=n&65535,p=this.cx.parser;if(0==z)w<p.minRepeatTerm&&
this.storeNode(w,this.reducePos,this.reducePos,4,!0),this.pushState(p.getGoto(this.state,w,!0),this.reducePos);else{z=this.stack.length-3*(z-1)-(n&262144?6:0);var v=this.stack[z-2],x=this.bufferBase+this.buffer.length-this.stack[z-1];if(w<p.minRepeatTerm||n&131072||w>p.maxNode&&w<=p.maxRepeatWrap){var N=p.stateFlag(this.state,1)?this.pos:this.reducePos;this.storeNode(w,v,N,x+4,!0)}for(this.state=n&262144?this.stack[z]:p.getGoto(this.stack[z-3],w,!0);this.stack.length>z;)this.stack.pop()}};A.prototype.storeNode=
function(n,z,w,p,v){void 0===p&&(p=4);void 0===v&&(v=!1);if(0==n){var x=this,N=this.buffer.length;0==N&&x.parent&&(N=x.bufferBase-x.parent.bufferBase,x=x.parent);if(0<N&&0==x.buffer[N-4]&&-1<x.buffer[N-1]){if(z==w)return;if(x.buffer[N-2]>=z){x.buffer[N-2]=w;return}}}if(v&&this.pos!=w){v=this.buffer.length;if(0<v&&0!=this.buffer[v-4])for(;0<v&&this.buffer[v-2]>w;)this.buffer[v]=this.buffer[v-4],this.buffer[v+1]=this.buffer[v-3],this.buffer[v+2]=this.buffer[v-2],this.buffer[v+3]=this.buffer[v-1],v-=
4,4<p&&(p-=4);this.buffer[v]=n;this.buffer[v+1]=z;this.buffer[v+2]=w;this.buffer[v+3]=p}else this.buffer.push(n,z,w,p)};A.prototype.shift=function(n,z,w){if(n&131072)this.pushState(n&65535,this.pos);else if(0==(n&262144)){var p=this.pos,v=this.cx.parser;if(w>this.pos||z<=v.maxNode)this.pos=w,v.stateFlag(n,1)||(this.reducePos=w);this.pushState(n,p);z<=v.maxNode&&this.buffer.push(z,p,w,4)}else z<=this.cx.parser.maxNode&&this.buffer.push(z,this.pos,w,4),this.pos=w};A.prototype.apply=function(n,z,w){n&
65536?this.reduce(n):this.shift(n,z,w)};A.prototype.useNode=function(n,z){var w=this.cx.reused.length-1;if(0>w||this.cx.reused[w]!=n)this.cx.reused.push(n),w++;var p=this.pos;this.reducePos=this.pos=p+n.length;this.pushState(z,p);this.buffer.push(w,p,this.reducePos,-1)};A.prototype.split=function(){for(var n=this,z=n.buffer.length;0<z&&n.buffer[z-2]>n.reducePos;)z-=4;var w=n.buffer.slice(z);for(z=n.bufferBase+z;n&&z==n.bufferBase;)n=n.parent;return new A(this.cx,this.stack.slice(),this.state,this.reducePos,
this.pos,this.recovered,w,z,n)};A.prototype.recoverByDelete=function(n,z){var w=n<=this.cx.parser.maxNode;w&&this.storeNode(n,this.pos,z);this.storeNode(0,this.pos,z,w?8:4);this.pos=this.reducePos=z;this.recovered+=2};A.prototype.canShift=function(n){for(var z=new Fa(this);;){var w=this.cx.parser.stateSlot(z.top,4)||this.cx.parser.hasAction(z.top,n);if(0==(w&65536))return!0;if(0==w)return!1;z.reduce(w)}};Object.defineProperty(A.prototype,"ruleStart",{get:function(){var n=this.cx.parser.stateSlot(this.state,
5);return n&65536?this.stack[this.stack.length-3*(n>>19)+1]:0},enumerable:!0,configurable:!0});A.prototype.startOf=function(n){for(var z=this.state,w=this.stack.length,p=this.cx.parser;;){z=p.stateSlot(z,5);var v=z>>19,x=z&65535;if(-1<n.indexOf(x))return this.stack[w-3*(z>>19)+1];if(0==w)return-1;0==v?(w-=3,z=this.stack[w]):(w-=3*(v-1),z=p.getGoto(this.stack[w-3],x,!0))}};A.prototype.recoverByInsert=function(n){var z=this,w=this.cx.parser.nextStates(this.state);if(4<w.length){for(var p=w.filter(function(N){return N!=
z.state&&z.cx.parser.hasAction(N,n)}),v=0;4>p.length&&v<w.length;v++)0>p.indexOf(w[v])&&p.push(w[v]);w=p}p=[];for(v=0;v<w.length&&4>p.length;v++)if(w[v]!=this.state){var x=this.split();x.storeNode(0,x.pos,x.pos,4,!0);x.pushState(w[v],this.pos);x.recovered+=2;p.push(x)}return p};A.prototype.forceReduce=function(){var n=this.cx.parser.stateSlot(this.state,5);if(0==(n&65536))return!1;this.cx.parser.validAction(this.state,n)||(this.storeNode(0,this.reducePos,this.reducePos,4,!0),this.recovered+=1);this.reduce(n);
return!0};A.prototype.forceAll=function(){for(;!this.cx.parser.stateFlag(this.state,2)&&this.forceReduce(););return this};A.prototype.toTree=function(){return Ca.Tree.build({buffer:ka.create(this),group:this.cx.parser.group,topID:this.cx.topTerm,maxBufferLength:this.cx.maxBufferLength,reused:this.cx.reused,minRepeatType:this.cx.parser.minRepeatTerm})};Object.defineProperty(A.prototype,"parser",{get:function(){return this.cx.parser},enumerable:!0,configurable:!0});A.prototype.dialectEnabled=function(n){return this.cx.dialect.flags[n]};
return A}(),ua;(function(A){A[A.Token=2]="Token";A[A.Reduce=1]="Reduce";A[A.MaxNext=4]="MaxNext"})(ua||(ua={}));var Fa=function(){function A(n){this.stack=n;this.top=n.state;this.rest=n.stack;this.offset=this.rest.length}A.prototype.reduce=function(n){var z=n&65535;n>>=19;0==n?(this.rest==this.stack.stack&&(this.rest=this.rest.slice()),this.rest.push(this.top,0,0),this.offset+=3):this.offset-=3*(n-1);this.top=this.stack.cx.parser.getGoto(this.rest[this.offset-3],z,!0)};return A}(),ka=function(){function A(n,
z,w){this.stack=n;this.pos=z;this.index=w;this.buffer=n.buffer;0==this.index&&this.maybeNext()}A.create=function(n){return new A(n,n.bufferBase+n.buffer.length,n.buffer.length)};A.prototype.maybeNext=function(){var n=this.stack.parent;null!=n&&(this.index=this.stack.bufferBase-n.bufferBase,this.stack=n,this.buffer=n.buffer)};Object.defineProperty(A.prototype,"id",{get:function(){return this.buffer[this.index-4]},enumerable:!0,configurable:!0});Object.defineProperty(A.prototype,"start",{get:function(){return this.buffer[this.index-
3]},enumerable:!0,configurable:!0});Object.defineProperty(A.prototype,"end",{get:function(){return this.buffer[this.index-2]},enumerable:!0,configurable:!0});Object.defineProperty(A.prototype,"size",{get:function(){return this.buffer[this.index-1]},enumerable:!0,configurable:!0});A.prototype.next=function(){this.index-=4;this.pos-=4;0==this.index&&this.maybeNext()};A.prototype.fork=function(){return new A(this.stack,this.pos,this.index)};return A}();va=function(){function A(){this.end=this.value=
this.start=-1}A.prototype.accept=function(n,z){this.value=n;this.end=z};return A}();var Qa=function(){function A(n,z){void 0===z&&(z=n.length);this.string=n;this.length=z}A.prototype.get=function(n){return 0>n||n>=this.length?-1:this.string.charCodeAt(n)};A.prototype.read=function(n,z){return this.string.slice(n,Math.min(this.length,z))};A.prototype.clip=function(n){return new A(this.string,n)};return A}(),Ja=function(){function A(n,z){this.data=n;this.id=z}A.prototype.token=function(n,z,w){var p=
this.data,v=0,x=1<<this.id,N=w.cx.dialect,T=z.start;a:for(;0!=(x&p[v]);){for(var Q=p[v+1],I=v+3;I<Q;I+=2)if(0<(p[I+1]&x)){var M=p[I];if(N.allows(M)&&(-1==z.value||z.value==M||w.cx.parser.overrides(M,z.value))){z.accept(M,T);break}}I=n.get(T++);M=0;for(v=p[v+2];M<v;){var P=M+v>>1,Z=Q+P+(P<<1),ja=p[Z+1];if(I<p[Z])v=P;else if(I>=ja)M=P+1;else{v=p[Z+2];continue a}}break}};return A}();Ja.prototype.contextual=Ja.prototype.fallback=!1;ua=function(){return function(A,n){void 0===n&&(n={});this.token=A;this.contextual=
!!n.contextual;this.fallback=!!n.fallback}}();var la="undefined"!=typeof aa&&/\bparse\b/.test(aa.env.LOG),ca=function(){function A(n){this.start=[0];this.index=[0];this.nextStart=0;this.trees=[n]}A.prototype.nodeAt=function(n){if(n<this.nextStart)return null;for(;;){var z=this.trees.length-1;if(0>z)return this.nextStart=1E9,null;var w=this.trees[z],p=this.index[z];if(p==w.children.length)this.trees.pop(),this.start.pop(),this.index.pop();else{var v=w.children[p];w=this.start[z]+w.positions[p];if(w>=
n)return w==n?v:null;v instanceof Ca.TreeBuffer?(this.index[z]++,this.nextStart=w+v.length):(this.index[z]++,w+v.length>=n&&(this.trees.push(v),this.start.push(w),this.index.push(0)))}}};return A}(),U=function(A){function n(){var z=null!==A&&A.apply(this,arguments)||this;z.extended=-1;z.mask=0;return z}Aa(n,A);n.prototype.clear=function(z){this.start=z;this.value=this.extended=-1};return n}(va),J=new va,u=function(){function A(n){this.tokens=[];this.mainToken=J;this.actions=[];this.tokens=n.tokenizers.map(function(z){return new U})}
A.prototype.getActions=function(n,z){var w=0,p=null,v=n.cx.parser,x=v.tokenizers;v=v.stateSlot(n.state,3);for(var N=0;N<x.length;N++)if(0!=(1<<N&v)){var T=x[N],Q=this.tokens[N];if(!p||T.fallback){if(T.contextual||Q.start!=n.pos||Q.mask!=v)this.updateCachedToken(Q,T,n,z),Q.mask=v;if(0!=Q.value&&(p=Q,T=w,-1<Q.extended&&(w=this.addActions(n,Q.extended,Q.end,w)),w=this.addActions(n,Q.value,Q.end,w),w>T))break}}for(;this.actions.length>w;)this.actions.pop();p||(p=J,p.start=n.pos,n.pos==z.length?p.accept(n.cx.parser.eofTerm,
n.pos):p.accept(0,n.pos+1));this.mainToken=p;return this.actions};A.prototype.updateCachedToken=function(n,z,w,p){n.clear(w.pos);z.token(p,n,w);if(-1<n.value){z=w.cx.parser;for(var v=0;v<z.specialized.length;v++)if(z.specialized[v]==n.value){var x=z.specializers[v](p.read(n.start,n.end),w);if(0<=x&&w.cx.dialect.allows(x>>1)){0==(x&1)?n.value=x>>1:n.extended=x>>1;break}}}else w.pos==p.length?n.accept(w.cx.parser.eofTerm,w.pos):n.accept(0,w.pos+1)};A.prototype.putAction=function(n,z,w,p){for(var v=
0;v<p;v+=3)if(this.actions[v]==n)return p;this.actions[p++]=n;this.actions[p++]=z;this.actions[p++]=w;return p};A.prototype.addActions=function(n,z,w,p){var v=n.state;n=n.cx.parser;for(var x=n.data,N=0;2>N;N++)for(var T=n.stateSlot(v,N?2:1),Q;65535!=(Q=x[T]);T+=3)if(Q==z||0==Q&&0==p)p=this.putAction(x[T+1]|x[T+2]<<16,z,w,p);return p};return A}(),t=function(){return function(A,n,z,w,p,v,x){void 0===v&&(v=null);void 0===x&&(x=-1);this.parser=A;this.maxBufferLength=n;this.input=z;this.topTerm=w;this.dialect=
p;this.parent=v;this.wrapType=x;this.reused=[];this.tokens=new u(A)}}(),B=function(){function A(n,z,w){void 0===w&&(w={});this.tokenCount=this.recovering=this.pos=0;var p=w.cache;p=void 0===p?void 0:p;var v=w.strict;v=void 0===v?!1:v;var x=w.bufferLength;x=void 0===x?Ca.DefaultBufferLength:x;var N=w.top;N=void 0===N?void 0:N;w=w.dialect;var T=N?n.topRules[N]:n.defaultTop;if(!T)throw new RangeError("Invalid top rule name "+N);this.stacks=[Oa.start(new t(n,x,z,T[1],n.parseDialect(w)),T[0])];this.strict=
v;this.cache=p?new ca(p):null}A.prototype.putStack=function(n){this.stacks.push(n);if(0>this.pos||n.pos<this.pos)this.pos=n.pos};A.prototype.advance=function(){var n=this.stacks,z=this.pos;this.stacks=[];this.pos=-1;for(var w=null,p=null,v=0;v<n.length;v++)for(var x=n[v];;){if(x.pos>z)this.putStack(x);else{var N=this.advanceStack(x,n);if(N){x=N;continue}else w||(w=[],p=[]),w.push(x),x=x.cx.tokens.mainToken,p.push(x.value,x.end)}break}if(!this.stacks.length){if(v=w&&Va(w))return v.toTree();if(this.strict)throw new SyntaxError("No parse at "+
z);this.recovering||(this.recovering=5)}if(this.recovering&&w&&(v=this.runRecovery(w,p)))return v.forceAll().toTree();if(this.recovering)v=1==this.recovering?1:3*this.recovering,this.stacks.length>v&&(this.stacks.sort(function(T,Q){return T.recovered-Q.recovered}),this.stacks.length=v),this.stacks.some(function(T){return T.reducePos>z})&&this.recovering--;else if(1<this.stacks.length&&200<this.stacks[0].buffer.length){w=1E9;p=-1;for(v=0;v<this.stacks.length;v++)x=this.stacks[v],x.buffer.length<w&&
(w=x.buffer.length,p=v);200<w&&this.stacks.splice(p,1)}this.tokenCount++;return null};A.prototype.advanceStack=function(n,z){var w=n.pos,p=n.cx,v=p.input,x=p.parser;p=la?n+" -\x3e ":"";if(this.cache)for(var N=this.cache.nodeAt(w);N;){var T=x.group.types[N.type.id]==N.type?x.getGoto(n.state,N.type.id):-1;if(-1<T)return n.useNode(N,T),la&&console.log(p+n+(" (via reuse of "+x.getName(N.type.id)+")")),n;if(!(N instanceof Ca.Tree)||0==N.children.length||0<N.positions[0])break;N=N.children[0];if(!(N instanceof
Ca.Tree))break}N=x.startNested(n.state);a:if(-1<N){T=x.nested[N];var Q=T.grammar;N=T.end;T=T.placeholder;var I=void 0,M=null,P=void 0,Z=void 0,ja=void 0;if("function"==typeof Q){ja=Q(v,n);if(ja.stay)break a;M=ja.parseNode;z=ja.parser;P=ja.top;Z=ja.dialect;I=ja.filterEnd;ja=ja.wrapType}else z=Q;N=this.scanForNestEnd(n,N,I);w=n.cx.input.clip(N);if(M||!z)return p=M?M(w,n.pos):Ca.Tree.empty,p.length!=N-n.pos&&(p=new Ca.Tree(p.type,p.children,p.positions,N-n.pos)),null!=ja&&(p=new Ca.Tree(x.group.types[ja],
[p],[0],p.length)),n.useNode(p,x.getGoto(n.state,T,!0)),n;x=P?z.topRules[P]:z.defaultTop;n=Oa.start(new t(z,n.cx.maxBufferLength,w,x[1],z.parseDialect(Z),n,ja),x[0],n.pos);la&&console.log(p+n+" (nested)");return n}N=x.stateSlot(n.state,4);if(0<N)return n.reduce(N),la&&console.log(p+n+(" (via always-reduce "+x.getName(N&65535)+")")),n;T=n.cx.tokens.getActions(n,v);for(Z=0;Z<T.length;){ja=T[Z++];M=T[Z++];N=T[Z++];I=(P=Z==T.length||!z)?n:n.split();I.apply(ja,M,N);la&&console.log(p+I+(" (via "+(0==(ja&
65536)?"shift":"reduce of "+x.getName(ja&65535))+" for "+x.getName(M)+" @ "+w+(I==n?"":", split")+")"));if(P)return I;I.pos>w?this.putStack(I):z.push(I)}return n.cx.parent&&n.pos==v.length?Ba(n):null};A.prototype.advanceFully=function(n){for(var z=n.pos;;){var w=this.advanceStack(n,null);if(!w)return n;if(w.pos>z)return this.putStack(w),null;n=w}};A.prototype.runRecovery=function(n,z){for(var w=null,p=0;p<n.length;p++){for(var v=n[p],x=z[p<<1],N=z[(p<<1)+1],T=la?v+" -\x3e ":"",Q=v.split(),I=T,M=0;Q.forceReduce()&&
10>M;M++){la&&console.log(I+Q+" (via force-reduce)");var P=this.advanceFully(Q);if(!P)break;Q=P;la&&(I=P+" -\x3e ")}Q=0;for(I=v.recoverByInsert(x);Q<I.length;Q++)M=I[Q],la&&console.log(T+M+" (via recover-insert)"),this.advanceFully(M);v.cx.input.length>v.pos?(N==v.pos&&(N++,x=0),v.recoverByDelete(x,N),la&&console.log(T+v+(" (via recover-delete "+v.cx.parser.getName(x)+")")),this.putStack(v)):v.cx.parent||w&&!(w.recovered>v.recovered)||(w=v)}return w};A.prototype.forceFinish=function(){return this.stacks[0].split().forceAll().toTree()};
Object.defineProperty(A.prototype,"badness",{get:function(){return 2*this.stacks[0].recovered/this.tokenCount},enumerable:!0,configurable:!0});A.prototype.scanForNestEnd=function(n,z,w){for(var p=n.cx.input,v=n.pos;v<p.length;v++)if(J.start=v,J.value=-1,z.token(p,J,n),-1<J.value&&(!w||w(p.read(v,J.end))))return v;return p.length};return A}(),L=function(){function A(n,z,w){this.source=n;this.flags=z;this.disabled=w}A.prototype.allows=function(n){return!this.disabled||0==this.disabled[n]};return A}();
aa=function(){function A(n,z,w,p,v,x,N,T,Q,I,M,P,Z,ja){void 0===ja&&(ja=null);this.states=n;this.data=z;this.goto=w;this.group=p;this.maxTerm=v;this.minRepeatTerm=x;this.tokenizers=N;this.topRules=T;this.nested=Q;this.dialects=I;this.specialized=M;this.specializers=P;this.tokenPrecTable=Z;this.termNames=ja;this.nextStateCache=[];this.cachedDialect=null;this.maxNode=this.group.types.length-1;this.maxRepeatWrap=this.group.types.length+(this.group.types.length-x)-1;n=0;for(z=this.states.length/6;n<z;n++)this.nextStateCache[n]=
null}A.prototype.parse=function(n,z){"string"==typeof n&&(n=new Qa(n));for(n=new B(this,n,z);;)if(z=n.advance())return z};A.prototype.startParse=function(n,z){"string"==typeof n&&(n=new Qa(n));return new B(this,n,z)};A.prototype.getGoto=function(n,z,w){void 0===w&&(w=!1);var p=this.goto;if(z>=p[0])return-1;for(z=p[z+1];;){var v=p[z++],x=v&1,N=p[z++];if(x&&w)return N;for(v=z+(v>>1);z<v;z++)if(p[z]==n)return N;if(x)return-1}};A.prototype.hasAction=function(n,z){for(var w=this.data,p=0;2>p;p++)for(var v=
this.stateSlot(n,p?2:1),x;65535!=(x=w[v]);v+=3)if(x==z||0==x)return w[v+1]|w[v+2]<<16;return 0};A.prototype.stateSlot=function(n,z){return this.states[6*n+z]};A.prototype.stateFlag=function(n,z){return 0<(this.stateSlot(n,0)&z)};A.prototype.startNested=function(n){n=this.stateSlot(n,0);return n&4?n>>10:-1};A.prototype.validAction=function(n,z){if(z==this.stateSlot(n,4))return!0;for(n=this.stateSlot(n,1);;n+=3){if(65535==this.data[n])return!1;if(z==(this.data[n+1]|this.data[n+2]<<16))return!0}};A.prototype.nextStates=
function(n){var z=this.nextStateCache[n];if(z)return z;z=[];for(var w=this.stateSlot(n,1);65535!=this.data[w];w+=3)0==(this.data[w+2]&1)&&0>z.indexOf(this.data[w+1])&&z.push(this.data[w+1]);w=this.goto;for(var p=w[0],v=0;v<p;v++)for(var x=w[v+1];;){for(var N=w[x++],T=w[x++],Q=x+(N>>1);x<Q;x++)w[x]==n&&0>z.indexOf(T)&&z.push(T);if(N&1)break}return this.nextStateCache[n]=z};A.prototype.overrides=function(n,z){z=Ea(this.data,this.tokenPrecTable,z);return 0>z||Ea(this.data,this.tokenPrecTable,n)<z};A.prototype.withNested=
function(n){return new A(this.states,this.data,this.goto,this.group,this.maxTerm,this.minRepeatTerm,this.tokenizers,this.topRules,this.nested.map(function(z){return Object.prototype.hasOwnProperty.call(n,z.name)?{name:z.name,grammar:n[z.name],end:z.end,placeholder:z.placeholder}:z}),this.dialects,this.specialized,this.specializers,this.tokenPrecTable,this.termNames)};A.prototype.withProps=function(){for(var n,z=[],w=0;w<arguments.length;w++)z[w]=arguments[w];return new A(this.states,this.data,this.goto,
(n=this.group).extend.apply(n,z),this.maxTerm,this.minRepeatTerm,this.tokenizers,this.topRules,this.nested,this.dialects,this.specialized,this.specializers,this.tokenPrecTable,this.termNames)};A.prototype.getName=function(n){return this.termNames?this.termNames[n]:String(n<=this.maxNode&&this.group.types[n].name||n)};Object.defineProperty(A.prototype,"eofTerm",{get:function(){return this.maxRepeatWrap+1},enumerable:!0,configurable:!0});Object.defineProperty(A.prototype,"hasNested",{get:function(){return 0<
this.nested.length},enumerable:!0,configurable:!0});Object.defineProperty(A.prototype,"defaultTop",{get:function(){return this.topRules[Object.keys(this.topRules)[0]]},enumerable:!0,configurable:!0});Object.defineProperty(A.prototype,"topType",{get:function(){return this.group.types[this.defaultTop[1]]},enumerable:!0,configurable:!0});A.prototype.parseDialect=function(n){if(this.cachedDialect&&this.cachedDialect.source==n)return this.cachedDialect;var z=Object.keys(this.dialects),w=z.map(function(){return!1});
if(n)for(var p=0,v=n.split(" ");p<v.length;p++){var x=z.indexOf(v[p]);0<=x&&(w[x]=!0)}p=null;for(v=0;v<z.length;v++)if(!w[v]){var N=this.dialects[z[v]];for(x=void 0;65535!=(x=this.data[N++]);)(p||(p=new Uint8Array(this.maxTerm+1)))[x]=1}return this.cachedDialect=new L(n,w,p)};A.deserialize=function(n){function z(P,Z,ja){N[P]==O&&(N[P]=Object.create(null));Z.set(N[P],Z.deserialize(String(ja)))}for(var w=Na(n.tokenData),p=n.nodeNames.split(" "),v=p.length,x=0;x<n.repeatNodeCount;x++)p.push("");var N=
[];for(x=0;x<p.length;x++)N.push(O);z(0,Ca.NodeProp.error,"");if(n.nodeProps)for(var T=0,Q=n.nodeProps;T<Q.length;T++){var I=Q[T],M=I[0];for(x=1;x<I.length;x+=2)z(I[x],M,I[x+1])}p=new Ca.NodeGroup(p.map(function(P,Z){return new Ca.NodeType(P,N[Z],Z)}));T=new Uint16Array(n.specialized?n.specialized.length:0);Q=[];if(n.specialized)for(x=0;x<n.specialized.length;x++)T[x]=n.specialized[x].term,Q[x]=n.specialized[x].get;return new A(Na(n.states,Uint32Array),Na(n.stateData),Na(n.goto),p,n.maxTerm,v,n.tokenizers.map(function(P){return"number"==
typeof P?new Ja(w,P):P}),n.topRules,(n.nested||[]).map(function(P){var Z=P[3];return{name:P[0],grammar:P[1],end:new Ja(Na(P[2]),0),placeholder:Z}}),n.dialects||{},T,Q,n.tokenPrec,n.termNames)};return A}();aa.TokenGroup=Ja;var O=Object.create(null);D.NodeGroup=Ca.NodeGroup;D.NodeProp=Ca.NodeProp;D.NodeType=Ca.NodeType;D.Subtree=Ca.Subtree;D.Tree=Ca.Tree;D.ExternalTokenizer=ua;D.ParseContext=B;D.Parser=aa;D.Stack=Oa;D.Token=va};
shadow$provide[14]=function(aa,va,Pa,D){function Aa(b,e){for(var g=null,l=0;l<b.length;l++){var q=b[l].walk(e);q==b[l]||g||(g=b.slice(0,l));g&&g.push(q)}return g||b}function Na(b,e){return b.constructor==e.constructor&&b.eq(e)}function Ea(b,e){return b.length==e.length&&b.every(function(g,l){return Na(g,e[l])})}function Va(b,e){return b.prec<e.prec?"("+b.toString()+")":b.toString()}function Ba(b,e,g){if(b.length!=e.length)return b.length-e.length;for(var l=0;l<b.length;l++){var q=g(b[l],e[l]);if(q)return q}return 0}
function Ca(b,e){if(0==b.length||b==e)return e;if(0==e.length)return b;var g=b.slice();e=$jscomp.makeIterator(e);for(var l=e.next();!l.done;l=e.next())l=l.value,b.includes(l)||g.push(l);return g.sort()}function Ga(b){return 65534<b?"âˆž":55296<=b&&57343>b?"\\u{"+b.toString(16)+"}":String.fromCharCode(b)}function Oa(b){for(var e="",g=0;g<b.length;g++)e+=String.fromCharCode(b[g].from);return e}function ua(b){var e="";b=$jscomp.makeIterator(b);for(var g=b.next();!g.done;g=b.next())e+=(e.length?"-":"")+
g.value.id;return e}function Fa(b){for(var e=[],g=[],l=$jscomp.makeIterator(b),q=l.next();!q.done;q=l.next()){var r=q.value;e.includes(r.from)||e.push(r.from);e.includes(r.to)||e.push(r.to)}e.sort(function(na,pa){return na-pa});for(l=1;l<e.length;l++){r=e[l-1];var E=e[l],R=[],ha=$jscomp.makeIterator(b);for(q=ha.next();!q.done;q=ha.next())if(q=q.value,q.to>r&&q.from<E){q=$jscomp.makeIterator(q.target.closure());for(var da=q.next();!da.done;da=q.next())da=da.value,R.includes(da)||R.push(da)}R.length&&
g.push(new Ab(r,E,R))}return g}function ka(b,e){var g=e?e.start:b.start,l=b.eat("at","export");e=e||O(b);var q=Qa(b),r=[];if(b.eat("\x3c"))for(;!b.eat("\x3e");)r.length&&b.expect(","),r.push(O(b));b=la(b);return new Ua(g,e,l,q,r,b)}function Qa(b){if("["!=b.type)return tc;var e=[];for(b.expect("[");!b.eat("]");)e.length&&b.expect(","),e.push(Ja(b));return e}function Ja(b){var e=b.start,g=b.expect("id"),l=[];if(b.eat("\x3d"))for(;;)if("string"==b.type||"id"==b.type)l.push(new bb(b.start,b.value,null)),
b.next();else if(b.eat("."))l.push(new bb(b.start,".",null));else if(b.eat("{"))l.push(new bb(b.start,null,b.expect("id"))),b.expect("}");else break;return new jb(e,g,l)}function la(b){b.expect("{");var e=L(b);b.expect("}");return e}function ca(b){var e=b.start;if(b.eat("("))return e=L(b),b.expect(")"),e;if("string"==b.type){var g=b.value;b.next();return 0==g.length?new ia(e,tc,[tc,tc]):new Ma(e,g)}if(b.eat("id","_"))return new ib(e);if("set"==b.type){g="!"==b.string[b.start];for(var l=x(b.value.replace(/\\.|-|"/g,
function(ha){return"-"==ha?"ï·š":'"'==ha?'\\"':ha})),q=[],r=0;r<l.length;){var E=l.codePointAt(r);r+=65535<E?2:1;if(r<l.length-1&&"ï·š"==l[r]){var R=l.codePointAt(r+1);r+=65535<R?3:2;R<E&&b.raise("Invalid character range",b.start);J(b,q,E,R+1)}else J(b,q,E,E+1)}b.next();return new gb(e,q.sort(function(ha,da){return ha[0]-da[0]}),g)}if("at"!=b.type||"specialize"!=b.value&&"extend"!=b.value){g=O(b);if("["==b.type||"{"==b.type)return g=ka(b,g),g.params.length&&b.raise("Inline rules can't have parameters",
g.start),new X(e,g);l=null;b.eat(".")&&(l=g,g=O(b));return new Fb(e,l,g,U(b))}e=b.start;g=b.value;b.next();l=Qa(b);b.expect("\x3c");q=L(b);b.expect(",");r=L(b);b.expect("\x3e");return new G(e,g,l,q,r)}function U(b){var e=[];if(b.eat("\x3c"))for(;!b.eat("\x3e");)e.length&&b.expect(","),e.push(L(b));return e}function J(b,e,g,l){e.every(function(q){q=$jscomp.makeIterator(q);var r=q.next().value;return q.next().value<=g||r>=l})||b.raise("Overlapping character range",b.start);e.push([g,l])}function u(b){for(var e=
b.start,g=ca(b);;){var l=b.type;if(b.eat("*")||b.eat("?")||b.eat("+"))g=new ra(e,g,l);else return g}}function t(b){return"}"==b.type||")"==b.type||"|"==b.type||"/"==b.type||"/\\"==b.type||"{"==b.type||","==b.type||"\x3e"==b.type}function B(b){var e=b.start,g=[],l=[tc];do{for(;;){var q=b.start,r=void 0;if(b.eat("~"))r="ambig";else if(b.eat("!"))r="prec";else break;l[l.length-1]=l[l.length-1].concat(new qa(q,O(b),r))}if(t(b))break;g.push(u(b));l.push(tc)}while(!t(b));return 1==g.length&&l.every(function(E){return 0==
E.length})?g[0]:new ia(e,g,l)}function L(b){var e=b.start,g=B(b);if(!b.eat("|"))return g;g=[g];do g.push(B(b));while(b.eat("|"));return new oa(e,g)}function O(b){"id"!=b.type&&b.unexpected();var e=b.start,g=b.value;b.next();return new Eb(e,g)}function A(b){var e=b.start;b.next();b.expect("{");for(var g=[];!b.eat("}");){g.length&&b.expect(",");var l=ca(b);l instanceof Ma||l instanceof Fb?g.push(l):b.raise("Invalid expression in token precedences",l.start)}return new db(e,g)}function n(b){var e=[];
for(b.expect("{");!b.eat("}");){e.length&&b.eat(",");var g=O(b),l=Qa(b);e.push({id:g,props:l})}return e}function z(b,e){var g=O(b);b.expect("id","from");var l=b.expect("string");return new Rb(e,g,l,n(b))}function w(b,e,g){b.expect("{");var l=L(b);b.expect("}");var q=O(b);b.expect("id","from");var r=b.expect("string");return new oc(g,e,l,q,r,n(b))}function p(b,e){var g=O(b),l=b.eat("id","as")?O(b):g,q=null;b.eat("id","from")?q=b.expect("string"):b.expect("id","empty");return new Da(e,l,g,q)}function v(b,
e){var g=O(b),l=b.eat("id","as")?O(b):g;b.expect("id","from");b=b.expect("string");return new Sb(e,l,g,b)}function x(b){for(var e=/\\(?:u\{([\da-f]+)\}|u([\da-f]{4})|x([\da-f]{2})|([ntbrf0])|(.))|./yig,g="",l;l=e.exec(b);){var q=$jscomp.makeIterator(l);l=q.next().value;var r=q.next().value,E=q.next().value,R=q.next().value,ha=q.next().value;q=q.next().value;g=r||E||R?g+String.fromCodePoint(parseInt(r||E||R,16)):ha?g+("n"==ha?"\n":"t"==ha?"\t":"0"==ha?"\x00":"r"==ha?"\r":"f"==ha?"\f":"\b"):q?g+q:g+
l}return g}function N(b,e){return(b<<5)+b+e}function T(b,e){return b<e?-1:b>e?1:0}function Q(b,e,g,l){var q=[];for(e+=1;e<b.parts.length;e++){var r=b.parts[e],E=!1;if(r.terminal)ja(r,q);else{r=$jscomp.makeIterator(l[r.name]);for(var R=r.next();!R.done;R=r.next())R=R.value,null==R?E=!0:ja(R,q)}if(!E)return q}b=$jscomp.makeIterator(g);for(g=b.next();!g.done;g=b.next())ja(g.value,q);return q}function I(b,e){if(b.length!=e.length)return!1;for(var g=0;g<b.length;g++)if(!b[g].eq(e[g]))return!1;return!0}
function M(b,e){if(b.length!=e.length)return!1;for(var g=0;g<b.length;g++)if(b[g]!=e[g])return!1;return!0}function P(b){var e=5381;b=$jscomp.makeIterator(b);for(var g=b.next();!g.done;g=b.next())e=N(e,g.value.hash);return e}function Z(b,e){function g(ha,da,na,pa,sa){var La={};ha=$jscomp.makeIterator(ha.rules);for(var Ia=ha.next();!Ia.done;La={$jscomp$loop$prop$rule$194:La.$jscomp$loop$prop$rule$194},Ia=ha.next()){La.$jscomp$loop$prop$rule$194=Ia.value;if(Ia=l.find(function(kb){return function(qb){return qb.rule==
kb.$jscomp$loop$prop$rule$194}}(La))){if(Ia.skipAhead!=pa)throw new Xb("Inconsistent skip sets after "+Ia.prev.trail());Ia.ambigAhead=Ca(Ia.ambigAhead,na)}else Ia=b.findIndex(function(kb){return function(qb){return 0==qb.pos&&qb.rule==kb.$jscomp$loop$prop$rule$194}}(La)),Ia=new Oc(La.$jscomp$loop$prop$rule$194,0>Ia?[]:b[Ia].ahead.slice(),Ia,na,pa,sa),l.push(Ia);for(var Ya=$jscomp.makeIterator(da),Za=Ya.next();!Za.done;Za=Ya.next())Za=Za.value,Ia.ahead.includes(Za)||(Ia.ahead.push(Za),Ia.rule.parts.length&&
!Ia.rule.parts[0].terminal&&ja(Ia,q))}}for(var l=[],q=[],r=$jscomp.makeIterator(b),E=r.next();!E.done;E=r.next()){E=E.value;var R=E.next;R&&!R.terminal&&g(R,Q(E.rule,E.pos,E.ahead,e),E.conflicts(E.pos+1).ambigGroups,E.pos==E.rule.parts.length-1?E.skipAhead:E.rule.skip,E.prev)}for(;q.length;)r=q.pop(),g(r.rule.parts[0],Q(r.rule,0,r.ahead,e),Ca(r.rule.conflicts[1].ambigGroups,1==r.rule.parts.length?r.ambigAhead:Mc),r.skipAhead,r.prev);e=b.slice();r=$jscomp.makeIterator(l);for(E=r.next();!E.done;E=r.next())E=
E.value,R=new Vb(E.rule,0,E.ahead.sort(function(ha,da){return ha.hash-da.hash}),E.ambigAhead,E.skipAhead,E.prev),-1<E.origIndex?e[E.origIndex]=R:e.push(R);return e.sort(function(ha,da){return ha.cmp(da)})}function ja(b,e){e.includes(b)||e.push(b)}function Ha(b){for(var e={},g=$jscomp.makeIterator(b.terms),l=g.next();!l.done;l=g.next()){var q=l.value;q.terminal||(e[q.name]=[])}for(;;){g=!1;q=$jscomp.makeIterator(b.terms);for(var r=q.next();!r.done;r=q.next())if(r=r.value,!r.terminal)for(var E=$jscomp.makeIterator(r.rules),
R=E.next();!R.done;R=E.next()){var ha=e[r.name],da=!1,na=ha.length;R=$jscomp.makeIterator(R.value.parts);for(l=R.next();!l.done;l=R.next()){l=l.value;da=!0;if(l.terminal)ja(l,ha);else{var pa=$jscomp.makeIterator(e[l.name]);for(l=pa.next();!l.done;l=pa.next())l=l.value,null==l?da=!1:ja(l,ha)}if(da)break}da||ja(null,ha);ha.length>na&&(g=!0)}if(!g)return e}}function Ka(b,e,g){function l(Ia,Ya){if(0==Ia.length)return null;for(var Za=P(Ia),kb=r[Za],qb,hb=$jscomp.makeIterator(Ia),pb=hb.next();!pb.done;pb=
hb.next())if(pb=pb.value,!qb)qb=pb.skip;else if(qb!=pb.skip)throw new Xb("Inconsistent skip sets after "+pb.trail());if(kb)for(kb=$jscomp.makeIterator(kb),hb=kb.next();!hb.done;hb=kb.next())if(hb=hb.value,I(Ia,hb.set)){if(hb.state.skip!=qb)throw new Xb("Inconsistent skip sets after "+hb.set[0].trail());return hb.state}kb=Z(Ia,g);hb=P(kb);var yb;if(!Ya){pb=$jscomp.makeIterator(q);for(var Tb=pb.next();!Tb.done;Tb=pb.next())Tb=Tb.value,Tb.hash==hb&&Tb.hasSet(kb)&&(yb=Tb)}yb||(yb=new ic(q.length,kb,0,
qb,hb,Ya),q.push(yb));(r[Za]||(r[Za]=[])).push(new fd(Ia,yb));return yb}var q=[],r={},E={};e=$jscomp.makeIterator(e);for(var R=e.next();!R.done;E={$jscomp$loop$prop$startSkip$196:E.$jscomp$loop$prop$startSkip$196},R=e.next())R=R.value,E.$jscomp$loop$prop$startSkip$196=R.rules.length?R.rules[0].skip:b.names["%noskip"],l(R.rules.map(function(Ia){return function(Ya){return new Vb(Ya,0,[b.eof],Mc,Ia.$jscomp$loop$prop$startSkip$196,null)}}(E)),R);E={};for(e=0;e<q.length;E={$jscomp$loop$prop$state$198:E.$jscomp$loop$prop$state$198},
e++){E.$jscomp$loop$prop$state$198=q[e];var ha=[],da=[];R=[];for(var na=$jscomp.makeIterator(E.$jscomp$loop$prop$state$198.set),pa=na.next();!pa.done;pa=na.next())if(pa=pa.value,pa.pos==pa.rule.parts.length)pa.rule.name.top||R.push(pa);else{var sa=pa.rule.parts[pa.pos],La=ha.indexOf(sa);0>La?(ha.push(sa),da.push([pa.advance()])):da[La].push(pa.advance())}for(na=0;na<ha.length;na++)pa=ha[na],pa.terminal?(sa=Ra(da[na]),(La=l(sa))&&E.$jscomp$loop$prop$state$198.addAction(new cc(pa,La),sa.map(function(Ia){return Ia.reverse()}))):
(sa=l(da[na]))&&E.$jscomp$loop$prop$state$198.goto.push(new cc(pa,sa));ha=!1;R=$jscomp.makeIterator(R);for(pa=R.next();!pa.done;pa=R.next())for(da=pa.value,na=$jscomp.makeIterator(da.ahead),pa=na.next();!pa.done;pa=na.next())sa=E.$jscomp$loop$prop$state$198.actions.length,E.$jscomp$loop$prop$state$198.addAction(new gc(pa.value,da.rule),[da]),E.$jscomp$loop$prop$state$198.actions.length==sa&&(ha=!0);if(ha)for(R=0;R<E.$jscomp$loop$prop$state$198.goto.length;R++)g[E.$jscomp$loop$prop$state$198.goto[R].term.name].some(function(Ia){return function(Ya){return Ia.$jscomp$loop$prop$state$198.actions.some(function(Za){return Za.term==
Ya&&Za instanceof cc})}}(E))||E.$jscomp$loop$prop$state$198.goto.splice(R--,1)}E=$jscomp.makeIterator(q);for(e=E.next();!e.done;e=E.next())e.value.finish();return q}function Ra(b){for(var e=null,g=1,l=$jscomp.makeIterator(b),q=l.next();!q.done;q=l.next()){q=q.value;var r=q.rule.conflicts[q.pos-1].cut;if(!(r<g)){if(!e||r>g)g=r,e=[];e.push(q)}}return e||b}function $a(b,e,g,l){if(g.defaultReduce)return!0;for(var q=0;q<g.actions.length;q++)if(l.addActionInner(g.actions[q].map(b,e),g.actionPositions[q]))return!1;
q={};g=$jscomp.makeIterator(g.goto);for(var r=g.next();!r.done;q={$jscomp$loop$prop$goto$200:q.$jscomp$loop$prop$goto$200},r=g.next()){q.$jscomp$loop$prop$goto$200=r.value;r=l.goto.find(function(R){return function(ha){return ha.term==R.$jscomp$loop$prop$goto$200.term}}(q));var E=q.$jscomp$loop$prop$goto$200.map(b,e);if(!r)l.goto.push(E);else if(r.target.id!=E.target.id)return!1}return!0}function eb(b,e,g,l,q){for(var r=0;r<b.length;r++)if(b[r]==e)for(var E=0;E<b.length;E++)if(E!=r&&b[E]==e){var R=
new ic(0,g[r].set,0,g[r].skip,0);$a(b,l,g[r],R);$a(b,l,g[E],R)||q.push(r,E)}}function nb(b,e,g,l){for(var q=0;q<l.length;q++)if(l[q]==b&&g[l[q+(q%2?-1:1)]]==e)return!0;return!1}function Qb(b){for(var e=[],g={};;g={$jscomp$loop$prop$mapping$205:g.$jscomp$loop$prop$mapping$205}){var l=[];g.$jscomp$loop$prop$mapping$205=[];for(var q={$jscomp$loop$prop$i$203:0};q.$jscomp$loop$prop$i$203<b.length;q={$jscomp$loop$prop$state$202:q.$jscomp$loop$prop$state$202,$jscomp$loop$prop$i$203:q.$jscomp$loop$prop$i$203},
q.$jscomp$loop$prop$i$203++){q.$jscomp$loop$prop$state$202=b[q.$jscomp$loop$prop$i$203];var r=q.$jscomp$loop$prop$state$202.set,E=l.findIndex(function(R,ha){return function(da,na){return R.$jscomp$loop$prop$state$202.set.length==da.set.length&&R.$jscomp$loop$prop$state$202.set.every(function(pa,sa){return pa.eqSimple(da.set[sa])})&&da.tokenGroup==R.$jscomp$loop$prop$state$202.tokenGroup&&da.skip==R.$jscomp$loop$prop$state$202.skip&&!nb(R.$jscomp$loop$prop$i$203,na,ha.$jscomp$loop$prop$mapping$205,
e)}}(q,g));0>E?(E=l.length,r=new ic(E,r,q.$jscomp$loop$prop$state$202.flags,q.$jscomp$loop$prop$state$202.skip,q.$jscomp$loop$prop$state$202.hash,q.$jscomp$loop$prop$state$202.topRule),r.tokenGroup=q.$jscomp$loop$prop$state$202.tokenGroup,r.defaultReduce=q.$jscomp$loop$prop$state$202.defaultReduce,l.push(r)):l[E].flags|=q.$jscomp$loop$prop$state$202.flags;g.$jscomp$loop$prop$mapping$205.push(E)}q=[];for(E=0;E<b.length;E++)r=g.$jscomp$loop$prop$mapping$205[E],q.includes(r)||$a(g.$jscomp$loop$prop$mapping$205,
l,b[E],l[g.$jscomp$loop$prop$mapping$205[E]])||(q.push(r),eb(g.$jscomp$loop$prop$mapping$205,r,b,l,e));if(!q.length)return l}}function Nb(b){for(var e={};;e={$jscomp$loop$prop$mapping$213:e.$jscomp$loop$prop$mapping$213,$jscomp$loop$prop$newStates$214:e.$jscomp$loop$prop$newStates$214}){e.$jscomp$loop$prop$mapping$213=[];var g=!1;e.$jscomp$loop$prop$newStates$214=[];for(var l={},q=0;q<b.length;l={$jscomp$loop$prop$state$207:l.$jscomp$loop$prop$state$207},q++){l.$jscomp$loop$prop$state$207=b[q];var r=
e.$jscomp$loop$prop$newStates$214.findIndex(function(na){return function(pa){return na.$jscomp$loop$prop$state$207.eq(pa)}}(l));if(0>r)e.$jscomp$loop$prop$mapping$213[q]=e.$jscomp$loop$prop$newStates$214.length,e.$jscomp$loop$prop$newStates$214.push(l.$jscomp$loop$prop$state$207);else{e.$jscomp$loop$prop$mapping$213[q]=r;g=!0;r=e.$jscomp$loop$prop$newStates$214[r];for(var E=null,R={},ha=$jscomp.makeIterator(l.$jscomp$loop$prop$state$207.set),da=ha.next();!da.done;R={$jscomp$loop$prop$pos$209:R.$jscomp$loop$prop$pos$209},
da=ha.next())R.$jscomp$loop$prop$pos$209=da.value,r.set.some(function(na){return function(pa){return pa.eqSimple(na.$jscomp$loop$prop$pos$209)}}(R))||(E||(E=[])).push(R.$jscomp$loop$prop$pos$209);E&&(r.set=E.concat(r.set).sort(function(na,pa){return na.cmp(pa)}))}}if(!g)return b;b=$jscomp.makeIterator(e.$jscomp$loop$prop$newStates$214);for(g=b.next();!g.done;g=b.next())g=g.value,g.defaultReduce||(g.actions=g.actions.map(function(na){return function(pa){return pa.map(na.$jscomp$loop$prop$mapping$213,
na.$jscomp$loop$prop$newStates$214)}}(e)),g.goto=g.goto.map(function(na){return function(pa){return pa.map(na.$jscomp$loop$prop$mapping$213,na.$jscomp$loop$prop$newStates$214)}}(e)));for(b=0;b<e.$jscomp$loop$prop$newStates$214.length;b++)e.$jscomp$loop$prop$newStates$214[b].id=b;b=e.$jscomp$loop$prop$newStates$214}}function Ib(b,e){if(b>(void 0===e?65535:e))throw Error("Trying to encode a number that's too big: "+b);if(65535==b)return String.fromCharCode(126);e="";for(var g=46;;g=0){var l=b%46;b-=
l;g=l+g+32;34<=g&&g++;92<=g&&g++;e=String.fromCharCode(g)+e;if(0==b)break;b/=46}return e}function Jb(b,e){e=void 0===e?65535:e;for(var g='"'+Ib(b.length,4294967295),l=0;l<b.length;l++)g+=Ib(b[l],e);return g+'"'}function ob(b){for(var e=[],g=0;g<arguments.length;++g)e[g-0]=arguments[g];return new Yb(e,null)}function Kb(b,e,g){b.props==Pb&&(b.props=Object.create(null));var l=b.props[e];if(!l||0>l.split(" ").indexOf(g))b.props[e]=l?l+" "+g:g}function wb(b){var e=Object.create(null);b=$jscomp.makeIterator(b);
for(var g=b.next();!g.done;g=b.next())g=g.value,e[g.value]=g.term.id<<1|("specialize"==g.type?0:1);return e}function Db(b,e,g){g=void 0===g?b.parts.length:g;return b.name.id|65536|(b.isRepeatLeaf&&g==b.parts.length?131072:0)|(b.name==e?262144:0)|g<<19}function Bb(b,e){return b instanceof cc&&!!b.target.defaultReduce&&b.target.defaultReduce.name==e}function kc(b){var e={},g=0;b=$jscomp.makeIterator(b);for(var l=b.next();!l.done;l=b.next()){l=l.value;for(var q=$jscomp.makeIterator(l.goto),r=q.next();!r.done;r=
q.next()){r=r.value;g=Math.max(r.term.id,g);var E=e[r.term.id]||(e[r.term.id]={});(E[r.target.id]||(E[r.target.id]=[])).push(l.id)}}b=new Ac;l=[];q=g+2;for(r=0;r<=g;r++)if(E=e[r]){for(var R=[],ha=Object.keys(E),da=$jscomp.makeIterator(ha),na=da.next();!na.done;na=da.next()){na=na.value;var pa=E[na];R.push((na==ha[ha.length-1]?1:0)+(pa.length<<1));R.push(+na);na=$jscomp.makeIterator(pa);for(pa=na.next();!pa.done;pa=na.next())R.push(pa.value)}l.push(b.storeArray(R)+q)}else l.push(1);if(l.some(function(sa){return 65535<
sa}))throw new Xb("Goto table too large");return Uint16Array.from([g+1].concat($jscomp.arrayFromIterable(l),$jscomp.arrayFromIterable(b.data)))}function Ob(b,e){b.includes(e)||b.push(e)}function hc(b){var e=Object.create(null);b=$jscomp.makeIterator(b);for(var g=b.next();!g.done;g=b.next()){var l=g.value;g=1<<l.id;l=$jscomp.makeIterator(l.tokens);for(var q=l.next();!q.done;q=l.next())q=q.value,e[q.id]=(e[q.id]||0)|g}return e}function lc(b,e){function g(E){if(E instanceof ia){var R=E.exprs.indexOf(e);
-1<R&&R<E.exprs.length-1&&(l=E.exprs[R+1])}return E}for(var l,q=$jscomp.makeIterator(b.rules),r=q.next();!r.done;r=q.next())r.value.expr.walk(g);b=$jscomp.makeIterator(b.topRules);for(q=b.next();!q.done;q=b.next())q.value.expr.walk(g);return l}function Lb(b,e,g){function l(r,E){return r.actions.some(function(R){return R.term==E})||r.skip!=e.noSkip&&g[e.skipRules.indexOf(r.skip)].includes(E)}var q=Object.create(null);return function(r,E){if(r.id<E.id){var R=$jscomp.makeIterator([E,r]);r=R.next().value;
E=R.next().value}R=r.id|E.id<<16;var ha=q[R];return null!=ha?ha:q[R]=b.some(function(da){return l(da,r)&&l(da,E)})}}function Y(b){var e=0,g=[];b=$jscomp.makeIterator(b);for(var l=b.next();!l.done;l=b.next()){var q=$jscomp.makeIterator(l.value);l=q.next().value;q=q.next().value;l>e&&g.push([e,l]);e=q}1114111>=e&&g.push([e,1114112]);return g}function F(b,e,g,l){if(55296>g&&1114112==l)b.edge(g,65535,e);else if(65536>g&&(55296>g&&b.edge(g,Math.min(l,55296),e),57344<l&&b.edge(Math.max(g,57344),Math.min(l,
65535),e),g=65536),!(65536>l)){g=String.fromCodePoint(g);var q=String.fromCodePoint(l-1);l=g.charCodeAt(0);g=g.charCodeAt(1);var r=q.charCodeAt(0);q=q.charCodeAt(1);if(l==r)r=new sb,b.edge(l,l+1,r),r.edge(g,q+1,e);else{var E=l,R=r;if(56320<g){E++;var ha=new sb;b.edge(l,l+1,ha);ha.edge(g,57344,e)}57343>q&&(R--,l=new sb,b.edge(r,r+1,l),l.edge(56320,q+1,e));E<=R&&(l=new sb,b.edge(E,R+1,l),l.edge(56320,57344,e))}}}function H(b){return b instanceof ia&&0==b.exprs.length}function C(b,e){var g=Object.create(null);
e=$jscomp.makeIterator(e);for(var l=e.next();!l.done;l=e.next()){l=l.value;b.unique(l.id);var q=b.nodeInfoInner(l.props,l.id.name),r=q.dialect;q=b.makeTerminal(l.id.name,q.name,q.props);null!=r&&(b.tokens.byDialect[r]||(b.tokens.byDialect[r]=[])).push(q);b.namedTerms[l.id.name]=g[l.id.name]=q}return g}function S(b,e,g){e=e[g.id.name];if(!e)return null;g.args.length&&b.raise("External tokens cannot take arguments",g.args[0].start);b.used(g.id.name);return e}function W(b,e){var g=null,l=function(q,
r){!g&&e.source&&(g=b.options.nestedGrammar?b.options.nestedGrammar(e.name,b.termTable):null);return g instanceof za.Parser?{parser:g}:g?g(q,r):{}};l.spec=e;return l}function ea(b,e){for(var g={};;g={$jscomp$loop$prop$inlinable$257:g.$jscomp$loop$prop$inlinable$257}){g.$jscomp$loop$prop$inlinable$257=Object.create(null);for(var l=void 0,q={$jscomp$loop$prop$i$255:0};q.$jscomp$loop$prop$i$255<b.length;q={$jscomp$loop$prop$rule$256:q.$jscomp$loop$prop$rule$256,$jscomp$loop$prop$i$255:q.$jscomp$loop$prop$i$255},
q.$jscomp$loop$prop$i$255++)q.$jscomp$loop$prop$rule$256=b[q.$jscomp$loop$prop$i$255],q.$jscomp$loop$prop$rule$256.name.interesting||q.$jscomp$loop$prop$rule$256.parts.includes(q.$jscomp$loop$prop$rule$256.name)||!(3>q.$jscomp$loop$prop$rule$256.parts.length)||e.includes(q.$jscomp$loop$prop$rule$256.name)||1!=q.$jscomp$loop$prop$rule$256.parts.length&&!b.every(function(na){return function(pa){return pa.skip==na.$jscomp$loop$prop$rule$256.skip||!pa.parts.includes(na.$jscomp$loop$prop$rule$256.name)}}(q))||
q.$jscomp$loop$prop$rule$256.parts.some(function(na){return function(pa){return!!na.$jscomp$loop$prop$inlinable$257[pa.name]}}(g))||b.some(function(na){return function(pa,sa){return sa!=na.$jscomp$loop$prop$i$255&&pa.name==na.$jscomp$loop$prop$rule$256.name}}(q))||(l=g.$jscomp$loop$prop$inlinable$257[q.$jscomp$loop$prop$rule$256.name.name]=q.$jscomp$loop$prop$rule$256);if(!l)return b;l=[];b=$jscomp.makeIterator(b);for(q=b.next();!q.done;q=b.next())if(q=q.value,!g.$jscomp$loop$prop$inlinable$257[q.name.name])if(q.parts.some(function(na){return function(pa){return!!na.$jscomp$loop$prop$inlinable$257[pa.name]}}(g))){for(var r=
[q.conflicts[0]],E=[],R=0;R<q.parts.length;R++){var ha=g.$jscomp$loop$prop$inlinable$257[q.parts[R].name];if(ha){r[r.length-1]=r[r.length-1].join(ha.conflicts[0]);for(var da=0;da<ha.parts.length;da++)E.push(ha.parts[da]),r.push(ha.conflicts[da+1]);r[r.length-1]=r[r.length-1].join(q.conflicts[R+1])}else E.push(q.parts[R]),r.push(q.conflicts[R+1])}l.push(new mc(q.name,E,r,q.skip))}else l.push(q);b=l}}function ma(b){for(var e=Object.create(null),g,l=0;l<b.length;){for(var q=l,r=b[l++].name;l<b.length&&
b[l].name==r;)l++;var E=l-q;if(!r.interesting)for(var R=l;R<b.length;){for(var ha=R,da=b[R++].name;R<b.length&&b[R].name==da;)R++;if(R-ha==E&&!da.interesting){for(var na=!0,pa=0;pa<E&&na;pa++)0!=b[q+pa].cmpNoName(b[ha+pa])&&(na=!1);na&&(g=e[r.name]=da)}}}if(!g)return b;g=[];b=$jscomp.makeIterator(b);for(l=b.next();!l.done;l=b.next())l=l.value,e[l.name.name]||g.push(l.parts.every(function(sa){return!e[sa.name]})?l:new mc(l.name,l.parts.map(function(sa){return e[sa.name]||sa}),l.conflicts,l.skip));
return g}function xa(b,e){return ma(ea(b,e))}var ya=va(12);"use strict";Object.defineProperty(D,"__esModule",{value:!0});var za=va(13),ta=function(b){this.start=b},Sa=function(b,e,g,l,q,r,E,R,ha,da,na,pa,sa){this.start=b;this.rules=e;this.topRules=g;this.tokens=l;this.externalTokens=q;this.externalSpecializers=r;this.precedences=E;this.mainSkip=R;this.scopedSkip=ha;this.dialects=da;this.grammars=na;this.externalProps=pa;this.autoDelim=sa;return this};$jscomp.inherits(Sa,ta);Sa.prototype.toString=
function(){return Object.values(this.rules).join("\n")};var Ua=function(b,e,g,l,q,r){this.start=b;this.id=e;this.exported=g;this.props=l;this.params=q;this.expr=r;return this};$jscomp.inherits(Ua,ta);Ua.prototype.toString=function(){return this.id.name+(this.params.length?"\x3c"+this.params.join()+"\x3e":"")+" -\x3e "+this.expr};var cb=function(b,e){this.start=b;this.items=e;return this};$jscomp.inherits(cb,ta);var db=function(b,e){this.start=b;this.items=e;return this};$jscomp.inherits(db,ta);var fb=
function(b,e,g,l){this.start=b;this.precedences=e;this.rules=g;this.literals=l;return this};$jscomp.inherits(fb,ta);var zb=function(b,e,g){this.start=b;this.literal=e;this.props=g;return this};$jscomp.inherits(zb,ta);var Rb=function(b,e,g,l){this.start=b;this.id=e;this.source=g;this.tokens=l;return this};$jscomp.inherits(Rb,ta);var oc=function(b,e,g,l,q,r){this.start=b;this.type=e;this.token=g;this.id=l;this.source=q;this.tokens=r;return this};$jscomp.inherits(oc,ta);var Da=function(b,e,g,l){this.start=
b;this.id=e;this.externalID=g;this.source=l;return this};$jscomp.inherits(Da,ta);var Sb=function(b,e,g,l){this.start=b;this.id=e;this.externalID=g;this.source=l;return this};$jscomp.inherits(Sb,ta);var Eb=function(b,e){this.start=b;this.name=e;return this};$jscomp.inherits(Eb,ta);Eb.prototype.toString=function(){return this.name};var lb=function(){return ta.apply(this,arguments)||this};$jscomp.inherits(lb,ta);lb.prototype.walk=function(b){return b(this)};lb.prototype.eq=function(b){return!1};lb.prototype.prec=
10;var Fb=function(b,e,g,l){b=lb.call(this,b)||this;b.namespace=e;b.id=g;b.args=l;return b};$jscomp.inherits(Fb,lb);Fb.prototype.toString=function(){return this.id.name+(this.args.length?"\x3c"+this.args.join()+"\x3e":"")};Fb.prototype.eq=function(b){return(this.namespace?null!=b.namespace&&b.namespace.name==this.namespace.name:!b.namespace)&&this.id.name==b.id.name&&Ea(this.args,b.args)};Fb.prototype.walk=function(b){var e=Aa(this.args,b);return b(e==this.args?this:new Fb(this.start,this.namespace,
this.id,e))};var G=function(b,e,g,l,q){b=lb.call(this,b)||this;b.type=e;b.props=g;b.token=l;b.content=q;return b};$jscomp.inherits(G,lb);G.prototype.toString=function(){return"@"+this.type+"["+this.props.join(",")+"]\x3c"+this.token+", "+this.content+"\x3e"};G.prototype.eq=function(b){return this.type==b.type&&jb.eqProps(this.props,b.props)&&Na(this.token,b.token)&&Na(this.content,b.content)};G.prototype.walk=function(b){var e=this.token.walk(b),g=this.content.walk(b);return b(e==this.token&&g==this.content?
this:new G(this.start,this.type,this.props,e,g))};var X=function(b,e){b=lb.call(this,b)||this;b.rule=e;return b};$jscomp.inherits(X,lb);X.prototype.toString=function(){var b=this.rule;return""+b.id+(b.props.length?"["+b.props.join(",")+"]":"")+" { "+b.expr+" }"};X.prototype.eq=function(b){var e=this.rule;b=b.rule;return Na(e.expr,b.expr)&&e.id.name==b.id.name&&jb.eqProps(e.props,b.props)};X.prototype.walk=function(b){var e=this.rule,g=e.expr.walk(b);return b(g==e.expr?this:new X(this.start,new Ua(e.start,
e.id,!1,e.props,[],g)))};var oa=function(b,e){b=lb.call(this,b)||this;b.exprs=e;return b};$jscomp.inherits(oa,lb);oa.prototype.toString=function(){var b=this;return this.exprs.map(function(e){return Va(e,b)}).join(" | ")};oa.prototype.eq=function(b){return Ea(this.exprs,b.exprs)};oa.prototype.walk=function(b){var e=Aa(this.exprs,b);return b(e==this.exprs?this:new oa(this.start,e))};oa.prototype.prec=1;var ia=function(b,e,g){b=lb.call(this,b)||this;b.exprs=e;b.markers=g;return b};$jscomp.inherits(ia,
lb);ia.prototype.toString=function(){var b=this;return this.exprs.map(function(e){return Va(e,b)}).join(" ")};ia.prototype.eq=function(b){return Ea(this.exprs,b.exprs)&&this.markers.every(function(e,g){var l=b.markers[g];return e.length==l.length&&e.every(function(q,r){return q.eq(l[r])})})};ia.prototype.walk=function(b){var e=Aa(this.exprs,b);return b(e==this.exprs?this:new ia(this.start,e,this.markers))};ia.prototype.prec=2;var qa=function(b,e,g){this.start=b;this.id=e;this.type=g;return this};
$jscomp.inherits(qa,ta);qa.prototype.toString=function(){return("ambig"==this.type?"~":"!")+this.id.name};qa.prototype.eq=function(b){return this.id.name==b.id.name&&this.type==b.type};var ra=function(b,e,g){b=lb.call(this,b)||this;b.expr=e;b.kind=g;return b};$jscomp.inherits(ra,lb);ra.prototype.toString=function(){return Va(this.expr,this)+this.kind};ra.prototype.eq=function(b){return Na(this.expr,b.expr)&&this.kind==b.kind};ra.prototype.walk=function(b){var e=this.expr.walk(b);return b(e==this.expr?
this:new ra(this.start,e,this.kind))};ra.prototype.prec=3;var Ma=function(b,e){b=lb.call(this,b)||this;b.value=e;return b};$jscomp.inherits(Ma,lb);Ma.prototype.toString=function(){return JSON.stringify(this.value)};Ma.prototype.eq=function(b){return this.value==b.value};var gb=function(b,e,g){b=lb.call(this,b)||this;b.ranges=e;b.inverted=g;return b};$jscomp.inherits(gb,lb);gb.prototype.toString=function(){return"["+(this.inverted?"^":"")+this.ranges.map(function(b){var e=$jscomp.makeIterator(b);b=
e.next().value;e=e.next().value;return String.fromCodePoint(b)+(e==b+1?"":"-"+String.fromCodePoint(e))})+"]"};gb.prototype.eq=function(b){return this.inverted==b.inverted&&this.ranges.length==b.ranges.length&&this.ranges.every(function(e,g){var l=$jscomp.makeIterator(e);e=l.next().value;l=l.next().value;var q=$jscomp.makeIterator(b.ranges[g]);g=q.next().value;q=q.next().value;return e==g&&l==q})};var ib=function(b){return lb.call(this,b)||this};$jscomp.inherits(ib,lb);ib.prototype.toString=function(){return"_"};
ib.prototype.eq=function(){return!0};var jb=function(b,e,g){this.start=b;this.name=e;this.value=g;return this};$jscomp.inherits(jb,ta);jb.prototype.eq=function(b){return this.name==b.name&&this.value.length==b.value.length&&this.value.every(function(e,g){return e.value==b.value[g].value&&e.name==b.value[g].name})};jb.prototype.toString=function(){var b=this.name;if(this.value.length){b+="\x3d";for(var e=$jscomp.makeIterator(this.value),g=e.next();!g.done;g=e.next()){var l=g.value;g=l.name;l=l.value;
b+=g?"{"+g+"}":/[^\w-]/.test(l)?JSON.stringify(l):l}}return b};jb.eqProps=function(b,e){return b.length==e.length&&b.every(function(g,l){return g.eq(e[l])})};var bb=function(b,e,g){this.start=b;this.value=e;this.name=g;return this};$jscomp.inherits(bb,ta);var Xb=function(){var b=Error.apply(this,arguments);this.message=b.message;"stack"in b&&(this.stack=b.stack)};$jscomp.inherits(Xb,Error);var Pb=Object.create(null),jc=0,Fc=function(b,e,g,l){l=void 0===l?Pb:l;this.name=b;this.flags=e;this.nodeName=
g;this.props=l;this.hash=++jc;this.id=-1;this.rules=[];a:{for(var q in l)break a;this.props=Pb}};Fc.prototype.toString=function(){return this.name};Fc.prototype.cmp=function(b){return this.hash-b.hash};$jscomp.global.Object.defineProperties(Fc.prototype,{nodeType:{configurable:!0,enumerable:!0,get:function(){return this.top||null!=this.nodeName||this.props!=Pb||this.repeatRelated}},terminal:{configurable:!0,enumerable:!0,get:function(){return 0<(this.flags&1)}},eof:{configurable:!0,enumerable:!0,
get:function(){return 0<(this.flags&4)}},error:{configurable:!0,enumerable:!0,get:function(){return"error"in this.props}},top:{configurable:!0,enumerable:!0,get:function(){return 0<(this.flags&2)}},interesting:{configurable:!0,enumerable:!0,get:function(){return 0<this.flags||null!=this.nodeName}},repeated:{configurable:!0,enumerable:!0,get:function(){return 0<(this.flags&16)}},repeatWrap:{configurable:!0,enumerable:!0,get:function(){return 0<(this.flags&32)}},repeatRelated:{configurable:!0,enumerable:!0,
get:function(){return 0<(this.flags&48)}},preserve:{configurable:!0,enumerable:!0,set:function(b){this.flags=b?this.flags|8:this.flags&-9},get:function(){return 0<(this.flags&8)}}});var Gb=function(){this.terms=[];this.names=Object.create(null);this.repeatMap=Object.create(null);this.tops=[];this.eof=this.term("â„",null,5);this.error=this.term("âš ","âš ",8,{error:""})};Gb.prototype.term=function(b,e,g,l){l=void 0===l?Pb:l;e=new Fc(b,void 0===g?0:g,e,l);this.terms.push(e);return this.names[b]=e};Gb.prototype.makeTop=
function(b,e){b=this.term("@top",b,2,e);this.tops.push(b);return b};Gb.prototype.makeTerminal=function(b,e,g){g=void 0===g?Pb:g;return this.term(b,e,1,g)};Gb.prototype.makeNonTerminal=function(b,e,g){g=void 0===g?Pb:g;return this.term(b,e,0,g)};Gb.prototype.makeRepeat=function(b){var e=this.term(b,null,16);b=this.term(b+"-wrap",null,32);this.repeatMap[e.name]=b;return{inner:e,outer:b}};Gb.prototype.uniqueName=function(b){for(var e=0;;e++){var g=e?b+"-"+e:b;if(!this.names[g])return g}};Gb.prototype.finish=
function(b){for(var e=$jscomp.makeIterator(b),g=e.next();!g.done;g=e.next())g=g.value,g.name.rules.push(g);this.terms=this.terms.filter(function(R){return R.terminal||R.preserve||b.some(function(ha){return ha.name==R||ha.parts.includes(R)})});e={};g=[this.error];this.error.id=0;for(var l=1,q=$jscomp.makeIterator(this.terms),r=q.next();!r.done;r=q.next())r=r.value,0>r.id&&r.nodeType&&!r.repeatRelated&&(r.id=l++,g.push(r));q=l;var E=$jscomp.makeIterator(this.terms);for(r=E.next();!r.done;r=E.next())r=
r.value,r.repeated&&(r.id=l++,g.push(r));E=$jscomp.makeIterator(this.terms);for(r=E.next();!r.done;r=E.next())r=r.value,r.repeated&&(this.repeatMap[r.name].id=l++);this.eof.id=l++;E=$jscomp.makeIterator(this.terms);for(r=E.next();!r.done;r=E.next())r=r.value,0>r.id&&(r.id=l++),r.name&&(e[r.id]=r.name);if(65534<=l)throw new Xb("Too many terms");return{nodeTypes:g,names:e,minRepeatTerm:q,maxTerm:l-1}};var Tc=[],Mb=function(b,e,g){e=void 0===e?Tc:e;this.precedence=b;this.ambigGroups=e;this.cut=void 0===
g?0:g};Mb.prototype.join=function(b){return this==Mb.none||this==b?b:b==Mb.none?this:new Mb(Math.max(this.precedence,b.precedence),Ca(this.ambigGroups,b.ambigGroups),Math.max(this.cut,b.cut))};Mb.prototype.cmp=function(b){return this.precedence-b.precedence||Ba(this.ambigGroups,b.ambigGroups,function(e,g){return e<g?-1:e>g?1:0})||this.cut-b.cut};Mb.none=new Mb(0);var Kc=0,mc=function(b,e,g,l){this.name=b;this.parts=e;this.conflicts=g;this.skip=l;this.id=Kc++};mc.prototype.cmp=function(b){return this.id-
b.id};mc.prototype.cmpNoName=function(b){return this.parts.length-b.parts.length||this.skip.hash-b.skip.hash||this.parts.reduce(function(e,g,l){return e||g.cmp(b.parts[l])},0)||Ba(this.conflicts,b.conflicts,function(e,g){return e.cmp(g)})};mc.prototype.toString=function(){return this.name+" -\x3e "+this.parts.join(" ")};mc.prototype.sameReduce=function(b){return this.name==b.name&&this.parts.length==b.parts.length&&this.isRepeatLeaf==b.isRepeatLeaf};$jscomp.global.Object.defineProperties(mc.prototype,
{isRepeatLeaf:{configurable:!0,enumerable:!0,get:function(){return this.name.repeated&&!(2==this.parts.length&&this.parts[0]==this.name)}}});var Cc=function(b,e,g){this.from=b;this.to=void 0===e?b+1:e;this.target=g};Cc.prototype.toString=function(){return"-\x3e "+this.target.id+"[label\x3d"+JSON.stringify(0>this.from?"Îµ":Ga(this.from)+(this.to>this.from+1?"-"+Ga(this.to-1):""))+"]"};var ed=1,sb=function(b,e){b=void 0===b?[]:b;e=void 0===e?ed++:e;this.accepting=b;this.id=e;this.edges=[]};sb.prototype.edge=
function(b,e,g){this.edges.push(new Cc(b,void 0===e?b+1:e,g))};sb.prototype.nullEdge=function(b){this.edge(-1,-1,b)};sb.prototype.compile=function(){function b(l){var q=e[ua(l)]=new sb(l.reduce(function(ha,da){return Ca(ha,da.accepting)},[]),g++),r=[];l=$jscomp.makeIterator(l);for(var E=l.next();!E.done;E=l.next()){E=$jscomp.makeIterator(E.value.edges);for(var R=E.next();!R.done;R=E.next())R=R.value,0<=R.from&&r.push(R)}r=Fa(r);r=$jscomp.makeIterator(r);for(l=r.next();!l.done;l=r.next())l=l.value,
E=l.targets.sort(function(ha,da){return ha.id-da.id}),q.edge(l.from,l.to,e[ua(E)]||b(E));return q}var e=Object.create(null),g=0;return b(this.closure().sort(function(l,q){return l.id-q.id}))};sb.prototype.closure=function(){function b(g){if(!e.includes(g)){(g.edges.some(function(r){return 0<=r.from})||0<g.accepting.length&&!g.edges.some(function(r){a:{var E=g.accepting;r=r.target.accepting;if(E.length!=r.length)E=!1;else{for(var R=0;R<E.length;R++)if(E[R]!=r[R]){E=!1;break a}E=!0}}return E}))&&e.push(g);
for(var l=$jscomp.makeIterator(g.edges),q=l.next();!q.done;q=l.next())q=q.value,0>q.from&&b(q.target)}}var e=[];b(this);return e};sb.prototype.findConflicts=function(b){function e(q,r,E,R){if(q.id<r.id){var ha=$jscomp.makeIterator([r,q]);q=ha.next().value;r=ha.next().value}g.some(function(da){return da.a==q&&da.b==r})||g.push(new Ub(q,r,Oa(E),R&&Oa(R)))}var g=[],l=this.cycleTerms();this.reachable(function(q,r){if(0!=q.accepting.length){for(var E=0;E<q.accepting.length;E++)for(var R=E+1;R<q.accepting.length;R++)e(q.accepting[E],
q.accepting[R],r);q.reachable(function(ha,da){if(ha!=q){ha=$jscomp.makeIterator(ha.accepting);for(var na=ha.next();!na.done;na=ha.next()){na=na.value;for(var pa=l.includes(na),sa=$jscomp.makeIterator(q.accepting),La=sa.next();!La.done;La=sa.next())La=La.value,na==La||!pa&&!l.includes(La)&&b(na,La)||e(na,La,r,r.concat(da))}}})}});return g};sb.prototype.cycleTerms=function(){var b=[],e=[];(function r(l,q){var E=q.indexOf(l);if(-1<E)for(l=E;l<q.length;l++)b.includes(q[l])||(b.push(q[l]),q[l].reachable(function(R){R=
$jscomp.makeIterator(R.accepting);for(var ha=R.next();!ha.done;ha=R.next())ha=ha.value,e.includes(ha)||e.push(ha)}));else{q.push(l);l=$jscomp.makeIterator(l.edges);for(E=l.next();!E.done;E=l.next())r(E.value.target,q);q.pop()}})(this,[]);return e};sb.prototype.reachable=function(b){var e=[],g=[];(function r(q){b(q,g);e.push(q);q=$jscomp.makeIterator(q.edges);for(var E=q.next();!E.done;E=q.next())E=E.value,e.includes(E.target)||(g.push(E),r(E.target),g.pop())})(this)};sb.prototype.toString=function(){var b=
"digraph {\n";this.reachable(function(e){e.accepting.length&&(b+="  "+e.id+" [label\x3d"+JSON.stringify(e.accepting.join())+"];\n");for(var g=$jscomp.makeIterator(e.edges),l=g.next();!l.done;l=g.next())b+="  "+e.id+" "+l.value+";\n"});return b+"}"};sb.prototype.toArray=function(b,e){var g=[],l=[];this.reachable(function(r){var E=l.length,R=E+3+2*r.accepting.length;g[r.id]=E;l.push(r.stateMask(b),R,r.edges.length);r.accepting.sort(function(ha,da){return e.indexOf(ha.id)-e.indexOf(da.id)});E=$jscomp.makeIterator(r.accepting);
for(R=E.next();!R.done;R=E.next())R=R.value,l.push(R.id,b[R.id]||65535);r=$jscomp.makeIterator(r.edges);for(E=r.next();!E.done;E=r.next())E=E.value,l.push(E.from,E.to,-E.target.id-1)});for(var q=0;q<l.length;q++)0>l[q]&&(l[q]=g[-l[q]-1]);if(l.length>Math.pow(2,16))throw new Xb("Tokenizer tables too big to represent with 16-bit offsets.");return Uint16Array.from(l)};sb.prototype.stateMask=function(b){var e=0;this.reachable(function(g){g=$jscomp.makeIterator(g.accepting);for(var l=g.next();!l.done;l=
g.next())e|=b[l.value.id]||65535});return e};var Ub=function(b,e,g,l){this.a=b;this.b=e;this.exampleA=g;this.exampleB=l},Ab=function(b,e,g){this.from=b;this.to=e;this.targets=g},Bc=/[\w_]+/gy;try{Bc=/[\p{Alphabetic}\d_]+/ugy}catch(b){}var tc=[],ec=function(b,e){this.string=b;this.fileName=void 0===e?null:e;this.type="sof";this.value=null;this.end=this.start=0;this.next()};ec.prototype.lineInfo=function(b){for(var e=1,g=0;;){var l=this.string.indexOf("\n",g);if(-1<l&&l<b)++e,g=l+1;else return{line:e,
ch:b-g}}};ec.prototype.message=function(b,e){e=void 0===e?-1:e;var g=this.fileName||"";-1<e&&(e=this.lineInfo(e),g+=(g?" ":"")+e.line+":"+e.ch);return g?b+(" ("+g+")"):b};ec.prototype.raise=function(b,e){throw new Xb(this.message(b,void 0===e?-1:e));};ec.prototype.match=function(b,e){return(e=e.exec(this.string.slice(b)))?b+e[0].length:-1};ec.prototype.next=function(){var b=this.match(this.end,/^(\s|\/\/.*|\/\*[^]*?\*\/)*/);if(b==this.string.length)return this.set("eof",null,b,b);var e=this.string[b];
if('"'==e)return e=this.match(b+1,/^(\\.|[^"])*"/),-1==e&&this.raise("Unterminated string literal",b),this.set("string",x(this.string.slice(b+1,e-1)),b,e);if("'"==e)return e=this.match(b+1,/^(\\.|[^'])*'/),-1==e&&this.raise("Unterminated string literal",b),this.set("string",x(this.string.slice(b+1,e-1)),b,e);if("@"==e)return Bc.lastIndex=b+1,(e=Bc.exec(this.string))?this.set("at",e[0],b,b+1+e[0].length):this.raise("@ without a name",b);if("$"!=e&&"!"!=e||"["!=this.string[b+1]){if(/[\[\]()!~+*?{}<>\.,|:$=]/.test(e))return this.set(e,
null,b,b+1);Bc.lastIndex=b;var g=Bc.exec(this.string);return g?this.set("id",g[0],b,b+g[0].length):this.raise("Unexpected character "+JSON.stringify(e),b)}e=this.match(b+2,/^(?:\\.|[^\]])*\]/);-1==e&&this.raise("Unterminated character set",b);return this.set("set",this.string.slice(b+2,e-1),b,e)};ec.prototype.set=function(b,e,g,l){this.type=b;this.value=e;this.start=g;this.end=l};ec.prototype.eat=function(b,e){e=void 0===e?null:e;if(this.type!=b||null!=e&&this.value!==e)return!1;this.next();return!0};
ec.prototype.unexpected=function(){return this.raise("Unexpected token '"+this.string.slice(this.start,this.end)+"'",this.start)};ec.prototype.expect=function(b,e){e=void 0===e?null:e;var g=this.value;(this.type!=b||null!=e&&g!==e)&&this.unexpected();this.next();return g};ec.prototype.parse=function(){var b=this.start;for(var e=[],g=null,l=null,q=null,r=[],E=[],R=[],ha=[],da=[],na=[],pa=!1;"eof"!=this.type;){var sa=this.start;if("at"==this.type&&"top"==this.value)this.next(),sa="id"==this.type?O(this):
new Eb(sa,"@top"),na.length&&"@top"===sa.name&&this.raise("Unnamed secondary @top declaration",this.start),na.push(ka(this,sa));else if("at"==this.type&&"tokens"==this.value)if(l)this.raise("Multiple @tokens declaractions",this.start);else{l=this.start;this.next();this.expect("{");sa=[];for(var La=[],Ia=[];!this.eat("}");)"at"==this.type&&"precedence"==this.value?Ia.push(A(this)):"string"==this.type?La.push(new zb(this.start,this.expect("string"),Qa(this))):sa.push(ka(this));l=new fb(l,Ia,sa,La)}else if(this.eat("at",
"external"))this.eat("id","tokens")?R.push(z(this,sa)):this.eat("id","grammar")?da.push(p(this,sa)):this.eat("id","prop")?da.push(v(this,sa)):this.eat("id","extend")?ha.push(w(this,"extend",sa)):this.eat("id","specialize")?ha.push(w(this,"specialize",sa)):this.unexpected();else if(this.eat("at","dialects"))for(this.expect("{"),sa=!0;!this.eat("}");sa=!1)sa||this.eat(","),E.push(O(this));else if("at"==this.type&&"precedence"==this.value)if(g)this.raise("Multiple precedence declarations",this.start);
else{g=this.start;this.next();this.expect("{");for(sa=[];!this.eat("}");)sa.length&&this.eat(","),sa.push({id:O(this),type:this.eat("at","left")?"left":this.eat("at","right")?"right":this.eat("at","cut")?"cut":null});g=new cb(g,sa)}else if(this.eat("at","detectDelim"))pa=!0;else if(this.eat("at","skip"))if(sa=la(this),"{"==this.type){this.next();for(La=[];!this.eat("}");)La.push(ka(this));r.push({expr:sa,rules:La})}else q&&this.raise("Multiple top-level skip declarations",this.start),q=sa;else e.push(ka(this))}b=
na.length?new Sa(b,e,na,l,R,ha,g,q,r,E,da,[],pa):this.raise("Missing @top declaration");return b};var Vb=function(b,e,g,l,q,r){this.rule=b;this.pos=e;this.ahead=g;this.ambigAhead=l;this.skipAhead=q;this.prev=r;b=N(N(b.id,e),q.hash);e=$jscomp.makeIterator(this.ahead);for(g=e.next();!g.done;g=e.next())b=N(b,g.value.hash);l=$jscomp.makeIterator(l);for(e=l.next();!e.done;e=l.next())for(e=e.value,g=0;g<e.length;g++)b=N(b,e.charCodeAt(g));this.hash=b};Vb.prototype.advance=function(){return new Vb(this.rule,
this.pos+1,this.ahead,this.ambigAhead,this.skipAhead,this)};Vb.prototype.reverse=function(){return new Vb(this.rule,this.pos-1,this.ahead,this.ambigAhead,this.skipAhead,this.prev.prev)};Vb.prototype.cmp=function(b){return this.rule.cmp(b.rule)||this.pos-b.pos||this.skipAhead.hash-b.skipAhead.hash||Ba(this.ahead,b.ahead,function(e,g){return e.cmp(g)})||Ba(this.ambigAhead,b.ambigAhead,T)};Vb.prototype.eqSimple=function(b){return b.rule==this.rule&&b.pos==this.pos};Vb.prototype.toString=function(){var b=
this.rule.parts.map(function(e){return e.name});b.splice(this.pos,0,"Â·");return this.rule.name+" -\x3e "+b.join(" ")};Vb.prototype.eq=function(b){return this==b||this.hash==b.hash&&this.rule==b.rule&&this.pos==b.pos&&this.skipAhead==b.skipAhead&&M(this.ahead,b.ahead)&&M(this.ambigAhead,b.ambigAhead)};Vb.prototype.trail=function(){for(var b=[],e=this.prev;e;e=e.prev)b.push(e.next);return b.reverse().join(" ")};Vb.prototype.conflicts=function(b){b=void 0===b?this.pos:b;var e=this.rule.conflicts[b];
b==this.rule.parts.length&&this.ambigAhead.length&&(e=e.join(new Mb(0,this.ambigAhead)));return e};Vb.conflictsAt=function(b,e){var g=Mb.none,l=[],q=$jscomp.makeIterator(b);for(b=q.next();!b.done;b=q.next())b=b.value,g=g.join(b.conflicts()),0==b.pos&&ja(b.rule.name,l);for(q=0;q<l.length;q++){var r=l[q],E=$jscomp.makeIterator(e);for(b=E.next();!b.done;b=E.next())b=b.value,b.next==r&&(g=g.join(b.conflicts()),0==b.pos&&ja(b.rule.name,l))}return g};$jscomp.global.Object.defineProperties(Vb.prototype,
{next:{configurable:!0,enumerable:!0,get:function(){return this.pos<this.rule.parts.length?this.rule.parts[this.pos]:null}},skip:{configurable:!0,enumerable:!0,get:function(){return this.pos==this.rule.parts.length?this.skipAhead:this.rule.skip}}});var cc=function(b,e){this.term=b;this.target=e};cc.prototype.eq=function(b){return b instanceof cc&&this.term==b.term&&b.target.id==this.target.id};cc.prototype.cmp=function(b){return b instanceof gc?-1:this.term.id-b.term.id||this.target.id-b.target.id};
cc.prototype.toString=function(){return"s"+this.target.id};cc.prototype.map=function(b,e){b=b[this.target.id];return b==this.target.id?this:new cc(this.term,e[b])};var gc=function(b,e){this.term=b;this.rule=e};gc.prototype.eq=function(b){return b instanceof gc&&this.term==b.term&&b.rule.sameReduce(this.rule)};gc.prototype.cmp=function(b){return b instanceof cc?1:this.term.id-b.term.id||this.rule.name.id-b.rule.name.id||this.rule.parts.length-b.rule.parts.length};gc.prototype.toString=function(){return this.rule.name.name+
"("+this.rule.parts.length+")"};gc.prototype.map=function(){return this};var ic=function(b,e,g,l,q,r){g=void 0===g?0:g;q=void 0===q?P(e):q;this.id=b;this.set=e;this.flags=g;this.skip=l;this.hash=q;this.topRule=void 0===r?null:r;this.actions=[];this.actionPositions=[];this.goto=[];this.tokenGroup=-1;this.partOfSkip=this.defaultReduce=null;this.nested=-1};ic.prototype.toString=function(){var b=this.actions.map(function(e){return e.term+"\x3d"+e}).join(",")+(this.goto.length?" | "+this.goto.map(function(e){return e.term+
"\x3d"+e}).join(","):"");return this.id+": "+this.set.filter(function(e){return 0<e.pos}).join()+(this.defaultReduce?"\n  always "+this.defaultReduce.name+"("+this.defaultReduce.parts.length+")":b.length?"\n  "+b:"")};ic.prototype.addActionInner=function(b,e){var g={},l=0;for(;l<this.actions.length;g={$jscomp$loop$prop$actionConflicts$191:g.$jscomp$loop$prop$actionConflicts$191},l++){var q=this.actions[l];if(q.term==b.term){if(q.eq(b))return null;var r=Vb.conflictsAt(e,this.set);g.$jscomp$loop$prop$actionConflicts$191=
Vb.conflictsAt(this.actionPositions[l],this.set);var E=r.precedence-g.$jscomp$loop$prop$actionConflicts$191.precedence;if(0<E)this.actions.splice(l,1),this.actionPositions.splice(l,1),l--;else{if(0>E)return null;if(!r.ambigGroups.some(function(R){return function(ha){return R.$jscomp$loop$prop$actionConflicts$191.ambigGroups.includes(ha)}}(g)))return q}}}this.actions.push(b);this.actionPositions.push(e);return null};ic.prototype.addAction=function(b,e){var g=this.addActionInner(b,e);if(g){var l=this.actionPositions[this.actions.indexOf(g)][0];
g=g instanceof cc?"shift/reduce conflict between\n  "+l+"\nand\n  "+e[0].rule:"reduce/reduce conflict between\n  "+e[0].rule+"\nand\n  "+l.rule;e=e[0].trail();50<e.length&&(e=e.slice(e.length-50).replace(/.*? /,"â€¦ "));g+="\nWith input:\n  "+e+" Â· "+b.term+" â€¦";throw new Xb(g);}};ic.prototype.getGoto=function(b){return this.goto.find(function(e){return e.term==b})};ic.prototype.hasSet=function(b){return I(this.set,b)};ic.prototype.finish=function(){if(this.actions.length){var b=this.actions[0];if(b instanceof
gc){var e=b.rule;this.actions.every(function(g){return g instanceof gc&&g.rule.sameReduce(e)})&&(this.defaultReduce=e)}}this.actions.sort(function(g,l){return g.cmp(l)});this.goto.sort(function(g,l){return g.cmp(l)})};ic.prototype.eq=function(b){var e=this.defaultReduce,g=b.defaultReduce;return e||g?e&&g?e.sameReduce(g):!1:this.skip==b.skip&&this.tokenGroup==b.tokenGroup&&I(this.actions,b.actions)&&I(this.goto,b.goto)};var Oc=function(b,e,g,l,q,r){this.rule=b;this.ahead=e;this.origIndex=g;this.ambigAhead=
l;this.skipAhead=q;this.prev=r},fd=function(b,e){this.set=b;this.state=e},Mc=[],rb=[],Nc="undefined"!=typeof ya&&ya.env.LOG||"",Yb=function(b,e){this.terms=b;this.conflicts=e};Yb.prototype.concat=function(b){if(this==Yb.none)return b;if(b==Yb.none)return this;var e=null;if(this.conflicts||b.conflicts){e=this.conflicts?this.conflicts.slice():this.ensureConflicts();var g=b.ensureConflicts();e[e.length-1]=e[e.length-1].join(g[0]);for(var l=1;l<g.length;l++)e.push(g[l])}return new Yb(this.terms.concat(b.terms),
e)};Yb.prototype.withConflicts=function(b,e){if(e==Mb.none)return this;var g=this.conflicts?this.conflicts.slice():this.ensureConflicts();g[b]=g[b].join(e);return new Yb(this.terms,g)};Yb.prototype.ensureConflicts=function(){if(this.conflicts)return this.conflicts;for(var b=[],e=0;e<=this.terms.length;e++)b.push(Mb.none);return b};Yb.none=new Yb(rb,null);var xc=function(b,e,g){this.id=b;this.args=e;this.term=g};xc.prototype.matches=function(b){return this.id==b.id.name&&Ea(b.args,this.args)};xc.prototype.matchesRepeat=
function(b){return this.id==b.kind&&Na(b.expr,this.args[0])};var ub=function(b,e){var g=this;this.options=e;this.terms=new Gb;this.nestedGrammars=[];this.specialized=Object.create(null);this.tokenOrigins=Object.create(null);this.rules=[];this.built=[];this.ruleNames=Object.create(null);this.namespaces=Object.create(null);this.namedTerms=Object.create(null);this.termTable=Object.create(null);this.knownProps=Object.create(null);this.astRules=[];this.currentSkip=[];this.skipRules=[];this.input=new ec(b,
e.fileName);this.ast=this.input.parse();b=za.NodeProp;for(var l in b)b[l]instanceof za.NodeProp&&(this.knownProps[l]={prop:b[l],source:{name:l,from:null}});l=$jscomp.makeIterator(this.ast.externalProps);for(b=l.next();!b.done;b=l.next())b=b.value,this.knownProps[b.id.name]={prop:this.options.externalProp?this.options.externalProp(b.id.name):za.NodeProp.string(),source:{name:b.externalID.name,from:b.source}};this.dialects=this.ast.dialects.map(function(da){return da.name});this.tokens=new xb(this,
this.ast.tokens);this.externalTokens=this.ast.externalTokens.map(function(da){return new Gc(g,da)});this.externalSpecializers=this.ast.externalSpecializers.map(function(da){return new Hc(g,da)});this.defineNamespace("nest",new Pc);this.noSkip=this.newName("%noskip",!0);this.defineRule(this.noSkip,[]);l={};b=$jscomp.makeIterator(this.ast.grammars);for(e=b.next();!e.done;l={$jscomp$loop$prop$grammar$216:l.$jscomp$loop$prop$grammar$216},e=b.next())l.$jscomp$loop$prop$grammar$216=e.value,this.ast.grammars.some(function(da){return function(na){return na!=
da.$jscomp$loop$prop$grammar$216&&na.id.name==da.$jscomp$loop$prop$grammar$216.id.name}}(l))&&this.raise("Duplicate external grammar name '"+l.$jscomp$loop$prop$grammar$216.id.name+"'",l.$jscomp$loop$prop$grammar$216.id.start);l=this.ast.mainSkip?this.newName("%mainskip",!0):this.noSkip;var q=[];e=$jscomp.makeIterator(this.ast.rules);for(b=e.next();!b.done;b=e.next())this.astRules.push({skip:l,rule:b.value});e={};var r=$jscomp.makeIterator(this.ast.scopedSkip);for(b=r.next();!b.done;e={$jscomp$loop$prop$scoped$218:e.$jscomp$loop$prop$scoped$218},
b=r.next()){e.$jscomp$loop$prop$scoped$218=b.value;var E=this.noSkip;b=this.ast.scopedSkip.findIndex(function(da){return function(na,pa){return pa<q.length&&Na(na.expr,da.$jscomp$loop$prop$scoped$218.expr)}}(e));-1<b?E=q[b]:this.ast.mainSkip&&Na(e.$jscomp$loop$prop$scoped$218.expr,this.ast.mainSkip)?E=l:H(e.$jscomp$loop$prop$scoped$218.expr)||(E=this.newName("%skip",!0));q.push(E);var R=$jscomp.makeIterator(e.$jscomp$loop$prop$scoped$218.rules);for(b=R.next();!b.done;b=R.next())this.astRules.push({skip:E,
rule:b.value})}b=$jscomp.makeIterator(this.astRules);for(e=b.next();!e.done;e=b.next())e=e.value.rule,this.unique(e.id),this.namespaces[e.id.name]&&this.raise("Rule name '"+e.id.name+"' conflicts with a defined namespace",e.id.start);this.currentSkip.push(this.noSkip);l!=this.noSkip&&(this.skipRules.push(l),this.defineRule(l,this.normalizeExpr(this.ast.mainSkip)));for(b=0;b<this.ast.scopedSkip.length;b++)e=q[b],e==this.noSkip||e==l||0!=b&&-1!=q.lastIndexOf(e,b-1)||(this.skipRules.push(q[b]),this.defineRule(q[b],
this.normalizeExpr(this.ast.scopedSkip[b].expr)));this.currentSkip.pop();b=$jscomp.makeIterator(this.ast.topRules);for(e=b.next();!e.done;e=b.next())e=e.value,this.currentSkip.push(l),r=this.nodeInfo(e.props,"@top"==e.id.name?null:e.id.name,rb,rb,e.expr,{top:"true"}),this.defineRule(this.terms.makeTop(r.name,r.props),this.normalizeExpr(e.expr)),this.currentSkip.pop();l=$jscomp.makeIterator(this.externalSpecializers);for(b=l.next();!b.done;b=l.next())b.value.finish();l=$jscomp.makeIterator(this.ast.rules);
for(b=l.next();!b.done;b=l.next())b=b.value,b.exported&&this.ruleNames[b.id.name]&&0==b.params.length&&(e=this.nodeInfo(b.props,b.id.name),(this.namedTerms[b.id.name]=this.newName(b.id.name,e.name,e.props)).preserve=!0,b.expr instanceof ia&&0==b.expr.exprs.length&&this.used(b.id.name));for(var ha in this.ruleNames)(l=this.ruleNames[ha])&&this.warn("Unused rule '"+l.name+"'",l.start);this.tokens.takePrecedences()};ub.prototype.unique=function(b){b.name in this.ruleNames&&this.raise("Duplicate definition of rule '"+
b.name+"'",b.start);this.ruleNames[b.name]=b};ub.prototype.used=function(b){this.ruleNames[b]=null};ub.prototype.defineNamespace=function(b,e,g){this.namespaces[b]&&this.raise("Duplicate definition of namespace '"+b+"'",void 0===g?0:g);this.namespaces[b]=e};ub.prototype.newName=function(b,e,g){e=void 0===e?null:e;g=void 0===g?Pb:g;for(var l=e?0:1;;l++){var q=l?b+"-"+l:b;if(!this.terms.names[q])return this.terms.makeNonTerminal(q,!0===e?null:e,g)}};ub.prototype.getParser=function(){var b=this,e=xa(this.rules,
[].concat($jscomp.arrayFromIterable(this.skipRules),$jscomp.arrayFromIterable(this.nestedGrammars.map(function(Wa){return Wa.placeholder})),$jscomp.arrayFromIterable(this.terms.tops))),g=this.terms.finish(e),l=g.nodeTypes,q=g.names,r=g.minRepeatTerm;g=g.maxTerm;for(var E in this.namedTerms)this.termTable[E]=this.namedTerms[E].id;/\bgrammar\b/.test(Nc)&&console.log(e.join("\n"));var R=Ha(this.terms);E=this.skipRules.map(function(Wa){return Wa.rules.some(function(vb){return 0<vb.parts.length})?Ka(b.terms,
[Wa],R):null});var ha=E.map(function(Wa){return Wa?Wa[0].actions.map(function(vb){return vb.term}):rb}),da=Ka(this.terms,this.terms.tops,R);e=this.tokens.buildTokenGroups(da,E,ha);var na=e.tokenMasks,pa=e.tokenGroups;e=e.tokenPrec;var sa=Nb(Qb(da)),La=sa.length+1,Ia=E.map(function(Wa,vb){if(!Wa)return null;if(!Wa[0].actions.every(function(nc){return Bb(nc,b.skipRules[vb])}))for(var Hb=sa.length,ab=$jscomp.makeIterator(Wa),mb=ab.next();!mb.done;mb=ab.next())mb=mb.value,sa.push(mb),mb.partOfSkip=b.skipRules[vb],
mb.id+=Hb;return Wa[0]});this.addNestedGrammars(sa);/\blr\b/.test(Nc)&&console.log(sa.join("\n"));E=new Uint16Array(this.externalSpecializers.length+Object.keys(this.specialized).length);da=[];for(var Ya={},Za=$jscomp.makeIterator(this.externalSpecializers),kb=Za.next();!kb.done;Ya={$jscomp$loop$prop$ext$220:Ya.$jscomp$loop$prop$ext$220},kb=Za.next())Ya.$jscomp$loop$prop$ext$220=kb.value,E[da.length]=Ya.$jscomp$loop$prop$ext$220.term.id,da.push(function(Wa){return function(vb,Hb){return b.options.externalSpecializer(Wa.$jscomp$loop$prop$ext$220.ast.id.name,
b.termTable)(vb,Hb)<<1|("extend"==Wa.$jscomp$loop$prop$ext$220.ast.type?1:0)}}(Ya));Ya={};for(var qb in this.specialized)E[da.length]=this.terms.names[qb].id,Ya.$jscomp$loop$prop$table$162$222=wb(this.specialized[qb]),da.push(function(Wa){return function(vb){return Wa.$jscomp$loop$prop$table$162$222[vb]||-1}}(Ya)),Ya={$jscomp$loop$prop$table$162$222:Ya.$jscomp$loop$prop$table$162$222};var hb=this.tokens.tokenizer(na,e),pb=function(Wa){return Wa instanceof uc?Wa.set.ast.start:b.tokens.ast?b.tokens.ast.start:
-1};qb=pa.map(function(Wa){return new za.Parser.TokenGroup(hb,Wa.id)}).concat(this.externalTokens.map(function(Wa){return new uc(Wa,b.termTable)})).sort(function(Wa,vb){return pb(Wa)-pb(vb)});var yb=new Ac;pa=Ia.map(function(Wa,vb){var Hb=[];if(Wa){for(var ab=$jscomp.makeIterator(Wa.actions),mb=ab.next();!mb.done;mb=ab.next())mb=mb.value,Bb(mb,b.skipRules[vb])?Hb.push(mb.term.id,0,4):Hb.push(mb.term.id,Wa.id,2);Wa.actions=Wa.actions.filter(function(nc){return!Bb(nc,b.skipRules[vb])})}Hb.push(65535);
return yb.storeArray(Hb)});Ia=yb.storeArray([65535]);na=new Uint32Array(6*sa.length);Ya=this.computeForceReductions(sa);Za=$jscomp.makeIterator(sa);for(kb=Za.next();!kb.done;kb=Za.next()){kb=kb.value;var Tb=Ia,Wb=rb;kb.skip!=this.noSkip&&(Wb=this.skipRules.indexOf(kb.skip),Tb=pa[Wb],Wb=ha[Wb]);this.finishState(kb,qb,yb,Tb,Wb,kb.id>=La,Ya[kb.id],na)}ha=Object.create(null);for(La=0;La<this.dialects.length;La++)ha[this.dialects[La]]=yb.storeArray((this.tokens.byDialect[La]||rb).map(function(Wa){return Wa.id}).concat(65535));
La=this.nestedGrammars.map(function(Wa){return{name:Wa.name,grammar:W(b,Wa),end:new za.Parser.TokenGroup(Wa.end.compile().toArray({},rb),0),placeholder:Wa.placeholder.id}});pa=Object.create(null);Ia={};Ya=$jscomp.makeIterator(this.terms.tops);for(Za=Ya.next();!Za.done;Ia={$jscomp$loop$prop$term$224:Ia.$jscomp$loop$prop$term$224},Za=Ya.next())Ia.$jscomp$loop$prop$term$224=Za.value,pa[Ia.$jscomp$loop$prop$term$224.nodeName||"@top"]=[sa.find(function(Wa){return function(vb){return vb.topRule==Wa.$jscomp$loop$prop$term$224}}(Ia)).id,
Ia.$jscomp$loop$prop$term$224.id];var Ic=this.gatherSkippedTerms();l=new za.NodeGroup(l.map(function(Wa,vb){return b.toNodeType(Wa,Ic,vb)}));e=yb.storeArray(e.concat(65535));return new za.Parser(na,yb.finish(),kc(sa),l,g,r,qb,pa,La,ha,E,da,e,q)};ub.prototype.toNodeType=function(b,e,g){var l=[],q={propData:l};e.includes(b)&&za.NodeProp.skipped.set(q,!0);for(var r in b.props){e=this.knownProps[r];if(!e)throw new Xb("No known prop type for "+r);var E=e.prop.deserialize(b.props[r]);e.prop.set(q,E);l.push(e.source,
b.props[r])}return new za.NodeType(b.nodeName||"",q,g)};ub.prototype.addNestedGrammars=function(b){var e=this,g={};b=$jscomp.makeIterator(b);for(var l=b.next();!l.done;g={$jscomp$loop$prop$placeholder$229:g.$jscomp$loop$prop$placeholder$229,$jscomp$loop$prop$state$228:g.$jscomp$loop$prop$state$228},l=b.next())g.$jscomp$loop$prop$state$228=l.value,l=g.$jscomp$loop$prop$state$228.set.filter(function(q){return e.nestedGrammars.some(function(r){return r.placeholder==q.next})}),l.length&&(g.$jscomp$loop$prop$placeholder$229=
l[0].next,l.every(function(q){return function(r){return r.next==q.$jscomp$loop$prop$placeholder$229}}(g))||this.raise("Multiple nested grammars possible after "+l[0].trail()),g.$jscomp$loop$prop$state$228.set.every(function(q){return function(r){return r.next==q.$jscomp$loop$prop$placeholder$229||0==r.pos&&q.$jscomp$loop$prop$state$228.set.some(function(E){return E.next==r.rule.name})}}(g))||this.raise("Nested grammar in ambiguous position after "+l[0].trail()+" "+g.$jscomp$loop$prop$state$228.set),
g.$jscomp$loop$prop$state$228.nested=this.nestedGrammars.findIndex(function(q){return function(r){return r.placeholder==q.$jscomp$loop$prop$placeholder$229}}(g)))};ub.prototype.makeTerminal=function(b,e,g){return this.terms.makeTerminal(this.terms.uniqueName(b),e,g)};ub.prototype.gatherSkippedTerms=function(){for(var b=this.skipRules.slice(),e=0;e<b.length;e++)for(var g=$jscomp.makeIterator(b[e].rules),l=g.next();!l.done;l=g.next()){l=$jscomp.makeIterator(l.value.parts);for(var q=l.next();!q.done;q=
l.next())q=q.value,q.nodeType&&!b.includes(q)&&b.push(q)}return b};ub.prototype.computeForceReductions=function(b){function e(sa,La,Ia){Ia=void 0===Ia?null:Ia;return(sa=q[sa])?sa.some(function(Ya){var Za=Ia?Ia.filter(function(qb){return Ya.parents.includes(qb)}):Ya.parents;if(0==Za.length)return!1;if(Ya.target==La)return!0;var kb=pa[Ya.target];return null!=kb&&e(kb,La,Za)}):!1}for(var g=[],l=[],q=Object.create(null),r=$jscomp.makeIterator(b),E=r.next();!E.done;E=r.next()){var R=E.value;g.push(0);
var ha={};E=$jscomp.makeIterator(R.goto);for(var da=E.next();!da.done;ha={$jscomp$loop$prop$edge$231:ha.$jscomp$loop$prop$edge$231},da=E.next()){ha.$jscomp$loop$prop$edge$231=da.value;da=q[ha.$jscomp$loop$prop$edge$231.term.id]||(q[ha.$jscomp$loop$prop$edge$231.term.id]=[]);var na=da.find(function(sa){return function(La){return La.target==sa.$jscomp$loop$prop$edge$231.target.id}}(ha));na?na.parents.push(R.id):da.push({parents:[R.id],target:ha.$jscomp$loop$prop$edge$231.target.id})}l[R.id]=R.set.filter(function(sa){return 0<
sa.pos&&!sa.rule.name.top}).sort(function(sa,La){return La.pos-sa.pos||sa.rule.parts.length-La.rule.parts.length})}var pa=Object.create(null);r=$jscomp.makeIterator(b);for(E=r.next();!E.done;E=r.next())R=E.value,R.defaultReduce&&0<R.defaultReduce.parts.length&&(g[R.id]=Db(R.defaultReduce,R.partOfSkip),1==R.defaultReduce.parts.length&&(pa[R.id]=R.defaultReduce.name.id));for(r=1;;r++){R=!0;ha=$jscomp.makeIterator(b);for(E=ha.next();!E.done;E=ha.next())if(E=E.value,!E.defaultReduce)if(da=l[E.id],da.length!=
r)da.length>r&&(R=!1);else for(da=$jscomp.makeIterator(da),na=da.next();!na.done;na=da.next())if(na=na.value,1!=na.pos||!e(na.rule.name.id,E.id)){g[E.id]=Db(na.rule,E.partOfSkip,na.pos);1==na.pos&&(pa[E.id]=na.rule.name.id);break}if(R)break}return g};ub.prototype.finishState=function(b,e,g,l,q,r,E,R){var ha=[],da=b.defaultReduce?Db(b.defaultReduce,b.partOfSkip):0;r=(r?1:0)|(-1<b.nested?4|b.nested<<10:0);var na=-1;if(0==da)for(var pa=$jscomp.makeIterator(b.actions),sa=pa.next();!sa.done;sa=pa.next())if(sa=
sa.value,sa instanceof cc)ha.push(sa.term.id,sa.target.id,0);else{var La=Db(sa.rule,b.partOfSkip);b.partOfSkip&&sa.term.eof?na=La:ha.push(sa.term.id,La&65535,La>>16)}-1<na&&ha.push(0,na&65535,na>>16);ha.push(65535);b.set.some(function(Ia){return Ia.rule.name.top&&Ia.pos==Ia.rule.parts.length})&&(r|=2);na=[];for(pa=0;pa<b.actions.length+q.length;pa++)for(sa=pa<b.actions.length?b.actions[pa].term:q[pa-b.actions.length];;)if((sa=this.tokenOrigins[sa.name])&&sa.spec)sa=sa.spec;else{sa&&sa.external instanceof
Gc&&Ob(na,sa.external);break}na.sort(function(Ia,Ya){return Ia.ast.start-Ya.ast.start});for(pa=q=0;pa<e.length;pa++)if(sa=e[pa],sa instanceof uc?na.includes(sa.set):sa.id==b.tokenGroup)q|=1<<pa;b=6*b.id;R[b+0]=r;R[b+1]=g.storeArray(ha);R[b+2]=l;R[b+3]=q;R[b+4]=da;R[b+5]=E};ub.prototype.substituteArgs=function(b,e,g){var l=this;return 0==e.length?b:b.walk(function(q){var r;if(q instanceof Fb&&!q.namespace&&-1<(r=g.findIndex(function(R){return R.name==q.id.name}))){r=e[r];if(q.args.length){if(r instanceof
Fb&&!r.args.length)return new Fb(q.start,r.namespace,r.id,q.args);l.raise("Passing arguments to a parameter that already has arguments",q.start)}return r}if(q instanceof X){r=q.rule;var E=l.substituteArgsInProps(r.props,e,g);return E==r.props?q:new X(q.start,new Ua(r.start,r.id,r.exported,E,r.params,r.expr))}return q instanceof G?(r=l.substituteArgsInProps(q.props,e,g),r==q.props?q:new G(q.start,q.type,r,q.token,q.content)):q})};ub.prototype.substituteArgsInProps=function(b,e,g){for(var l=this,q=
function(da){for(var na=da,pa={},sa=0;sa<da.length;pa={$jscomp$loop$prop$part$233:pa.$jscomp$loop$prop$part$233},sa++)if(pa.$jscomp$loop$prop$part$233=da[sa],pa.$jscomp$loop$prop$part$233.name){var La=g.findIndex(function(Ia){return function(Ya){return Ya.name==Ia.$jscomp$loop$prop$part$233.name}}(pa));0>La||(na==da&&(na=da.slice()),La=e[La],La instanceof Fb&&!La.namespace&&!La.args.length?na[sa]=new bb(pa.$jscomp$loop$prop$part$233.start,La.id.name,null):La instanceof Ma?na[sa]=new bb(pa.$jscomp$loop$prop$part$233.start,
La.value,null):l.raise("Trying to interpolate expression '"+La+"' into a prop",pa.$jscomp$loop$prop$part$233.start))}return na},r=b,E=0;E<b.length;E++){var R=b[E],ha=q(R.value);ha!=R.value&&(r==b&&(r=b.slice()),r[E]=new jb(R.start,R.name,ha))}return r};ub.prototype.conflictsFor=function(b){var e=Mb.none,g=Mb.none,l={};b=$jscomp.makeIterator(b);for(var q=b.next();!q.done;l={$jscomp$loop$prop$marker$235:l.$jscomp$loop$prop$marker$235},q=b.next())if(l.$jscomp$loop$prop$marker$235=q.value,"ambig"==l.$jscomp$loop$prop$marker$235.type)e=
e.join(new Mb(0,[l.$jscomp$loop$prop$marker$235.id.name]));else{var r=this.ast.precedences,E=r?r.items.findIndex(function(R){return function(ha){return ha.id.name==R.$jscomp$loop$prop$marker$235.id.name}}(l)):-1;0>E&&this.raise("Reference to unknown precedence: '"+l.$jscomp$loop$prop$marker$235.id.name+"'",l.$jscomp$loop$prop$marker$235.id.start);q=r.items[E];r=r.items.length-E;"cut"==q.type?e=e.join(new Mb(0,rb,r)):(e=e.join(new Mb(r<<2)),g=g.join(new Mb((r<<2)+("left"==q.type?1:"right"==q.type?
-1:0))))}return{here:e,atEnd:g}};ub.prototype.raise=function(b,e){return this.input.raise(b,void 0===e?1:e)};ub.prototype.warn=function(b,e){b=this.input.message(b,void 0===e?-1:e);this.options.warn?this.options.warn(b):console.warn(b)};ub.prototype.defineRule=function(b,e){var g=this.currentSkip[this.currentSkip.length-1];e=$jscomp.makeIterator(e);for(var l=e.next();!l.done;l=e.next())l=l.value,this.rules.push(new mc(b,l.terms,l.ensureConflicts(),g));return b};ub.prototype.resolve=function(b){if(b.namespace){var e=
this.namespaces[b.namespace.name];e||this.raise("Reference to undefined namespace '"+b.namespace.name+"'",b.start);return e.resolve(b,this)}e=$jscomp.makeIterator(this.built);for(var g=e.next();!g.done;g=e.next())if(g=g.value,g.matches(b))return[ob(g.term)];if(e=this.tokens.getToken(b))return[ob(e)];e=$jscomp.makeIterator(this.externalTokens);for(g=e.next();!g.done;g=e.next())if(g=g.value.getToken(b))return[ob(g)];e=$jscomp.makeIterator(this.externalSpecializers);for(g=e.next();!g.done;g=e.next())if(g=
g.value.getToken(b))return[ob(g)];e=this.astRules.find(function(l){return l.rule.id.name==b.id.name});if(!e)return this.raise("Reference to undefined rule '"+b.id.name+"'",b.start);e.rule.params.length!=b.args.length&&this.raise("Wrong number or arguments for '"+b.id.name+"'",b.start);this.used(e.rule.id.name);return[ob(this.buildRule(e.rule,b.args,e.skip))]};ub.prototype.normalizeRepeat=function(b){var e=this.built.find(function(q){return q.matchesRepeat(b)});if(e)return ob(e.term);var g=this.terms.makeRepeat(this.terms.uniqueName(b.expr instanceof
ia||b.expr instanceof oa?"("+b.expr+")"+b.kind:b.toString()));e=g.inner;g=g.outer;this.defineRule(g,"*"==b.kind?[Yb.none,ob(e)]:[ob(e)]);this.built.push(new xc(b.kind,[b.expr],g));var l=this.normalizeExpr(b.expr);l.push(new Yb([e,e],[Mb.none,new Mb(2E8-1,rb),new Mb(2E8,rb)]));this.defineRule(e,l);return ob(g)};ub.prototype.normalizeSequence=function(b){function e(r,E,R){var ha=q.conflictsFor(b.markers[E]),da=ha.here;ha=ha.atEnd;if(E==l.length)return[r.withConflicts(r.terms.length,da.join(R))];for(var na=
[],pa=$jscomp.makeIterator(l[E]),sa=pa.next();!sa.done;sa=pa.next()){sa=$jscomp.makeIterator(e(r.concat(sa.value).withConflicts(r.terms.length,da),E+1,R.join(ha)));for(var La=sa.next();!La.done;La=sa.next())na.push(La.value)}return na}var g=this,l=b.exprs.map(function(r){return g.normalizeExpr(r)}),q=this;return e(Yb.none,0,Mb.none)};ub.prototype.normalizeExpr=function(b){var e=this;return b instanceof ra&&"?"==b.kind?[Yb.none].concat($jscomp.arrayFromIterable(this.normalizeExpr(b.expr))):b instanceof
ra?[this.normalizeRepeat(b)]:b instanceof oa?b.exprs.reduce(function(g,l){return g.concat(e.normalizeExpr(l))},[]):b instanceof ia?this.normalizeSequence(b):b instanceof Ma?[ob(this.tokens.getLiteral(b))]:b instanceof Fb?this.resolve(b):b instanceof G?[ob(this.resolveSpecialization(b))]:b instanceof X?[ob(this.buildRule(b.rule,rb,this.currentSkip[this.currentSkip.length-1],!0))]:this.raise("This type of expression ('"+b+"') may not occur in non-token rules",b.start)};ub.prototype.buildRule=function(b,
e,g,l){l=void 0===l?!1:l;var q=this.substituteArgs(b.expr,e,b.params),r=this.nodeInfo(b.props||rb,b.id.name,e,b.params,b.expr),E=r.name;r=r.props;b.exported&&b.params.length&&this.warn("Can't export parameterized rules",b.start);r=this.newName(b.id.name+(e.length?"\x3c"+e.join(",")+"\x3e":""),E||!0,r);(r.nodeType||b.exported)&&0==b.params.length&&(E||(r.preserve=!0),this.namedTerms[b.id.name]=r);l||this.built.push(new xc(b.id.name,e,r));this.currentSkip.push(g);b=this.defineRule(r,this.normalizeExpr(q));
this.currentSkip.pop();return b};ub.prototype.nodeInfo=function(b,e,g,l,q,r){g=void 0===g?rb:g;l=void 0===l?rb:l;e=this.nodeInfoInner(b,void 0===e?null:e,g,l,q,r);null!=e.dialect&&this.raise("Can't specify a dialect on non-token rules",b[0].start);return e};ub.prototype.nodeInfoInner=function(b,e,g,l,q,r){e=void 0===e?null:e;g=void 0===g?rb:g;l=void 0===l?rb:l;var E=Pb,R;if(R=e)R=e[0],R=!("_"==R||R.toUpperCase()!=R);e=R&&!/ /.test(e)?e:null;R=null;for(var ha=$jscomp.makeIterator(b),da=ha.next();!da.done;da=
ha.next())da=da.value,"name"==da.name?(e=this.finishProp(da,g,l),/ /.test(e)&&this.raise("Node names cannot have spaces ('"+e+"')",da.start)):"dialect"==da.name?(1==da.value.length||da.value[0].value||this.raise("The 'dialect' rule prop must hold a plain string value"),R=this.dialects.indexOf(da.value[0].value),0>R&&this.raise("Unknown dialect '"+da.value[0].value+"'",da.value[0].start)):fc.includes(da.name)?this.raise("Prop name '"+da.name+"' is reserved",da.start):this.knownProps[da.name]?(E==Pb&&
(E=Object.create(null)),E[da.name]=this.finishProp(da,g,l)):this.raise("Unknown prop name '"+da.name+"'",da.start);q&&this.ast.autoDelim&&(e||E!=Pb)&&(g=this.findDelimiters(q))&&(Kb(g[0],"closedBy",g[1].nodeName),Kb(g[1],"openedBy",g[0].nodeName));if(r&&r!=Pb){E==Pb&&(E=Object.create(null));for(var na in r)na in E||(E[na]=r[na])}E==Pb||e||E.top||this.raise("Node has properties but no name",b.length?b[0].start:q.start);return{name:e,props:E,dialect:R}};ub.prototype.finishProp=function(b,e,g){var l=
this;return b.value.map(function(q){if(q.value)return q.value;var r=g.findIndex(function(E){return E.name==q.name});0>r&&l.raise("Property refers to '"+q.name+"', but no parameter by that name is in scope",q.start);r=e[r];return r instanceof Fb&&!r.args.length&&!r.namespace?r.id.name:r instanceof Ma?r.value:l.raise("Expression '"+r+"' can not be used as part of a property value",q.start)}).join("")};ub.prototype.resolveSpecialization=function(b){var e=b.type,g=this.nodeInfoInner(b.props),l=g.name,
q=g.props;g=g.dialect;var r=this.normalizeExpr(b.token);1==r.length&&1==r[0].terms.length&&r[0].terms[0].terminal||this.raise("The first argument to '"+e+"' must resolve to a token",b.token.start);if(b.content instanceof Ma)var E=[b.content.value];else if(b.content instanceof oa&&b.content.exprs.every(function(pa){return pa instanceof Ma}))E=b.content.exprs.map(function(pa){return pa.value});else return this.raise("The second argument to '"+b.type+"' must be a literal or choice of literals",b.content.start);
r=r[0].terms[0];var R=null,ha=this.specialized[r.name]||(this.specialized[r.name]=[]),da={};E=$jscomp.makeIterator(E);for(var na=E.next();!na.done;da={$jscomp$loop$prop$value$237:da.$jscomp$loop$prop$value$237},na=E.next())da.$jscomp$loop$prop$value$237=na.value,na=ha.find(function(pa){return function(sa){return sa.value==pa.$jscomp$loop$prop$value$237}}(da)),null==na?(R||(R=this.makeTerminal(r.name+"/"+JSON.stringify(da.$jscomp$loop$prop$value$237),l,q),null!=g&&(this.tokens.byDialect[g]||(this.tokens.byDialect[g]=
[])).push(R)),ha.push({value:da.$jscomp$loop$prop$value$237,term:R,type:e,dialect:g}),this.tokenOrigins[R.name]={spec:r}):(na.type!=e&&this.raise("Conflicting specialization types for "+JSON.stringify(da.$jscomp$loop$prop$value$237)+" of "+r.name+" ("+e+" vs "+na.type+")",b.start),na.dialect!=g&&this.raise("Conflicting dialects for specialization "+JSON.stringify(da.$jscomp$loop$prop$value$237)+" of "+r.name,b.start),R&&na.term!=R&&this.raise("Conflicting specialization tokens for "+JSON.stringify(da.$jscomp$loop$prop$value$237)+
" of "+r.name,b.start),R=na.term);return R};ub.prototype.findDelimiters=function(b){var e=this;if(!(b instanceof ia)||2>b.exprs.length)return null;var g=function(r){if(r instanceof Ma)return{term:e.tokens.getLiteral(r),str:r.value};if(r instanceof Fb&&0==r.args.length){var E=e.ast.rules.find(function(R){return R.id.name==r.id.name});if(E)return g(E.expr);if((E=e.tokens.rules.find(function(R){return R.id.name==r.id.name}))&&E.expr instanceof Ma)return{term:e.tokens.getToken(r),str:E.expr.value}}return null},
l=g(b.exprs[b.exprs.length-1]);if(!l||!l.term.nodeName)return null;var q=["()","[]","{}","\x3c\x3e"].find(function(r){return-1<l.str.indexOf(r[1])&&0>l.str.indexOf(r[0])});if(!q)return null;b=g(b.exprs[0]);return!b||!b.term.nodeName||0>b.str.indexOf(q[0])||-1<b.str.indexOf(q[1])?null:[b.term,l.term]};var fc=["error","repeated"],Ac=function(){this.data=[]};Ac.prototype.storeArray=function(b){a:{var e=this.data;var g=0;b:for(;;){g=e.indexOf(b[0],g);if(-1==g||g+b.length>e.length)break;for(var l=1;l<
b.length;l++)if(b[l]!=e[g+l]){g+=1;continue b}e=g;break a}e=-1}if(-1<e)return e;e=this.data.length;b=$jscomp.makeIterator(b);for(g=b.next();!g.done;g=b.next())this.data.push(g.value);return e};Ac.prototype.finish=function(){return Uint16Array.from(this.data)};var gd=function(b,e){this.tokens=b;this.id=e},Vc=function(b,e,g,l,q){this.placeholder=b;this.name=e;this.extName=g;this.source=l;this.end=q},Pc=function(){};Pc.prototype.resolve=function(b,e){2<b.args.length&&e.raise("Too many arguments to 'nest."+
b.id.name+"'",b.start);var g=$jscomp.makeIterator(b.args),l=g.next().value,q=g.next().value;g=e.ast.grammars.find(function(R){return R.id.name==b.id.name});if(!g)return e.raise("No external grammar '"+b.id.name+"' defined",b.id.start);var r=e.newName(b.id.name+"-placeholder",!0);e.defineRule(r,q?e.normalizeExpr(q):[]);if(!l&&!(l=lc(e.ast,b)))return e.raise("No end token specified, and no token found directly after the nest expression",b.start);q=new sb;var E=new sb([e.terms.eof]);try{e.tokens.build(l,
q,E,rb)}catch(R){if(!(R instanceof SyntaxError))throw R;e.raise("End token '"+l+"' for nested grammar is not a valid token expression",l.start)}e.nestedGrammars.push(new Vc(r,g.id.name,g.externalID.name,g.source,q));e.nestedGrammars.length>=Math.pow(2,20)&&e.raise("Too many nested grammars used");return[ob(r)]};var Uc=function(b,e,g){this.name=b;this.expr=e;this.scope=g},pc=function(b,e,g,l){this.name=b;this.start=e;this.to=g;this.args=l},xb=function(b,e){this.b=b;this.ast=e;this.startState=new sb;
this.built=[];this.building=[];this.byDialect=Object.create(null);this.precedences=[];this.precedenceRelations=[];this.rules=e?e.rules:rb;b=$jscomp.makeIterator(this.rules);for(e=b.next();!e.done;e=b.next())this.b.unique(e.value.id)};xb.prototype.getToken=function(b){for(var e=$jscomp.makeIterator(this.built),g=e.next();!g.done;g=e.next())if(g=g.value,g.matches(b))return g.term;var l=b.id.name;e=this.rules.find(function(r){return r.id.name==l});if(!e)return null;var q=this.b.nodeInfoInner(e.props,
l,b.args,e.params.length!=b.args.length?rb:e.params);g=q.dialect;q=this.b.makeTerminal(b.toString(),q.name,q.props);null!=g&&(this.byDialect[g]||(this.byDialect[g]=[])).push(q);(q.nodeType||e.exported)&&0==e.params.length&&(q.nodeType||(q.preserve=!0),this.b.namedTerms[l]=q);this.buildRule(e,b,this.startState,new sb([q]));this.built.push(new xc(l,b.args,q));return q};xb.prototype.getLiteral=function(b){for(var e=JSON.stringify(b.value),g=$jscomp.makeIterator(this.built),l=g.next();!l.done;l=g.next())if(l=
l.value,l.id==e)return l.term;g=null;l=Pb;var q=null,r=this.ast?this.ast.literals.find(function(E){return E.literal==b.value}):null;r&&(q=this.b.nodeInfoInner(r.props,b.value),g=q.name,l=q.props,q=q.dialect);g=this.b.makeTerminal(e,g,l);null!=q&&(this.byDialect[q]||(this.byDialect[q]=[])).push(g);this.build(b,this.startState,new sb([g]),rb);this.built.push(new xc(e,rb,g));return g};xb.prototype.buildRule=function(b,e,g,l,q){q=void 0===q?rb:q;var r=e.id.name;b.params.length!=e.args.length&&this.b.raise("Incorrect number of arguments for token '"+
r+"'",e.start);var E=this.building.find(function(R){return R.name==r&&Ea(e.args,R.args)});if(E){if(E.to==l){g.nullEdge(E.start);return}for(E=this.building.length-1;this.building[E].name!=r;)E--;this.b.raise("Invalid (non-tail) recursion in token rules: "+this.building.slice(E).map(function(R){return R.name}).join(" -\x3e "),e.start)}this.b.used(b.id.name);E=new sb;g.nullEdge(E);this.building.push(new pc(r,E,l,e.args));this.build(this.b.substituteArgs(b.expr,e.args,b.params),E,l,e.args.map(function(R,
ha){return new Uc(b.params[ha].name,R,q)}));this.building.pop()};xb.prototype.build=function(b,e,g,l){if(b instanceof Fb){if(b.namespace){if("std"==b.namespace.name)return this.buildStd(b,e,g);this.b.raise("Unknown namespace '"+b.namespace.name+"'",b.start)}var q=b.id.name,r=l.find(function(R){return R.name==q});if(r)return this.build(r.expr,e,g,r.scope);r=this.rules.find(function(R){return R.id.name==q});if(!r)return this.b.raise("Reference to rule '"+b.id.name+"', which isn't found in this token group",
b.start);this.buildRule(r,b,e,g,l)}else if(b instanceof oa)for(b=$jscomp.makeIterator(b.exprs),r=b.next();!r.done;r=b.next())this.build(r.value,e,g,l);else if(H(b))e.nullEdge(g);else if(b instanceof ia)for((r=b.markers.find(function(R){return 0<R.length}))&&this.b.raise("Conflict marker in token expression",r[0].start),r=0;r<b.exprs.length;r++){var E=r==b.exprs.length-1?g:new sb;this.build(b.exprs[r],e,E,l);e=E}else if(b instanceof ra)"*"==b.kind?(r=new sb,e.nullEdge(r),this.build(b.expr,r,r,l),r.nullEdge(g)):
"+"==b.kind?(r=new sb,this.build(b.expr,e,r,l),this.build(b.expr,r,r,l),r.nullEdge(g)):(e.nullEdge(g),this.build(b.expr,e,g,l));else if(b instanceof gb)for(b=$jscomp.makeIterator(b.inverted?Y(b.ranges):b.ranges),l=b.next();!l.done;l=b.next())r=$jscomp.makeIterator(l.value),l=r.next().value,r=r.next().value,F(e,g,l,r);else if(b instanceof Ma)for(l=0;l<b.value.length;l++)r=b.value.charCodeAt(l),E=l==b.value.length-1?g:new sb,e.edge(r,r+1,E),e=E;else if(b instanceof ib)e.edge(0,65535,g);else return this.b.raise("Unrecognized expression type in token",
b.start)};xb.prototype.buildStd=function(b,e,g){b.args.length&&this.b.raise("'std."+b.id.name+"' does not take arguments",b.args[0].start);Jc.hasOwnProperty(b.id.name)||this.b.raise("There is no builtin rule 'std."+b.id.name+"'",b.start);b=$jscomp.makeIterator(Jc[b.id.name]);for(var l=b.next();!l.done;l=b.next()){var q=$jscomp.makeIterator(l.value);l=q.next().value;q=q.next().value;e.edge(l,q,g)}};xb.prototype.tokenizer=function(b,e){var g=this.startState.compile();g.accepting.length&&this.b.raise("Grammar contains zero-length tokens (in '"+
g.accepting[0].name+"')",this.rules.find(function(l){return l.id.name==g.accepting[0].name}).start);/\btokens\b/.test(Nc)&&console.log(g.toString());return g.toArray(b,e)};xb.prototype.takePrecedences=function(){var b=[];if(this.ast)for(var e={},g=$jscomp.makeIterator(this.ast.precedences),l=g.next();!l.done;e={$jscomp$loop$prop$terms$242:e.$jscomp$loop$prop$terms$242},l=g.next()){var q=l.value;e.$jscomp$loop$prop$terms$242=[];l={};q=$jscomp.makeIterator(q.items);for(var r=q.next();!r.done;l={$jscomp$loop$prop$item$239:l.$jscomp$loop$prop$item$239,
$jscomp$loop$prop$id$240:l.$jscomp$loop$prop$id$240},r=q.next())l.$jscomp$loop$prop$item$239=r.value,r=void 0,l.$jscomp$loop$prop$item$239 instanceof Fb?r=this.built.find(function(R){return function(ha){return ha.matches(R.$jscomp$loop$prop$item$239)}}(l)):(l.$jscomp$loop$prop$id$240=JSON.stringify(l.$jscomp$loop$prop$item$239.value),r=this.built.find(function(R){return function(ha){return ha.id==R.$jscomp$loop$prop$id$240}}(l))),r?e.$jscomp$loop$prop$terms$242.push(r.term):this.b.warn("Precedence specified for unknown token "+
l.$jscomp$loop$prop$item$239,l.$jscomp$loop$prop$item$239.start);for(l={$jscomp$loop$prop$i$244:0};l.$jscomp$loop$prop$i$244<e.$jscomp$loop$prop$terms$242.length;l={$jscomp$loop$prop$i$244:l.$jscomp$loop$prop$i$244},l.$jscomp$loop$prop$i$244++)if(q=b.find(function(R,ha){return function(da){return da.term==R.$jscomp$loop$prop$terms$242[ha.$jscomp$loop$prop$i$244]}}(e,l)))for(r=0;r<l.$jscomp$loop$prop$i$244;r++)Ob(q.after,e.$jscomp$loop$prop$terms$242[r]);else b.push(q={term:e.$jscomp$loop$prop$terms$242[l.$jscomp$loop$prop$i$244],
after:e.$jscomp$loop$prop$terms$242.slice(0,l.$jscomp$loop$prop$i$244)})}this.precedenceRelations=b.slice();var E=[];a:for(;;){for(e=0;e<b.length;e++)if(g=b[e],g.after.every(function(R){return E.includes(R)})){E.push(g.term);g=b.pop();e<b.length&&(b[e]=g);continue a}b.length&&this.b.raise("Cyclic token precedence relation between "+b.map(function(R){return R.term}).join(", "));break}this.precedences=E};xb.prototype.precededBy=function(b,e){var g=this.precedenceRelations.find(function(l){return l.term==
b});return g&&g.after.includes(e)};xb.prototype.buildTokenGroups=function(b,e,g){var l=this,q=[],r=this.startState.compile().findConflicts(Lb(b,this.b,g)).filter(function(da){var na=da.a;da=da.b;Ob(q,na);Ob(q,da);return!l.precededBy(na,da)&&!l.precededBy(da,na)}),E=[],R=function(da){if(!da.defaultReduce){for(var na=[],pa=!1,sa=[],La=da.skip==l.b.noSkip?rb:g[l.b.skipRules.indexOf(da.skip)],Ia={},Ya=$jscomp.makeIterator(La),Za=Ya.next();!Za.done;Ia={$jscomp$loop$prop$term$246:Ia.$jscomp$loop$prop$term$246},
Za=Ya.next())Ia.$jscomp$loop$prop$term$246=Za.value,da.actions.some(function(pb){return function(yb){return yb.term==pb.$jscomp$loop$prop$term$246}}(Ia))&&l.b.raise("Use of token "+Ia.$jscomp$loop$prop$term$246.name+" conflicts with skip rule");for(Za=0;Za<da.actions.length+(La?La.length:0);Za++){Ia=Za<da.actions.length?da.actions[Za].term:La[Za-da.actions.length];if((Ya=l.b.tokenOrigins[Ia.name])&&Ya.spec){if(na.includes(Ya.spec))continue;Ia=Ya.spec}else if(Ya&&Ya.external)continue;pa=!0;Ya=!1;for(var kb=
{},qb=$jscomp.makeIterator(r),hb=qb.next();!hb.done;kb={$jscomp$loop$prop$conflicting$248:kb.$jscomp$loop$prop$conflicting$248},hb=qb.next())hb=hb.value,kb.$jscomp$loop$prop$conflicting$248=hb.a==Ia?hb.b:hb.b==Ia?hb.a:null,kb.$jscomp$loop$prop$conflicting$248&&(Ya=!0,sa.includes(kb.$jscomp$loop$prop$conflicting$248)||(da.actions.some(function(pb){return function(yb){return yb.term==pb.$jscomp$loop$prop$conflicting$248}}(kb))&&l.b.raise("Overlapping tokens "+Ia.name+" and "+kb.$jscomp$loop$prop$conflicting$248.name+
" used in same context (example: "+(JSON.stringify(hb.exampleA)+(hb.exampleB?" vs "+JSON.stringify(hb.exampleB):"")+")\n\n")),sa.push(kb.$jscomp$loop$prop$conflicting$248)));Ya&&na.push(Ia)}if(pa){La=null;pa={};Za=$jscomp.makeIterator(E);for(Ia=Za.next();!Ia.done;pa={$jscomp$loop$prop$group$250:pa.$jscomp$loop$prop$group$250},Ia=Za.next())if(pa.$jscomp$loop$prop$group$250=Ia.value,!sa.some(function(pb){return function(yb){return pb.$jscomp$loop$prop$group$250.tokens.includes(yb)}}(pa))){sa=$jscomp.makeIterator(na);
for(Za=sa.next();!Za.done;Za=sa.next())Ob(pa.$jscomp$loop$prop$group$250.tokens,Za.value);La=pa.$jscomp$loop$prop$group$250;break}La||(La=new gd(na,E.length),E.push(La));da.tokenGroup=La.id}}},ha=$jscomp.makeIterator(b);for(b=ha.next();!b.done;b=ha.next())R(b.value);e=$jscomp.makeIterator(e);for(b=e.next();!b.done;b=e.next())if(b=b.value)for(ha=$jscomp.makeIterator(b),b=ha.next();!b.done;b=ha.next())R(b.value);16<E.length&&this.b.raise("Too many different token groups ("+E.length+") to represent them as a 16-bit bitfield");
R=this.precedences.filter(function(da){return q.includes(da)}).map(function(da){return da.id});return{tokenMasks:hc(E),tokenGroups:E,tokenPrec:R}};var Jc={asciiLetter:[[65,91],[97,123]],asciiLowercase:[[97,123]],asciiUppercase:[[65,91]],digit:[[48,58]],whitespace:[[9,14],[32,33],[133,134],[160,161],[5760,5761],[8192,8203],[8232,8234],[8239,8240],[8287,8288],[12288,12289]]},Gc=function(b,e){this.b=b;this.ast=e;this.tokens=C(b,e.tokens);for(var g in this.tokens)this.b.tokenOrigins[this.tokens[g].name]=
{external:this}};Gc.prototype.getToken=function(b){return S(this.b,this.tokens,b)};var Hc=function(b,e){this.b=b;this.ast=e;this.term=null;this.tokens=C(b,e.tokens)};Hc.prototype.finish=function(){var b=this.b.normalizeExpr(this.ast.token);1==b.length&&1==b[0].terms.length&&b[0].terms[0].terminal||this.b.raise("The token expression to '@external "+this.ast.type+"' must resolve to a token",this.ast.token.start);this.term=b[0].terms[0];for(var e in this.tokens)this.b.tokenOrigins[this.tokens[e].name]=
{spec:this.term,external:this}};Hc.prototype.getToken=function(b){return S(this.b,this.tokens,b)};var uc=function(b,e){this.set=b;this.terms=e;this._inner=null};uc.prototype.token=function(b,e,g){this.inner.token(b,e,g)};$jscomp.global.Object.defineProperties(uc.prototype,{inner:{configurable:!0,enumerable:!0,get:function(){if(!this._inner){var b=this.set.b.options.externalTokenizer;this._inner=b?b(this.set.ast.id.name,this.terms):null;if(!this._inner)return this.set.b.raise("Using external tokenizer without passing externalTokenizer option")}return this._inner}},
contextual:{configurable:!0,enumerable:!0,get:function(){return this.inner.contextual}},fallback:{configurable:!0,enumerable:!0,get:function(){return this.inner.fallback}}});var yc="break case catch continue debugger default do else finally for function if return switch throw try var while with null true false instanceof typeof void delete new in this const class extends export import super enum implements interface let package private protected public static yield".split(" ");D.GenError=Xb;D.buildParser=
function(b,e){e=void 0===e?{}:e;return(new ub(b,e)).getParser()};D.buildParserFile=function(b,e){function g(ab){return"{__proto__:null,"+Object.keys(ab).map(function(mb){return(/\W/.test(mb)?JSON.stringify(mb):mb)+":"+ab[mb]}).join(", ")+"}"}function l(ab){return"string"!=typeof ab||/^(true|false|\d+(\.\d+)?|\.\d+)$/.test(ab)?ab:JSON.stringify(ab)}e=void 0===e?{}:e;var q=new ub(b,e),r=q.getParser(),E=e.moduleStyle||"cjs";b="// This file was generated by lezer-generator. You probably shouldn't edit it.\n"+
("cjs"==E?'const {Parser} \x3d require("lezer")\n':'import {Parser} from "lezer"\n');var R=null,ha={},da=Object.create(null),na=Object.create(null);na.Parser=!0;var pa=function(ab){for(var mb=0;;mb++){var nc=ab+(mb?"_"+mb:"");if(!na[nc])return nc}},sa=function(ab,mb,nc){var zc=ab+" from "+mb;if(da[zc])return da[zc];mb=JSON.stringify(mb);var rc=ab;ab in na&&(rc=pa(nc),ab+=("cjs"==E?":":" as")+" "+rc);(ha[mb]||(ha[mb]=[])).push(ab);return da[zc]=rc},La=r.tokenizers.map(function(ab){if(ab instanceof
uc)return ab=ab.set.ast,sa(ab.id.name,ab.source,"tok");R=ab.data;return ab.id}),Ia=r.nested.map(function(ab){var mb=ab.name,nc=ab.end,zc=ab.placeholder;ab=ab.grammar.spec;if(!ab)throw new Xb("Spec-less nested grammar in parser");return"["+JSON.stringify(mb)+", "+(ab.source?sa(ab.extName,ab.source,ab.name):"null")+","+Jb(nc.data)+", "+zc+"]"}),Ya=[],Za=[],kb=r.group.types.length-r.minRepeatTerm,qb=$jscomp.makeIterator(r.group.types),hb=qb.next();for(;!hb.done;hb=qb.next()){hb=hb.value;hb.id<r.minRepeatTerm&&
Ya.push(hb.name);for(var pb=hb.props.propData,yb={},Tb=0;Tb<pb.length;yb={$jscomp$loop$prop$propID$259:yb.$jscomp$loop$prop$propID$259},Tb+=2){var Wb=pb[Tb],Ic=pb[Tb+1];if(null!=Wb.from||"repeated"!=Wb.name&&"error"!=Wb.name)yb.$jscomp$loop$prop$propID$259=Wb.from?sa(Wb.name,Wb.from,"prop"):sa("NodeProp","lezer","NodeProp")+"."+Wb.name,(Wb=Za.find(function(ab){return function(mb){return mb.prop==ab.$jscomp$loop$prop$propID$259}}(yb)))||Za.push(Wb={prop:yb.$jscomp$loop$prop$propID$259,terms:[]}),Wb.terms.push(hb.id,
Ic)}}qb=[];hb=$jscomp.makeIterator(q.externalSpecializers);for(pb=hb.next();!pb.done;pb=hb.next())pb=pb.value,yb=sa(pb.ast.id.name,pb.ast.source,pb.ast.id.name),qb.push("{term: "+pb.term.id+", get: (value, stack) \x3d\x3e ("+yb+"(value, stack) \x3c\x3c 1)"+("extend"==pb.ast.type?" | 1":"")+"}");for(var Wa in ha)b="cjs"==E?b+("const {"+ha[Wa].join(", ")+"} \x3d require("+Wa+")\n"):b+("import {"+ha[Wa].join(", ")+"} from "+Wa+"\n");for(var vb in q.specialized)Wa=pa("spec"+vb),b+="const "+Wa+" \x3d "+
g(wb(q.specialized[vb]))+"\n",qb.push("{term: "+q.terms.names[vb].id+", get: value \x3d\x3e "+Wa+"[value] || -1}");vb=Object.keys(r.dialects).map(function(ab){return ab+": "+r.dialects[ab]});La="Parser.deserialize({\n  states: "+Jb(r.states,4294967295)+",\n  stateData: "+Jb(r.data)+",\n  goto: "+Jb(r.goto)+",\n  nodeNames: "+JSON.stringify(Ya.join(" "))+",\n  maxTerm: "+r.maxTerm+","+(Za.length?"\n  nodeProps: [\n    "+Za.map(function(ab){return"["+ab.prop+", "+ab.terms.map(l).join(",")+"]"}).join(",\n    ")+
"\n  ],":"")+"\n  repeatNodeCount: "+kb+",\n  tokenData: "+Jb(R||[])+",\n  tokenizers: ["+La.join(", ")+"],\n  topRules: "+JSON.stringify(r.topRules)+(Ia.length?",\n  nested: ["+Ia.join(", ")+"]":"")+(vb.length?",\n  dialects: {"+vb.join(", ")+"}":"")+(qb.length?",\n  specialized: ["+qb.join(",")+"]":"")+",\n  tokenPrec: "+r.tokenPrecTable+(e.includeNames?",\n  termNames: "+JSON.stringify(r.termNames):"")+"\n})";Ia=[];for(var Hb in q.termTable){Ya=Hb;if(yc.includes(Ya))for(Za=1;Ya="_".repeat(Za)+
Hb,Ya in q.termTable;Za++);Ia.push(""+Ya+("cjs"==E?":":" \x3d")+" "+q.termTable[Hb])}for(Hb=0;Hb<q.dialects.length;Hb++)Ia.push("Dialect_"+q.dialects[Hb]+("cjs"==E?":":" \x3d")+" "+Hb);e=e.exportName||"parser";return{parser:b+("cjs"==E?"exports."+e+" \x3d "+La+"\n":"export const "+e+" \x3d "+La+"\n"),terms:"cjs"==E?"// This file was generated by lezer-generator. You probably shouldn't edit it.\nmodule.exports \x3d {\n  "+Ia.join(",\n  ")+"\n}":"// This file was generated by lezer-generator. You probably shouldn't edit it.\nexport const\n  "+
Ia.join(",\n  ")+"\n"}}};
shadow$provide[15]=function(aa,va,Pa,D){function Aa(G,X){return O.EditorSelection.create(G.ranges.map(X),G.primaryIndex)}function Na(G,X){return G.update({selection:X,scrollIntoView:!0,annotations:O.Transaction.userEvent.of("keyboardselection")})}function Ea(G,X){var oa=G.state;G=G.dispatch;X=Aa(oa.selection,X);if(X.eq(oa.selection))return!1;G(Na(oa,X));return!0}function Va(G,X){return Ea(G,function(oa){return oa.empty?G.moveByChar(oa,X):O.EditorSelection.cursor(X?oa.to:oa.from)})}function Ba(G,X){return Ea(G,
function(oa){return oa.empty?G.moveByGroup(oa,X):O.EditorSelection.cursor(X?oa.to:oa.from)})}function Ca(G,X,oa){var ia=G.tree.resolve(X.head),qa=oa?w.NodeProp.closedBy:w.NodeProp.openedBy;for(X=X.head;;){var ra=oa?ia.childAfter(X):ia.childBefore(X);if(!ra)break;var Ma=G;var gb=ra;if(gb.type.prop(qa))Ma=!0;else{var ib=gb.end-gb.start;Ma=ib&&(2<ib||/[^\s,.;:]/.test(Ma.sliceDoc(gb.start,gb.end)))||gb.firstChild}Ma?ia=ra:X=oa?ra.end:ra.start}var jb;G=ia.type.prop(qa)&&(jb=oa?(0,z.matchBrackets)(G,ia.start,
1):(0,z.matchBrackets)(G,ia.end,-1))&&jb.matched?oa?jb.end.to:jb.end.from:oa?ia.end:ia.start;return O.EditorSelection.cursor(G,oa?-1:1)}function Ga(G,X){return Ea(G,function(oa){return G.moveVertically(oa,X)})}function Oa(G,X){return Ea(G,function(oa){return G.moveVertically(oa,X,G.dom.clientHeight)})}function ua(G,X,oa){var ia=G.visualLineAt(X.head),qa=G.moveToLineBoundary(X,oa);qa.head==X.head&&qa.head!=(oa?ia.to:ia.from)&&(qa=G.moveToLineBoundary(X,oa,!1));!oa&&qa.head==ia.from&&ia.length&&(G=
/^\s*/.exec(G.state.sliceDoc(ia.from,Math.min(ia.from+100,ia.to)))[0].length)&&X.head>ia.from+G&&(qa=O.EditorSelection.cursor(ia.from+G));return qa}function Fa(G,X,oa){var ia=!1,qa=Aa(G.selection,function(ra){var Ma=(0,z.matchBrackets)(G,ra.head,-1)||(0,z.matchBrackets)(G,ra.head,1)||0<ra.head&&(0,z.matchBrackets)(G,ra.head-1,1)||ra.head<G.doc.length&&(0,z.matchBrackets)(G,ra.head+1,-1);if(!Ma||!Ma.end)return ra;ia=!0;Ma=Ma.start.from==ra.head?Ma.end.to:Ma.end.from;return oa?O.EditorSelection.range(ra.anchor,
Ma):O.EditorSelection.cursor(Ma)});if(!ia)return!1;X(Na(G,qa));return!0}function ka(G,X){var oa=Aa(G.state.selection,function(ia){var qa=X(ia);return O.EditorSelection.range(ia.anchor,qa.head,qa.goalColumn)});if(oa.eq(G.state.selection))return!1;G.dispatch(Na(G.state,oa));return!0}function Qa(G,X){return ka(G,function(oa){return G.moveByChar(oa,X)})}function Ja(G,X){return ka(G,function(oa){return G.moveByGroup(oa,X)})}function la(G,X){return ka(G,function(oa){return G.moveVertically(oa,X)})}function ca(G,
X){return ka(G,function(oa){return G.moveVertically(oa,X,G.dom.clientHeight)})}function U(G,X){var oa=G.state.changeByRange(function(ia){var qa=ia.from,ra=ia.to;if(qa==ra){var Ma=X(qa);qa=Math.min(qa,Ma);ra=Math.max(ra,Ma)}return qa==ra?{range:ia}:{changes:{from:qa,to:ra},range:O.EditorSelection.cursor(qa)}});if(oa.changes.empty)return!1;G.dispatch(oa,{scrollIntoView:!0,annotations:O.Transaction.userEvent.of("delete")});return!0}function J(G){var X=[],oa=-1,ia=!0,qa=!1,ra=void 0;try{for(var Ma=G.selection.ranges[Symbol.iterator](),
gb;!(ia=(gb=Ma.next()).done);ia=!0){var ib=gb.value,jb=G.doc.lineAt(ib.from),bb=G.doc.lineAt(ib.to);oa==jb.number?X[X.length-1].to=bb.to:X.push({from:jb.from,to:bb.to});oa=bb.number}}catch(Xb){qa=!0,ra=Xb}finally{try{if(!ia&&null!=Ma["return"])Ma["return"]()}finally{if(qa)throw ra;}}return X}function u(G,X,oa){var ia=[],qa=!0,ra=!1,Ma=void 0;try{for(var gb=J(G)[Symbol.iterator](),ib;!(qa=(ib=gb.next()).done);qa=!0){var jb=ib.value;if(oa?jb.to!=G.doc.length:0!=jb.from){var bb=G.doc.lineAt(oa?jb.to+
1:jb.from-1);oa?ia.push({from:jb.to,to:bb.to},{from:jb.from,insert:bb.slice()+G.lineBreak}):ia.push({from:bb.from,to:jb.from},{from:jb.to,insert:G.lineBreak+bb.slice()})}}}catch(Xb){ra=!0,Ma=Xb}finally{try{if(!qa&&null!=gb["return"])gb["return"]()}finally{if(ra)throw Ma;}}if(!ia.length)return!1;X(G.update({changes:ia,scrollIntoView:!0}));return!0}function t(G,X,oa){var ia=[],qa=!0,ra=!1,Ma=void 0;try{for(var gb=J(G)[Symbol.iterator](),ib;!(qa=(ib=gb.next()).done);qa=!0){var jb=ib.value;oa?ia.push({from:jb.from,
insert:G.doc.slice(jb.from,jb.to)+G.lineBreak}):ia.push({from:jb.to,insert:G.lineBreak+G.doc.slice(jb.from,jb.to)})}}catch(bb){ra=!0,Ma=bb}finally{try{if(!qa&&null!=gb["return"])gb["return"]()}finally{if(ra)throw Ma;}}X(G.update({changes:ia,scrollIntoView:!0}));return!0}function B(G,X){var oa=!0,ia=!1,qa=void 0;try{for(var ra=G.state.facet(O.EditorState.indentation)[Symbol.iterator](),Ma;!(oa=(Ma=ra.next()).done);oa=!0){var gb=Ma.value,ib=gb(G,X);if(-1<ib)return ib}}catch(jb){ia=!0,qa=jb}finally{try{if(!oa&&
null!=ra["return"])ra["return"]()}finally{if(ia)throw qa;}}return-1}function L(G,X){var oa=-1;return G.changeByRange(function(ia){for(var qa=[],ra=G.doc.lineAt(ia.from);;){ra.number>oa&&(X(ra,qa,ia),oa=ra.number);if(ia.to<=ra.to)break;ra=G.doc.lineAt(ra.to+1)}ra=G.changes(qa);return{changes:qa,range:O.EditorSelection.range(ra.mapPos(ia.anchor,1),ra.mapPos(ia.head,1))}})}Object.defineProperty(D,"__esModule",{value:!0});D.transposeChars=D.standardKeymap=D.splitLine=D.simplifySelection=D.selectSyntaxRight=
D.selectSyntaxLeft=D.selectParentSyntax=D.selectPageUp=D.selectPageDown=D.selectMatchingBracket=D.selectLineUp=D.selectLineStart=D.selectLineEnd=D.selectLineDown=D.selectLineBoundaryForward=D.selectLineBoundaryBackward=D.selectLine=D.selectGroupRight=D.selectGroupLeft=D.selectGroupForward=D.selectGroupBackward=D.selectDocStart=D.selectDocEnd=D.selectCharRight=D.selectCharLeft=D.selectCharForward=D.selectCharBackward=D.selectAll=D.moveLineUp=D.moveLineDown=D.insertNewlineAndIndent=D.insertNewline=
D.indentSelection=D.indentMore=D.indentLess=D.emacsStyleKeymap=D.deleteTrailingWhitespace=D.deleteToLineEnd=D.deleteLine=D.deleteGroupForward=D.deleteGroupBackward=D.deleteCharForward=D.deleteCharBackward=D.defaultKeymap=D.cursorSyntaxRight=D.cursorSyntaxLeft=D.cursorPageUp=D.cursorPageDown=D.cursorMatchingBracket=D.cursorLineUp=D.cursorLineStart=D.cursorLineEnd=D.cursorLineDown=D.cursorLineBoundaryForward=D.cursorLineBoundaryBackward=D.cursorGroupRight=D.cursorGroupLeft=D.cursorGroupForward=D.cursorGroupBackward=
D.cursorDocStart=D.cursorDocEnd=D.cursorCharRight=D.cursorCharLeft=D.cursorCharForward=D.cursorCharBackward=D.copyLineUp=D.copyLineDown=void 0;var O=va(2),A=va(0),n=va(6),z=va(10),w=va(1),p=function(G){return Va(G,G.textDirection!=n.Direction.LTR)};D.cursorCharLeft=p;var v=function(G){return Va(G,G.textDirection==n.Direction.LTR)};D.cursorCharRight=v;D.cursorCharForward=function(G){return Va(G,!0)};D.cursorCharBackward=function(G){return Va(G,!1)};var x=function(G){return Ba(G,G.textDirection!=n.Direction.LTR)};
D.cursorGroupLeft=x;var N=function(G){return Ba(G,G.textDirection==n.Direction.LTR)};D.cursorGroupRight=N;var T=function(G){return Ba(G,!0)};D.cursorGroupForward=T;var Q=function(G){return Ba(G,!1)};D.cursorGroupBackward=Q;aa=function(G){return Ea(G,function(X){return Ca(G.state,X,G.textDirection!=n.Direction.LTR)})};D.cursorSyntaxLeft=aa;va=function(G){return Ea(G,function(X){return Ca(G.state,X,G.textDirection==n.Direction.LTR)})};D.cursorSyntaxRight=va;var I=function(G){return Ga(G,!1)};D.cursorLineUp=
I;var M=function(G){return Ga(G,!0)};D.cursorLineDown=M;var P=function(G){return Oa(G,!1)};D.cursorPageUp=P;var Z=function(G){return Oa(G,!0)};D.cursorPageDown=Z;var ja=function(G){return Ea(G,function(X){return ua(G,X,!0)})};D.cursorLineBoundaryForward=ja;var Ha=function(G){return Ea(G,function(X){return ua(G,X,!1)})};D.cursorLineBoundaryBackward=Ha;var Ka=function(G){return Ea(G,function(X){return O.EditorSelection.cursor(G.visualLineAt(X.head).from,1)})};D.cursorLineStart=Ka;var Ra=function(G){return Ea(G,
function(X){return O.EditorSelection.cursor(G.visualLineAt(X.head).to,-1)})};D.cursorLineEnd=Ra;Pa=function(G){return Fa(G.state,G.dispatch,!1)};D.cursorMatchingBracket=Pa;D.selectMatchingBracket=function(G){return Fa(G.state,G.dispatch,!0)};var $a=function(G){return Qa(G,G.textDirection!=n.Direction.LTR)};D.selectCharLeft=$a;var eb=function(G){return Qa(G,G.textDirection==n.Direction.LTR)};D.selectCharRight=eb;D.selectCharForward=function(G){return Qa(G,!0)};D.selectCharBackward=function(G){return Qa(G,
!1)};var nb=function(G){return Ja(G,G.textDirection!=n.Direction.LTR)};D.selectGroupLeft=nb;var Qb=function(G){return Ja(G,G.textDirection==n.Direction.LTR)};D.selectGroupRight=Qb;var Nb=function(G){return Ja(G,!0)};D.selectGroupForward=Nb;var Ib=function(G){return Ja(G,!1)};D.selectGroupBackward=Ib;var Jb=function(G){return ka(G,function(X){return Ca(G.state,X,G.textDirection!=n.Direction.LTR)})};D.selectSyntaxLeft=Jb;var ob=function(G){return ka(G,function(X){return Ca(G.state,X,G.textDirection==
n.Direction.LTR)})};D.selectSyntaxRight=ob;var Kb=function(G){return la(G,!1)};D.selectLineUp=Kb;var wb=function(G){return la(G,!0)};D.selectLineDown=wb;var Db=function(G){return ca(G,!1)};D.selectPageUp=Db;var Bb=function(G){return ca(G,!0)};D.selectPageDown=Bb;var kc=function(G){return ka(G,function(X){return ua(G,X,!0)})};D.selectLineBoundaryForward=kc;var Ob=function(G){return ka(G,function(X){return ua(G,X,!1)})};D.selectLineBoundaryBackward=Ob;var hc=function(G){return ka(G,function(X){return O.EditorSelection.cursor(G.visualLineAt(X.head).from)})};
D.selectLineStart=hc;var lc=function(G){return ka(G,function(X){return O.EditorSelection.cursor(G.visualLineAt(X.head).to)})};D.selectLineEnd=lc;var Lb=function(G){var X=G.dispatch;X(Na(G.state,{anchor:0}));return!0};D.cursorDocStart=Lb;var Y=function(G){var X=G.state;G=G.dispatch;G(Na(X,{anchor:X.doc.length}));return!0};D.cursorDocEnd=Y;var F=function(G){var X=G.state;G=G.dispatch;G(Na(X,{anchor:X.selection.primary.anchor,head:0}));return!0};D.selectDocStart=F;var H=function(G){var X=G.state;G=G.dispatch;
G(Na(X,{anchor:X.selection.primary.anchor,head:X.doc.length}));return!0};D.selectDocEnd=H;var C=function(G){var X=G.state;G=G.dispatch;G(X.update({selection:{anchor:0,head:X.doc.length},annotations:O.Transaction.userEvent.of("keyboarselection")}));return!0};D.selectAll=C;var S=function(G){var X=G.state;G=G.dispatch;var oa=J(X).map(function(ia){return O.EditorSelection.range(ia.from,Math.min(ia.to+1,X.doc.length))});G(X.update({selection:new O.EditorSelection(oa),annotations:O.Transaction.userEvent.of("keyboardselection")}));
return!0};D.selectLine=S;var W=function(G){var X=G.state;G=G.dispatch;var oa=Aa(X.selection,function(ia){for(var qa,ra=X.tree.resolve(ia.head,1);!(ra.start<ia.from&&ra.end>=ia.to||ra.end>ia.to&&ra.start<=ia.from)&&(null===(qa=ra.parent)||void 0===qa?0:qa.parent);)ra=ra.parent;return O.EditorSelection.range(ra.end,ra.start)});G(Na(X,oa));return!0};D.selectParentSyntax=W;var ea=function(G){var X=G.state;G=G.dispatch;var oa=X.selection,ia=null;1<oa.ranges.length?ia=new O.EditorSelection([oa.primary]):
oa.primary.empty||(ia=new O.EditorSelection([O.EditorSelection.cursor(oa.primary.head)]));if(!ia)return!1;G(Na(X,ia));return!0};D.simplifySelection=ea;var ma=function(G,X){return U(G,function(oa){var ia=G.state,qa=ia.doc.lineAt(oa),ra;if(!X&&oa>qa.from&&oa<qa.from+200&&!/[^ \t]/.test(ra=qa.slice(0,oa-qa.from))){if("\t"==ra[ra.length-1])return oa-1;ia=(0,A.countColumn)(ra,0,ia.tabSize)%ia.indentUnit||ia.indentUnit;for(qa=0;qa<ia&&" "==ra[ra.length-1-qa];qa++)oa--;return oa}ra=qa.findClusterBreak(oa-
qa.from,X)+qa.from;ra==oa&&qa.number!=(X?ia.doc.lines:1)&&(ra+=X?1:-1);return ra})},xa=function(G){return ma(G,!1)};D.deleteCharBackward=xa;var ya=function(G){return ma(G,!0)};D.deleteCharForward=ya;var za=function(G,X){return U(G,function(oa){for(var ia=G.state,qa=ia.doc.lineAt(oa),ra=ia.charCategorizer(oa),Ma=null;;){if(oa==(X?qa.to:qa.from)){if(qa.number==(X?ia.doc.lines:1))break;qa=ia.doc.line(qa.number+(X?1:-1));var gb=X?qa.from:qa.to;var ib="\n"}else gb=qa.findClusterBreak(oa-qa.from,X)+qa.from,
ib=qa.slice(Math.min(oa,gb)-qa.from,Math.max(oa,gb)-qa.from);ib=ra(ib);if(null!=Ma&&ib!=Ma)break;ib!=O.CharCategory.Space&&(Ma=ib);oa=gb}return oa})},ta=function(G){return za(G,!1)};D.deleteGroupBackward=ta;var Sa=function(G){return za(G,!0)};D.deleteGroupForward=Sa;var Ua=function(G){return U(G,function(X){var oa=G.visualLineAt(X).to;return X<oa?oa:Math.max(G.state.doc.length,X+1)})};D.deleteToLineEnd=Ua;D.deleteTrailingWhitespace=function(G){var X=G.state;G=G.dispatch;for(var oa=[],ia=0,qa=X.doc.iterLines();!qa.next().done;){var ra=
qa.value.search(/\s+$/);-1<ra&&oa.push({from:ia+ra,to:ia+qa.value.length});ia+=qa.value.length+1}if(!oa.length)return!1;G(X.update({changes:oa}));return!0};var cb=function(G){var X=G.state;G=G.dispatch;var oa=X.changeByRange(function(ia){return{changes:{from:ia.from,to:ia.to,insert:A.Text.of(["",""])},range:O.EditorSelection.cursor(ia.from)}});G(X.update(oa,{scrollIntoView:!0,annotations:O.Transaction.userEvent.of("input")}));return!0};D.splitLine=cb;var db=function(G){var X=G.state;G=G.dispatch;
var oa=X.changeByRange(function(ia){if(!ia.empty||0==ia.from||ia.from==X.doc.length)return{range:ia};ia=ia.from;var qa=X.doc.lineAt(ia),ra=ia==qa.from?ia-1:qa.findClusterBreak(ia-qa.from,!1)+qa.from;qa=ia==qa.to?ia+1:qa.findClusterBreak(ia-qa.from,!0)+qa.from;return{changes:{from:ra,to:qa,insert:X.doc.slice(ia,qa).append(X.doc.slice(ra,ia))},range:O.EditorSelection.cursor(qa)}});if(oa.changes.empty)return!1;G(X.update(oa,{scrollIntoView:!0}));return!0};D.transposeChars=db;var fb=function(G){return u(G.state,
G.dispatch,!1)};D.moveLineUp=fb;var zb=function(G){return u(G.state,G.dispatch,!0)};D.moveLineDown=zb;var Rb=function(G){return t(G.state,G.dispatch,!1)};D.copyLineUp=Rb;var oc=function(G){return t(G.state,G.dispatch,!0)};D.copyLineDown=oc;var Da=function(G){var X=G.state,oa=X.changes(J(X).map(function(qa){var ra=qa.from;qa=qa.to;0<ra?ra--:qa<X.doc.length&&qa++;return{from:ra,to:qa}})),ia=Aa(X.selection,function(qa){return G.moveVertically(qa,!0)}).map(oa);G.dispatch({changes:oa,selection:ia,scrollIntoView:!0});
return!0};D.deleteLine=Da;D.insertNewline=function(G){var X=G.state;G=G.dispatch;G(X.update(X.replaceSelection(X.lineBreak),{scrollIntoView:!0}));return!0};var Sb=function(G){var X=G.state;G=G.dispatch;var oa=X.changeByRange(function(ia){var qa=ia.from;ia=ia.to;var ra;if(ra=qa==ia)if(ra=qa,/\(\)|\[\]|\{\}/.test(X.sliceDoc(ra-1,ra+1)))ra={from:ra,to:ra};else{var Ma=X.tree.resolve(ra),gb=Ma.childBefore(ra);Ma=Ma.childAfter(ra);var ib;ra=gb&&Ma&&gb.end<=ra&&Ma.start>=ra&&(ib=gb.type.prop(w.NodeProp.closedBy))&&
-1<ib.indexOf(Ma.name)?{from:gb.end,to:Ma.start}:null}ib=ra;ra=new O.IndentContext(X,{simulateBreak:qa,simulateDoubleBreak:!!ib});gb=B(ra,qa);0>gb&&(gb=/^\s*/.exec(X.doc.lineAt(qa).slice(0,50))[0].length);for(Ma=X.doc.lineAt(qa);ia<Ma.to&&/\s/.test(Ma.slice(ia-Ma.from,ia+1-Ma.from));)ia++;ib?(qa=ib.from,ia=ib.to):qa>Ma.from&&qa<Ma.from+100&&!/\S/.test(Ma.slice(0,qa))&&(qa=Ma.from);var jb=["",X.indentString(gb)];ib&&jb.push(X.indentString(ra.lineIndent(Ma)));return{changes:{from:qa,to:ia,insert:A.Text.of(jb)},
range:O.EditorSelection.cursor(qa+1+gb)}});G(X.update(oa,{scrollIntoView:!0}));return!0};D.insertNewlineAndIndent=Sb;var Eb=function(G){var X=G.state;G=G.dispatch;var oa=Object.create(null),ia=new O.IndentContext(X,{overrideIndentation:function(ra){ra=oa[ra];return null==ra?-1:ra}}),qa=L(X,function(ra,Ma,gb){var ib=B(ia,ra.from);if(!(0>ib)){var jb=/^\s*/.exec(ra.slice(0,Math.min(ra.length,200)))[0],bb=X.indentString(ib);if(jb!=bb||gb.from<ra.from+jb.length)oa[ra.from]=ib,Ma.push({from:ra.from,to:ra.from+
jb.length,insert:bb})}});qa.changes.empty||G(X.update(qa));return!0};D.indentSelection=Eb;var lb=function(G){var X=G.state;G=G.dispatch;G(X.update(L(X,function(oa,ia){ia.push({from:oa.from,insert:X.facet(O.EditorState.indentUnit)})})));return!0};D.indentMore=lb;var Fb=function(G){var X=G.state;G=G.dispatch;G(X.update(L(X,function(oa,ia){var qa=oa.slice(0,Math.min(oa.length,200));if(qa=/^\s*/.exec(qa)[0]){var ra=(0,A.countColumn)(qa,0,X.tabSize);ra=X.indentString(Math.max(0,ra-X.indentUnit));for(var Ma=
0;Ma<qa.length&&Ma<ra.length&&qa.charCodeAt(Ma)==ra.charCodeAt(Ma);)Ma++;ia.push({from:oa.from+Ma,to:oa.from+qa.length,insert:ra.slice(Ma)})}})));return!0};D.indentLess=Fb;T=[{key:"Ctrl-b",run:p,shift:$a},{key:"Ctrl-f",run:v,shift:eb},{key:"Ctrl-p",run:I,shift:Kb},{key:"Ctrl-n",run:M,shift:wb},{key:"Ctrl-a",run:Ka,shift:hc},{key:"Ctrl-e",run:Ra,shift:lc},{key:"Ctrl-d",run:ya},{key:"Ctrl-h",run:xa},{key:"Ctrl-k",run:Ua},{key:"Alt-d",run:Sa},{key:"Ctrl-Alt-h",run:ta},{key:"Ctrl-o",run:cb},{key:"Ctrl-t",
run:db},{key:"Alt-f",run:T,shift:Nb},{key:"Alt-b",run:Q,shift:Ib},{key:"Alt-\x3c",run:Lb},{key:"Alt-\x3e",run:Y},{key:"Ctrl-v",run:Z},{key:"Alt-v",run:P}];D.emacsStyleKeymap=T;p=[{key:"ArrowLeft",run:p,shift:$a},{key:"Mod-ArrowLeft",mac:"Alt-ArrowLeft",run:x,shift:nb},{mac:"Cmd-ArrowLeft",run:Ka,shift:hc},{key:"ArrowRight",run:v,shift:eb},{key:"Mod-ArrowRight",mac:"Alt-ArrowRight",run:N,shift:Qb},{mac:"Cmd-ArrowRight",run:Ra,shift:lc},{key:"ArrowUp",run:I,shift:Kb},{mac:"Cmd-ArrowUp",run:Lb,shift:F},
{mac:"Ctrl-ArrowUp",run:P,shift:Db},{key:"ArrowDown",run:M,shift:wb},{mac:"Cmd-ArrowDown",run:Y,shift:H},{mac:"Ctrl-ArrowDown",run:Z,shift:Bb},{key:"PageUp",run:P,shift:Db},{key:"PageDown",run:Z,shift:Bb},{key:"Home",run:Ha,shift:Ob},{key:"Mod-Home",run:Lb,shift:F},{key:"End",run:ja,shift:kc},{key:"Mod-End",run:Y,shift:H},{key:"Enter",run:Sb},{key:"Mod-a",run:C},{key:"Backspace",run:xa},{key:"Delete",run:ya},{key:"Mod-Backspace",mac:"Alt-Backspace",run:ta},{key:"Mod-Delete",mac:"Alt-Delete",run:Sa}].concat(T.map(function(G){return{mac:G.key,
run:G.run,shift:G.shift}}));D.standardKeymap=p;aa=[{key:"Alt-ArrowLeft",mac:"Ctrl-ArrowLeft",run:aa,shift:Jb},{key:"Alt-ArrowRight",mac:"Ctrl-ArrowRight",run:va,shift:ob},{key:"Alt-ArrowUp",run:fb},{key:"Shift-Alt-ArrowUp",run:Rb},{key:"Alt-ArrowDown",run:zb},{key:"Shift-Alt-ArrowDown",run:oc},{key:"Escape",run:ea},{key:"Mod-l",run:S},{key:"Mod-i",run:W},{key:"Mod-[",run:Fb},{key:"Mod-]",run:lb},{key:"Mod-Alt-\\",run:Eb},{key:"Shift-Mod-k",run:Da},{key:"Shift-Mod-\\",run:Pa}].concat(p);D.defaultKeymap=
aa};
var aa="codemirror-next.clojure.commands",Ci="codemirror-next.clojure.extensions.formatting",g,ca=this||self;
function t(a){var b=typeof a;if("object"==b)if(a){if(a instanceof Array)return"array";if(a instanceof Object)return b;var c=Object.prototype.toString.call(a);if("[object Window]"==c)return"object";if("[object Array]"==c||"number"==typeof a.length&&"undefined"!=typeof a.splice&&"undefined"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable("splice"))return"array";if("[object Function]"==c||"undefined"!=typeof a.call&&"undefined"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable("call"))return"function"}else return"null";
else if("function"==b&&"undefined"==typeof a.call)return"object";return b}var da="closure_uid_"+(1E9*Math.random()>>>0),ea=0;function fa(a,b){a.sort(b||ha)}function ja(a,b){for(var c=Array(a.length),d=0;d<a.length;d++)c[d]={index:d,value:a[d]};var e=b||ha;fa(c,function(f,h){return e(f.value,h.value)||f.index-h.index});for(d=0;d<a.length;d++)a[d]=c[d].value}function ha(a,b){return a>b?1:a<b?-1:0};function ba(a){this.$b=a}ba.prototype.toString=function(){return this.$b};function la(a){var b=[],c=0,d;for(d in a)b[c++]=d;return b}function pa(a){var b=arguments.length;if(1==b&&"array"==t(arguments[0]))return pa.apply(null,arguments[0]);for(var c={},d=0;d<b;d++)c[arguments[d]]=!0;return c};pa(new ba("APPLET"),new ba("BASE"),new ba("EMBED"),new ba("IFRAME"),new ba("LINK"),new ba("MATH"),new ba("META"),new ba("OBJECT"),new ba("SCRIPT"),new ba("STYLE"),new ba("SVG"),new ba("TEMPLATE"));function ma(a,b){null!=a&&this.append.apply(this,arguments)}g=ma.prototype;g.La="";g.set=function(a){this.La=""+a};g.append=function(a,b,c){this.La+=String(a);if(null!=b)for(var d=1;d<arguments.length;d++)this.La+=arguments[d];return this};g.clear=function(){this.La=""};g.toString=function(){return this.La};var na={},oa={},Ma,u={},qa=null;function ra(){return new v(null,5,[sa,!0,ta,!0,ua,!1,va,!1,wa,null],null)}function w(a){return null!=a&&!1!==a}function xa(a){return a instanceof Array}function ya(a){return null==a?!0:!1===a?!0:!1}function Qi(a){return null!=a}function y(a,b){return a[t(null==b?null:b)]?!0:a._?!0:!1}function z(a,b){var c=null==b?null:b.constructor;c=w(w(c)?c.Cb:c)?c.mb:t(b);return Error(["No protocol method ",a," defined for type ",c,": ",b].join(""))}
function za(a){var b=a.mb;return w(b)?b:A.c(a)}var Aa="undefined"!==typeof Symbol&&"function"===t(Symbol)?Symbol.iterator:"@@iterator";function Ba(a){for(var b=a.length,c=Array(b),d=0;;)if(d<b)c[d]=a[d],d+=1;else break;return c}function Ca(a){return"symbol"===t(a)||"undefined"!==typeof Symbol&&a instanceof Symbol}function Da(){}
function Ea(a){if(null!=a&&null!=a.U)a=a.U(a);else{var b=Ea[t(null==a?null:a)];if(null!=b)a=b.c?b.c(a):b.call(null,a);else if(b=Ea._,null!=b)a=b.c?b.c(a):b.call(null,a);else throw z("ICounted.-count",a);}return a}function Fa(){}function Ga(a){if(null!=a&&null!=a.V)a=a.V(a);else{var b=Ga[t(null==a?null:a)];if(null!=b)a=b.c?b.c(a):b.call(null,a);else if(b=Ga._,null!=b)a=b.c?b.c(a):b.call(null,a);else throw z("IEmptyableCollection.-empty",a);}return a}function Ha(){}
function Ia(a,b){if(null!=a&&null!=a.Z)a=a.Z(a,b);else{var c=Ia[t(null==a?null:a)];if(null!=c)a=c.g?c.g(a,b):c.call(null,a,b);else if(c=Ia._,null!=c)a=c.g?c.g(a,b):c.call(null,a,b);else throw z("ICollection.-conj",a);}return a}function Ka(){}
var Sa=function(){function a(d,e,f){var h=La[t(null==d?null:d)];if(null!=h)return h.j?h.j(d,e,f):h.call(null,d,e,f);h=La._;if(null!=h)return h.j?h.j(d,e,f):h.call(null,d,e,f);throw z("IIndexed.-nth",d);}function b(d,e){var f=La[t(null==d?null:d)];if(null!=f)return f.g?f.g(d,e):f.call(null,d,e);f=La._;if(null!=f)return f.g?f.g(d,e):f.call(null,d,e);throw z("IIndexed.-nth",d);}var c=null;c=function(d,e,f){switch(arguments.length){case 2:return b.call(this,d,e);case 3:return a.call(this,d,e,f)}throw Error("Invalid arity: "+
arguments.length);};c.g=b;c.j=a;return c}(),La=function La(a){switch(arguments.length){case 2:return La.g(arguments[0],arguments[1]);case 3:return La.j(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",A.c(arguments.length)].join(""));}};La.g=function(a,b){return null!=a&&null!=a.W?a.W(a,b):Sa(a,b)};La.j=function(a,b,c){return null!=a&&null!=a.la?a.la(a,b,c):Sa(a,b,c)};La.F=3;
function B(a){if(null!=a&&null!=a.Y)a=a.Y(a);else{var b=B[t(null==a?null:a)];if(null!=b)a=b.c?b.c(a):b.call(null,a);else if(b=B._,null!=b)a=b.c?b.c(a):b.call(null,a);else throw z("ISeq.-first",a);}return a}function Na(a){if(null!=a&&null!=a.da)a=a.da(a);else{var b=Na[t(null==a?null:a)];if(null!=b)a=b.c?b.c(a):b.call(null,a);else if(b=Na._,null!=b)a=b.c?b.c(a):b.call(null,a);else throw z("ISeq.-rest",a);}return a}function Oa(){}
function Pa(a){if(null!=a&&null!=a.$)a=a.$(a);else{var b=Pa[t(null==a?null:a)];if(null!=b)a=b.c?b.c(a):b.call(null,a);else if(b=Pa._,null!=b)a=b.c?b.c(a):b.call(null,a);else throw z("INext.-next",a);}return a}function Qa(){}
var gb=function(){function a(d,e,f){var h=Ra[t(null==d?null:d)];if(null!=h)return h.j?h.j(d,e,f):h.call(null,d,e,f);h=Ra._;if(null!=h)return h.j?h.j(d,e,f):h.call(null,d,e,f);throw z("ILookup.-lookup",d);}function b(d,e){var f=Ra[t(null==d?null:d)];if(null!=f)return f.g?f.g(d,e):f.call(null,d,e);f=Ra._;if(null!=f)return f.g?f.g(d,e):f.call(null,d,e);throw z("ILookup.-lookup",d);}var c=null;c=function(d,e,f){switch(arguments.length){case 2:return b.call(this,d,e);case 3:return a.call(this,d,e,f)}throw Error("Invalid arity: "+
arguments.length);};c.g=b;c.j=a;return c}(),Ra=function Ra(a){switch(arguments.length){case 2:return Ra.g(arguments[0],arguments[1]);case 3:return Ra.j(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",A.c(arguments.length)].join(""));}};Ra.g=function(a,b){return null!=a&&null!=a.ia?a.ia(a,b):gb(a,b)};Ra.j=function(a,b,c){return null!=a&&null!=a.M?a.M(a,b,c):gb(a,b,c)};Ra.F=3;
function Ta(a,b,c){if(null!=a&&null!=a.Ja)a=a.Ja(a,b,c);else{var d=Ta[t(null==a?null:a)];if(null!=d)a=d.j?d.j(a,b,c):d.call(null,a,b,c);else if(d=Ta._,null!=d)a=d.j?d.j(a,b,c):d.call(null,a,b,c);else throw z("IAssociative.-assoc",a);}return a}function Ua(a,b){if(null!=a&&null!=a.Ya)a=a.Ya(a,b);else{var c=Ua[t(null==a?null:a)];if(null!=c)a=c.g?c.g(a,b):c.call(null,a,b);else if(c=Ua._,null!=c)a=c.g?c.g(a,b):c.call(null,a,b);else throw z("IFind.-find",a);}return a}function Va(){}
function Wa(a,b){if(null!=a&&null!=a.tb)a=a.tb(a,b);else{var c=Wa[t(null==a?null:a)];if(null!=c)a=c.g?c.g(a,b):c.call(null,a,b);else if(c=Wa._,null!=c)a=c.g?c.g(a,b):c.call(null,a,b);else throw z("IMap.-dissoc",a);}return a}function Xa(a){if(null!=a&&null!=a.Lb)a=a.key;else{var b=Xa[t(null==a?null:a)];if(null!=b)a=b.c?b.c(a):b.call(null,a);else if(b=Xa._,null!=b)a=b.c?b.c(a):b.call(null,a);else throw z("IMapEntry.-key",a);}return a}
function Ya(a){if(null!=a&&null!=a.Mb)a=a.m;else{var b=Ya[t(null==a?null:a)];if(null!=b)a=b.c?b.c(a):b.call(null,a);else if(b=Ya._,null!=b)a=b.c?b.c(a):b.call(null,a);else throw z("IMapEntry.-val",a);}return a}function Za(){}function vi(a){if(null!=a&&null!=a.Cc)a=a.Cc(a);else{var b=vi[t(null==a?null:a)];if(null!=b)a=b.c?b.c(a):b.call(null,a);else if(b=vi._,null!=b)a=b.c?b.c(a):b.call(null,a);else throw z("IStack.-peek",a);}return a}
function wi(a){if(null!=a&&null!=a.Dc)a=a.Dc(a);else{var b=wi[t(null==a?null:a)];if(null!=b)a=b.c?b.c(a):b.call(null,a);else if(b=wi._,null!=b)a=b.c?b.c(a):b.call(null,a);else throw z("IStack.-pop",a);}return a}function $a(){}function ab(a){if(null!=a&&null!=a.jb)a=a.jb(a);else{var b=ab[t(null==a?null:a)];if(null!=b)a=b.c?b.c(a):b.call(null,a);else if(b=ab._,null!=b)a=b.c?b.c(a):b.call(null,a);else throw z("IDeref.-deref",a);}return a}function bb(){}
function cb(a){if(null!=a&&null!=a.R)a=a.R(a);else{var b=cb[t(null==a?null:a)];if(null!=b)a=b.c?b.c(a):b.call(null,a);else if(b=cb._,null!=b)a=b.c?b.c(a):b.call(null,a);else throw z("IMeta.-meta",a);}return a}function db(a,b){if(null!=a&&null!=a.T)a=a.T(a,b);else{var c=db[t(null==a?null:a)];if(null!=c)a=c.g?c.g(a,b):c.call(null,a,b);else if(c=db._,null!=c)a=c.g?c.g(a,b):c.call(null,a,b);else throw z("IWithMeta.-with-meta",a);}return a}function eb(){}
var Gb=function(){function a(d,e,f){var h=fb[t(null==d?null:d)];if(null!=h)return h.j?h.j(d,e,f):h.call(null,d,e,f);h=fb._;if(null!=h)return h.j?h.j(d,e,f):h.call(null,d,e,f);throw z("IReduce.-reduce",d);}function b(d,e){var f=fb[t(null==d?null:d)];if(null!=f)return f.g?f.g(d,e):f.call(null,d,e);f=fb._;if(null!=f)return f.g?f.g(d,e):f.call(null,d,e);throw z("IReduce.-reduce",d);}var c=null;c=function(d,e,f){switch(arguments.length){case 2:return b.call(this,d,e);case 3:return a.call(this,d,e,f)}throw Error("Invalid arity: "+
arguments.length);};c.g=b;c.j=a;return c}(),fb=function fb(a){switch(arguments.length){case 2:return fb.g(arguments[0],arguments[1]);case 3:return fb.j(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",A.c(arguments.length)].join(""));}};fb.g=function(a,b){return null!=a&&null!=a.ba?a.ba(a,b):Gb(a,b)};fb.j=function(a,b,c){return null!=a&&null!=a.ca?a.ca(a,b,c):Gb(a,b,c)};fb.F=3;function hb(){}
function ib(a,b,c){if(null!=a&&null!=a.kb)a=a.kb(a,b,c);else{var d=ib[t(null==a?null:a)];if(null!=d)a=d.j?d.j(a,b,c):d.call(null,a,b,c);else if(d=ib._,null!=d)a=d.j?d.j(a,b,c):d.call(null,a,b,c);else throw z("IKVReduce.-kv-reduce",a);}return a}function jb(a,b){if(null!=a&&null!=a.P)a=a.P(a,b);else{var c=jb[t(null==a?null:a)];if(null!=c)a=c.g?c.g(a,b):c.call(null,a,b);else if(c=jb._,null!=c)a=c.g?c.g(a,b):c.call(null,a,b);else throw z("IEquiv.-equiv",a);}return a}
function kb(a){if(null!=a&&null!=a.S)a=a.S(a);else{var b=kb[t(null==a?null:a)];if(null!=b)a=b.c?b.c(a):b.call(null,a);else if(b=kb._,null!=b)a=b.c?b.c(a):b.call(null,a);else throw z("IHash.-hash",a);}return a}function lb(){}function mb(a){if(null!=a&&null!=a.O)a=a.O(a);else{var b=mb[t(null==a?null:a)];if(null!=b)a=b.c?b.c(a):b.call(null,a);else if(b=mb._,null!=b)a=b.c?b.c(a):b.call(null,a);else throw z("ISeqable.-seq",a);}return a}function nb(){}function ob(){}function pb(){}function qb(){}
function rb(a){if(null!=a&&null!=a.lb)a=a.lb(a);else{var b=rb[t(null==a?null:a)];if(null!=b)a=b.c?b.c(a):b.call(null,a);else if(b=rb._,null!=b)a=b.c?b.c(a):b.call(null,a);else throw z("IReversible.-rseq",a);}return a}function sb(a,b){if(null!=a&&null!=a.Bb)a=a.Bb(a,b);else{var c=sb[t(null==a?null:a)];if(null!=c)a=c.g?c.g(a,b):c.call(null,a,b);else if(c=sb._,null!=c)a=c.g?c.g(a,b):c.call(null,a,b);else throw z("IWriter.-write",a);}return a}function tb(){}
function ub(a,b,c){if(null!=a&&null!=a.N)a=a.N(a,b,c);else{var d=ub[t(null==a?null:a)];if(null!=d)a=d.j?d.j(a,b,c):d.call(null,a,b,c);else if(d=ub._,null!=d)a=d.j?d.j(a,b,c):d.call(null,a,b,c);else throw z("IPrintWithWriter.-pr-writer",a);}return a}function vb(a){if(null!=a&&null!=a.Sa)a=a.Sa(a);else{var b=vb[t(null==a?null:a)];if(null!=b)a=b.c?b.c(a):b.call(null,a);else if(b=vb._,null!=b)a=b.c?b.c(a):b.call(null,a);else throw z("IEditableCollection.-as-transient",a);}return a}
function wb(a,b){if(null!=a&&null!=a.Ua)a=a.Ua(a,b);else{var c=wb[t(null==a?null:a)];if(null!=c)a=c.g?c.g(a,b):c.call(null,a,b);else if(c=wb._,null!=c)a=c.g?c.g(a,b):c.call(null,a,b);else throw z("ITransientCollection.-conj!",a);}return a}function xb(a){if(null!=a&&null!=a.$a)a=a.$a(a);else{var b=xb[t(null==a?null:a)];if(null!=b)a=b.c?b.c(a):b.call(null,a);else if(b=xb._,null!=b)a=b.c?b.c(a):b.call(null,a);else throw z("ITransientCollection.-persistent!",a);}return a}
function yb(a,b,c){if(null!=a&&null!=a.Ta)a=a.Ta(a,b,c);else{var d=yb[t(null==a?null:a)];if(null!=d)a=d.j?d.j(a,b,c):d.call(null,a,b,c);else if(d=yb._,null!=d)a=d.j?d.j(a,b,c):d.call(null,a,b,c);else throw z("ITransientAssociative.-assoc!",a);}return a}function zb(){}function Ab(a,b){if(null!=a&&null!=a.Ra)a=a.Ra(a,b);else{var c=Ab[t(null==a?null:a)];if(null!=c)a=c.g?c.g(a,b):c.call(null,a,b);else if(c=Ab._,null!=c)a=c.g?c.g(a,b):c.call(null,a,b);else throw z("IComparable.-compare",a);}return a}
function Bb(a){if(null!=a&&null!=a.xb)a=a.xb(a);else{var b=Bb[t(null==a?null:a)];if(null!=b)a=b.c?b.c(a):b.call(null,a);else if(b=Bb._,null!=b)a=b.c?b.c(a):b.call(null,a);else throw z("IChunk.-drop-first",a);}return a}function Cb(a){if(null!=a&&null!=a.qb)a=a.qb(a);else{var b=Cb[t(null==a?null:a)];if(null!=b)a=b.c?b.c(a):b.call(null,a);else if(b=Cb._,null!=b)a=b.c?b.c(a):b.call(null,a);else throw z("IChunkedSeq.-chunked-first",a);}return a}
function Db(a){if(null!=a&&null!=a.ib)a=a.ib(a);else{var b=Db[t(null==a?null:a)];if(null!=b)a=b.c?b.c(a):b.call(null,a);else if(b=Db._,null!=b)a=b.c?b.c(a):b.call(null,a);else throw z("IChunkedSeq.-chunked-rest",a);}return a}function Eb(a,b){if(null!=a&&null!=a.Qb)a=a.Qb(a,b);else{var c=Eb[t(null==a?null:a)];if(null!=c)a=c.g?c.g(a,b):c.call(null,a,b);else if(c=Eb._,null!=c)a=c.g?c.g(a,b):c.call(null,a,b);else throw z("IReset.-reset!",a);}return a}
var Ld=function(){function a(f,h,k,l,m){var n=Fb[t(null==f?null:f)];if(null!=n)return n.aa?n.aa(f,h,k,l,m):n.call(null,f,h,k,l,m);n=Fb._;if(null!=n)return n.aa?n.aa(f,h,k,l,m):n.call(null,f,h,k,l,m);throw z("ISwap.-swap!",f);}function b(f,h,k,l){var m=Fb[t(null==f?null:f)];if(null!=m)return m.H?m.H(f,h,k,l):m.call(null,f,h,k,l);m=Fb._;if(null!=m)return m.H?m.H(f,h,k,l):m.call(null,f,h,k,l);throw z("ISwap.-swap!",f);}function c(f,h,k){var l=Fb[t(null==f?null:f)];if(null!=l)return l.j?l.j(f,h,k):l.call(null,
f,h,k);l=Fb._;if(null!=l)return l.j?l.j(f,h,k):l.call(null,f,h,k);throw z("ISwap.-swap!",f);}function d(f,h){var k=Fb[t(null==f?null:f)];if(null!=k)return k.g?k.g(f,h):k.call(null,f,h);k=Fb._;if(null!=k)return k.g?k.g(f,h):k.call(null,f,h);throw z("ISwap.-swap!",f);}var e=null;e=function(f,h,k,l,m){switch(arguments.length){case 2:return d.call(this,f,h);case 3:return c.call(this,f,h,k);case 4:return b.call(this,f,h,k,l);case 5:return a.call(this,f,h,k,l,m)}throw Error("Invalid arity: "+arguments.length);
};e.g=d;e.j=c;e.H=b;e.aa=a;return e}(),Fb=function Fb(a){switch(arguments.length){case 2:return Fb.g(arguments[0],arguments[1]);case 3:return Fb.j(arguments[0],arguments[1],arguments[2]);case 4:return Fb.H(arguments[0],arguments[1],arguments[2],arguments[3]);case 5:return Fb.aa(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4]);default:throw Error(["Invalid arity: ",A.c(arguments.length)].join(""));}};Fb.g=function(a,b){return null!=a&&null!=a.Sb?a.Sb(a,b):Ld(a,b)};
Fb.j=function(a,b,c){return null!=a&&null!=a.Tb?a.Tb(a,b,c):Ld(a,b,c)};Fb.H=function(a,b,c,d){return null!=a&&null!=a.Ub?a.Ub(a,b,c,d):Ld(a,b,c,d)};Fb.aa=function(a,b,c,d,e){return null!=a&&null!=a.Vb?a.Vb(a,b,c,d,e):Ld(a,b,c,d,e)};Fb.F=5;function Hb(){}function Ib(a){if(null!=a&&null!=a.Ca)a=a.Ca(a);else{var b=Ib[t(null==a?null:a)];if(null!=b)a=b.c?b.c(a):b.call(null,a);else if(b=Ib._,null!=b)a=b.c?b.c(a):b.call(null,a);else throw z("IIterable.-iterator",a);}return a}
function Jb(a){this.ac=a;this.l=1073741824;this.A=0}Jb.prototype.Bb=function(a,b){return this.ac.append(b)};function Kb(a){var b=new ma;a.N(null,new Jb(b),ra());return A.c(b)}var Lb="undefined"!==typeof Math&&"undefined"!==typeof Math.imul&&0!==Math.imul(4294967295,5)?function(a,b){return Math.imul(a,b)}:function(a,b){var c=a&65535,d=b&65535;return c*d+((a>>>16&65535)*d+c*(b>>>16&65535)<<16>>>0)|0};function Mb(a){a=Lb(a|0,-862048943);return Lb(a<<15|a>>>-15,461845907)}
function Nb(a,b){a=(a|0)^(b|0);return Lb(a<<13|a>>>-13,5)+-430675100|0}function Ob(a,b){a=(a|0)^b;a=Lb(a^a>>>16,-2048144789);a=Lb(a^a>>>13,-1028477387);return a^a>>>16}var Pb={},Qb=0;function Rb(a){255<Qb&&(Pb={},Qb=0);if(null==a)return 0;var b=Pb[a];if("number"===typeof b)a=b;else{a:if(null!=a)if(b=a.length,0<b)for(var c=0,d=0;;)if(c<b)d=Lb(31,d)+a.charCodeAt(c),c+=1;else{b=d;break a}else b=0;else b=0;Pb[a]=b;Qb+=1;a=b}return a}
function Sb(a){if(null!=a&&(a.l&4194304||u===a.qc))return a.S(null)^0;if("number"===typeof a){if(w(isFinite(a)))return Math.floor(a)%2147483647;switch(a){case Infinity:return 2146435072;case -Infinity:return-1048576;default:return 2146959360}}else return!0===a?a=1231:!1===a?a=1237:"string"===typeof a?(a=Rb(a),a=0===a?a:Ob(Nb(0,Mb(a)),4)):a=a instanceof Date?a.valueOf()^0:null==a?0:kb(a)^0,a}
function Tb(a){var b=a.name;a:{var c=1;for(var d=0;;)if(c<b.length)d=Nb(d,Mb(b.charCodeAt(c-1)|b.charCodeAt(c)<<16)),c+=2;else{c=d;break a}}b=Ob(1===(b.length&1)?c^Mb(b.charCodeAt(b.length-1)):c,Lb(2,b.length));a=Rb(a.ja);return b^a+2654435769+(b<<6)+(b>>2)}function Ub(a,b){if(a.str===b.str)return 0;if(w(ya(a.ja)?b.ja:!1))return-1;if(w(a.ja)){if(ya(b.ja))return 1;var c=ha(a.ja,b.ja);return 0===c?ha(a.name,b.name):c}return ha(a.name,b.name)}
function Vb(a,b,c,d,e){this.ja=a;this.name=b;this.str=c;this.Qa=d;this.ma=e;this.l=2154168321;this.A=4096}g=Vb.prototype;g.toString=function(){return this.str};g.P=function(a,b){return b instanceof Vb?this.str===b.str:!1};g.call=function(a){switch(arguments.length-1){case 1:return this.c(arguments[1]);case 2:return this.g(arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",A.c(arguments.length-1)].join(""));}};g.apply=function(a,b){return this.call.apply(this,[this].concat(Ba(b)))};
g.c=function(a){return Wb.g?Wb.g(a,this):Wb.call(null,a,this)};g.g=function(a,b){return Wb.j?Wb.j(a,this,b):Wb.call(null,a,this,b)};g.R=function(){return this.ma};g.T=function(a,b){return new Vb(this.ja,this.name,this.str,this.Qa,b)};g.S=function(){var a=this.Qa;return null!=a?a:this.Qa=a=Tb(this)};g.N=function(a,b){return sb(b,this.str)};
var Xb=function Xb(a){switch(arguments.length){case 1:return Xb.c(arguments[0]);case 2:return Xb.g(arguments[0],arguments[1]);default:throw Error(["Invalid arity: ",A.c(arguments.length)].join(""));}};Xb.c=function(a){for(;;){if(a instanceof Vb)return a;if("string"===typeof a){var b=a.indexOf("/");return 1>b?Xb.g(null,a):Xb.g(a.substring(0,b),a.substring(b+1,a.length))}if(a instanceof Yb)return a.Oa;if(a instanceof E)a=a.Da;else throw Error("no conversion to symbol");}};
Xb.g=function(a,b){var c=null!=a?[A.c(a),"/",A.c(b)].join(""):b;return new Vb(a,b,c,null,null)};Xb.F=2;function Yb(a,b,c){this.m=a;this.Oa=b;this.ma=c;this.l=6717441;this.A=0}g=Yb.prototype;g.toString=function(){return["#'",A.c(this.Oa)].join("")};g.jb=function(){return this.m.o?this.m.o():this.m.call(null)};g.R=function(){return this.ma};g.T=function(a,b){return new Yb(this.m,this.Oa,b)};g.P=function(a,b){return b instanceof Yb?(a=this.Oa,b=b.Oa,F.g?F.g(a,b):F.call(null,a,b)):!1};g.S=function(){return Tb(this.Oa)};
g.call=function(a){switch(arguments.length-1){case 0:return this.o();case 1:return this.c(arguments[1]);case 2:return this.g(arguments[1],arguments[2]);case 3:return this.j(arguments[1],arguments[2],arguments[3]);case 4:return this.H(arguments[1],arguments[2],arguments[3],arguments[4]);case 5:return this.aa(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]);case 6:return this.ya(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6]);case 7:return this.za(arguments[1],
arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7]);case 8:return this.Aa(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8]);case 9:return this.Ba(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9]);case 10:return this.na(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10]);
case 11:return this.oa(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11]);case 12:return this.pa(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12]);case 13:return this.qa(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],
arguments[11],arguments[12],arguments[13]);case 14:return this.ra(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14]);case 15:return this.sa(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15]);case 16:return this.ta(arguments[1],
arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15],arguments[16]);case 17:return this.ua(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15],arguments[16],arguments[17]);case 18:return this.va(arguments[1],arguments[2],
arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15],arguments[16],arguments[17],arguments[18]);case 19:return this.wa(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15],arguments[16],arguments[17],arguments[18],arguments[19]);case 20:return this.xa(arguments[1],
arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15],arguments[16],arguments[17],arguments[18],arguments[19],arguments[20]);case 21:return this.rb(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15],arguments[16],arguments[17],
arguments[18],arguments[19],arguments[20],arguments[21]);default:throw Error(["Invalid arity: ",A.c(arguments.length-1)].join(""));}};g.apply=function(a,b){return this.call.apply(this,[this].concat(Ba(b)))};g.o=function(){var a=this.m.o?this.m.o():this.m.call(null);return a.o?a.o():a.call(null)};g.c=function(a){var b=this.m.o?this.m.o():this.m.call(null);return b.c?b.c(a):b.call(null,a)};g.g=function(a,b){var c=this.m.o?this.m.o():this.m.call(null);return c.g?c.g(a,b):c.call(null,a,b)};
g.j=function(a,b,c){var d=this.m.o?this.m.o():this.m.call(null);return d.j?d.j(a,b,c):d.call(null,a,b,c)};g.H=function(a,b,c,d){var e=this.m.o?this.m.o():this.m.call(null);return e.H?e.H(a,b,c,d):e.call(null,a,b,c,d)};g.aa=function(a,b,c,d,e){var f=this.m.o?this.m.o():this.m.call(null);return f.aa?f.aa(a,b,c,d,e):f.call(null,a,b,c,d,e)};g.ya=function(a,b,c,d,e,f){var h=this.m.o?this.m.o():this.m.call(null);return h.ya?h.ya(a,b,c,d,e,f):h.call(null,a,b,c,d,e,f)};
g.za=function(a,b,c,d,e,f,h){var k=this.m.o?this.m.o():this.m.call(null);return k.za?k.za(a,b,c,d,e,f,h):k.call(null,a,b,c,d,e,f,h)};g.Aa=function(a,b,c,d,e,f,h,k){var l=this.m.o?this.m.o():this.m.call(null);return l.Aa?l.Aa(a,b,c,d,e,f,h,k):l.call(null,a,b,c,d,e,f,h,k)};g.Ba=function(a,b,c,d,e,f,h,k,l){var m=this.m.o?this.m.o():this.m.call(null);return m.Ba?m.Ba(a,b,c,d,e,f,h,k,l):m.call(null,a,b,c,d,e,f,h,k,l)};
g.na=function(a,b,c,d,e,f,h,k,l,m){var n=this.m.o?this.m.o():this.m.call(null);return n.na?n.na(a,b,c,d,e,f,h,k,l,m):n.call(null,a,b,c,d,e,f,h,k,l,m)};g.oa=function(a,b,c,d,e,f,h,k,l,m,n){var p=this.m.o?this.m.o():this.m.call(null);return p.oa?p.oa(a,b,c,d,e,f,h,k,l,m,n):p.call(null,a,b,c,d,e,f,h,k,l,m,n)};g.pa=function(a,b,c,d,e,f,h,k,l,m,n,p){var q=this.m.o?this.m.o():this.m.call(null);return q.pa?q.pa(a,b,c,d,e,f,h,k,l,m,n,p):q.call(null,a,b,c,d,e,f,h,k,l,m,n,p)};
g.qa=function(a,b,c,d,e,f,h,k,l,m,n,p,q){var r=this.m.o?this.m.o():this.m.call(null);return r.qa?r.qa(a,b,c,d,e,f,h,k,l,m,n,p,q):r.call(null,a,b,c,d,e,f,h,k,l,m,n,p,q)};g.ra=function(a,b,c,d,e,f,h,k,l,m,n,p,q,r){var x=this.m.o?this.m.o():this.m.call(null);return x.ra?x.ra(a,b,c,d,e,f,h,k,l,m,n,p,q,r):x.call(null,a,b,c,d,e,f,h,k,l,m,n,p,q,r)};
g.sa=function(a,b,c,d,e,f,h,k,l,m,n,p,q,r,x){var C=this.m.o?this.m.o():this.m.call(null);return C.sa?C.sa(a,b,c,d,e,f,h,k,l,m,n,p,q,r,x):C.call(null,a,b,c,d,e,f,h,k,l,m,n,p,q,r,x)};g.ta=function(a,b,c,d,e,f,h,k,l,m,n,p,q,r,x,C){var D=this.m.o?this.m.o():this.m.call(null);return D.ta?D.ta(a,b,c,d,e,f,h,k,l,m,n,p,q,r,x,C):D.call(null,a,b,c,d,e,f,h,k,l,m,n,p,q,r,x,C)};
g.ua=function(a,b,c,d,e,f,h,k,l,m,n,p,q,r,x,C,D){var I=this.m.o?this.m.o():this.m.call(null);return I.ua?I.ua(a,b,c,d,e,f,h,k,l,m,n,p,q,r,x,C,D):I.call(null,a,b,c,d,e,f,h,k,l,m,n,p,q,r,x,C,D)};g.va=function(a,b,c,d,e,f,h,k,l,m,n,p,q,r,x,C,D,I){var O=this.m.o?this.m.o():this.m.call(null);return O.va?O.va(a,b,c,d,e,f,h,k,l,m,n,p,q,r,x,C,D,I):O.call(null,a,b,c,d,e,f,h,k,l,m,n,p,q,r,x,C,D,I)};
g.wa=function(a,b,c,d,e,f,h,k,l,m,n,p,q,r,x,C,D,I,O){var V=this.m.o?this.m.o():this.m.call(null);return V.wa?V.wa(a,b,c,d,e,f,h,k,l,m,n,p,q,r,x,C,D,I,O):V.call(null,a,b,c,d,e,f,h,k,l,m,n,p,q,r,x,C,D,I,O)};g.xa=function(a,b,c,d,e,f,h,k,l,m,n,p,q,r,x,C,D,I,O,V){var ia=this.m.o?this.m.o():this.m.call(null);return ia.xa?ia.xa(a,b,c,d,e,f,h,k,l,m,n,p,q,r,x,C,D,I,O,V):ia.call(null,a,b,c,d,e,f,h,k,l,m,n,p,q,r,x,C,D,I,O,V)};
g.rb=function(a,b,c,d,e,f,h,k,l,m,n,p,q,r,x,C,D,I,O,V,ia){var Ja=this.m.o?this.m.o():this.m.call(null);return Zb.sb?Zb.sb(Ja,a,b,c,d,e,f,h,k,l,m,n,p,q,r,x,C,D,I,O,V,ia):Zb.call(null,Ja,a,b,c,d,e,f,h,k,l,m,n,p,q,r,x,C,D,I,O,V,ia)};function $b(a){return null!=a?a.A&131072||u===a.rc?!0:a.A?!1:y(Hb,a):y(Hb,a)}
function G(a){if(null==a)return null;if(null!=a&&(a.l&8388608||u===a.Rb))return a.O(null);if(xa(a)||"string"===typeof a)return 0===a.length?null:new H(a,0,null);if(null!=a&&null!=a[Aa])return a=(null!==a&&Aa in a?a[Aa]:void 0).call(a),ac.c?ac.c(a):ac.call(null,a);if(y(lb,a))return mb(a);throw Error([A.c(a)," is not ISeqable"].join(""));}function J(a){if(null==a)return null;if(null!=a&&(a.l&64||u===a.I))return a.Y(null);a=G(a);return null==a?null:B(a)}
function bc(a){return null!=a?null!=a&&(a.l&64||u===a.I)?a.da(null):(a=G(a))?a.da(null):K:K}function M(a){return null==a?null:null!=a&&(a.l&128||u===a.Za)?a.$(null):G(bc(a))}var F=function F(a){switch(arguments.length){case 1:return F.c(arguments[0]);case 2:return F.g(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;return F.v(arguments[0],arguments[1],new H(c.slice(2),0,null))}};F.c=function(){return!0};
F.g=function(a,b){return null==a?null==b:a===b||jb(a,b)};F.v=function(a,b,c){for(;;)if(F.g(a,b))if(M(c))a=b,b=J(c),c=M(c);else return F.g(b,J(c));else return!1};F.C=function(a){var b=J(a),c=M(a);a=J(c);c=M(c);return this.v(b,a,c)};F.F=2;function cc(a){this.D=a}cc.prototype.next=function(){if(null!=this.D){var a=J(this.D);this.D=M(this.D);return{value:a,done:!1}}return{value:null,done:!0}};function dc(a){return new cc(G(a))}
function ec(a,b){this.value=a;this.Wa=b;this.ob=null;this.l=8388672;this.A=0}ec.prototype.O=function(){return this};ec.prototype.Y=function(){return this.value};ec.prototype.da=function(){null==this.ob&&(this.ob=ac.c?ac.c(this.Wa):ac.call(null,this.Wa));return this.ob};function ac(a){var b=a.next();return w(b.done)?null:new ec(b.value,a)}function fc(a){var b=0,c=1;for(a=G(a);;)if(null!=a)b+=1,c=Lb(31,c)+Sb(J(a))|0,a=M(a);else return Ob(Nb(0,Mb(c)),b)}var gc=Ob(Nb(0,Mb(1)),0);
function hc(a){var b=0,c=0;for(a=G(a);;)if(null!=a)b+=1,c=c+Sb(J(a))|0,a=M(a);else return Ob(Nb(0,Mb(c)),b)}var ic=Ob(Nb(0,Mb(0)),0);Da["null"]=!0;Ea["null"]=function(){return 0};Date.prototype.P=function(a,b){return b instanceof Date&&this.valueOf()===b.valueOf()};Date.prototype.Xa=u;Date.prototype.Ra=function(a,b){if(b instanceof Date)return ha(this.valueOf(),b.valueOf());throw Error(["Cannot compare ",A.c(this)," to ",A.c(b)].join(""));};jb.number=function(a,b){return a===b};bb["function"]=!0;
cb["function"]=function(){return null};kb._=function(a){return a[da]||(a[da]=++ea)};function jc(a){this.m=a;this.l=32768;this.A=0}jc.prototype.jb=function(){return this.m};function kc(a){return a instanceof jc}function lc(a){return ab(a)}function mc(a,b){var c=a.length;if(0===a.length)return b.o?b.o():b.call(null);for(var d=a[0],e=1;;)if(e<c){var f=a[e];d=b.g?b.g(d,f):b.call(null,d,f);if(kc(d))return ab(d);e+=1}else return d}
function nc(a,b,c){var d=a.length,e=c;for(c=0;;)if(c<d){var f=a[c];e=b.g?b.g(e,f):b.call(null,e,f);if(kc(e))return ab(e);c+=1}else return e}function oc(a,b,c,d){for(var e=a.length;;)if(d<e){var f=a[d];c=b.g?b.g(c,f):b.call(null,c,f);if(kc(c))return ab(c);d+=1}else return c}function pc(a){return null!=a?a.l&2||u===a.Fb?!0:a.l?!1:y(Da,a):y(Da,a)}function qc(a){return null!=a?a.l&16||u===a.zb?!0:a.l?!1:y(Ka,a):y(Ka,a)}
function N(a,b,c){var d=P.c?P.c(a):P.call(null,a);if(c>=d)return-1;!(0<c)&&0>c&&(c+=d,c=0>c?0:c);for(;;)if(c<d){if(F.g(rc?rc(a,c):sc.call(null,a,c),b))return c;c+=1}else return-1}function Q(a,b,c){var d=P.c?P.c(a):P.call(null,a);if(0===d)return-1;0<c?(--d,c=d<c?d:c):c=0>c?d+c:c;for(;;)if(0<=c){if(F.g(rc?rc(a,c):sc.call(null,a,c),b))return c;--c}else return-1}function tc(a,b){this.h=a;this.i=b}tc.prototype.fa=function(){return this.i<this.h.length};
tc.prototype.next=function(){var a=this.h[this.i];this.i+=1;return a};function H(a,b,c){this.h=a;this.i=b;this.meta=c;this.l=166592766;this.A=139264}g=H.prototype;g.toString=function(){return Kb(this)};g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return N(this,b,0);case 2:return N(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.c=function(b){return N(this,b,0)};a.g=function(b,c){return N(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return Q(this,c,P.c?P.c(this):P.call(null,this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return Q(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.c=a;b.g=function(c,d){return Q(this,c,d)};return b}();g.W=function(a,b){a=b+this.i;if(0<=a&&a<this.h.length)return this.h[a];throw Error("Index out of bounds");};g.la=function(a,b,c){a=b+this.i;return 0<=a&&a<this.h.length?this.h[a]:c};
g.Ca=function(){return new tc(this.h,this.i)};g.R=function(){return this.meta};g.$=function(){return this.i+1<this.h.length?new H(this.h,this.i+1,null):null};g.U=function(){var a=this.h.length-this.i;return 0>a?0:a};g.lb=function(){var a=this.U(null);return 0<a?new uc(this,a-1,null):null};g.S=function(){return fc(this)};g.P=function(a,b){return vc.g?vc.g(this,b):vc.call(null,this,b)};g.V=function(){return K};g.ba=function(a,b){return oc(this.h,b,this.h[this.i],this.i+1)};
g.ca=function(a,b,c){return oc(this.h,b,c,this.i)};g.Y=function(){return this.h[this.i]};g.da=function(){return this.i+1<this.h.length?new H(this.h,this.i+1,null):K};g.O=function(){return this.i<this.h.length?this:null};g.T=function(a,b){return b===this.meta?this:new H(this.h,this.i,b)};g.Z=function(a,b){return R.g?R.g(b,this):R.call(null,b,this)};H.prototype[Aa]=function(){return dc(this)};function wc(a){return 0<a.length?new H(a,0,null):null}
function uc(a,b,c){this.hb=a;this.i=b;this.meta=c;this.l=32374990;this.A=8192}g=uc.prototype;g.toString=function(){return Kb(this)};g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return N(this,b,0);case 2:return N(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.c=function(b){return N(this,b,0)};a.g=function(b,c){return N(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return Q(this,c,P.c?P.c(this):P.call(null,this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return Q(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.c=a;b.g=function(c,d){return Q(this,c,d)};return b}();g.R=function(){return this.meta};g.$=function(){return 0<this.i?new uc(this.hb,this.i-1,null):null};g.U=function(){return this.i+1};g.S=function(){return fc(this)};
g.P=function(a,b){return vc.g?vc.g(this,b):vc.call(null,this,b)};g.V=function(){return K};g.ba=function(a,b){return xc?xc(b,this):yc.call(null,b,this)};g.ca=function(a,b,c){return zc?zc(b,c,this):yc.call(null,b,c,this)};g.Y=function(){return La(this.hb,this.i)};g.da=function(){return 0<this.i?new uc(this.hb,this.i-1,null):K};g.O=function(){return this};g.T=function(a,b){return b===this.meta?this:new uc(this.hb,this.i,b)};g.Z=function(a,b){return R.g?R.g(b,this):R.call(null,b,this)};
uc.prototype[Aa]=function(){return dc(this)};function Ac(a){for(;;){var b=M(a);if(null!=b)a=b;else return J(a)}}jb._=function(a,b){return a===b};var Bc=function Bc(a){switch(arguments.length){case 0:return Bc.o();case 1:return Bc.c(arguments[0]);case 2:return Bc.g(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;return Bc.v(arguments[0],arguments[1],new H(c.slice(2),0,null))}};Bc.o=function(){return Cc};Bc.c=function(a){return a};
Bc.g=function(a,b){return null!=a?Ia(a,b):new Dc(null,b,null,1,null)};Bc.v=function(a,b,c){for(;;)if(w(c))a=Bc.g(a,b),b=J(c),c=M(c);else return Bc.g(a,b)};Bc.C=function(a){var b=J(a),c=M(a);a=J(c);c=M(c);return this.v(b,a,c)};Bc.F=2;
function P(a){if(null!=a)if(null!=a&&(a.l&2||u===a.Fb))a=a.U(null);else if(xa(a))a=a.length;else if("string"===typeof a)a=a.length;else if(null!=a&&(a.l&8388608||u===a.Rb))a:{a=G(a);for(var b=0;;){if(pc(a)){a=b+Ea(a);break a}a=M(a);b+=1}}else a=Ea(a);else a=0;return a}function Ec(a,b,c){for(;;){if(null==a)return c;if(0===b)return G(a)?J(a):c;if(qc(a))return La(a,b,c);if(G(a))a=M(a),--b;else return c}}
function sc(a){switch(arguments.length){case 2:return rc(arguments[0],arguments[1]);case 3:return S(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",A.c(arguments.length)].join(""));}}
function rc(a,b){if("number"!==typeof b)throw Error("Index argument to nth must be a number");if(null==a)return a;if(null!=a&&(a.l&16||u===a.zb))return a.W(null,b);if(xa(a)){if(-1<b&&b<a.length)return a[b|0];throw Error("Index out of bounds");}if("string"===typeof a){if(-1<b&&b<a.length)return a.charAt(b|0);throw Error("Index out of bounds");}if(null!=a&&(a.l&64||u===a.I)||null!=a&&(a.l&16777216||u===a.Ab)){if(0>b)throw Error("Index out of bounds");a:for(;;){if(null==a)throw Error("Index out of bounds");
if(0===b){if(G(a)){a=J(a);break a}throw Error("Index out of bounds");}if(qc(a)){a=La(a,b);break a}if(G(a))a=M(a),--b;else throw Error("Index out of bounds");}return a}if(y(Ka,a))return La(a,b);throw Error(["nth not supported on this type ",A.c(za(null==a?null:a.constructor))].join(""));}
function S(a,b,c){if("number"!==typeof b)throw Error("Index argument to nth must be a number.");if(null==a)return c;if(null!=a&&(a.l&16||u===a.zb))return a.la(null,b,c);if(xa(a))return-1<b&&b<a.length?a[b|0]:c;if("string"===typeof a)return-1<b&&b<a.length?a.charAt(b|0):c;if(null!=a&&(a.l&64||u===a.I)||null!=a&&(a.l&16777216||u===a.Ab))return 0>b?c:Ec(a,b,c);if(y(Ka,a))return La(a,b,c);throw Error(["nth not supported on this type ",A.c(za(null==a?null:a.constructor))].join(""));}
var Wb=function Wb(a){switch(arguments.length){case 2:return Wb.g(arguments[0],arguments[1]);case 3:return Wb.j(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",A.c(arguments.length)].join(""));}};Wb.g=function(a,b){return null==a?null:null!=a&&(a.l&256||u===a.Kb)?a.ia(null,b):xa(a)?null!=b&&b<a.length?a[b|0]:null:"string"===typeof a?null!=b&&-1<b&&b<a.length?a.charAt(b|0):null:y(Qa,a)?Ra(a,b):null};
Wb.j=function(a,b,c){return null!=a?null!=a&&(a.l&256||u===a.Kb)?a.M(null,b,c):xa(a)?null!=b&&-1<b&&b<a.length?a[b|0]:c:"string"===typeof a?null!=b&&-1<b&&b<a.length?a.charAt(b|0):c:y(Qa,a)?Ra(a,b,c):c:c};Wb.F=3;var Fc=function Fc(a){switch(arguments.length){case 3:return Fc.j(arguments[0],arguments[1],arguments[2]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;return Fc.v(arguments[0],arguments[1],arguments[2],new H(c.slice(3),0,null))}};
Fc.j=function(a,b,c){if(null!=a&&(a.l&512||u===a.nc))a=a.Ja(null,b,c);else if(null!=a)a=Ta(a,b,c);else{a=[b,c];b=[];for(c=0;;)if(c<a.length){var d=a[c],e=a[c+1],f=Gc(b,d);-1===f?(f=b,f.push(d),f.push(e)):b[f+1]=e;c+=2}else break;a=new v(null,b.length/2,b,null)}return a};Fc.v=function(a,b,c,d){for(;;)if(a=Fc.j(a,b,c),w(d))b=J(d),c=J(M(d)),d=M(M(d));else return a};Fc.C=function(a){var b=J(a),c=M(a);a=J(c);var d=M(c);c=J(d);d=M(d);return this.v(b,a,c,d)};Fc.F=3;
var Hc=function Hc(a){switch(arguments.length){case 1:return Hc.c(arguments[0]);case 2:return Hc.g(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;return Hc.v(arguments[0],arguments[1],new H(c.slice(2),0,null))}};Hc.c=function(a){return a};Hc.g=function(a,b){return null==a?null:Wa(a,b)};Hc.v=function(a,b,c){for(;;){if(null==a)return null;a=Hc.g(a,b);if(w(c))b=J(c),c=M(c);else return a}};
Hc.C=function(a){var b=J(a),c=M(a);a=J(c);c=M(c);return this.v(b,a,c)};Hc.F=2;function Ic(a,b){this.u=a;this.meta=b;this.l=393217;this.A=0}g=Ic.prototype;g.R=function(){return this.meta};g.T=function(a,b){return new Ic(this.u,b)};
g.call=function(a){switch(arguments.length-1){case 0:return this.o();case 1:return this.c(arguments[1]);case 2:return this.g(arguments[1],arguments[2]);case 3:return this.j(arguments[1],arguments[2],arguments[3]);case 4:return this.H(arguments[1],arguments[2],arguments[3],arguments[4]);case 5:return this.aa(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]);case 6:return this.ya(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6]);case 7:return this.za(arguments[1],
arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7]);case 8:return this.Aa(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8]);case 9:return this.Ba(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9]);case 10:return this.na(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10]);
case 11:return this.oa(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11]);case 12:return this.pa(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12]);case 13:return this.qa(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],
arguments[11],arguments[12],arguments[13]);case 14:return this.ra(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14]);case 15:return this.sa(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15]);case 16:return this.ta(arguments[1],
arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15],arguments[16]);case 17:return this.ua(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15],arguments[16],arguments[17]);case 18:return this.va(arguments[1],arguments[2],
arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15],arguments[16],arguments[17],arguments[18]);case 19:return this.wa(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15],arguments[16],arguments[17],arguments[18],arguments[19]);case 20:return this.xa(arguments[1],
arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15],arguments[16],arguments[17],arguments[18],arguments[19],arguments[20]);case 21:return this.rb(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15],arguments[16],arguments[17],
arguments[18],arguments[19],arguments[20],arguments[21]);default:throw Error(["Invalid arity: ",A.c(arguments.length-1)].join(""));}};g.apply=function(a,b){return this.call.apply(this,[this].concat(Ba(b)))};g.o=function(){return this.u.o?this.u.o():this.u.call(null)};g.c=function(a){return this.u.c?this.u.c(a):this.u.call(null,a)};g.g=function(a,b){return this.u.g?this.u.g(a,b):this.u.call(null,a,b)};g.j=function(a,b,c){return this.u.j?this.u.j(a,b,c):this.u.call(null,a,b,c)};
g.H=function(a,b,c,d){return this.u.H?this.u.H(a,b,c,d):this.u.call(null,a,b,c,d)};g.aa=function(a,b,c,d,e){return this.u.aa?this.u.aa(a,b,c,d,e):this.u.call(null,a,b,c,d,e)};g.ya=function(a,b,c,d,e,f){return this.u.ya?this.u.ya(a,b,c,d,e,f):this.u.call(null,a,b,c,d,e,f)};g.za=function(a,b,c,d,e,f,h){return this.u.za?this.u.za(a,b,c,d,e,f,h):this.u.call(null,a,b,c,d,e,f,h)};g.Aa=function(a,b,c,d,e,f,h,k){return this.u.Aa?this.u.Aa(a,b,c,d,e,f,h,k):this.u.call(null,a,b,c,d,e,f,h,k)};
g.Ba=function(a,b,c,d,e,f,h,k,l){return this.u.Ba?this.u.Ba(a,b,c,d,e,f,h,k,l):this.u.call(null,a,b,c,d,e,f,h,k,l)};g.na=function(a,b,c,d,e,f,h,k,l,m){return this.u.na?this.u.na(a,b,c,d,e,f,h,k,l,m):this.u.call(null,a,b,c,d,e,f,h,k,l,m)};g.oa=function(a,b,c,d,e,f,h,k,l,m,n){return this.u.oa?this.u.oa(a,b,c,d,e,f,h,k,l,m,n):this.u.call(null,a,b,c,d,e,f,h,k,l,m,n)};g.pa=function(a,b,c,d,e,f,h,k,l,m,n,p){return this.u.pa?this.u.pa(a,b,c,d,e,f,h,k,l,m,n,p):this.u.call(null,a,b,c,d,e,f,h,k,l,m,n,p)};
g.qa=function(a,b,c,d,e,f,h,k,l,m,n,p,q){return this.u.qa?this.u.qa(a,b,c,d,e,f,h,k,l,m,n,p,q):this.u.call(null,a,b,c,d,e,f,h,k,l,m,n,p,q)};g.ra=function(a,b,c,d,e,f,h,k,l,m,n,p,q,r){return this.u.ra?this.u.ra(a,b,c,d,e,f,h,k,l,m,n,p,q,r):this.u.call(null,a,b,c,d,e,f,h,k,l,m,n,p,q,r)};g.sa=function(a,b,c,d,e,f,h,k,l,m,n,p,q,r,x){return this.u.sa?this.u.sa(a,b,c,d,e,f,h,k,l,m,n,p,q,r,x):this.u.call(null,a,b,c,d,e,f,h,k,l,m,n,p,q,r,x)};
g.ta=function(a,b,c,d,e,f,h,k,l,m,n,p,q,r,x,C){return this.u.ta?this.u.ta(a,b,c,d,e,f,h,k,l,m,n,p,q,r,x,C):this.u.call(null,a,b,c,d,e,f,h,k,l,m,n,p,q,r,x,C)};g.ua=function(a,b,c,d,e,f,h,k,l,m,n,p,q,r,x,C,D){return this.u.ua?this.u.ua(a,b,c,d,e,f,h,k,l,m,n,p,q,r,x,C,D):this.u.call(null,a,b,c,d,e,f,h,k,l,m,n,p,q,r,x,C,D)};g.va=function(a,b,c,d,e,f,h,k,l,m,n,p,q,r,x,C,D,I){return this.u.va?this.u.va(a,b,c,d,e,f,h,k,l,m,n,p,q,r,x,C,D,I):this.u.call(null,a,b,c,d,e,f,h,k,l,m,n,p,q,r,x,C,D,I)};
g.wa=function(a,b,c,d,e,f,h,k,l,m,n,p,q,r,x,C,D,I,O){return this.u.wa?this.u.wa(a,b,c,d,e,f,h,k,l,m,n,p,q,r,x,C,D,I,O):this.u.call(null,a,b,c,d,e,f,h,k,l,m,n,p,q,r,x,C,D,I,O)};g.xa=function(a,b,c,d,e,f,h,k,l,m,n,p,q,r,x,C,D,I,O,V){return this.u.xa?this.u.xa(a,b,c,d,e,f,h,k,l,m,n,p,q,r,x,C,D,I,O,V):this.u.call(null,a,b,c,d,e,f,h,k,l,m,n,p,q,r,x,C,D,I,O,V)};
g.rb=function(a,b,c,d,e,f,h,k,l,m,n,p,q,r,x,C,D,I,O,V,ia){return Zb.sb?Zb.sb(this.u,a,b,c,d,e,f,h,k,l,m,n,p,q,r,x,C,D,I,O,V,ia):Zb.call(null,this.u,a,b,c,d,e,f,h,k,l,m,n,p,q,r,x,C,D,I,O,V,ia)};function Jc(a,b){return"function"==t(a)?new Ic(a,b):null==a?null:db(a,b)}function Kc(a){return null!=a&&(null!=a?a.l&131072||u===a.Nb||(a.l?0:y(bb,a)):y(bb,a))?cb(a):null}function Lc(a){return null==a?!1:null!=a?a.l&4096||u===a.yc?!0:a.l?!1:y(Za,a):y(Za,a)}
function Mc(a){return null!=a?a.l&16777216||u===a.Ab?!0:a.l?!1:y(nb,a):y(nb,a)}function Nc(a){return null==a?!1:null!=a?a.l&1024||u===a.uc?!0:a.l?!1:y(Va,a):y(Va,a)}function Oc(a){return null!=a?a.l&67108864||u===a.wc?!0:a.l?!1:y(pb,a):y(pb,a)}function Pc(a){return null!=a?a.l&16384||u===a.zc?!0:a.l?!1:y($a,a):y($a,a)}function Qc(a){return null!=a?a.A&512||u===a.oc?!0:!1:!1}function Rc(a,b,c,d,e){for(;0!==e;)c[d]=a[b],d+=1,--e,b+=1}var Sc={};function Tc(a){return null==a?!1:!1===a?!1:!0}
function Uc(a,b){return Wb.j(a,b,Sc)===Sc?!1:!0}
function Vc(a,b){if(a===b)return 0;if(null==a)return-1;if(null==b)return 1;if("number"===typeof a){if("number"===typeof b)return ha(a,b);throw Error(["Cannot compare ",A.c(a)," to ",A.c(b)].join(""));}if(null!=a?a.A&2048||u===a.Xa||(a.A?0:y(zb,a)):y(zb,a))return Ab(a,b);if("string"!==typeof a&&!xa(a)&&!0!==a&&!1!==a||(null==a?null:a.constructor)!==(null==b?null:b.constructor))throw Error(["Cannot compare ",A.c(a)," to ",A.c(b)].join(""));return ha(a,b)}
function Wc(a,b){var c=P(a),d=P(b);if(c<d)a=-1;else if(c>d)a=1;else if(0===c)a=0;else a:for(d=0;;){var e=Vc(rc(a,d),rc(b,d));if(0===e&&d+1<c)d+=1;else{a=e;break a}}return a}function ka(a){return F.g(a,Vc)?Vc:function(b,c){var d=a.g?a.g(b,c):a.call(null,b,c);return"number"===typeof d?d:w(d)?-1:w(a.g?a.g(c,b):a.call(null,c,b))?1:0}}function Xc(a,b){return G(b)?(b=Yc.c?Yc.c(b):Yc.call(null,b),ja(b,ka(a)),G(b)):K}
function Di(){return Xc(function(a,b){a=J.c?J.c(a):J.call(null,a);b=J.c?J.c(b):J.call(null,b);var c=ka(Vc);return c.g?c.g(a,b):c.call(null,a,b)},qj)}function yc(a){switch(arguments.length){case 2:return xc(arguments[0],arguments[1]);case 3:return zc(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",A.c(arguments.length)].join(""));}}function xc(a,b){var c=G(b);return c?(b=J(c),c=M(c),Zc?Zc(a,b,c):$c.call(null,a,b,c)):a.o?a.o():a.call(null)}
function zc(a,b,c){for(c=G(c);;)if(c){var d=J(c);b=a.g?a.g(b,d):a.call(null,b,d);if(kc(b))return ab(b);c=M(c)}else return b}function ad(a,b){a=Ib(a);if(w(a.fa()))for(var c=a.next();;)if(a.fa()){var d=a.next();c=b.g?b.g(c,d):b.call(null,c,d);if(kc(c))return ab(c)}else return c;else return b.o?b.o():b.call(null)}function bd(a,b,c){for(a=Ib(a);;)if(a.fa()){var d=a.next();c=b.g?b.g(c,d):b.call(null,c,d);if(kc(c))return ab(c)}else return c}
function $c(a){switch(arguments.length){case 2:return cd(arguments[0],arguments[1]);case 3:return Zc(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",A.c(arguments.length)].join(""));}}function cd(a,b){return null!=b&&(b.l&524288||u===b.Pb)?b.ba(null,a):xa(b)?mc(b,a):"string"===typeof b?mc(b,a):y(eb,b)?fb(b,a):$b(b)?ad(b,a):xc(a,b)}
function Zc(a,b,c){return null!=c&&(c.l&524288||u===c.Pb)?c.ca(null,a,b):xa(c)?nc(c,a,b):"string"===typeof c?nc(c,a,b):y(eb,c)?fb(c,a,b):$b(c)?bd(c,a,b):zc(a,b,c)}function dd(a,b,c){return null!=c?ib(c,a,b):b}function ed(a){return a}function fd(a,b,c,d){a=a.c?a.c(b):a.call(null,b);c=Zc(a,c,d);return a.c?a.c(c):a.call(null,c)}function gd(a){a=(a-a%2)/2;return 0<=a?Math.floor(a):Math.ceil(a)}
function hd(a){a-=a>>1&1431655765;a=(a&858993459)+(a>>2&858993459);return 16843009*(a+(a>>4)&252645135)>>24}function yj(a){return 0>a}var A=function A(a){switch(arguments.length){case 0:return A.o();case 1:return A.c(arguments[0]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;return A.v(arguments[0],new H(c.slice(1),0,null))}};A.o=function(){return""};A.c=function(a){return null==a?"":[a].join("")};
A.v=function(a,b){for(a=new ma(A.c(a));;)if(w(b))a=a.append(A.c(J(b))),b=M(b);else return a.toString()};A.C=function(a){var b=J(a);a=M(a);return this.v(b,a)};A.F=1;function vc(a,b){if(Mc(b))if(pc(a)&&pc(b)&&P(a)!==P(b))a=!1;else a:for(a=G(a),b=G(b);;){if(null==a){a=null==b;break a}if(null!=b&&F.g(J(a),J(b)))a=M(a),b=M(b);else{a=!1;break a}}else a=null;return Tc(a)}function Dc(a,b,c,d,e){this.meta=a;this.first=b;this.rest=c;this.count=d;this.B=e;this.l=65937646;this.A=8192}g=Dc.prototype;
g.toString=function(){return Kb(this)};g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return N(this,b,0);case 2:return N(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.c=function(b){return N(this,b,0)};a.g=function(b,c){return N(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return Q(this,c,this.count)}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return Q(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.c=a;b.g=function(c,d){return Q(this,c,d)};return b}();g.R=function(){return this.meta};g.$=function(){return 1===this.count?null:this.rest};g.U=function(){return this.count};g.Cc=function(){return this.first};g.Dc=function(){return this.da(null)};
g.S=function(){var a=this.B;return null!=a?a:this.B=a=fc(this)};g.P=function(a,b){return vc(this,b)};g.V=function(){return db(K,this.meta)};g.ba=function(a,b){return xc(b,this)};g.ca=function(a,b,c){return zc(b,c,this)};g.Y=function(){return this.first};g.da=function(){return 1===this.count?K:this.rest};g.O=function(){return this};g.T=function(a,b){return b===this.meta?this:new Dc(b,this.first,this.rest,this.count,this.B)};g.Z=function(a,b){return new Dc(this.meta,b,this,this.count+1,null)};
Dc.prototype[Aa]=function(){return dc(this)};function id(a){this.meta=a;this.l=65937614;this.A=8192}g=id.prototype;g.toString=function(){return Kb(this)};g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return N(this,b,0);case 2:return N(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.c=function(b){return N(this,b,0)};a.g=function(b,c){return N(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return Q(this,c,P(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return Q(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.c=a;b.g=function(c,d){return Q(this,c,d)};return b}();g.R=function(){return this.meta};g.$=function(){return null};g.U=function(){return 0};g.Cc=function(){return null};g.Dc=function(){throw Error("Can't pop empty list");};g.S=function(){return gc};
g.P=function(a,b){return(null!=b?b.l&33554432||u===b.tc||(b.l?0:y(ob,b)):y(ob,b))||Mc(b)?null==G(b):!1};g.V=function(){return this};g.ba=function(a,b){return xc(b,this)};g.ca=function(a,b,c){return zc(b,c,this)};g.Y=function(){return null};g.da=function(){return K};g.O=function(){return null};g.T=function(a,b){return b===this.meta?this:new id(b)};g.Z=function(a,b){return new Dc(this.meta,b,null,1,null)};var K=new id(null);id.prototype[Aa]=function(){return dc(this)};
function jd(a){return(null!=a?a.l&134217728||u===a.xc||(a.l?0:y(qb,a)):y(qb,a))?(a=rb(a))?a:K:Zc(Bc,K,a)}function kd(a){for(var b=[],c=arguments.length,d=0;;)if(d<c)b.push(arguments[d]),d+=1;else break;a:{c=0<b.length?new H(b.slice(0),0,null):null;if(c instanceof H&&0===c.i)b=c.h;else b:for(b=[];;)if(null!=c)b.push(B(c)),c=Pa(c);else break b;c=b.length;for(var e=K;;)if(0<c)d=c-1,e=Ia(e,b[c-1]),c=d;else break a}return e}
function ld(a,b,c,d){this.meta=a;this.first=b;this.rest=c;this.B=d;this.l=65929452;this.A=8192}g=ld.prototype;g.toString=function(){return Kb(this)};g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return N(this,b,0);case 2:return N(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.c=function(b){return N(this,b,0)};a.g=function(b,c){return N(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return Q(this,c,P(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return Q(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.c=a;b.g=function(c,d){return Q(this,c,d)};return b}();g.R=function(){return this.meta};g.$=function(){return null==this.rest?null:G(this.rest)};g.S=function(){var a=this.B;return null!=a?a:this.B=a=fc(this)};g.P=function(a,b){return vc(this,b)};g.V=function(){return K};
g.ba=function(a,b){return xc(b,this)};g.ca=function(a,b,c){return zc(b,c,this)};g.Y=function(){return this.first};g.da=function(){return null==this.rest?K:this.rest};g.O=function(){return this};g.T=function(a,b){return b===this.meta?this:new ld(b,this.first,this.rest,this.B)};g.Z=function(a,b){return new ld(null,b,this,null)};ld.prototype[Aa]=function(){return dc(this)};
function R(a,b){return null==b?new Dc(null,a,null,1,null):null!=b&&(b.l&64||u===b.I)?new ld(null,a,b,null):new ld(null,a,G(b),null)}function md(a,b){if(a.Da===b.Da)return 0;if(w(ya(a.ja)?b.ja:!1))return-1;if(w(a.ja)){if(ya(b.ja))return 1;var c=ha(a.ja,b.ja);return 0===c?ha(a.name,b.name):c}return ha(a.name,b.name)}function E(a,b,c,d){this.ja=a;this.name=b;this.Da=c;this.Qa=d;this.l=2153775105;this.A=4096}g=E.prototype;g.toString=function(){return[":",A.c(this.Da)].join("")};
g.P=function(a,b){return b instanceof E?this.Da===b.Da:!1};g.call=function(a){switch(arguments.length-1){case 1:return this.c(arguments[1]);case 2:return this.g(arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",A.c(arguments.length-1)].join(""));}};g.apply=function(a,b){return this.call.apply(this,[this].concat(Ba(b)))};g.c=function(a){return Wb.g(a,this)};g.g=function(a,b){return Wb.j(a,this,b)};g.S=function(){var a=this.Qa;return null!=a?a:this.Qa=a=Tb(this)+2654435769|0};
g.N=function(a,b){return sb(b,[":",A.c(this.Da)].join(""))};function nd(a){if(null!=a&&(a.A&4096||u===a.Ob))return a.ja;throw Error(["Doesn't support namespace: ",A.c(a)].join(""));}var od=function od(a){switch(arguments.length){case 1:return od.c(arguments[0]);case 2:return od.g(arguments[0],arguments[1]);default:throw Error(["Invalid arity: ",A.c(arguments.length)].join(""));}};
od.c=function(a){if(a instanceof E)return a;if(a instanceof Vb)return new E(nd(a),pd.c?pd.c(a):pd.call(null,a),a.str,null);if(F.g("/",a))return new E(null,a,a,null);if("string"===typeof a){var b=a.split("/");return 2===b.length?new E(b[0],b[1],a,null):new E(null,b[0],a,null)}return null};
od.g=function(a,b){a=a instanceof E?pd.c?pd.c(a):pd.call(null,a):a instanceof Vb?pd.c?pd.c(a):pd.call(null,a):a;b=b instanceof E?pd.c?pd.c(b):pd.call(null,b):b instanceof Vb?pd.c?pd.c(b):pd.call(null,b):b;return new E(a,b,[w(a)?[A.c(a),"/"].join(""):null,A.c(b)].join(""),null)};od.F=2;function qd(a,b,c){this.meta=a;this.ab=b;this.D=null;this.B=c;this.l=32374988;this.A=1}g=qd.prototype;g.toString=function(){return Kb(this)};
function rd(a){null!=a.ab&&(a.D=a.ab.o?a.ab.o():a.ab.call(null),a.ab=null);return a.D}g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return N(this,b,0);case 2:return N(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.c=function(b){return N(this,b,0)};a.g=function(b,c){return N(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return Q(this,c,P(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return Q(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.c=a;b.g=function(c,d){return Q(this,c,d)};return b}();g.R=function(){return this.meta};g.$=function(){this.O(null);return null==this.D?null:M(this.D)};g.S=function(){var a=this.B;return null!=a?a:this.B=a=fc(this)};g.P=function(a,b){return vc(this,b)};
g.V=function(){return db(K,this.meta)};g.ba=function(a,b){return xc(b,this)};g.ca=function(a,b,c){return zc(b,c,this)};g.Y=function(){this.O(null);return null==this.D?null:J(this.D)};g.da=function(){this.O(null);return null!=this.D?bc(this.D):K};g.O=function(){rd(this);if(null==this.D)return null;for(var a=this.D;;)if(a instanceof qd)a=rd(a);else return this.D=a,G(this.D)};g.T=function(a,b){var c=this;return b===this.meta?c:new qd(b,function(){return c.O(null)},this.B)};
g.Z=function(a,b){return R(b,this)};qd.prototype[Aa]=function(){return dc(this)};function sd(a){this.pb=a;this.end=0;this.l=2;this.A=0}sd.prototype.add=function(a){this.pb[this.end]=a;return this.end+=1};sd.prototype.chunk=function(){var a=new td(this.pb,0,this.end);this.pb=null;return a};sd.prototype.U=function(){return this.end};function td(a,b,c){this.h=a;this.off=b;this.end=c;this.l=524306;this.A=0}g=td.prototype;g.U=function(){return this.end-this.off};
g.W=function(a,b){return this.h[this.off+b]};g.la=function(a,b,c){return 0<=b&&b<this.end-this.off?this.h[this.off+b]:c};g.xb=function(){if(this.off===this.end)throw Error("-drop-first of empty chunk");return new td(this.h,this.off+1,this.end)};g.ba=function(a,b){return oc(this.h,b,this.h[this.off],this.off+1)};g.ca=function(a,b,c){return oc(this.h,b,c,this.off)};function ud(a,b,c,d){this.chunk=a;this.Ga=b;this.meta=c;this.B=d;this.l=31850732;this.A=1536}g=ud.prototype;g.toString=function(){return Kb(this)};
g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return N(this,b,0);case 2:return N(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.c=function(b){return N(this,b,0)};a.g=function(b,c){return N(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return Q(this,c,P(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return Q(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.c=a;b.g=function(c,d){return Q(this,c,d)};return b}();g.R=function(){return this.meta};g.$=function(){return 1<Ea(this.chunk)?new ud(Bb(this.chunk),this.Ga,null,null):null==this.Ga?null:mb(this.Ga)};g.S=function(){var a=this.B;return null!=a?a:this.B=a=fc(this)};
g.P=function(a,b){return vc(this,b)};g.V=function(){return K};g.Y=function(){return La(this.chunk,0)};g.da=function(){return 1<Ea(this.chunk)?new ud(Bb(this.chunk),this.Ga,null,null):null==this.Ga?K:this.Ga};g.O=function(){return this};g.qb=function(){return this.chunk};g.ib=function(){return null==this.Ga?K:this.Ga};g.T=function(a,b){return b===this.meta?this:new ud(this.chunk,this.Ga,b,this.B)};g.Z=function(a,b){return R(b,this)};g.yb=function(){return null==this.Ga?null:this.Ga};
ud.prototype[Aa]=function(){return dc(this)};function vd(a,b){return 0===Ea(a)?b:new ud(a,b,null,null)}function wd(a,b){a.add(b)}function Yc(a){var b=[];for(a=G(a);;)if(null!=a)b.push(J(a)),a=M(a);else return b}function xd(a,b){if(pc(b))return P(b);var c=0;for(b=G(b);;)if(null!=b&&c<a)c+=1,b=M(b);else return c}
var yd=function yd(a){if(null==a)return null;var c=M(a);return null==c?G(J(a)):R(J(a),yd.c?yd.c(c):yd.call(null,c))},zd=function zd(a){switch(arguments.length){case 0:return zd.o();case 1:return zd.c(arguments[0]);case 2:return zd.g(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;return zd.v(arguments[0],arguments[1],new H(c.slice(2),0,null))}};zd.o=function(){return new qd(null,function(){return null},null)};
zd.c=function(a){return new qd(null,function(){return a},null)};zd.g=function(a,b){return new qd(null,function(){var c=G(a);return c?Qc(c)?vd(Cb(c),zd.g(Db(c),b)):R(J(c),zd.g(bc(c),b)):b},null)};zd.v=function(a,b,c){return function h(e,f){return new qd(null,function(){var k=G(e);return k?Qc(k)?vd(Cb(k),h(Db(k),f)):R(J(k),h(bc(k),f)):w(f)?h(J(f),M(f)):null},null)}(zd.g(a,b),c)};zd.C=function(a){var b=J(a),c=M(a);a=J(c);c=M(c);return this.v(b,a,c)};zd.F=2;
var Ad=function Ad(a){switch(arguments.length){case 0:return Ad.o();case 1:return Ad.c(arguments[0]);case 2:return Ad.g(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;return Ad.v(arguments[0],arguments[1],new H(c.slice(2),0,null))}};Ad.o=function(){return vb(Cc)};Ad.c=function(a){return a};Ad.g=function(a,b){return wb(a,b)};Ad.v=function(a,b,c){for(;;)if(a=wb(a,b),w(c))b=J(c),c=M(c);else return a};
Ad.C=function(a){var b=J(a),c=M(a);a=J(c);c=M(c);return this.v(b,a,c)};Ad.F=2;
function Bd(a,b,c){var d=G(c);if(0===b)return a.o?a.o():a.call(null);c=B(d);var e=Na(d);if(1===b)return a.c?a.c(c):a.call(null,c);d=B(e);var f=Na(e);if(2===b)return a.g?a.g(c,d):a.call(null,c,d);e=B(f);var h=Na(f);if(3===b)return a.j?a.j(c,d,e):a.call(null,c,d,e);f=B(h);var k=Na(h);if(4===b)return a.H?a.H(c,d,e,f):a.call(null,c,d,e,f);h=B(k);var l=Na(k);if(5===b)return a.aa?a.aa(c,d,e,f,h):a.call(null,c,d,e,f,h);k=B(l);var m=Na(l);if(6===b)return a.ya?a.ya(c,d,e,f,h,k):a.call(null,c,d,e,f,h,k);l=
B(m);var n=Na(m);if(7===b)return a.za?a.za(c,d,e,f,h,k,l):a.call(null,c,d,e,f,h,k,l);m=B(n);var p=Na(n);if(8===b)return a.Aa?a.Aa(c,d,e,f,h,k,l,m):a.call(null,c,d,e,f,h,k,l,m);n=B(p);var q=Na(p);if(9===b)return a.Ba?a.Ba(c,d,e,f,h,k,l,m,n):a.call(null,c,d,e,f,h,k,l,m,n);p=B(q);var r=Na(q);if(10===b)return a.na?a.na(c,d,e,f,h,k,l,m,n,p):a.call(null,c,d,e,f,h,k,l,m,n,p);q=B(r);var x=Na(r);if(11===b)return a.oa?a.oa(c,d,e,f,h,k,l,m,n,p,q):a.call(null,c,d,e,f,h,k,l,m,n,p,q);r=B(x);var C=Na(x);if(12===
b)return a.pa?a.pa(c,d,e,f,h,k,l,m,n,p,q,r):a.call(null,c,d,e,f,h,k,l,m,n,p,q,r);x=B(C);var D=Na(C);if(13===b)return a.qa?a.qa(c,d,e,f,h,k,l,m,n,p,q,r,x):a.call(null,c,d,e,f,h,k,l,m,n,p,q,r,x);C=B(D);var I=Na(D);if(14===b)return a.ra?a.ra(c,d,e,f,h,k,l,m,n,p,q,r,x,C):a.call(null,c,d,e,f,h,k,l,m,n,p,q,r,x,C);D=B(I);var O=Na(I);if(15===b)return a.sa?a.sa(c,d,e,f,h,k,l,m,n,p,q,r,x,C,D):a.call(null,c,d,e,f,h,k,l,m,n,p,q,r,x,C,D);I=B(O);var V=Na(O);if(16===b)return a.ta?a.ta(c,d,e,f,h,k,l,m,n,p,q,r,x,
C,D,I):a.call(null,c,d,e,f,h,k,l,m,n,p,q,r,x,C,D,I);O=B(V);var ia=Na(V);if(17===b)return a.ua?a.ua(c,d,e,f,h,k,l,m,n,p,q,r,x,C,D,I,O):a.call(null,c,d,e,f,h,k,l,m,n,p,q,r,x,C,D,I,O);V=B(ia);var Ja=Na(ia);if(18===b)return a.va?a.va(c,d,e,f,h,k,l,m,n,p,q,r,x,C,D,I,O,V):a.call(null,c,d,e,f,h,k,l,m,n,p,q,r,x,C,D,I,O,V);ia=B(Ja);Ja=Na(Ja);if(19===b)return a.wa?a.wa(c,d,e,f,h,k,l,m,n,p,q,r,x,C,D,I,O,V,ia):a.call(null,c,d,e,f,h,k,l,m,n,p,q,r,x,C,D,I,O,V,ia);var Kf=B(Ja);Na(Ja);if(20===b)return a.xa?a.xa(c,
d,e,f,h,k,l,m,n,p,q,r,x,C,D,I,O,V,ia,Kf):a.call(null,c,d,e,f,h,k,l,m,n,p,q,r,x,C,D,I,O,V,ia,Kf);throw Error("Only up to 20 arguments supported on functions");}function Cd(a){return null!=a&&(a.l&128||u===a.Za)?a.$(null):G(bc(a))}function Dd(a,b,c){return null==c?a.c?a.c(b):a.call(a,b):Ed(a,b,B(c),Cd(c))}function Ed(a,b,c,d){return null==d?a.g?a.g(b,c):a.call(a,b,c):Fd(a,b,c,B(d),Cd(d))}function Fd(a,b,c,d,e){return null==e?a.j?a.j(b,c,d):a.call(a,b,c,d):Gd(a,b,c,d,B(e),Cd(e))}
function Gd(a,b,c,d,e,f){if(null==f)return a.H?a.H(b,c,d,e):a.call(a,b,c,d,e);var h=B(f),k=M(f);if(null==k)return a.aa?a.aa(b,c,d,e,h):a.call(a,b,c,d,e,h);f=B(k);var l=M(k);if(null==l)return a.ya?a.ya(b,c,d,e,h,f):a.call(a,b,c,d,e,h,f);k=B(l);var m=M(l);if(null==m)return a.za?a.za(b,c,d,e,h,f,k):a.call(a,b,c,d,e,h,f,k);l=B(m);var n=M(m);if(null==n)return a.Aa?a.Aa(b,c,d,e,h,f,k,l):a.call(a,b,c,d,e,h,f,k,l);m=B(n);var p=M(n);if(null==p)return a.Ba?a.Ba(b,c,d,e,h,f,k,l,m):a.call(a,b,c,d,e,h,f,k,l,m);
n=B(p);var q=M(p);if(null==q)return a.na?a.na(b,c,d,e,h,f,k,l,m,n):a.call(a,b,c,d,e,h,f,k,l,m,n);p=B(q);var r=M(q);if(null==r)return a.oa?a.oa(b,c,d,e,h,f,k,l,m,n,p):a.call(a,b,c,d,e,h,f,k,l,m,n,p);q=B(r);var x=M(r);if(null==x)return a.pa?a.pa(b,c,d,e,h,f,k,l,m,n,p,q):a.call(a,b,c,d,e,h,f,k,l,m,n,p,q);r=B(x);var C=M(x);if(null==C)return a.qa?a.qa(b,c,d,e,h,f,k,l,m,n,p,q,r):a.call(a,b,c,d,e,h,f,k,l,m,n,p,q,r);x=B(C);var D=M(C);if(null==D)return a.ra?a.ra(b,c,d,e,h,f,k,l,m,n,p,q,r,x):a.call(a,b,c,d,
e,h,f,k,l,m,n,p,q,r,x);C=B(D);var I=M(D);if(null==I)return a.sa?a.sa(b,c,d,e,h,f,k,l,m,n,p,q,r,x,C):a.call(a,b,c,d,e,h,f,k,l,m,n,p,q,r,x,C);D=B(I);var O=M(I);if(null==O)return a.ta?a.ta(b,c,d,e,h,f,k,l,m,n,p,q,r,x,C,D):a.call(a,b,c,d,e,h,f,k,l,m,n,p,q,r,x,C,D);I=B(O);var V=M(O);if(null==V)return a.ua?a.ua(b,c,d,e,h,f,k,l,m,n,p,q,r,x,C,D,I):a.call(a,b,c,d,e,h,f,k,l,m,n,p,q,r,x,C,D,I);O=B(V);var ia=M(V);if(null==ia)return a.va?a.va(b,c,d,e,h,f,k,l,m,n,p,q,r,x,C,D,I,O):a.call(a,b,c,d,e,h,f,k,l,m,n,p,
q,r,x,C,D,I,O);V=B(ia);var Ja=M(ia);if(null==Ja)return a.wa?a.wa(b,c,d,e,h,f,k,l,m,n,p,q,r,x,C,D,I,O,V):a.call(a,b,c,d,e,h,f,k,l,m,n,p,q,r,x,C,D,I,O,V);ia=B(Ja);Ja=M(Ja);if(null==Ja)return a.xa?a.xa(b,c,d,e,h,f,k,l,m,n,p,q,r,x,C,D,I,O,V,ia):a.call(a,b,c,d,e,h,f,k,l,m,n,p,q,r,x,C,D,I,O,V,ia);b=[b,c,d,e,h,f,k,l,m,n,p,q,r,x,C,D,I,O,V,ia];for(c=Ja;;)if(c)b.push(B(c)),c=M(c);else break;return a.apply(a,b)}
function Zb(a){switch(arguments.length){case 2:return T(arguments[0],arguments[1]);case 3:return Hd(arguments[0],arguments[1],arguments[2]);case 4:return Id(arguments[0],arguments[1],arguments[2],arguments[3]);case 5:return Jd(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4]);default:for(var b=[],c=arguments.length,d=0;;)if(d<c)b.push(arguments[d]),d+=1;else break;c=arguments[0];d=arguments[1];var e=arguments[2],f=arguments[3],h=arguments[4];b=new H(b.slice(5),0,null);c.C?(b=yd(b),
d=R(d,R(e,R(f,R(h,b)))),e=c.F,b=4+xd(e-3,b),c=b<=e?Bd(c,b,d):c.C(d)):c=Gd(c,d,e,f,h,yd(b));return c}}function T(a,b){if(a.C){var c=a.F,d=xd(c+1,b);return d<=c?Bd(a,d,b):a.C(b)}b=G(b);return null==b?a.o?a.o():a.call(a):Dd(a,B(b),Cd(b))}function Hd(a,b,c){if(a.C){b=R(b,c);var d=a.F;c=xd(d,c)+1;return c<=d?Bd(a,c,b):a.C(b)}return Dd(a,b,G(c))}function Id(a,b,c,d){return a.C?(b=R(b,R(c,d)),c=a.F,d=2+xd(c-1,d),d<=c?Bd(a,d,b):a.C(b)):Ed(a,b,c,G(d))}
function Jd(a,b,c,d,e){return a.C?(b=R(b,R(c,R(d,e))),c=a.F,e=3+xd(c-2,e),e<=c?Bd(a,e,b):a.C(b)):Fd(a,b,c,d,G(e))}
function Kd(){if("undefined"===typeof na||"undefined"===typeof oa||"undefined"===typeof Ma)Ma=function(a){this.Zb=a;this.l=393216;this.A=0},Ma.prototype.T=function(a,b){return new Ma(b)},Ma.prototype.R=function(){return this.Zb},Ma.prototype.fa=function(){return!1},Ma.prototype.next=function(){return Error("No such element")},Ma.prototype.remove=function(){return Error("Unsupported operation")},Ma.Bc=function(){return new U(null,1,5,W,[wj],null)},Ma.Cb=!0,Ma.mb="cljs.core/t_cljs$core19718",Ma.Wb=
function(a){return sb(a,"cljs.core/t_cljs$core19718")};return new Ma(Md)}function Nd(a,b){for(;;){if(null==G(b))return!0;var c=J(b);c=a.c?a.c(c):a.call(null,c);if(w(c))b=M(b);else return!1}}function Od(a,b){for(;;)if(b=G(b)){var c=J(b);c=a.c?a.c(c):a.call(null,c);if(w(c))return c;b=M(b)}else return null}
function Pd(a){return function(){function b(h,k){return ya(a.g?a.g(h,k):a.call(null,h,k))}function c(h){return ya(a.c?a.c(h):a.call(null,h))}function d(){return ya(a.o?a.o():a.call(null))}var e=null,f=function(){function h(l,m,n){var p=null;if(2<arguments.length){p=0;for(var q=Array(arguments.length-2);p<q.length;)q[p]=arguments[p+2],++p;p=new H(q,0,null)}return k.call(this,l,m,p)}function k(l,m,n){return ya(Id(a,l,m,n))}h.F=2;h.C=function(l){var m=J(l);l=M(l);var n=J(l);l=bc(l);return k(m,n,l)};
h.v=k;return h}();e=function(h,k,l){switch(arguments.length){case 0:return d.call(this);case 1:return c.call(this,h);case 2:return b.call(this,h,k);default:var m=null;if(2<arguments.length){m=0;for(var n=Array(arguments.length-2);m<n.length;)n[m]=arguments[m+2],++m;m=new H(n,0,null)}return f.v(h,k,m)}throw Error("Invalid arity: "+arguments.length);};e.F=2;e.C=f.C;e.o=d;e.c=c;e.g=b;e.v=f.v;return e}()}
var Qd=function Qd(a){switch(arguments.length){case 0:return Qd.o();case 1:return Qd.c(arguments[0]);case 2:return Qd.g(arguments[0],arguments[1]);case 3:return Qd.j(arguments[0],arguments[1],arguments[2]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;return Qd.v(arguments[0],arguments[1],arguments[2],new H(c.slice(3),0,null))}};Qd.o=function(){return ed};Qd.c=function(a){return a};
Qd.g=function(a,b){return function(){function c(l,m,n){l=b.j?b.j(l,m,n):b.call(null,l,m,n);return a.c?a.c(l):a.call(null,l)}function d(l,m){l=b.g?b.g(l,m):b.call(null,l,m);return a.c?a.c(l):a.call(null,l)}function e(l){l=b.c?b.c(l):b.call(null,l);return a.c?a.c(l):a.call(null,l)}function f(){var l=b.o?b.o():b.call(null);return a.c?a.c(l):a.call(null,l)}var h=null,k=function(){function l(n,p,q,r){var x=null;if(3<arguments.length){x=0;for(var C=Array(arguments.length-3);x<C.length;)C[x]=arguments[x+
3],++x;x=new H(C,0,null)}return m.call(this,n,p,q,x)}function m(n,p,q,r){n=Jd(b,n,p,q,r);return a.c?a.c(n):a.call(null,n)}l.F=3;l.C=function(n){var p=J(n);n=M(n);var q=J(n);n=M(n);var r=J(n);n=bc(n);return m(p,q,r,n)};l.v=m;return l}();h=function(l,m,n,p){switch(arguments.length){case 0:return f.call(this);case 1:return e.call(this,l);case 2:return d.call(this,l,m);case 3:return c.call(this,l,m,n);default:var q=null;if(3<arguments.length){q=0;for(var r=Array(arguments.length-3);q<r.length;)r[q]=arguments[q+
3],++q;q=new H(r,0,null)}return k.v(l,m,n,q)}throw Error("Invalid arity: "+arguments.length);};h.F=3;h.C=k.C;h.o=f;h.c=e;h.g=d;h.j=c;h.v=k.v;return h}()};
Qd.j=function(a,b,c){return function(){function d(m,n,p){m=c.j?c.j(m,n,p):c.call(null,m,n,p);m=b.c?b.c(m):b.call(null,m);return a.c?a.c(m):a.call(null,m)}function e(m,n){m=c.g?c.g(m,n):c.call(null,m,n);m=b.c?b.c(m):b.call(null,m);return a.c?a.c(m):a.call(null,m)}function f(m){m=c.c?c.c(m):c.call(null,m);m=b.c?b.c(m):b.call(null,m);return a.c?a.c(m):a.call(null,m)}function h(){var m=c.o?c.o():c.call(null);m=b.c?b.c(m):b.call(null,m);return a.c?a.c(m):a.call(null,m)}var k=null,l=function(){function m(p,
q,r,x){var C=null;if(3<arguments.length){C=0;for(var D=Array(arguments.length-3);C<D.length;)D[C]=arguments[C+3],++C;C=new H(D,0,null)}return n.call(this,p,q,r,C)}function n(p,q,r,x){p=Jd(c,p,q,r,x);p=b.c?b.c(p):b.call(null,p);return a.c?a.c(p):a.call(null,p)}m.F=3;m.C=function(p){var q=J(p);p=M(p);var r=J(p);p=M(p);var x=J(p);p=bc(p);return n(q,r,x,p)};m.v=n;return m}();k=function(m,n,p,q){switch(arguments.length){case 0:return h.call(this);case 1:return f.call(this,m);case 2:return e.call(this,
m,n);case 3:return d.call(this,m,n,p);default:var r=null;if(3<arguments.length){r=0;for(var x=Array(arguments.length-3);r<x.length;)x[r]=arguments[r+3],++r;r=new H(x,0,null)}return l.v(m,n,p,r)}throw Error("Invalid arity: "+arguments.length);};k.F=3;k.C=l.C;k.o=h;k.c=f;k.g=e;k.j=d;k.v=l.v;return k}()};
Qd.v=function(a,b,c,d){var e=jd(R(a,R(b,R(c,d))));return function(){function f(k){var l=null;if(0<arguments.length){l=0;for(var m=Array(arguments.length-0);l<m.length;)m[l]=arguments[l+0],++l;l=new H(m,0,null)}return h.call(this,l)}function h(k){k=T(J(e),k);for(var l=M(e);;)if(l){var m=J(l);k=m.c?m.c(k):m.call(null,k);l=M(l)}else return k}f.F=0;f.C=function(k){k=G(k);return h(k)};f.v=h;return f}()};Qd.C=function(a){var b=J(a),c=M(a);a=J(c);var d=M(c);c=J(d);d=M(d);return this.v(b,a,c,d)};Qd.F=3;
function Rd(a){this.state=a;this.Eb=this.cc=this.meta=null;this.A=16386;this.l=6455296}Rd.prototype.P=function(a,b){return this===b};Rd.prototype.jb=function(){return this.state};Rd.prototype.R=function(){return this.meta};Rd.prototype.S=function(){return this[da]||(this[da]=++ea)};
function Sd(a,b){if(a instanceof Rd){var c=a.cc;if(null!=c&&!w(c.c?c.c(b):c.call(null,b)))throw Error("Validator rejected reference state");c=a.state;a.state=b;if(null!=a.Eb)a:for(var d=G(a.Eb),e=null,f=0,h=0;;)if(h<f){var k=e.W(null,h),l=S(k,0,null);k=S(k,1,null);k.H?k.H(l,a,c,b):k.call(null,l,a,c,b);h+=1}else if(d=G(d))Qc(d)?(e=Cb(d),d=Db(d),l=e,f=P(e),e=l):(e=J(d),l=S(e,0,null),k=S(e,1,null),k.H?k.H(l,a,c,b):k.call(null,l,a,c,b),d=M(d),e=null,f=0),h=0;else break a;return b}return Eb(a,b)}
var Td=function Td(a){switch(arguments.length){case 2:return Td.g(arguments[0],arguments[1]);case 3:return Td.j(arguments[0],arguments[1],arguments[2]);case 4:return Td.H(arguments[0],arguments[1],arguments[2],arguments[3]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;return Td.v(arguments[0],arguments[1],arguments[2],arguments[3],new H(c.slice(4),0,null))}};
Td.g=function(a,b){if(a instanceof Rd){var c=a.state;b=b.c?b.c(c):b.call(null,c);a=Sd(a,b)}else a=Fb(a,b);return a};Td.j=function(a,b,c){if(a instanceof Rd){var d=a.state;b=b.g?b.g(d,c):b.call(null,d,c);a=Sd(a,b)}else a=Fb(a,b,c);return a};Td.H=function(a,b,c,d){if(a instanceof Rd){var e=a.state;b=b.j?b.j(e,c,d):b.call(null,e,c,d);a=Sd(a,b)}else a=Fb(a,b,c,d);return a};Td.v=function(a,b,c,d,e){return a instanceof Rd?Sd(a,Jd(b,a.state,c,d,e)):Fb(a,b,c,d,e)};
Td.C=function(a){var b=J(a),c=M(a);a=J(c);var d=M(c);c=J(d);var e=M(d);d=J(e);e=M(e);return this.v(b,a,c,d,e)};Td.F=4;
function Ud(a){return function(){function b(h,k,l){h=a.c?a.c(h):a.call(null,h);w(h)?(k=a.c?a.c(k):a.call(null,k),l=w(k)?a.c?a.c(l):a.call(null,l):k):l=h;return Tc(l)}function c(h,k){h=a.c?a.c(h):a.call(null,h);k=w(h)?a.c?a.c(k):a.call(null,k):h;return Tc(k)}function d(h){return Tc(a.c?a.c(h):a.call(null,h))}var e=null,f=function(){function h(l,m,n,p){var q=null;if(3<arguments.length){q=0;for(var r=Array(arguments.length-3);q<r.length;)r[q]=arguments[q+3],++q;q=new H(r,0,null)}return k.call(this,l,
m,n,q)}function k(l,m,n,p){l=e.j(l,m,n);p=w(l)?Nd(a,p):l;return Tc(p)}h.F=3;h.C=function(l){var m=J(l);l=M(l);var n=J(l);l=M(l);var p=J(l);l=bc(l);return k(m,n,p,l)};h.v=k;return h}();e=function(h,k,l,m){switch(arguments.length){case 0:return!0;case 1:return d.call(this,h);case 2:return c.call(this,h,k);case 3:return b.call(this,h,k,l);default:var n=null;if(3<arguments.length){n=0;for(var p=Array(arguments.length-3);n<p.length;)p[n]=arguments[n+3],++n;n=new H(p,0,null)}return f.v(h,k,l,n)}throw Error("Invalid arity: "+
arguments.length);};e.F=3;e.C=f.C;e.o=function(){return!0};e.c=d;e.g=c;e.j=b;e.v=f.v;return e}()}
function Vd(a,b){return function(){function c(k,l,m){return Tc(function(){var n=a.c?a.c(k):a.call(null,k);return w(n)?(n=a.c?a.c(l):a.call(null,l),w(n)?(n=a.c?a.c(m):a.call(null,m),w(n)?(n=b.c?b.c(k):b.call(null,k),w(n)?(n=b.c?b.c(l):b.call(null,l),w(n)?b.c?b.c(m):b.call(null,m):n):n):n):n):n}())}function d(k,l){return Tc(function(){var m=a.c?a.c(k):a.call(null,k);return w(m)?(m=a.c?a.c(l):a.call(null,l),w(m)?(m=b.c?b.c(k):b.call(null,k),w(m)?b.c?b.c(l):b.call(null,l):m):m):m}())}function e(k){var l=
a.c?a.c(k):a.call(null,k);k=w(l)?b.c?b.c(k):b.call(null,k):l;return Tc(k)}var f=null,h=function(){function k(m,n,p,q){var r=null;if(3<arguments.length){r=0;for(var x=Array(arguments.length-3);r<x.length;)x[r]=arguments[r+3],++r;r=new H(x,0,null)}return l.call(this,m,n,p,r)}function l(m,n,p,q){return Tc(function(){var r=f.j(m,n,p);return w(r)?Nd(function(x){var C=a.c?a.c(x):a.call(null,x);return w(C)?b.c?b.c(x):b.call(null,x):C},q):r}())}k.F=3;k.C=function(m){var n=J(m);m=M(m);var p=J(m);m=M(m);var q=
J(m);m=bc(m);return l(n,p,q,m)};k.v=l;return k}();f=function(k,l,m,n){switch(arguments.length){case 0:return!0;case 1:return e.call(this,k);case 2:return d.call(this,k,l);case 3:return c.call(this,k,l,m);default:var p=null;if(3<arguments.length){p=0;for(var q=Array(arguments.length-3);p<q.length;)q[p]=arguments[p+3],++p;p=new H(q,0,null)}return h.v(k,l,m,p)}throw Error("Invalid arity: "+arguments.length);};f.F=3;f.C=h.C;f.o=function(){return!0};f.c=e;f.g=d;f.j=c;f.v=h.v;return f}()}
var Xd=function Xd(a){switch(arguments.length){case 1:return Xd.c(arguments[0]);case 2:return Xd.g(arguments[0],arguments[1]);case 3:return Xd.j(arguments[0],arguments[1],arguments[2]);case 4:return Xd.H(arguments[0],arguments[1],arguments[2],arguments[3]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;return Xd.v(arguments[0],arguments[1],arguments[2],arguments[3],new H(c.slice(4),0,null))}};
Xd.c=function(a){return function(b){return function(){function c(k,l){l=a.c?a.c(l):a.call(null,l);return b.g?b.g(k,l):b.call(null,k,l)}function d(k){return b.c?b.c(k):b.call(null,k)}function e(){return b.o?b.o():b.call(null)}var f=null,h=function(){function k(m,n,p){var q=null;if(2<arguments.length){q=0;for(var r=Array(arguments.length-2);q<r.length;)r[q]=arguments[q+2],++q;q=new H(r,0,null)}return l.call(this,m,n,q)}function l(m,n,p){n=Hd(a,n,p);return b.g?b.g(m,n):b.call(null,m,n)}k.F=2;k.C=function(m){var n=
J(m);m=M(m);var p=J(m);m=bc(m);return l(n,p,m)};k.v=l;return k}();f=function(k,l,m){switch(arguments.length){case 0:return e.call(this);case 1:return d.call(this,k);case 2:return c.call(this,k,l);default:var n=null;if(2<arguments.length){n=0;for(var p=Array(arguments.length-2);n<p.length;)p[n]=arguments[n+2],++n;n=new H(p,0,null)}return h.v(k,l,n)}throw Error("Invalid arity: "+arguments.length);};f.F=2;f.C=h.C;f.o=e;f.c=d;f.g=c;f.v=h.v;return f}()}};
Xd.g=function(a,b){return new qd(null,function(){var c=G(b);if(c){if(Qc(c)){for(var d=Cb(c),e=P(d),f=new sd(Array(e)),h=0;;)if(h<e)wd(f,function(){var k=La(d,h);return a.c?a.c(k):a.call(null,k)}()),h+=1;else break;return vd(f.chunk(),Xd.g(a,Db(c)))}return R(function(){var k=J(c);return a.c?a.c(k):a.call(null,k)}(),Xd.g(a,bc(c)))}return null},null)};
Xd.j=function(a,b,c){return new qd(null,function(){var d=G(b),e=G(c);if(d&&e){var f=J(d);var h=J(e);f=a.g?a.g(f,h):a.call(null,f,h);d=R(f,Xd.j(a,bc(d),bc(e)))}else d=null;return d},null)};Xd.H=function(a,b,c,d){return new qd(null,function(){var e=G(b),f=G(c),h=G(d);if(e&&f&&h){var k=J(e);var l=J(f),m=J(h);k=a.j?a.j(k,l,m):a.call(null,k,l,m);e=R(k,Xd.H(a,bc(e),bc(f),bc(h)))}else e=null;return e},null)};
Xd.v=function(a,b,c,d,e){return Xd.g(function(f){return T(a,f)},function k(h){return new qd(null,function(){var l=Xd.g(G,h);return Nd(ed,l)?R(Xd.g(J,l),k(Xd.g(bc,l))):null},null)}(Bc.v(e,d,wc([c,b]))))};Xd.C=function(a){var b=J(a),c=M(a);a=J(c);var d=M(c);c=J(d);var e=M(d);d=J(e);e=M(e);return this.v(b,a,c,d,e)};Xd.F=4;function zj(a,b){return new qd(null,function(){if(0<a){var c=G(b);return c?R(J(c),zj(a-1,bc(c))):null}return null},null)}
function Aj(a,b){return new qd(null,function(){a:for(var c=a,d=b;;)if(d=G(d),0<c&&d)--c,d=bc(d);else break a;return d},null)}var Yd={};function Zd(a,b,c,d,e){this.meta=a;this.f=b;this.vb=c;this.nb=d;this.next=e;this.l=26083532;this.A=1}g=Zd.prototype;g.toString=function(){return Kb(this)};g.R=function(){return this.meta};g.$=function(){return this.da(null)};g.V=function(){return K};
g.ba=function(a,b){a=this.Y(null);var c=this.f.c?this.f.c(a):this.f.call(null,a);for(a=b.g?b.g(a,c):b.call(null,a,c);;){if(kc(a))return ab(a);c=this.f.c?this.f.c(c):this.f.call(null,c);a=b.g?b.g(a,c):b.call(null,a,c)}};g.ca=function(a,b,c){a=this.Y(null);for(c=b.g?b.g(c,a):b.call(null,c,a);;){if(kc(c))return ab(c);a=this.f.c?this.f.c(a):this.f.call(null,a);c=b.g?b.g(c,a):b.call(null,c,a)}};g.Y=function(){Yd===this.nb&&(this.nb=this.f.c?this.f.c(this.vb):this.f.call(null,this.vb));return this.nb};
g.da=function(){null==this.next&&(this.next=new Zd(null,this.f,this.Y(null),Yd,null));return this.next};g.O=function(){return this};g.T=function(a,b){return b===this.meta?this:new Zd(b,this.f,this.vb,this.nb,this.next)};g.Z=function(a,b){return R(b,this)};function $d(a,b){return new Zd(null,a,null,b,null)}function Vi(a,b){return T(zd,Hd(Xd,a,b))}
function ae(a,b){return new qd(null,function(){var c=G(b);if(c){if(Qc(c)){for(var d=Cb(c),e=P(d),f=new sd(Array(e)),h=0;;)if(h<e){var k=La(d,h);k=a.c?a.c(k):a.call(null,k);w(k)&&(k=La(d,h),f.add(k));h+=1}else break;return vd(f.chunk(),ae(a,Db(c)))}d=J(c);c=bc(c);return w(a.c?a.c(d):a.call(null,d))?R(d,ae(a,c)):ae(a,c)}return null},null)}function Ei(a,b){return ae(Pd(a),b)}
var be=function be(a){switch(arguments.length){case 0:return be.o();case 1:return be.c(arguments[0]);case 2:return be.g(arguments[0],arguments[1]);case 3:return be.j(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",A.c(arguments.length)].join(""));}};be.o=function(){return Cc};be.c=function(a){return a};be.g=function(a,b){return null!=a?null!=a&&(a.A&4||u===a.Gb)?db(xb(Zc(wb,vb(a),b)),Kc(a)):Zc(Ia,a,b):Zc(Bc,a,b)};
be.j=function(a,b,c){return null!=a&&(a.A&4||u===a.Gb)?db(xb(fd(b,Ad,vb(a),c)),Kc(a)):fd(b,Bc,a,c)};be.F=3;function Bj(a,b,c){return new qd(null,function(){var d=G(c);if(d){var e=zj(a,d);return a===P(e)?R(e,Bj(a,b,Aj(b,d))):null}return null},null)}function ce(a,b){this.J=a;this.h=b}function de(a){return new ce(a,[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null])}
function xi(a){return new ce(a.J,Ba(a.h))}function ee(a){a=a.s;return 32>a?0:a-1>>>5<<5}function fe(a,b,c){for(;;){if(0===b)return c;var d=de(a);d.h[0]=c;c=d;b-=5}}var ge=function ge(a,b,c,d){var f=xi(c),h=a.s-1>>>b&31;5===b?f.h[h]=d:(c=c.h[h],null!=c?(b-=5,a=ge.H?ge.H(a,b,c,d):ge.call(null,a,b,c,d)):a=fe(null,b-5,d),f.h[h]=a);return f};function he(a,b){if(b>=ee(a))return a.ha;var c=a.root;for(a=a.shift;;)if(0<a){var d=a-5;c=c.h[b>>>a&31];a=d}else return c.h}
function ie(a,b){if(0<=b&&b<a.s)b=he(a,b);else throw a=a.s,Error(["No item ",A.c(b)," in vector of length ",A.c(a)].join(""));return b}
var je=function je(a,b,c,d,e){var h=xi(c);if(0===b)h.h[d&31]=e;else{var k=d>>>b&31;b-=5;c=c.h[k];a=je.aa?je.aa(a,b,c,d,e):je.call(null,a,b,c,d,e);h.h[k]=a}return h},yi=function yi(a,b,c){var e=a.s-2>>>b&31;if(5<b){b-=5;var f=c.h[e];a=yi.j?yi.j(a,b,f):yi.call(null,a,b,f);if(null==a&&0===e)return null;c=xi(c);c.h[e]=a;return c}if(0===e)return null;c=xi(c);c.h[e]=null;return c};function ke(a,b,c){this.base=this.i=0;this.h=a;this.bc=b;this.start=0;this.end=c}ke.prototype.fa=function(){return this.i<this.end};
ke.prototype.next=function(){32===this.i-this.base&&(this.h=he(this.bc,this.i),this.base+=32);var a=this.h[this.i&31];this.i+=1;return a};function le(a,b,c,d){return c<d?me(a,b,rc(a,c),c+1,d):b.o?b.o():b.call(null)}function me(a,b,c,d,e){var f=c;c=d;for(d=he(a,d);;)if(c<e){var h=c&31;d=0===h?he(a,c):d;h=d[h];f=b.g?b.g(f,h):b.call(null,f,h);if(kc(f))return ab(f);c+=1}else return f}
function U(a,b,c,d,e,f){this.meta=a;this.s=b;this.shift=c;this.root=d;this.ha=e;this.B=f;this.l=167666463;this.A=139268}g=U.prototype;g.Ya=function(a,b){return 0<=b&&b<this.s?new ne(b,he(this,b)[b&31]):null};g.toString=function(){return Kb(this)};g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return N(this,b,0);case 2:return N(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.c=function(b){return N(this,b,0)};a.g=function(b,c){return N(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return Q(this,c,P(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return Q(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.c=a;b.g=function(c,d){return Q(this,c,d)};return b}();g.ia=function(a,b){return this.M(null,b,null)};g.M=function(a,b,c){return"number"===typeof b?this.la(null,b,c):c};
g.kb=function(a,b,c){a=0;for(var d=c;;)if(a<this.s){var e=he(this,a);c=e.length;a:for(var f=0;;)if(f<c){var h=f+a,k=e[f];d=b.j?b.j(d,h,k):b.call(null,d,h,k);if(kc(d)){e=d;break a}f+=1}else{e=d;break a}if(kc(e))return ab(e);a+=c;d=e}else return d};g.W=function(a,b){return ie(this,b)[b&31]};g.la=function(a,b,c){return 0<=b&&b<this.s?he(this,b)[b&31]:c};
g.ub=function(a,b){if(0<=a&&a<this.s){if(ee(this)<=a){var c=Ba(this.ha);c[a&31]=b;return new U(this.meta,this.s,this.shift,this.root,c,null)}return new U(this.meta,this.s,this.shift,je(this,this.shift,this.root,a,b),this.ha,null)}if(a===this.s)return this.Z(null,b);throw Error(["Index ",A.c(a)," out of bounds  [0,",A.c(this.s),"]"].join(""));};g.Ca=function(){var a=this.s;return new ke(0<P(this)?he(this,0):null,this,a)};g.R=function(){return this.meta};g.U=function(){return this.s};
g.Cc=function(){return 0<this.s?this.W(null,this.s-1):null};g.Dc=function(){if(0===this.s)throw Error("Can't pop empty vector");if(1===this.s)return db(Cc,this.meta);if(1<this.s-ee(this))return new U(this.meta,this.s-1,this.shift,this.root,this.ha.slice(0,-1),null);var a=he(this,this.s-2),b=yi(this,this.shift,this.root);b=null==b?W:b;var c=this.s-1;return 5<this.shift&&null==b.h[1]?new U(this.meta,c,this.shift-5,b.h[0],a,null):new U(this.meta,c,this.shift,b,a,null)};
g.lb=function(){return 0<this.s?new uc(this,this.s-1,null):null};g.S=function(){var a=this.B;return null!=a?a:this.B=a=fc(this)};g.P=function(a,b){if(b instanceof U)if(this.s===P(b))for(a=this.Ca(null),b=b.Ca(null);;)if(a.fa()){var c=a.next(),d=b.next();if(!F.g(c,d))return!1}else return!0;else return!1;else return vc(this,b)};g.Sa=function(){return new oe(this.s,this.shift,pe.c?pe.c(this.root):pe.call(null,this.root),qe.c?qe.c(this.ha):qe.call(null,this.ha))};g.V=function(){return db(Cc,this.meta)};
g.ba=function(a,b){return le(this,b,0,this.s)};g.ca=function(a,b,c){a=0;for(var d=c;;)if(a<this.s){var e=he(this,a);c=e.length;a:for(var f=0;;)if(f<c){var h=e[f];d=b.g?b.g(d,h):b.call(null,d,h);if(kc(d)){e=d;break a}f+=1}else{e=d;break a}if(kc(e))return ab(e);a+=c;d=e}else return d};g.Ja=function(a,b,c){if("number"===typeof b)return this.ub(b,c);throw Error("Vector's key for assoc must be a number.");};
g.O=function(){if(0===this.s)return null;if(32>=this.s)return new H(this.ha,0,null);a:{var a=this.root;for(var b=this.shift;;)if(0<b)b-=5,a=a.h[0];else{a=a.h;break a}}return re?re(this,a,0,0):se.call(null,this,a,0,0)};g.T=function(a,b){return b===this.meta?this:new U(b,this.s,this.shift,this.root,this.ha,this.B)};
g.Z=function(a,b){if(32>this.s-ee(this)){a=this.ha.length;for(var c=Array(a+1),d=0;;)if(d<a)c[d]=this.ha[d],d+=1;else break;c[a]=b;return new U(this.meta,this.s+1,this.shift,this.root,c,null)}a=(c=this.s>>>5>1<<this.shift)?this.shift+5:this.shift;c?(c=de(null),c.h[0]=this.root,d=fe(null,this.shift,new ce(null,this.ha)),c.h[1]=d):c=ge(this,this.shift,this.root,new ce(null,this.ha));return new U(this.meta,this.s+1,a,c,[b],null)};
g.call=function(a){switch(arguments.length-1){case 1:return this.c(arguments[1]);case 2:return this.g(arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",A.c(arguments.length-1)].join(""));}};g.apply=function(a,b){return this.call.apply(this,[this].concat(Ba(b)))};g.c=function(a){return this.W(null,a)};g.g=function(a,b){return this.la(null,a,b)};
var W=new ce(null,[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null]),Cc=new U(null,0,5,W,[],gc);U.prototype[Aa]=function(){return dc(this)};
function te(a){if(w(ue.c?ue.c(a):ue.call(null,a)))a=new U(null,2,5,W,[ve.c?ve.c(a):ve.call(null,a),we.c?we.c(a):we.call(null,a)],null);else if(Pc(a))a=Jc(a,null);else if(xa(a))a:{var b=a.length;if(32>b)a=new U(null,b,5,W,a,null);else for(var c=32,d=(new U(null,32,5,W,a.slice(0,32),null)).Sa(null);;)if(c<b){var e=c+1;d=Ad.g(d,a[c]);c=e}else{a=xb(d);break a}}else a=xb(Zc(wb,vb(Cc),a));return a}
function xe(a,b,c,d,e){this.ka=a;this.node=b;this.i=c;this.off=d;this.meta=e;this.B=null;this.l=32375020;this.A=1536}g=xe.prototype;g.toString=function(){return Kb(this)};g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return N(this,b,0);case 2:return N(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.c=function(b){return N(this,b,0)};a.g=function(b,c){return N(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return Q(this,c,P(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return Q(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.c=a;b.g=function(c,d){return Q(this,c,d)};return b}();g.R=function(){return this.meta};g.$=function(){if(this.off+1<this.node.length){var a=this.ka;var b=this.node,c=this.i,d=this.off+1;a=re?re(a,b,c,d):se.call(null,a,b,c,d);return null==a?null:a}return this.yb()};
g.S=function(){var a=this.B;return null!=a?a:this.B=a=fc(this)};g.P=function(a,b){return vc(this,b)};g.V=function(){return K};g.ba=function(a,b){return le(this.ka,b,this.i+this.off,P(this.ka))};g.ca=function(a,b,c){return me(this.ka,b,c,this.i+this.off,P(this.ka))};g.Y=function(){return this.node[this.off]};g.da=function(){if(this.off+1<this.node.length){var a=this.ka;var b=this.node,c=this.i,d=this.off+1;a=re?re(a,b,c,d):se.call(null,a,b,c,d);return null==a?K:a}return this.ib(null)};g.O=function(){return this};
g.qb=function(){var a=this.node;return new td(a,this.off,a.length)};g.ib=function(){var a=this.i+this.node.length;if(a<Ea(this.ka)){var b=this.ka,c=he(this.ka,a);return re?re(b,c,a,0):se.call(null,b,c,a,0)}return K};g.T=function(a,b){return b===this.meta?this:ye?ye(this.ka,this.node,this.i,this.off,b):se.call(null,this.ka,this.node,this.i,this.off,b)};g.Z=function(a,b){return R(b,this)};
g.yb=function(){var a=this.i+this.node.length;if(a<Ea(this.ka)){var b=this.ka,c=he(this.ka,a);return re?re(b,c,a,0):se.call(null,b,c,a,0)}return null};xe.prototype[Aa]=function(){return dc(this)};
function se(a){switch(arguments.length){case 3:var b=arguments[0],c=arguments[1],d=arguments[2];return new xe(b,ie(b,c),c,d,null);case 4:return re(arguments[0],arguments[1],arguments[2],arguments[3]);case 5:return ye(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4]);default:throw Error(["Invalid arity: ",A.c(arguments.length)].join(""));}}function re(a,b,c,d){return new xe(a,b,c,d,null)}function ye(a,b,c,d,e){return new xe(a,b,c,d,e)}
function ze(a,b){return a===b.J?b:new ce(a,Ba(b.h))}function pe(a){return new ce({},Ba(a.h))}function qe(a){var b=[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null];Rc(a,0,b,0,a.length);return b}var Ae=function Ae(a,b,c,d){c=ze(a.root.J,c);var f=a.s-1>>>b&31;if(5===b)a=d;else{var h=c.h[f];null!=h?(b-=5,a=Ae.H?Ae.H(a,b,h,d):Ae.call(null,a,b,h,d)):a=fe(a.root.J,b-5,d)}c.h[f]=a;return c};
function oe(a,b,c,d){this.s=a;this.shift=b;this.root=c;this.ha=d;this.A=88;this.l=275}g=oe.prototype;
g.Ua=function(a,b){if(this.root.J){if(32>this.s-ee(this))this.ha[this.s&31]=b;else{a=new ce(this.root.J,this.ha);var c=[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null];c[0]=b;this.ha=c;this.s>>>5>1<<this.shift?(b=[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],c=this.shift+
5,b[0]=this.root,b[1]=fe(this.root.J,this.shift,a),this.root=new ce(this.root.J,b),this.shift=c):this.root=Ae(this,this.shift,this.root,a)}this.s+=1;return this}throw Error("conj! after persistent!");};g.$a=function(){if(this.root.J){this.root.J=null;var a=this.s-ee(this),b=Array(a);Rc(this.ha,0,b,0,a);return new U(null,this.s,this.shift,this.root,b,null)}throw Error("persistent! called twice");};
g.Ta=function(a,b,c){if("number"===typeof b)return Be(this,b,c);throw Error("TransientVector's key for assoc! must be a number.");};
function Be(a,b,c){if(a.root.J){if(0<=b&&b<a.s){if(ee(a)<=b)a.ha[b&31]=c;else{var d=function k(f,h){h=ze(a.root.J,h);if(0===f)h.h[b&31]=c;else{var l=b>>>f&31;f=k(f-5,h.h[l]);h.h[l]=f}return h}(a.shift,a.root);a.root=d}return a}if(b===a.s)return a.Ua(null,c);throw Error(["Index ",A.c(b)," out of bounds for TransientVector of length",A.c(a.s)].join(""));}throw Error("assoc! after persistent!");}g.U=function(){if(this.root.J)return this.s;throw Error("count after persistent!");};
g.W=function(a,b){if(this.root.J)return ie(this,b)[b&31];throw Error("nth after persistent!");};g.la=function(a,b,c){return 0<=b&&b<this.s?this.W(null,b):c};g.ia=function(a,b){return this.M(null,b,null)};g.M=function(a,b,c){if(this.root.J)return"number"===typeof b?this.la(null,b,c):c;throw Error("lookup after persistent!");};
g.call=function(a){switch(arguments.length-1){case 1:return this.c(arguments[1]);case 2:return this.g(arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",A.c(arguments.length-1)].join(""));}};g.apply=function(a,b){return this.call.apply(this,[this].concat(Ba(b)))};g.c=function(a){return this.ia(null,a)};g.g=function(a,b){return this.M(null,a,b)};function Ce(){this.l=2097152;this.A=0}Ce.prototype.P=function(){return!1};var De=new Ce;
function Ee(a,b){return Tc(Nc(b)&&!Oc(b)?P(a)===P(b)?(null!=a?a.l&1048576||u===a.sc||(a.l?0:y(hb,a)):y(hb,a))?dd(function(c,d,e){return F.g(Wb.j(b,d,De),e)?!0:new jc(!1)},!0,a):Nd(function(c){return F.g(Wb.j(b,J(c),De),J(M(c)))},a):null:null)}function Fe(a){this.D=a}Fe.prototype.next=function(){if(null!=this.D){var a=J(this.D),b=S(a,0,null);a=S(a,1,null);this.D=M(this.D);return{value:[b,a],done:!1}}return{value:null,done:!0}};function Ge(a){this.D=a}
Ge.prototype.next=function(){if(null!=this.D){var a=J(this.D);this.D=M(this.D);return{value:[a,a],done:!1}}return{value:null,done:!0}};
function Gc(a,b){if(b instanceof E)a:{var c=a.length;b=b.Da;for(var d=0;;){if(c<=d){a=-1;break a}if(a[d]instanceof E&&b===a[d].Da){a=d;break a}d+=2}}else if("string"==typeof b||"number"===typeof b)a:for(c=a.length,d=0;;){if(c<=d){a=-1;break a}if(b===a[d]){a=d;break a}d+=2}else if(b instanceof Vb)a:for(c=a.length,b=b.str,d=0;;){if(c<=d){a=-1;break a}if(a[d]instanceof Vb&&b===a[d].str){a=d;break a}d+=2}else if(null==b)a:for(b=a.length,c=0;;){if(b<=c){a=-1;break a}if(null==a[c]){a=c;break a}c+=2}else a:for(c=
a.length,d=0;;){if(c<=d){a=-1;break a}if(F.g(b,a[d])){a=d;break a}d+=2}return a}function ne(a,b){this.key=a;this.m=b;this.B=null;this.l=166619935;this.A=0}g=ne.prototype;g.Ya=function(a,b){switch(b){case 0:return new ne(0,this.key);case 1:return new ne(1,this.m);default:return null}};
g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return N(this,b,0);case 2:return N(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.c=function(b){return N(this,b,0)};a.g=function(b,c){return N(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return Q(this,c,P(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return Q(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.c=a;b.g=function(c,d){return Q(this,c,d)};return b}();g.ia=function(a,b){return this.la(null,b,null)};g.M=function(a,b,c){return this.la(null,b,c)};g.W=function(a,b){if(0===b)return this.key;if(1===b)return this.m;throw Error("Index out of bounds");};
g.la=function(a,b,c){return 0===b?this.key:1===b?this.m:c};g.ub=function(a,b){return(new U(null,2,5,W,[this.key,this.m],null)).ub(a,b)};g.R=function(){return null};g.U=function(){return 2};g.Lb=function(){return this.key};g.Mb=function(){return this.m};g.Cc=function(){return this.m};g.Dc=function(){return new U(null,1,5,W,[this.key],null)};g.lb=function(){return new H([this.m,this.key],0,null)};g.S=function(){var a=this.B;return null!=a?a:this.B=a=fc(this)};g.P=function(a,b){return vc(this,b)};
g.V=function(){return null};g.ba=function(a,b){a:if(a=this.U(null),0===a)b=b.o?b.o():b.call(null);else for(var c=this.W(null,0),d=1;;)if(d<a){var e=this.W(null,d);c=b.g?b.g(c,e):b.call(null,c,e);if(kc(c)){b=ab(c);break a}d+=1}else{b=c;break a}return b};g.ca=function(a,b,c){a:{a=this.U(null);var d=c;for(c=0;;)if(c<a){var e=this.W(null,c);d=b.g?b.g(d,e):b.call(null,d,e);if(kc(d)){b=ab(d);break a}c+=1}else{b=d;break a}}return b};
g.Ja=function(a,b,c){return Fc.j(new U(null,2,5,W,[this.key,this.m],null),b,c)};g.O=function(){return new H([this.key,this.m],0,null)};g.T=function(a,b){return Jc(new U(null,2,5,W,[this.key,this.m],null),b)};g.Z=function(a,b){return new U(null,3,5,W,[this.key,this.m,b],null)};g.call=function(a){switch(arguments.length-1){case 1:return this.c(arguments[1]);case 2:return this.g(arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",A.c(arguments.length-1)].join(""));}};
g.apply=function(a,b){return this.call.apply(this,[this].concat(Ba(b)))};g.c=function(a){return this.W(null,a)};g.g=function(a,b){return this.la(null,a,b)};function ue(a){return null!=a?a.l&2048||u===a.vc?!0:!1:!1}function He(a,b,c){this.h=a;this.i=b;this.ma=c;this.l=32374990;this.A=0}g=He.prototype;g.toString=function(){return Kb(this)};
g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return N(this,b,0);case 2:return N(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.c=function(b){return N(this,b,0)};a.g=function(b,c){return N(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return Q(this,c,P(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return Q(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.c=a;b.g=function(c,d){return Q(this,c,d)};return b}();g.R=function(){return this.ma};g.$=function(){return this.i<this.h.length-2?new He(this.h,this.i+2,null):null};g.U=function(){return(this.h.length-this.i)/2};g.S=function(){return fc(this)};g.P=function(a,b){return vc(this,b)};
g.V=function(){return K};g.ba=function(a,b){return xc(b,this)};g.ca=function(a,b,c){return zc(b,c,this)};g.Y=function(){return new ne(this.h[this.i],this.h[this.i+1])};g.da=function(){return this.i<this.h.length-2?new He(this.h,this.i+2,null):K};g.O=function(){return this};g.T=function(a,b){return b===this.ma?this:new He(this.h,this.i,b)};g.Z=function(a,b){return R(b,this)};He.prototype[Aa]=function(){return dc(this)};function Ie(a,b){this.h=a;this.i=0;this.s=b}
Ie.prototype.fa=function(){return this.i<this.s};Ie.prototype.next=function(){var a=new ne(this.h[this.i],this.h[this.i+1]);this.i+=2;return a};function v(a,b,c,d){this.meta=a;this.s=b;this.h=c;this.B=d;this.l=16647951;this.A=139268}g=v.prototype;g.Ya=function(a,b){a=Gc(this.h,b);return-1===a?null:new ne(this.h[a],this.h[a+1])};g.toString=function(){return Kb(this)};g.keys=function(){return dc(Je.c?Je.c(this):Je.call(null,this))};g.entries=function(){return new Fe(G(G(this)))};
g.values=function(){return dc(Ke.c?Ke.c(this):Ke.call(null,this))};g.has=function(a){return Uc(this,a)};g.get=function(a,b){return this.M(null,a,b)};g.forEach=function(a){for(var b=G(this),c=null,d=0,e=0;;)if(e<d){var f=c.W(null,e),h=S(f,0,null);f=S(f,1,null);a.g?a.g(f,h):a.call(null,f,h);e+=1}else if(b=G(b))Qc(b)?(c=Cb(b),b=Db(b),h=c,d=P(c),c=h):(c=J(b),h=S(c,0,null),f=S(c,1,null),a.g?a.g(f,h):a.call(null,f,h),b=M(b),c=null,d=0),e=0;else return null};g.ia=function(a,b){return this.M(null,b,null)};
g.M=function(a,b,c){a=Gc(this.h,b);return-1===a?c:this.h[a+1]};g.kb=function(a,b,c){a=this.h.length;for(var d=0;;)if(d<a){var e=this.h[d],f=this.h[d+1];c=b.j?b.j(c,e,f):b.call(null,c,e,f);if(kc(c))return ab(c);d+=2}else return c};g.Ca=function(){return new Ie(this.h,2*this.s)};g.R=function(){return this.meta};g.U=function(){return this.s};g.S=function(){var a=this.B;return null!=a?a:this.B=a=hc(this)};
g.P=function(a,b){if(Nc(b)&&!Oc(b))if(a=this.h.length,this.s===b.U(null))for(var c=0;;)if(c<a){var d=b.M(null,this.h[c],Sc);if(d!==Sc)if(F.g(this.h[c+1],d))c+=2;else return!1;else return!1}else return!0;else return!1;else return!1};g.Sa=function(){return new Le(this.h.length,Ba(this.h))};g.V=function(){return db(Md,this.meta)};g.ba=function(a,b){return ad(this,b)};g.ca=function(a,b,c){return bd(this,b,c)};
g.tb=function(a,b){if(0<=Gc(this.h,b)){a=this.h.length;var c=a-2;if(0===c)return this.V(null);c=Array(c);for(var d=0,e=0;;){if(d>=a)return new v(this.meta,this.s-1,c,null);F.g(b,this.h[d])?d+=2:(c[e]=this.h[d],c[e+1]=this.h[d+1],e+=2,d+=2)}}else return this};
g.Ja=function(a,b,c){a=Gc(this.h,b);if(-1===a){if(this.s<Me){a=this.h;for(var d=a.length,e=Array(d+2),f=0;;)if(f<d)e[f]=a[f],f+=1;else break;e[d]=b;e[d+1]=c;return new v(this.meta,this.s+1,e,null)}return db(Ta(be.g(Ne,this),b,c),this.meta)}if(c===this.h[a+1])return this;b=Ba(this.h);b[a+1]=c;return new v(this.meta,this.s,b,null)};g.O=function(){var a=this.h;return 0<=a.length-2?new He(a,0,null):null};g.T=function(a,b){return b===this.meta?this:new v(b,this.s,this.h,this.B)};
g.Z=function(a,b){if(Pc(b))return this.Ja(null,La(b,0),La(b,1));a=this;for(b=G(b);;){if(null==b)return a;var c=J(b);if(Pc(c))a=Ta(a,La(c,0),La(c,1)),b=M(b);else throw Error("conj on a map takes map entries or seqables of map entries");}};g.call=function(a){switch(arguments.length-1){case 1:return this.c(arguments[1]);case 2:return this.g(arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",A.c(arguments.length-1)].join(""));}};g.apply=function(a,b){return this.call.apply(this,[this].concat(Ba(b)))};
g.c=function(a){return this.ia(null,a)};g.g=function(a,b){return this.M(null,a,b)};var Md=new v(null,0,[],ic),Me=8;v.prototype[Aa]=function(){return dc(this)};function Le(a,b){this.Va={};this.len=a;this.h=b;this.l=259;this.A=56}g=Le.prototype;g.U=function(){if(this.Va)return gd(this.len);throw Error("count after persistent!");};g.ia=function(a,b){return this.M(null,b,null)};g.M=function(a,b,c){if(this.Va)return a=Gc(this.h,b),-1===a?c:this.h[a+1];throw Error("lookup after persistent!");};
g.Ua=function(a,b){if(this.Va){if(ue(b))return this.Ta(null,ve.c?ve.c(b):ve.call(null,b),we.c?we.c(b):we.call(null,b));if(Pc(b))return this.Ta(null,b.c?b.c(0):b.call(null,0),b.c?b.c(1):b.call(null,1));a=G(b);for(b=this;;){var c=J(a);if(w(c))a=M(a),b=yb(b,ve.c?ve.c(c):ve.call(null,c),we.c?we.c(c):we.call(null,c));else return b}}else throw Error("conj! after persistent!");};g.$a=function(){if(this.Va)return this.Va=!1,new v(null,gd(this.len),this.h,null);throw Error("persistent! called twice");};
g.Ta=function(a,b,c){if(this.Va){a=Gc(this.h,b);if(-1===a){if(this.len+2<=2*Me)return this.len+=2,this.h.push(b),this.h.push(c),this;a=Oe.g?Oe.g(this.len,this.h):Oe.call(null,this.len,this.h);return yb(a,b,c)}c!==this.h[a+1]&&(this.h[a+1]=c);return this}throw Error("assoc! after persistent!");};g.call=function(a){switch(arguments.length-1){case 1:return this.c(arguments[1]);case 2:return this.g(arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",A.c(arguments.length-1)].join(""));}};
g.apply=function(a,b){return this.call.apply(this,[this].concat(Ba(b)))};g.c=function(a){return this.M(null,a,null)};g.g=function(a,b){return this.M(null,a,b)};function Oe(a,b){for(var c=vb(Ne),d=0;;)if(d<a)c=yb(c,b[d],b[d+1]),d+=2;else return c}function Pe(){this.m=!1}function Qe(a,b){return a===b?!0:a===b||a instanceof E&&b instanceof E&&a.Da===b.Da?!0:F.g(a,b)}function Re(a,b,c){a=Ba(a);a[b]=c;return a}
function Se(a,b){var c=Array(a.length-2);Rc(a,0,c,0,2*b);Rc(a,2*(b+1),c,2*b,c.length-2*b);return c}function Te(a,b,c,d){a=a.Ma(b);a.h[c]=d;return a}function Ue(a,b,c){for(var d=a.length,e=0,f=c;;)if(e<d){c=a[e];if(null!=c){var h=a[e+1];c=b.j?b.j(f,c,h):b.call(null,f,c,h)}else c=a[e+1],c=null!=c?c.fb(b,f):f;if(kc(c))return c;e+=2;f=c}else return f}function Ve(a){this.h=a;this.i=0;this.Ha=this.gb=null}
Ve.prototype.advance=function(){for(var a=this.h.length;;)if(this.i<a){var b=this.h[this.i],c=this.h[this.i+1];null!=b?b=this.gb=new ne(b,c):null!=c?(b=Ib(c),b=b.fa()?this.Ha=b:!1):b=!1;this.i+=2;if(b)return!0}else return!1};Ve.prototype.fa=function(){var a=null!=this.gb;return a?a:(a=null!=this.Ha)?a:this.advance()};
Ve.prototype.next=function(){if(null!=this.gb){var a=this.gb;this.gb=null;return a}if(null!=this.Ha)return a=this.Ha.next(),this.Ha.fa()||(this.Ha=null),a;if(this.advance())return this.next();throw Error("No such element");};Ve.prototype.remove=function(){return Error("Unsupported operation")};function We(a,b,c){this.J=a;this.K=b;this.h=c;this.A=131072;this.l=0}g=We.prototype;
g.Ma=function(a){if(a===this.J)return this;var b=hd(this.K),c=Array(0>b?4:2*(b+1));Rc(this.h,0,c,0,2*b);return new We(a,this.K,c)};g.cb=function(){return Xe?Xe(this.h):Ye.call(null,this.h)};g.fb=function(a,b){return Ue(this.h,a,b)};g.Na=function(a,b,c,d){var e=1<<(b>>>a&31);if(0===(this.K&e))return d;var f=hd(this.K&e-1);e=this.h[2*f];f=this.h[2*f+1];return null==e?f.Na(a+5,b,c,d):Qe(c,e)?f:d};
g.Fa=function(a,b,c,d,e,f){var h=1<<(c>>>b&31),k=hd(this.K&h-1);if(0===(this.K&h)){var l=hd(this.K);if(2*l<this.h.length){a=this.Ma(a);b=a.h;f.m=!0;c=2*(l-k);f=2*k+(c-1);for(l=2*(k+1)+(c-1);0!==c;)b[l]=b[f],--l,--c,--f;b[2*k]=d;b[2*k+1]=e;a.K|=h;return a}if(16<=l){k=[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null];k[c>>>b&31]=Ze.Fa(a,b+5,c,d,e,f);for(e=d=0;;)if(32>d)0===(this.K>>>d&1)?
d+=1:(k[d]=null!=this.h[e]?Ze.Fa(a,b+5,Sb(this.h[e]),this.h[e],this.h[e+1],f):this.h[e+1],e+=2,d+=1);else break;return new $e(a,l+1,k)}b=Array(2*(l+4));Rc(this.h,0,b,0,2*k);b[2*k]=d;b[2*k+1]=e;Rc(this.h,2*k,b,2*(k+1),2*(l-k));f.m=!0;a=this.Ma(a);a.h=b;a.K|=h;return a}l=this.h[2*k];h=this.h[2*k+1];if(null==l)return l=h.Fa(a,b+5,c,d,e,f),l===h?this:Te(this,a,2*k+1,l);if(Qe(d,l))return e===h?this:Te(this,a,2*k+1,e);f.m=!0;f=b+5;d=af?af(a,f,l,h,c,d,e):bf.call(null,a,f,l,h,c,d,e);e=2*k;k=2*k+1;a=this.Ma(a);
a.h[e]=null;a.h[k]=d;return a};
g.Ea=function(a,b,c,d,e){var f=1<<(b>>>a&31),h=hd(this.K&f-1);if(0===(this.K&f)){var k=hd(this.K);if(16<=k){h=[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null];h[b>>>a&31]=Ze.Ea(a+5,b,c,d,e);for(d=c=0;;)if(32>c)0===(this.K>>>c&1)?c+=1:(h[c]=null!=this.h[d]?Ze.Ea(a+5,Sb(this.h[d]),this.h[d],this.h[d+1],e):this.h[d+1],d+=2,c+=1);else break;return new $e(null,k+1,h)}a=Array(2*(k+1));Rc(this.h,
0,a,0,2*h);a[2*h]=c;a[2*h+1]=d;Rc(this.h,2*h,a,2*(h+1),2*(k-h));e.m=!0;return new We(null,this.K|f,a)}var l=this.h[2*h];f=this.h[2*h+1];if(null==l)return k=f.Ea(a+5,b,c,d,e),k===f?this:new We(null,this.K,Re(this.h,2*h+1,k));if(Qe(c,l))return d===f?this:new We(null,this.K,Re(this.h,2*h+1,d));e.m=!0;e=this.K;k=this.h;a+=5;a=cf?cf(a,l,f,b,c,d):bf.call(null,a,l,f,b,c,d);c=2*h;h=2*h+1;d=Ba(k);d[c]=null;d[h]=a;return new We(null,e,d)};
g.bb=function(a,b,c,d){var e=1<<(b>>>a&31);if(0===(this.K&e))return d;var f=hd(this.K&e-1);e=this.h[2*f];f=this.h[2*f+1];return null==e?f.bb(a+5,b,c,d):Qe(c,e)?new ne(e,f):d};g.eb=function(a,b,c){var d=1<<(b>>>a&31);if(0===(this.K&d))return this;var e=hd(this.K&d-1),f=this.h[2*e],h=this.h[2*e+1];return null==f?(a=h.eb(a+5,b,c),a===h?this:null!=a?new We(null,this.K,Re(this.h,2*e+1,a)):this.K===d?null:new We(null,this.K^d,Se(this.h,e))):Qe(c,f)?new We(null,this.K^d,Se(this.h,e)):this};g.Ca=function(){return new Ve(this.h)};
var Ze=new We(null,0,[]);function df(a){this.h=a;this.i=0;this.Ha=null}df.prototype.fa=function(){for(var a=this.h.length;;){if(null!=this.Ha&&this.Ha.fa())return!0;if(this.i<a){var b=this.h[this.i];this.i+=1;null!=b&&(this.Ha=Ib(b))}else return!1}};df.prototype.next=function(){if(this.fa())return this.Ha.next();throw Error("No such element");};df.prototype.remove=function(){return Error("Unsupported operation")};function $e(a,b,c){this.J=a;this.s=b;this.h=c;this.A=131072;this.l=0}g=$e.prototype;
g.Ma=function(a){return a===this.J?this:new $e(a,this.s,Ba(this.h))};g.cb=function(){return ef?ef(this.h):ff.call(null,this.h)};g.fb=function(a,b){for(var c=this.h.length,d=0;;)if(d<c){var e=this.h[d];if(null!=e){b=e.fb(a,b);if(kc(b))return b;d+=1}else d+=1}else return b};g.Na=function(a,b,c,d){var e=this.h[b>>>a&31];return null!=e?e.Na(a+5,b,c,d):d};
g.Fa=function(a,b,c,d,e,f){var h=c>>>b&31,k=this.h[h];if(null==k)return a=Te(this,a,h,Ze.Fa(a,b+5,c,d,e,f)),a.s+=1,a;b=k.Fa(a,b+5,c,d,e,f);return b===k?this:Te(this,a,h,b)};g.Ea=function(a,b,c,d,e){var f=b>>>a&31,h=this.h[f];if(null==h)return new $e(null,this.s+1,Re(this.h,f,Ze.Ea(a+5,b,c,d,e)));a=h.Ea(a+5,b,c,d,e);return a===h?this:new $e(null,this.s,Re(this.h,f,a))};g.bb=function(a,b,c,d){var e=this.h[b>>>a&31];return null!=e?e.bb(a+5,b,c,d):d};
g.eb=function(a,b,c){var d=b>>>a&31,e=this.h[d];if(null!=e){a=e.eb(a+5,b,c);if(a===e)d=this;else if(null==a)if(8>=this.s)a:{e=this.h;a=e.length;b=Array(2*(this.s-1));c=0;for(var f=1,h=0;;)if(c<a)c!==d&&null!=e[c]?(b[f]=e[c],f+=2,h|=1<<c,c+=1):c+=1;else{d=new We(null,h,b);break a}}else d=new $e(null,this.s-1,Re(this.h,d,a));else d=new $e(null,this.s,Re(this.h,d,a));return d}return this};g.Ca=function(){return new df(this.h)};
function gf(a,b,c){b*=2;for(var d=0;;)if(d<b){if(Qe(c,a[d]))return d;d+=2}else return-1}function hf(a,b,c,d){this.J=a;this.Ia=b;this.s=c;this.h=d;this.A=131072;this.l=0}g=hf.prototype;g.Ma=function(a){if(a===this.J)return this;var b=Array(2*(this.s+1));Rc(this.h,0,b,0,2*this.s);return new hf(a,this.Ia,this.s,b)};g.cb=function(){return Xe?Xe(this.h):Ye.call(null,this.h)};g.fb=function(a,b){return Ue(this.h,a,b)};
g.Na=function(a,b,c,d){a=gf(this.h,this.s,c);return 0>a?d:Qe(c,this.h[a])?this.h[a+1]:d};
g.Fa=function(a,b,c,d,e,f){if(c===this.Ia){b=gf(this.h,this.s,d);if(-1===b){if(this.h.length>2*this.s)return b=2*this.s,c=2*this.s+1,a=this.Ma(a),a.h[b]=d,a.h[c]=e,f.m=!0,a.s+=1,a;c=this.h.length;b=Array(c+2);Rc(this.h,0,b,0,c);b[c]=d;b[c+1]=e;f.m=!0;d=this.s+1;a===this.J?(this.h=b,this.s=d,a=this):a=new hf(this.J,this.Ia,d,b);return a}return this.h[b+1]===e?this:Te(this,a,b+1,e)}return(new We(a,1<<(this.Ia>>>b&31),[null,this,null,null])).Fa(a,b,c,d,e,f)};
g.Ea=function(a,b,c,d,e){return b===this.Ia?(a=gf(this.h,this.s,c),-1===a?(a=2*this.s,b=Array(a+2),Rc(this.h,0,b,0,a),b[a]=c,b[a+1]=d,e.m=!0,new hf(null,this.Ia,this.s+1,b)):F.g(this.h[a+1],d)?this:new hf(null,this.Ia,this.s,Re(this.h,a+1,d))):(new We(null,1<<(this.Ia>>>a&31),[null,this])).Ea(a,b,c,d,e)};g.bb=function(a,b,c,d){a=gf(this.h,this.s,c);return 0>a?d:Qe(c,this.h[a])?new ne(this.h[a],this.h[a+1]):d};
g.eb=function(a,b,c){a=gf(this.h,this.s,c);return-1===a?this:1===this.s?null:new hf(null,this.Ia,this.s-1,Se(this.h,gd(a)))};g.Ca=function(){return new Ve(this.h)};function bf(a){switch(arguments.length){case 6:return cf(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]);case 7:return af(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6]);default:throw Error(["Invalid arity: ",A.c(arguments.length)].join(""));}}
function cf(a,b,c,d,e,f){var h=Sb(b);if(h===d)return new hf(null,h,2,[b,c,e,f]);var k=new Pe;return Ze.Ea(a,h,b,c,k).Ea(a,d,e,f,k)}function af(a,b,c,d,e,f,h){var k=Sb(c);if(k===e)return new hf(null,k,2,[c,d,f,h]);var l=new Pe;return Ze.Fa(a,b,k,c,d,l).Fa(a,b,e,f,h,l)}function jf(a,b,c,d,e){this.meta=a;this.nodes=b;this.i=c;this.D=d;this.B=e;this.l=32374988;this.A=0}g=jf.prototype;g.toString=function(){return Kb(this)};
g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return N(this,b,0);case 2:return N(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.c=function(b){return N(this,b,0)};a.g=function(b,c){return N(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return Q(this,c,P(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return Q(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.c=a;b.g=function(c,d){return Q(this,c,d)};return b}();g.R=function(){return this.meta};g.$=function(){if(null==this.D){var a=this.nodes,b=this.i+2;return kf?kf(a,b,null):Ye.call(null,a,b,null)}a=this.nodes;b=this.i;var c=M(this.D);return kf?kf(a,b,c):Ye.call(null,a,b,c)};
g.S=function(){var a=this.B;return null!=a?a:this.B=a=fc(this)};g.P=function(a,b){return vc(this,b)};g.V=function(){return K};g.ba=function(a,b){return xc(b,this)};g.ca=function(a,b,c){return zc(b,c,this)};g.Y=function(){return null==this.D?new ne(this.nodes[this.i],this.nodes[this.i+1]):J(this.D)};
g.da=function(){var a=this,b=null==a.D?function(){var c=a.nodes,d=a.i+2;return kf?kf(c,d,null):Ye.call(null,c,d,null)}():function(){var c=a.nodes,d=a.i,e=M(a.D);return kf?kf(c,d,e):Ye.call(null,c,d,e)}();return null!=b?b:K};g.O=function(){return this};g.T=function(a,b){return b===this.meta?this:new jf(b,this.nodes,this.i,this.D,this.B)};g.Z=function(a,b){return R(b,this)};jf.prototype[Aa]=function(){return dc(this)};
function Ye(a){switch(arguments.length){case 1:return Xe(arguments[0]);case 3:return kf(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",A.c(arguments.length)].join(""));}}function Xe(a){return kf(a,0,null)}function kf(a,b,c){if(null==c)for(c=a.length;;)if(b<c){if(null!=a[b])return new jf(null,a,b,null,null);var d=a[b+1];if(w(d)&&(d=d.cb(),w(d)))return new jf(null,a,b+2,d,null);b+=2}else return null;else return new jf(null,a,b,c,null)}
function lf(a,b,c,d,e){this.meta=a;this.nodes=b;this.i=c;this.D=d;this.B=e;this.l=32374988;this.A=0}g=lf.prototype;g.toString=function(){return Kb(this)};g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return N(this,b,0);case 2:return N(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.c=function(b){return N(this,b,0)};a.g=function(b,c){return N(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return Q(this,c,P(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return Q(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.c=a;b.g=function(c,d){return Q(this,c,d)};return b}();g.R=function(){return this.meta};g.$=function(){var a=this.nodes,b=this.i,c=M(this.D);return mf?mf(a,b,c):ff.call(null,a,b,c)};g.S=function(){var a=this.B;return null!=a?a:this.B=a=fc(this)};
g.P=function(a,b){return vc(this,b)};g.V=function(){return K};g.ba=function(a,b){return xc(b,this)};g.ca=function(a,b,c){return zc(b,c,this)};g.Y=function(){return J(this.D)};g.da=function(){var a=this.nodes;var b=this.i,c=M(this.D);a=mf?mf(a,b,c):ff.call(null,a,b,c);return null!=a?a:K};g.O=function(){return this};g.T=function(a,b){return b===this.meta?this:new lf(b,this.nodes,this.i,this.D,this.B)};g.Z=function(a,b){return R(b,this)};lf.prototype[Aa]=function(){return dc(this)};
function ff(a){switch(arguments.length){case 1:return ef(arguments[0]);case 3:return mf(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",A.c(arguments.length)].join(""));}}function ef(a){return mf(a,0,null)}function mf(a,b,c){if(null==c)for(c=a.length;;)if(b<c){var d=a[b];if(w(d)&&(d=d.cb(),w(d)))return new lf(null,a,b+1,d,null);b+=1}else return null;else return new lf(null,a,b,c,null)}function nf(a,b){this.ea=a;this.Db=b;this.wb=!1}
nf.prototype.fa=function(){return!this.wb||this.Db.fa()};nf.prototype.next=function(){if(this.wb)return this.Db.next();this.wb=!0;return new ne(null,this.ea)};nf.prototype.remove=function(){return Error("Unsupported operation")};function of(a,b,c,d,e,f){this.meta=a;this.s=b;this.root=c;this.ga=d;this.ea=e;this.B=f;this.l=16123663;this.A=139268}g=of.prototype;g.Ya=function(a,b){return null==b?this.ga?new ne(null,this.ea):null:null==this.root?null:this.root.bb(0,Sb(b),b,null)};g.toString=function(){return Kb(this)};
g.keys=function(){return dc(Je.c?Je.c(this):Je.call(null,this))};g.entries=function(){return new Fe(G(G(this)))};g.values=function(){return dc(Ke.c?Ke.c(this):Ke.call(null,this))};g.has=function(a){return Uc(this,a)};g.get=function(a,b){return this.M(null,a,b)};
g.forEach=function(a){for(var b=G(this),c=null,d=0,e=0;;)if(e<d){var f=c.W(null,e),h=S(f,0,null);f=S(f,1,null);a.g?a.g(f,h):a.call(null,f,h);e+=1}else if(b=G(b))Qc(b)?(c=Cb(b),b=Db(b),h=c,d=P(c),c=h):(c=J(b),h=S(c,0,null),f=S(c,1,null),a.g?a.g(f,h):a.call(null,f,h),b=M(b),c=null,d=0),e=0;else return null};g.ia=function(a,b){return this.M(null,b,null)};g.M=function(a,b,c){return null==b?this.ga?this.ea:c:null==this.root?c:this.root.Na(0,Sb(b),b,c)};
g.kb=function(a,b,c){a=this.ga?b.j?b.j(c,null,this.ea):b.call(null,c,null,this.ea):c;kc(a)?b=ab(a):null!=this.root?(b=this.root.fb(b,a),b=kc(b)?lc.c?lc.c(b):lc.call(null,b):b):b=a;return b};g.Ca=function(){var a=this.root?Ib(this.root):Kd();return this.ga?new nf(this.ea,a):a};g.R=function(){return this.meta};g.U=function(){return this.s};g.S=function(){var a=this.B;return null!=a?a:this.B=a=hc(this)};g.P=function(a,b){return Ee(this,b)};g.Sa=function(){return new pf(this.root,this.s,this.ga,this.ea)};
g.V=function(){return db(Ne,this.meta)};g.tb=function(a,b){if(null==b)return this.ga?new of(this.meta,this.s-1,this.root,!1,null,null):this;if(null==this.root)return this;a=this.root.eb(0,Sb(b),b);return a===this.root?this:new of(this.meta,this.s-1,a,this.ga,this.ea,null)};
g.Ja=function(a,b,c){if(null==b)return this.ga&&c===this.ea?this:new of(this.meta,this.ga?this.s:this.s+1,this.root,!0,c,null);a=new Pe;b=(null==this.root?Ze:this.root).Ea(0,Sb(b),b,c,a);return b===this.root?this:new of(this.meta,a.m?this.s+1:this.s,b,this.ga,this.ea,null)};g.O=function(){if(0<this.s){var a=null!=this.root?this.root.cb():null;return this.ga?R(new ne(null,this.ea),a):a}return null};g.T=function(a,b){return b===this.meta?this:new of(b,this.s,this.root,this.ga,this.ea,this.B)};
g.Z=function(a,b){if(Pc(b))return this.Ja(null,La(b,0),La(b,1));a=this;for(b=G(b);;){if(null==b)return a;var c=J(b);if(Pc(c))a=Ta(a,La(c,0),La(c,1)),b=M(b);else throw Error("conj on a map takes map entries or seqables of map entries");}};g.call=function(a){switch(arguments.length-1){case 1:return this.c(arguments[1]);case 2:return this.g(arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",A.c(arguments.length-1)].join(""));}};g.apply=function(a,b){return this.call.apply(this,[this].concat(Ba(b)))};
g.c=function(a){return this.ia(null,a)};g.g=function(a,b){return this.M(null,a,b)};var Ne=new of(null,0,null,!1,null,ic);function qf(a,b){for(var c=a.length,d=0,e=vb(Ne);;)if(d<c){var f=d+1;e=yb(e,a[d],b[d]);d=f}else return xb(e)}of.prototype[Aa]=function(){return dc(this)};function pf(a,b,c,d){this.J={};this.root=a;this.count=b;this.ga=c;this.ea=d;this.l=259;this.A=56}
function rf(a,b,c){if(a.J){if(null==b)a.ea!==c&&(a.ea=c),a.ga||(a.count+=1,a.ga=!0);else{var d=new Pe;b=(null==a.root?Ze:a.root).Fa(a.J,0,Sb(b),b,c,d);b!==a.root&&(a.root=b);d.m&&(a.count+=1)}return a}throw Error("assoc! after persistent!");}g=pf.prototype;g.U=function(){if(this.J)return this.count;throw Error("count after persistent!");};g.ia=function(a,b){return null==b?this.ga?this.ea:null:null==this.root?null:this.root.Na(0,Sb(b),b)};
g.M=function(a,b,c){return null==b?this.ga?this.ea:c:null==this.root?c:this.root.Na(0,Sb(b),b,c)};g.Ua=function(a,b){a:if(this.J)if(ue(b))a=rf(this,ve.c?ve.c(b):ve.call(null,b),we.c?we.c(b):we.call(null,b));else if(Pc(b))a=rf(this,b.c?b.c(0):b.call(null,0),b.c?b.c(1):b.call(null,1));else for(a=G(b),b=this;;){var c=J(a);if(w(c))a=M(a),b=rf(b,ve.c?ve.c(c):ve.call(null,c),we.c?we.c(c):we.call(null,c));else{a=b;break a}}else throw Error("conj! after persistent");return a};
g.$a=function(){if(this.J){this.J=null;var a=new of(null,this.count,this.root,this.ga,this.ea,null)}else throw Error("persistent! called twice");return a};g.Ta=function(a,b,c){return rf(this,b,c)};g.call=function(a){switch(arguments.length-1){case 1:return this.c(arguments[1]);case 2:return this.g(arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",A.c(arguments.length-1)].join(""));}};g.apply=function(a,b){return this.call.apply(this,[this].concat(Ba(b)))};
g.c=function(a){return this.ia(null,a)};g.g=function(a,b){return this.M(null,a,b)};var X=function X(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;return X.v(0<c.length?new H(c.slice(0),0,null):null)};X.v=function(a){for(var b=G(a),c=vb(Ne);;)if(b){a=M(M(b));var d=J(b);b=J(M(b));c=yb(c,d,b);b=a}else return xb(c)};X.F=0;X.C=function(a){return this.v(G(a))};function sf(a,b){this.G=a;this.ma=b;this.l=32374988;this.A=0}g=sf.prototype;g.toString=function(){return Kb(this)};
g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return N(this,b,0);case 2:return N(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.c=function(b){return N(this,b,0)};a.g=function(b,c){return N(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return Q(this,c,P(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return Q(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.c=a;b.g=function(c,d){return Q(this,c,d)};return b}();g.R=function(){return this.ma};g.$=function(){var a=(null!=this.G?this.G.l&128||u===this.G.Za||(this.G.l?0:y(Oa,this.G)):y(Oa,this.G))?this.G.$(null):M(this.G);return null==a?null:new sf(a,null)};g.S=function(){return fc(this)};
g.P=function(a,b){return vc(this,b)};g.V=function(){return K};g.ba=function(a,b){return xc(b,this)};g.ca=function(a,b,c){return zc(b,c,this)};g.Y=function(){return this.G.Y(null).key};g.da=function(){var a=(null!=this.G?this.G.l&128||u===this.G.Za||(this.G.l?0:y(Oa,this.G)):y(Oa,this.G))?this.G.$(null):M(this.G);return null!=a?new sf(a,null):K};g.O=function(){return this};g.T=function(a,b){return b===this.ma?this:new sf(this.G,b)};g.Z=function(a,b){return R(b,this)};sf.prototype[Aa]=function(){return dc(this)};
function Je(a){return(a=G(a))?new sf(a,null):null}function ve(a){return Xa(a)}function tf(a,b){this.G=a;this.ma=b;this.l=32374988;this.A=0}g=tf.prototype;g.toString=function(){return Kb(this)};g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return N(this,b,0);case 2:return N(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.c=function(b){return N(this,b,0)};a.g=function(b,c){return N(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return Q(this,c,P(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return Q(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.c=a;b.g=function(c,d){return Q(this,c,d)};return b}();g.R=function(){return this.ma};g.$=function(){var a=(null!=this.G?this.G.l&128||u===this.G.Za||(this.G.l?0:y(Oa,this.G)):y(Oa,this.G))?this.G.$(null):M(this.G);return null==a?null:new tf(a,null)};g.S=function(){return fc(this)};
g.P=function(a,b){return vc(this,b)};g.V=function(){return K};g.ba=function(a,b){return xc(b,this)};g.ca=function(a,b,c){return zc(b,c,this)};g.Y=function(){return this.G.Y(null).m};g.da=function(){var a=(null!=this.G?this.G.l&128||u===this.G.Za||(this.G.l?0:y(Oa,this.G)):y(Oa,this.G))?this.G.$(null):M(this.G);return null!=a?new tf(a,null):K};g.O=function(){return this};g.T=function(a,b){return b===this.ma?this:new tf(this.G,b)};g.Z=function(a,b){return R(b,this)};tf.prototype[Aa]=function(){return dc(this)};
function Ke(a){return(a=G(a))?new tf(a,null):null}function we(a){return Ya(a)}function uf(a){this.Wa=a}uf.prototype.fa=function(){return this.Wa.fa()};uf.prototype.next=function(){if(this.Wa.fa())return this.Wa.next().key;throw Error("No such element");};uf.prototype.remove=function(){return Error("Unsupported operation")};function vf(a,b,c){this.meta=a;this.Ka=b;this.B=c;this.l=15077647;this.A=139268}g=vf.prototype;g.toString=function(){return Kb(this)};g.keys=function(){return dc(G(this))};
g.entries=function(){return new Ge(G(G(this)))};g.values=function(){return dc(G(this))};g.has=function(a){return Uc(this,a)};g.forEach=function(a){for(var b=G(this),c=null,d=0,e=0;;)if(e<d){var f=c.W(null,e),h=S(f,0,null);f=S(f,1,null);a.g?a.g(f,h):a.call(null,f,h);e+=1}else if(b=G(b))Qc(b)?(c=Cb(b),b=Db(b),h=c,d=P(c),c=h):(c=J(b),h=S(c,0,null),f=S(c,1,null),a.g?a.g(f,h):a.call(null,f,h),b=M(b),c=null,d=0),e=0;else return null};g.ia=function(a,b){return this.M(null,b,null)};
g.M=function(a,b,c){a=Ua(this.Ka,b);return w(a)?Xa(a):c};g.Ca=function(){return new uf(Ib(this.Ka))};g.R=function(){return this.meta};g.U=function(){return Ea(this.Ka)};g.S=function(){var a=this.B;return null!=a?a:this.B=a=hc(this)};g.P=function(a,b){if(Lc(b))if(P(this)===P(b))try{return dd(function(c,d){return(c=Uc(b,d))?c:new jc(!1)},!0,this.Ka)}catch(c){if(c instanceof Error)return!1;throw c;}else return!1;else return!1};g.Sa=function(){return new wf(vb(this.Ka))};g.V=function(){return db(xf,this.meta)};
g.O=function(){return Je(this.Ka)};g.T=function(a,b){return b===this.meta?this:new vf(b,this.Ka,this.B)};g.Z=function(a,b){return new vf(this.meta,Fc.j(this.Ka,b,null),null)};g.call=function(a){switch(arguments.length-1){case 1:return this.c(arguments[1]);case 2:return this.g(arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",A.c(arguments.length-1)].join(""));}};g.apply=function(a,b){return this.call.apply(this,[this].concat(Ba(b)))};g.c=function(a){return this.ia(null,a)};
g.g=function(a,b){return this.M(null,a,b)};var xf=new vf(null,Md,ic);vf.prototype[Aa]=function(){return dc(this)};function wf(a){this.Pa=a;this.A=136;this.l=259}g=wf.prototype;g.Ua=function(a,b){this.Pa=yb(this.Pa,b,null);return this};g.$a=function(){return new vf(null,xb(this.Pa),null)};g.U=function(){return P(this.Pa)};g.ia=function(a,b){return this.M(null,b,null)};g.M=function(a,b,c){return Ra(this.Pa,b,Sc)===Sc?c:b};
g.call=function(a){switch(arguments.length-1){case 1:return this.c(arguments[1]);case 2:return this.g(arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",A.c(arguments.length-1)].join(""));}};g.apply=function(a,b){return this.call.apply(this,[this].concat(Ba(b)))};g.c=function(a){return Ra(this.Pa,a,Sc)===Sc?null:a};g.g=function(a,b){return Ra(this.Pa,a,Sc)===Sc?b:a};
function pd(a){if(null!=a&&(a.A&4096||u===a.Ob))return a.name;if("string"===typeof a)return a;throw Error(["Doesn't support name: ",A.c(a)].join(""));}function zf(a,b){return new qd(null,function(){var c=G(b);if(c){var d=J(c);d=a.c?a.c(d):a.call(null,d);c=w(d)?R(J(c),zf(a,bc(c))):null}else c=null;return c},null)}
function Yi(){var a=Zi;return function(){function b(k,l,m){return new U(null,2,5,W,[a.j?a.j(k,l,m):a.call(null,k,l,m),ed.j?ed.j(k,l,m):ed.call(null,k,l,m)],null)}function c(k,l){return new U(null,2,5,W,[a.g?a.g(k,l):a.call(null,k,l),ed.g?ed.g(k,l):ed.call(null,k,l)],null)}function d(k){return new U(null,2,5,W,[a.c?a.c(k):a.call(null,k),ed.c?ed.c(k):ed.call(null,k)],null)}function e(){return new U(null,2,5,W,[a.o?a.o():a.call(null),ed.o?ed.o():ed.call(null)],null)}var f=null,h=function(){function k(m,
n,p,q){var r=null;if(3<arguments.length){r=0;for(var x=Array(arguments.length-3);r<x.length;)x[r]=arguments[r+3],++r;r=new H(x,0,null)}return l.call(this,m,n,p,r)}function l(m,n,p,q){return new U(null,2,5,W,[Jd(a,m,n,p,q),Jd(ed,m,n,p,q)],null)}k.F=3;k.C=function(m){var n=J(m);m=M(m);var p=J(m);m=M(m);var q=J(m);m=bc(m);return l(n,p,q,m)};k.v=l;return k}();f=function(k,l,m,n){switch(arguments.length){case 0:return e.call(this);case 1:return d.call(this,k);case 2:return c.call(this,k,l);case 3:return b.call(this,
k,l,m);default:var p=null;if(3<arguments.length){p=0;for(var q=Array(arguments.length-3);p<q.length;)q[p]=arguments[p+3],++p;p=new H(q,0,null)}return h.v(k,l,m,p)}throw Error("Invalid arity: "+arguments.length);};f.F=3;f.C=h.C;f.o=e;f.c=d;f.g=c;f.j=b;f.v=h.v;return f}()}
var Af=function Af(a,b){var d=a.exec(b);if(null==d)return null;var e=d[0],f=1===d.length?e:te(d);return R(f,new qd(null,function(){var h=e.length;h=d.index+(1>h?1:h);return h<=b.length?(h=b.substring(h),Af.g?Af.g(a,h):Af.call(null,a,h)):null},null))};
function Bf(a,b,c,d,e,f,h){var k=qa;qa=null==qa?null:qa-1;try{if(null!=qa&&0>qa)return sb(a,"#");sb(a,c);if(0===wa.c(f))G(h)&&sb(a,function(){var r=Cf.c(f);return w(r)?r:"..."}());else{if(G(h)){var l=J(h);b.j?b.j(l,a,f):b.call(null,l,a,f)}for(var m=M(h),n=wa.c(f)-1;;)if(!m||null!=n&&0===n){G(m)&&0===n&&(sb(a,d),sb(a,function(){var r=Cf.c(f);return w(r)?r:"..."}()));break}else{sb(a,d);var p=J(m);c=a;h=f;b.j?b.j(p,c,h):b.call(null,p,c,h);var q=M(m);c=n-1;m=q;n=c}}return sb(a,e)}finally{qa=k}}
function Df(a,b){b=G(b);for(var c=null,d=0,e=0;;)if(e<d){var f=c.W(null,e);sb(a,f);e+=1}else if(b=G(b))c=b,Qc(c)?(b=Cb(c),d=Db(c),c=b,f=P(b),b=d,d=f):(f=J(c),sb(a,f),b=M(c),c=null,d=0),e=0;else return null}var Ef={'"':'\\"',"\\":"\\\\","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t"};function Ff(a){return['"',A.c(a.replace(/[\\"\b\f\n\r\t]/g,function(b){return Ef[b]})),'"'].join("")}function Gf(a,b){return Tc(Wb.g(a,ua))?null!=b&&(b.l&131072||u===b.Nb)?null!=Kc(b):!1:!1}
function Hf(a,b,c){if(null==a)return sb(b,"nil");if(Gf(c,a)){sb(b,"^");var d=Kc(a);Y.j?Y.j(d,b,c):Y.call(null,d,b,c);sb(b," ")}if(a.Cb)return a.Wb(b);if(null!=a?a.l&2147483648||u===a.X||(a.l?0:y(tb,a)):y(tb,a))return ub(a,b,c);if(!0===a||!1===a)return sb(b,A.c(a));if("number"===typeof a)return sb(b,isNaN(a)?"##NaN":a===Number.POSITIVE_INFINITY?"##Inf":a===Number.NEGATIVE_INFINITY?"##-Inf":A.c(a));if(null!=a&&a.constructor===Object)return sb(b,"#js "),d=Xd.g(function(f){var h=/[A-Za-z_\*\+\?!\-'][\w\*\+\?!\-']*/;
if("string"===typeof f)h=h.exec(f),h=null!=h&&F.g(h[0],f)?1===h.length?h[0]:te(h):null;else throw new TypeError("re-matches must match against a string.");return new ne(null!=h?od.c(f):f,a[f])},la(a)),If.H?If.H(d,Y,b,c):If.call(null,d,Y,b,c);if(xa(a))return Bf(b,Y,"#js ["," ","]",c,a);if("string"==typeof a)return w(ta.c(c))?sb(b,Ff(a)):sb(b,a);if("function"==t(a)){var e=a.name;c=w(function(){var f=null==e;return f?f:/^[\s\xa0]*$/.test(e)}())?"Function":e;return Df(b,wc(["#object[",c,w(!1)?[' "',A.c(a),
'"'].join(""):"","]"]))}if(a instanceof Date)return c=function(f,h){for(f=A.c(f);;)if(f.length<h)f=["0",f].join("");else return f},Df(b,wc(['#inst "',A.c(a.getUTCFullYear()),"-",c(a.getUTCMonth()+1,2),"-",c(a.getUTCDate(),2),"T",c(a.getUTCHours(),2),":",c(a.getUTCMinutes(),2),":",c(a.getUTCSeconds(),2),".",c(a.getUTCMilliseconds(),3),"-",'00:00"']));if(a instanceof RegExp)return Df(b,wc(['#"',a.source,'"']));if(Ca(a))return Df(b,wc(["#object[",a.toString(),"]"]));if(w(function(){var f=null==a?null:
a.constructor;return null==f?null:f.mb}()))return Df(b,wc(["#object[",a.constructor.mb.replace(/\//g,"."),"]"]));e=function(){var f=null==a?null:a.constructor;return null==f?null:f.name}();c=w(function(){var f=null==e;return f?f:/^[\s\xa0]*$/.test(e)}())?"Object":e;return null==a.constructor?Df(b,wc(["#object[",c,"]"])):Df(b,wc(["#object[",c," ",A.c(a),"]"]))}function Y(a,b,c){var d=Jf.c(c);return w(d)?(c=Fc.j(c,Lf,Hf),d.j?d.j(a,b,c):d.call(null,a,b,c)):Hf(a,b,c)}
function Mf(a,b){var c=new ma;a:{var d=new Jb(c);Y(J(a),d,b);a=G(M(a));for(var e=null,f=0,h=0;;)if(h<f){var k=e.W(null,h);sb(d," ");Y(k,d,b);h+=1}else if(a=G(a))e=a,Qc(e)?(a=Cb(e),f=Db(e),e=a,k=P(a),a=f,f=k):(k=J(e),sb(d," "),Y(k,d,b),a=M(e),e=null,f=0),h=0;else break a}return c}function Nf(a){return a instanceof Vb?Xb.g(null,pd(a)):od.g(null,pd(a))}
function Of(a){if(w(!1)){var b=G(a),c=G(b),d=J(c);M(c);S(d,0,null);S(d,1,null);c=null==a?null:null!=a&&(a.l&4||u===a.Hb)?a.V(null):(null!=a?a.l&4||u===a.Hb||(a.l?0:y(Fa,a)):y(Fa,a))?Ga(a):null;for(a=null;;){d=a;b=G(b);a=J(b);var e=M(b),f=a;a=S(f,0,null);b=S(f,1,null);if(w(f))if(a instanceof E||a instanceof Vb)if(w(d))if(F.g(d,nd(a)))c=Fc.j(c,Nf(a),b),a=d,b=e;else return null;else if(d=nd(a),w(d))c=Fc.j(c,Nf(a),b),a=d,b=e;else return null;else return null;else return new U(null,2,5,W,[d,c],null)}}else return null}
function Pf(a,b,c,d,e){return Bf(d,function(f,h,k){var l=Xa(f);c.j?c.j(l,h,k):c.call(null,l,h,k);sb(h," ");f=Ya(f);return c.j?c.j(f,h,k):c.call(null,f,h,k)},[A.c(a),"{"].join(""),", ","}",e,G(b))}function If(a,b,c,d){var e=Nc(a)?Of(a):null,f=S(e,0,null);e=S(e,1,null);return w(f)?Pf(["#:",A.c(f)].join(""),e,b,c,d):Pf(null,a,b,c,d)}Yb.prototype.X=u;Yb.prototype.N=function(a,b,c){sb(b,"#'");return Y(this.Oa,b,c)};H.prototype.X=u;H.prototype.N=function(a,b,c){return Bf(b,Y,"("," ",")",c,this)};
qd.prototype.X=u;qd.prototype.N=function(a,b,c){return Bf(b,Y,"("," ",")",c,this)};ne.prototype.X=u;ne.prototype.N=function(a,b,c){return Bf(b,Y,"["," ","]",c,this)};jf.prototype.X=u;jf.prototype.N=function(a,b,c){return Bf(b,Y,"("," ",")",c,this)};He.prototype.X=u;He.prototype.N=function(a,b,c){return Bf(b,Y,"("," ",")",c,this)};ec.prototype.X=u;ec.prototype.N=function(a,b,c){return Bf(b,Y,"("," ",")",c,this)};xe.prototype.X=u;xe.prototype.N=function(a,b,c){return Bf(b,Y,"("," ",")",c,this)};
ld.prototype.X=u;ld.prototype.N=function(a,b,c){return Bf(b,Y,"("," ",")",c,this)};Zd.prototype.X=u;Zd.prototype.N=function(a,b,c){return Bf(b,Y,"("," ",")",c,this)};uc.prototype.X=u;uc.prototype.N=function(a,b,c){return Bf(b,Y,"("," ",")",c,this)};of.prototype.X=u;of.prototype.N=function(a,b,c){return If(this,Y,b,c)};lf.prototype.X=u;lf.prototype.N=function(a,b,c){return Bf(b,Y,"("," ",")",c,this)};vf.prototype.X=u;vf.prototype.N=function(a,b,c){return Bf(b,Y,"#{"," ","}",c,this)};
ud.prototype.X=u;ud.prototype.N=function(a,b,c){return Bf(b,Y,"("," ",")",c,this)};Rd.prototype.X=u;Rd.prototype.N=function(a,b,c){sb(b,"#object[cljs.core.Atom ");Y(new v(null,1,[Qf,this.state],null),b,c);return sb(b,"]")};tf.prototype.X=u;tf.prototype.N=function(a,b,c){return Bf(b,Y,"("," ",")",c,this)};U.prototype.X=u;U.prototype.N=function(a,b,c){return Bf(b,Y,"["," ","]",c,this)};id.prototype.X=u;id.prototype.N=function(a,b){return sb(b,"()")};v.prototype.X=u;
v.prototype.N=function(a,b,c){return If(this,Y,b,c)};sf.prototype.X=u;sf.prototype.N=function(a,b,c){return Bf(b,Y,"("," ",")",c,this)};Dc.prototype.X=u;Dc.prototype.N=function(a,b,c){return Bf(b,Y,"("," ",")",c,this)};Vb.prototype.Xa=u;Vb.prototype.Ra=function(a,b){if(b instanceof Vb)return Ub(this,b);throw Error(["Cannot compare ",A.c(this)," to ",A.c(b)].join(""));};E.prototype.Xa=u;
E.prototype.Ra=function(a,b){if(b instanceof E)return md(this,b);throw Error(["Cannot compare ",A.c(this)," to ",A.c(b)].join(""));};U.prototype.Xa=u;U.prototype.Ra=function(a,b){if(Pc(b))return Wc(this,b);throw Error(["Cannot compare ",A.c(this)," to ",A.c(b)].join(""));};ne.prototype.Xa=u;ne.prototype.Ra=function(a,b){if(Pc(b))return Wc(this,b);throw Error(["Cannot compare ",A.c(this)," to ",A.c(b)].join(""));};function Rf(){}
function Sf(a){if(null!=a&&null!=a.Jb)a=a.Jb(a);else{var b=Sf[t(null==a?null:a)];if(null!=b)a=b.c?b.c(a):b.call(null,a);else if(b=Sf._,null!=b)a=b.c?b.c(a):b.call(null,a);else throw z("IEncodeJS.-clj-\x3ejs",a);}return a}function Tf(a,b){(null!=a?u===a.Ib||(a.Xb?0:y(Rf,a)):y(Rf,a))?a=Sf(a):"string"===typeof a||"number"===typeof a||a instanceof E||a instanceof Vb?a=b.c?b.c(a):b.call(null,a):(a=wc([a]),b=ra(),a=null==a||ya(G(a))?"":A.c(Mf(a,b)));return a}
var Uf=function Uf(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;return Uf.v(arguments[0],1<c.length?new H(c.slice(1),0,null):null)};
Uf.v=function(a,b){b=null!=b&&(b.l&64||u===b.I)?T(X,b):b;var c=Wb.j(b,Vf,pd),d=function h(f){if(null==f)return null;if(null!=f?u===f.Ib||(f.Xb?0:y(Rf,f)):y(Rf,f))return Sf(f);if(f instanceof E)return c.c?c.c(f):c.call(null,f);if(f instanceof Vb)return A.c(f);if(Nc(f)){var k={};f=G(f);for(var l=null,m=0,n=0;;)if(n<m){var p=l.W(null,n),q=S(p,0,null);p=S(p,1,null);q=Tf(q,d);p=h(p);k[q]=p;n+=1}else if(f=G(f))Qc(f)?(m=Cb(f),f=Db(f),l=m,m=P(m)):(m=J(f),l=S(m,0,null),m=S(m,1,null),l=Tf(l,d),m=h(m),k[l]=
m,f=M(f),l=null,m=0),n=0;else break;return k}if(null==f?0:null!=f?f.l&8||u===f.pc||(f.l?0:y(Ha,f)):y(Ha,f)){k=[];f=G(Xd.g(h,f));l=null;for(n=m=0;;)if(n<m)q=l.W(null,n),k.push(q),n+=1;else if(f=G(f))l=f,Qc(l)?(f=Cb(l),n=Db(l),l=f,m=P(f),f=n):(f=J(l),k.push(f),f=M(l),l=null,m=0),n=0;else break;return k}return f};return d(a)};Uf.F=1;Uf.C=function(a){var b=J(a);a=M(a);return this.v(b,a)};var Wf=new E(null,"cursorGroupBackward","cursorGroupBackward",-1004717331),Xf=new E(null,"ns","ns",441598760),Cj=new E("cursor","mapped","cursor/mapped",1625530272),Yf=new E(null,"slurp-forward","slurp-forward",-866284566),Zf=new E(null,"selectLine","selectLine",1983247755),yf=new E(null,"selection-return","selection-return",267226206),$f=new E(null,"selectGroupForward","selectGroupForward",1344873433),ag=new E(null,"table","table",-564943036),Qf=new E(null,"val","val",128701612),bg=new E(null,"redo",
"redo",501190664),cg=new E(null,"doc","doc",1913296891),dg=new E(null,"moveLineUp","moveLineUp",-529618675),eg=new E(null,"line","line",212345235),fg=new E(null,"arglists","arglists",1661989754),gg=new E(null,"selectLineEnd","selectLineEnd",-1578526086),hg=new E(null,"cursorDocStart","cursorDocStart",2008312830),ig=new E(null,"deleteToLineEnd","deleteToLineEnd",-1184097633),jg=new E(null,"indentMore","indentMore",-290419447),Ij=new Vb(Ci,"format","codemirror-next.clojure.extensions.formatting/format",
41831636,null),ua=new E(null,"meta","meta",1499536964),kg=new E(null,"barf-backward","barf-backward",434854195),lg=new E(null,"cursorPageDown","cursorPageDown",-1143253131),mg=new E(null,"mac","mac",-1879391650),ng=new E(null,"barf-forward","barf-forward",1278612337),og=new E(null,"from","from",1815293044),pg=new E(null,"selectPageDown","selectPageDown",226562613),qg=new E(null,"deleteCharBackward","deleteCharBackward",-618312025),rg=new E(null,"cursorPageUp","cursorPageUp",-716828715),sg=new E(null,
"cursorGroupLeft","cursorGroupLeft",1639995020),tg=new E(null,"selectGroupLeft","selectGroupLeft",347862780),ug=new E(null,"selectCharLeft","selectCharLeft",1894248154),vg=new E(null,"end-line","end-line",1837326455),wg=new E(null,"copyLineDown","copyLineDown",735523711),xg=new E(null,"cursorGroupRight","cursorGroupRight",-2025899051),yg=new E(null,"nav-left","nav-left",845947876),zg=new E(null,"start","start",-355208981),Ag=new E(null,"tag","tag",-1290361223),Bg=new E(null,"cursorLineDown","cursorLineDown",
180576864),Cg=new E(null,"selectSyntaxLeft","selectSyntaxLeft",807644921),Dg=new E(null,"range","range",1639692286),Eg=new Vb(aa,"unwrap","codemirror-next.clojure.commands/unwrap",-1222968235,null),Fg=new E(null,"selectDocEnd","selectDocEnd",496449813),Vj=new E(null,"cursor","cursor",1011937484),Gg=new E(null,"name","name",1843675177),Hg=new E(null,"test","test",577538877),Ig=new E(null,"end-column","end-column",1425389514),Jg=new E(null,"nav-right","nav-right",591041267),Kg=new E(null,"shift","shift",
997140064),Lg=new E(null,"cursorSyntaxRight","cursorSyntaxRight",636695810),wj=new Vb(null,"meta19719","meta19719",1333101962,null),Jf=new E(null,"alt-impl","alt-impl",670969595),ti=new Vb(null,"selection-return","selection-return",1907757733,null),Mg=new E(null,"selectDocStart","selectDocStart",-217268371),Ng=new E(null,"deleteCharForward","deleteCharForward",823474956),Og=new E(null,"deleteGroupBackward","deleteGroupBackward",616768113),Pg=new E(null,"selectLineUp","selectLineUp",-255594686),Qg=
new E(null,"selectAll","selectAll",869127842),Rg=new E(null,"cursorDocEnd","cursorDocEnd",-1298653903),Sg=new E(null,"simplifySelection","simplifySelection",-449871290),ui=new Vb(aa,"selection-return","codemirror-next.clojure.commands/selection-return",183378793,null),va=new E(null,"dup","dup",556298533),Tg=new Vb(aa,"kill","codemirror-next.clojure.commands/kill",676830540,null),Ug=new E(null,"selectParentSyntax","selectParentSyntax",1969233071),Vg=new E(null,"indentSelection","indentSelection",1509202288),
Wg=new E(null,"cursorGroupForward","cursorGroupForward",1231480632),Xg=new E(null,"nav-select-right","nav-select-right",-455278613),Fj=new E(null,"cellpadding","cellpadding",-1752450238),wa=new E(null,"print-length","print-length",1931866356),Yg=new E(null,"unwrap","unwrap",-1399175462),Zg=new E(null,"selectLineDown","selectLineDown",1741100604),sa=new E(null,"flush-on-newline","flush-on-newline",-151457939),$g=new E(null,"undo","undo",-1818036302),ah=new E(null,"selectGroupBackward","selectGroupBackward",
1569543117),bh=new E(null,"nav-select-left","nav-select-left",-1033285138),ch=new E(null,"selectSyntaxRight","selectSyntaxRight",327843753),dh=new E(null,"moveLineDown","moveLineDown",1443953910),Fi=new E(null,"selection-grow","selection-grow",1627169352),eh=new E(null,"cursorLineUp","cursorLineUp",-1375841219),fh=new E(null,"selectCharRight","selectCharRight",1049825195),gh=new E(null,"i","i",-1386841315),hh=new E(null,"column","column",2078222095),ih=new E(null,"key","key",-1516042587),jh=new E(null,
"tr","tr",-1424774646),kh=new E(null,"selectLineBoundaryForward","selectLineBoundaryForward",904508598),lh=new E(null,"to","to",192099007),mh=new E(null,"b","b",1482224470),nh=new E(null,"selectPageUp","selectPageUp",152840428),oh=new E(null,"splitLine","splitLine",-1338533189),ph=new E(null,"td","td",1479933353),qh=new Vb(null,"state","state",-348086572,null),rh=new E(null,"run","run",-1821166653),sh=new E(null,"redoSelection","redoSelection",412268254),th=new E(null,"cursorLineBoundaryForward",
"cursorLineBoundaryForward",-1283359997),uh=new E(null,"deleteLine","deleteLine",-1681049426),vh=new E(null,"changes","changes",1492088),wh=new Vb(null,"kill","kill",1628195952,null),Dj=new Vb(aa,"selection-grow","codemirror-next.clojure.commands/selection-grow",135101379,null),xh=new E(null,"cursorLineBoundaryBackward","cursorLineBoundaryBackward",1373049802),yh=new E(null,"kill","kill",-12335575),zi=new E(null,"div","div",1057191632),Lf=new E(null,"fallback-impl","fallback-impl",-1501286995),zh=
new E(null,"insertNewlineAndIndent","insertNewlineAndIndent",-542382007),Ah=new E(null,"preventDefault","preventDefault",-1714933772),Ai=new E(null,"pre","pre",2118456869),ta=new E(null,"readably","readably",1129599760),Bh=new E(null,"deleteGroupForward","deleteGroupForward",596007091),Ch=new E(null,"selectLineBoundaryBackward","selectLineBoundaryBackward",-1443564123),Vf=new E(null,"keyword-fn","keyword-fn",-64566675),Dh=new E(null,"cursorCharRight","cursorCharRight",-739900583),Eh=new E(null,"transposeChars",
"transposeChars",1566260285),Fh=new E(null,"file","file",-1269645878),Gh=new E(null,"cursorCharLeft","cursorCharLeft",-1572589780),Hh=new E(null,"copyLineUp","copyLineUp",-1013016402),Ih=new E(null,"cursorMatchingBracket","cursorMatchingBracket",-1943122872),Jh=new E(null,"selectGroupRight","selectGroupRight",482375806),Kh=new E(null,"end","end",-268185958),Lh=new E(null,"cursorSyntaxLeft","cursorSyntaxLeft",-558944440),Mh=new Vb(null,aa,aa,1149809327,null),Nh=new E(null,"indent","indent",-148200125),
Oh=new E(null,"insert","insert",1286475395),Ph=new E(null,"cursorLineStart","cursorLineStart",-1505072960),Qh=new E(null,"slurp-backward","slurp-backward",-1615745159),Hj=new Vb(null,"selection-grow","selection-grow",-1027266417,null),Lj=new Vb(null,Ci,Ci,-1229249038,null),Rh=new E(null,"undoSelection","undoSelection",628691449),Sh=new Vb(null,"js","js",-886355190,null),Th=new E(null,"indentLess","indentLess",-115385364),hk=new E(null,"from-to","from-to",-640428401),bk=new Vb(null,"format","format",
333606761,null),Uh=new E(null,"cursorLineEnd","cursorLineEnd",-234219178),Vh=new E(null,"selectLineStart","selectLineStart",1211557745),Wh=new Vb(null,"unwrap","unwrap",241356065,null),Cf=new E(null,"more-marker","more-marker",-14717935);var Xh={},Yh={},Zh=[];function $h(a,b){var c=Yh[a];if(void 0!==c)return c;try{Zh.push(a);var d=Xh[a],e=shadow$provide[a];if(void 0===d){if(void 0===e)throw"Module not provided: "+a;d={exports:{}};Xh[a]=d}if(e){delete shadow$provide[a];try{e.call(d,ca,$h,d,d.exports)}catch(h){throw console.warn("shadow-cljs - failed to load",a),h;}if(b){var f=b.globals;if(f)for(a=0;a<f.length;a++)window[f[a]]=d.exports}}}finally{Zh.pop()}return d.exports}$h.cache={};$h.resolve=function(a){return a};
function ai(a){return $h(a,{})};var bi=ai(0);var Jj=ai(1);var ci=ai(2);var di=ai(5);var ei=ai(6);ai(7);var fi=ai(8);var gi=ai(9);var hi=ai(10);var ii=ai(11);ai(13);var ji=ai(14);function ki(a){return a instanceof E?pd(a):a};function Ej(){var a=/----/;a="/(?:)/"===A.c(a)?Bc.g(te(R("",Xd.g(A,G("# codemirror-clojure\n\nLive demo (auto-build): https://nextjournal.github.io/codemirror.next-clojure/\n\ndev: `shadow-cljs watch app`\n\n----\n\nIn progress:\n\n\nNext:\n\n\n\nDone\n\n- [x] Expand/contract region\n- [x] Barf\n- [x] Slurp\n- [x] Format whitespace (necessary for commands like Slurp to behave nicely)\n- [x] Navigate left/right by sexp\n- [x] cannot 'indent-all', changes on one line don't affect measurements taken on subsequent lines\n- [x] operators are recognized (lists with symbol in 1st position)\n- [x] Unwrap current collection\n- [x] Kill (remove all children of current node starting on current line)\n- [x] GitHub Action to publish demo site to github.io\n- [x] indentation\n- [x] odd error recovery behaviour - a `#` token can't be deleted\n- [x] deletion\n")))),
""):te(A.c("# codemirror-clojure\n\nLive demo (auto-build): https://nextjournal.github.io/codemirror.next-clojure/\n\ndev: `shadow-cljs watch app`\n\n----\n\nIn progress:\n\n\nNext:\n\n\n\nDone\n\n- [x] Expand/contract region\n- [x] Barf\n- [x] Slurp\n- [x] Format whitespace (necessary for commands like Slurp to behave nicely)\n- [x] Navigate left/right by sexp\n- [x] cannot 'indent-all', changes on one line don't affect measurements taken on subsequent lines\n- [x] operators are recognized (lists with symbol in 1st position)\n- [x] Unwrap current collection\n- [x] Kill (remove all children of current node starting on current line)\n- [x] GitHub Action to publish demo site to github.io\n- [x] indentation\n- [x] odd error recovery behaviour - a `#` token can't be deleted\n- [x] deletion\n").split(a));
if(1<P(a))a:for(;;)if(""===(null==a?null:vi(a)))a=null==a?null:wi(a);else break a;return a};function mi(a,b){b=0<b?b:0;a=a.doc.length;return b<a?b:a};function ni(a,b){return w(b.c?b.c(a):b.call(null,a))?a:null}function oi(a,b){return a>b?{from:b,to:a}:{from:a,to:b}}function pi(a,b){return null!=b?(a.dispatch(b),!0):!1}
function qi(a,b){return a.update(a.changeByRange(function(c){var d=b.c?b.c(c):b.call(null,c);if(null==d)d=null;else{d=ni(d,Nc);d=null!=d&&(d.l&64||u===d.I)?T(X,d):d;var e=Wb.g(d,Cj),f=Wb.g(d,Vj),h=Wb.g(d,hk),k=Wb.g(d,Dg);d=Wb.g(d,vh);d=w(d)?a.changes(Uf(d)):null;w(e)?h=ci.EditorSelection.cursor(d.mapPos(e)):w(f)?h=ci.EditorSelection.cursor(f):w(h)?(e=h.c?h.c(0):h.call(null,0),h=h.c?h.c(1):h.call(null,1),h=ci.EditorSelection.range(e,h)):h=w(k)?k:void 0;e={};w(d)&&(e.changes=d);w(h)&&(e.range=h);d=
e}return w(d)?d:{range:c}}))}function ri(a){for(var b=[],c=arguments.length,d=0;;)if(d<c)b.push(arguments[d]),d+=1;else break;return Kj(arguments[0],arguments[1],2<b.length?new H(b.slice(2),0,null):null)}
function Kj(a,b,c){c=S(c,0,null);c=null!=c&&(c.l&64||u===c.I)?T(X,c):c;var d=Wb.j(c,og,0),e=Wb.g(c,lh);c=a.doc.iterLines(0);for(var f=c.next(),h=[],k=d,l=1;;){var m=f,n=null!=m&&(m.l&64||u===m.I)?T(X,m):m,p=function(){var C=n;if(null!=C&&"done"in C)return C.done}(),q=function(){var C=n;if(null!=C&&"value"in C)return C.value}();if(w(function(){var C=p;return w(C)?C:d>e}()))return a.update({changes:a.changes(h)});f=c.next();m=function(){var C=b.j?b.j(k,q,l):b.call(null,k,q,l);if(w(C)){var D=h;D.push(C);
return D}return h}();var r=k+1+q.length,x=l+1;h=m;k=r;l=x}}
function ck(a,b){var c=new Rd(-1),d=a.doc;return a.update(a.changeByRange(function(e){var f=null!=e&&(e.l&64||u===e.I)?T(X,e):e;var h=null!=f&&"to"in f?f.to:void 0;e=null!=f&&"anchor"in f?f.anchor:void 0;var k=null!=f&&"head"in f?f.head:void 0;var l=null!=f&&"from"in f?f.from:void 0;l=d.lineAt(l);var m=null!=l&&(l.l&64||u===l.I)?T(X,l):l;var n=null!=m&&"number"in m?m.number:void 0;var p=null!=m&&"to"in m?m.to:void 0;for(l=[];;){n>ab(c)&&(Sd(c,n),b.j?b.j(m,l,f):b.call(null,m,l,f));if(h<=p)return f=
a.changes(l),{changes:l,range:ci.EditorSelection.range(f.mapPos(e,1),f.mapPos(k,1))};m=d.lineAt(p+1)}}))}
function li(a,b){var c=null!=a&&(a.l&64||u===a.I)?T(X,a):a;a=null!=c&&"state"in c?c.state:void 0;a=null!=a&&(a.l&64||u===a.I)?T(X,a):a;var d=null!=a&&"doc"in a?a.doc:void 0;c=null!=c&&"changes"in c?c.changes:void 0;var e=new Rd(-1),f=[];c.iterChanges(function(k,l,m,n){k=d.lineAt(m);m=null!=k&&(k.l&64||u===k.I)?T(X,k):k;k=null!=m&&"number"in m?m.number:void 0;l=null!=m&&"to"in m?m.to:void 0;for(;;){k>ab(e)&&(Sd(e,k),b.g?b.g(m,f):b.call(null,m,f));if(n<=l)return null;var p=d.lineAt(l+1),q=p;if(w(w(q)?
p.number>m.number:q))m=p;else return null}});var h=a.changes(f);a=a.selection.map(h);return{changes:c.compose(h),selection:a}}function si(a){a=null!=a&&(a.l&64||u===a.I)?T(X,a):a;a=null!=a&&"selection"in a?a.selection:void 0;a=null!=a&&(a.l&64||u===a.I)?T(X,a):a;a=null!=a&&"ranges"in a?a.ranges:void 0;return!Nd(function(b){return b.empty},a)};function ak(a){return a.parent.childBefore(a.start)}function Gj(a){return a.parent.childAfter(a.end)}
var Mj=function(){var a=new v(null,4,'()[]{}""'.split(""),null);return dd(function(b,c,d){return Fc.j(b,d,c)},a,a)}(),Yj=new vf(null,new v(null,13,["#?",null,"#'",null,"'",null,"`",null,'"',null,"~@",null,"~",null,"#^",null,"##",null,"#",null,"^",null,"#_",null,"@",null],null),null),ik=be.g(new vf(null,new v(null,3,["(",null,"{",null,"[",null],null),null),Yj),jk=new vf(null,new v(null,4,["]",null,")",null,'"',null,"}",null],null),null),xk=new vf(null,new v(null,4,["Map",null,"Vector",null,"List",
null,"Set",null],null),null),ek=new vf(null,new v(null,12,["Ignored",null,"ReaderConditional",null,"Meta",null,"RegExp",null,"Unquote",null,"Deref",null,"AnonymousFunction",null,"Var",null,"SyntaxQuote",null,"NamespacedMap",null,"UnquoteSplice",null,"Quote",null],null),null),kk=be.g(ik,jk);function Gi(a){return a.name}var vk=Qd.j(Tc,ik,Gi),wk=Qd.j(Tc,jk,Gi);Qd.j(Tc,kk,Gi);var Ii=Qd.j(Tc,ik,Gi),Ji=Qd.j(Tc,jk,Gi);
function Wd(a){var b=Uc(xk,a.name);if(b)return b;a=a.firstChild;a=null==a?null:a.name;return null==a?null:Yj.c?Yj.c(a):Yj.call(null,a)}function Ki(a){return"String"===a.name}function Zj(a){return"LineComment"===a.name}function Li(a){var b=null!=a&&(a.l&64||u===a.I)?T(X,a):a;a=null!=b&&"firstChild"in b?b.firstChild:void 0;b=null!=b&&"lastChild"in b?b.lastChild:void 0;var c=a.name;c=Mj.c?Mj.c(c):Mj.call(null,c);return w(c)?F.g(c,b.name)&&!F.g(a.end,b.end):!0}
var Mi=function Mi(a){var c=a.parent;return null==c?null:R(c,new qd(null,function(){return Mi.c?Mi.c(c):Mi.call(null,c)},null))};function Ni(a,b){return w(b.c?b.c(a):b.call(null,a))?a:Zc(function(c,d){return w(b.c?b.c(d):b.call(null,d))?new jc(d):null},null,Mi(a))}
function yk(a,b,c){a:switch(c){case 1:var d=a.childAfter(b);break a;case -1:d=a.childBefore(b);break a;default:throw Error(["No matching clause: ",A.c(c)].join(""));}return null==d?null:R(d,new qd(null,function(){var e=yk;a:switch(c){case 1:var f=d.end;break a;case -1:f=d.start;break a;default:throw Error(["No matching clause: ",A.c(c)].join(""));}return e(a,f,c)},null))}function Oi(a,b){return a.start===b.start&&a.end===b.end&&a.depth===b.depth}
function Pi(a){var b=a.name;return Uc(xk,b)?Oi(Gj(a.firstChild),a.lastChild):F.g("String",b)?a.firstChild.end===a.lastChild.start:!1}function zk(a){return new v(null,2,[og,a.start,lh,a.end],null)}function Ri(a,b){return Tc(a.depth<b.depth&&a.start<=b.start&&a.end>=b.end)}
function Wj(a,b,c){var d=new Rd(Cc);a.iterate({from:b,to:c,enter:function(e,f,h){var k=e.name;if(("Program"===k?0:Uc(xk,k)?0:!w(ek.c?ek.c(k):ek.call(null,k)))&&ya(e.prop(Jj.NodeProp.error)))return Td.j(d,Bc,[e.name,f,h]),!1}});return ab(d)}
function Si(a,b){if(Oi(a,b))return null;var c=Vc(b.start,a.start);switch(c){case 0:return Ri(b,a)?a.parent:Ri(a,b)?a.firstChild:null;case -1:if(Ri(a,b))return a.lastChild;b=ak(a);return w(b)?b:a.parent;case 1:if(Ri(a,b))return a.firstChild;b=Gj(a);return w(b)?b:a.parent;default:throw Error(["No matching clause: ",A.c(c)].join(""));}}function Ti(a,b){return zf(ed,$d(function(c){return Si(c,b)},a))}function Ui(a){var b=Wd(a);return w(b)?b:Ki(a)||"RegExp"===a.name}
function $i(a){switch(arguments.length){case 1:return arguments[0].tree;case 2:return arguments[0].tree.resolve(arguments[1]);case 3:return arguments[0].tree.resolve(arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",A.c(arguments.length)].join(""));}}
function Ak(a,b,c){c=Xc(Vc,new U(null,2,5,W,[b,c],null));b=S(c,0,null);c=S(c,1,null);var d=$i(a,b,1),e=$i(a,c,-1);a=w(Ui(d))?d.start:b;b=w(Ui(e))?e.end:c;b=Zc(function(f,h){var k=S(f,0,null);f=S(f,1,null);return new U(null,2,5,W,[Ri(h,d)?h.start:k,Ri(h,e)?h.end:f],null)},new U(null,2,5,W,[a,b],null),Xd.g(function(f){var h=f.name;h=kk.c?kk.c(h):kk.call(null,h);return w(h)?f.parent:f},Ti(d,e)));a=S(b,0,null);b=S(b,1,null);return ci.EditorSelection.range(a,b)}
function Zi(a){a=null!=a&&(a.l&64||u===a.I)?T(X,a):a;var b=null!=a&&"firstChild"in a?a.firstChild:void 0;var c=null!=a&&"lastChild"in a?a.lastChild:void 0;return{start:w(vk(b))?b.end:a.start,end:w(wk(c))?c.start:a.end}}function fk(a){a=a.parent;a=null==a?null:a.firstChild;a=null==a?null:a.name;return null==a?null:ni(a,Yj)}function lk(a){return[A.c(fk(a)),a.firstChild.name].join("")}function mk(a){return w(fk(a))?a.parent:a};(function(a){if(Lc(a))return Jc(a,null);a=G(a);if(null==a)return xf;if(a instanceof H&&0===a.i){a=a.h;for(var b=a.length,c=vb(xf),d=0;;)if(d<b)wb(c,a[d]),d+=1;else break;return xb(c)}for(c=vb(xf);;)if(null!=a)b=M(a),c=wb(c,B(a)),a=b;else return xb(c)})(Xd.g(function(a){return a.charCodeAt(0)},new U(null,4,5,W,[" ","n","r",","],null)));var Z=ai(15);var Nj=ii.indentNodeProp.add(function(a){a=null!=a&&(a.l&64||u===a.I)?T(X,a):a;var b=null!=a&&"name"in a?a.name:void 0;return function(c){c=null!=c&&(c.l&64||u===c.I)?T(X,c):c;var d=null!=c&&"node"in c?c.node:void 0;return F.g("Program",b)?0:Uc(xk,b)?(c=c.column(d.firstChild.end),F.g("List",d.name)&&F.g("Operator",function(){var e=null==d?null:d.childAfter(d.firstChild.end);return null==e?null:e.name}())?c+1:c):-1}});
function Oj(a,b){return Zc(function(c,d){d=d.g?d.g(a,b):d.call(null,a,b);return-1<d?new jc(d):c},-1,a.state.facet(ci.EditorState.indentation))}function Pj(a){var b={};return new ci.IndentContext(a,function(c){c=ki(c);return null!=b&&c in b?b[c]:-1})}
function Qj(a,b,c){return Zc(function(d,e){var f=S(e,0,null),h=null!=f,k=h?f[0]:null;f=h?f[1]:null;h=S(e,1,null);var l=null!=h;e=l?h[2]:null;h=l?h[0]:null;k=w(jk.c?jk.c(k):jk.call(null,k))?0:w(ik.c?ik.c(h):ik.call(null,h))?0:"KeywordPrefix"===h?0:1;switch(Vc(f-e,k)){case 0:return d;case 1:return d.push({from:0===k?e:e+1,to:f}),d;case -1:return d.push({from:e,insert:" "}),d;default:return d}},[],Bj(2,1,Wj(a.tree,c,b)))}
function Rj(a,b){b=G(b);for(var c=null,d=0,e=0;;)if(e<d){var f=c.W(null,e);a.push(f);e+=1}else if(b=G(b))c=b,Qc(c)?(b=Cb(c),e=Db(c),c=b,d=P(b),b=e):(b=J(c),a.push(b),b=M(c),c=null,d=0),e=0;else break;return a}
function Sj(a,b,c,d,e,f){var h=/^\s*/.exec(d)[0].length,k=function(){var l=ni(Oj(b,c),Pd(yj));if(null==l)return null;var m=Vc(l,h);switch(m){case 0:return null;case 1:return{from:c+h,insert:a.indentString(l-h)};case -1:return{from:c+l,to:c+h};default:throw Error(["No matching clause: ",A.c(m)].join(""));}}();d=w(f)?Qj(a,c+h,c+P(d)):null;e=w(d)?Rj(e,d):e;w(k)&&e.push(k);return e}
function Tj(a){var b=Pj(a);return ck(a,function(c,d){var e=null!=c&&(c.l&64||u===c.I)?T(X,c):c;c=null!=e&&"from"in e?e.from:void 0;e=null!=e&&"content"in e?e.content:void 0;return Sj(a,b,c,e,d,!0)})}function Uj(a){var b=Pj(a);return ri(a,function(c,d){return Sj(a,b,c,d,[],!0)})}function Xj(a){return si(a)?Tj(a):Uj(a)}
var Bi=ci.EditorState.transactionFilter.of(function(a){var b=a.state,c=Pj(b),d=li(a,function(e,f){return Sj(b,c,e.from,e.content,f,!1)});return a.startState.update(function(){var e=null!=d?d:{};e.filter=!1;return e}())});function Wi(){var a=Xi,b=new U(null,2,5,W,["",Cc],null);a:{var c=Af(/\||<[^>]*?>|[^<>|]+/,'(defn lezer-clojure\n  "This is a showcase for `lezer-clojure`, an grammar for Clojure/Script to\n  enable a decent editor experience in the browser."\n  {:added "0.1"}\n  [demo]\n  nil ;; nil\n  (+ 1 1.0 1/5 1E3 042 +042 -042) ;; numbers\n  :hi :hi/ho ::ho :*+!-_? :abc:def:ghi ;; keywords\n  true false ;; booleans\n  :hello #_ :ignored ;; ignore next form\n  #"[A-Z]" ;; regex\n  ^{:meta/data \'is-data} \'too\n  (if (test? \x3cdemo\x3e)\n    (inc demo)|\n    (dec demo)))\n  #\n    [ ]\n    #"a"\na b(c|)d e');
break a;throw new TypeError("re-seq must match against a string.");}c=Zc(function(d,e){var f=S(d,0,null);d=S(d,1,null);if(F.g(e,"|"))e=new U(null,2,5,W,[f,Bc.g(d,ci.EditorSelection.cursor(f.length))],null);else if(0==e.lastIndexOf("\x3c",0)){var h=W,k=P(e)-1;e=new U(null,2,5,h,[[f,e.substring(1,k)].join(""),Bc.g(d,ci.EditorSelection.range(f.length,f.length+(P(e)-2)))],null)}else e=new U(null,2,5,W,[[f,A.c(e)].join(""),d],null);return e},b,c);b=S(c,0,null);c=S(c,1,null);return ci.EditorState.create({doc:b,
selection:G(c)?ci.EditorSelection.create(Yc(c)):void 0,extensions:function(){var d=[ci.EditorState.allowMultipleSelections.of(!0)];w(a)&&d.push(a);return d}()})};function Bk(a){return Od(function(b){return ya(b.empty)},a.ranges)}
var Ck=ci.StateField.define({create:function(a){return function(){function b(c){if(0<arguments.length)for(var d=0,e=Array(arguments.length-0);d<e.length;)e[d]=arguments[d+0],++d;return a}b.F=0;b.C=function(c){G(c);return a};b.v=function(){return a};return b}()}(K),update:function(a,b){b=null!=b&&(b.l&64||u===b.I)?T(X,b):b;var c=null!=b&&"state"in b?b.state:void 0;c=null!=c&&(c.l&64||u===c.I)?T(X,c):c;var d=null!=c&&"selection"in c?c.selection:void 0;b=null!=b&&"docChanged"in b?b.docChanged:void 0;
return w(b)?K:ya(Bk(d))?new Dc(null,d,null,1,null):w(function(){var e=null==a?null:J(M(a));return null==e?null:e.eq(d)}())?Aj(1,a):w(function(){var e=null==a?null:J(a);return null==e?null:e.eq(d)}())?a:Bc.g(a,d)}}),Dk=[Ck];function Hi(a){return function(b){var c=null!=b&&(b.l&64||u===b.I)?T(X,b):b;b=null!=c&&"state"in c?c.state:void 0;c=null!=c&&"dispatch"in c?c.dispatch:void 0;b=a.c?a.c(b):a.call(null,b);null!=b&&(c.c?c.c(b):c.call(null,b));return!0}}
function bj(a){return qi(a,function(b){var c=null!=b&&(b.l&64||u===b.I)?T(X,b):b;b=null!=c&&"from"in c?c.from:void 0;c=null!=c&&"empty"in c?c.empty:void 0;return w(c)?(c=$i(a,b,-1),c=null==c?null:Ni(c,Wd),c=null==c?null:ni(c,Li),w(c)?new v(null,2,[Vj,b-1,vh,new U(null,2,5,W,[zk(c.firstChild),zk(c.lastChild)],null)],null):null):null})}
function cj(a){return qi(a,function(b){var c=null!=b&&(b.l&64||u===b.I)?T(X,b):b;var d=null!=c&&"from"in c?c.from:void 0;b=null!=c&&"to"in c?c.to:void 0;c=null!=c&&"empty"in c?c.empty:void 0;var e=w(c)?function(){var f=$i(a,d),h=Ni(f,function(m){var n=Wd(m);return w(n)?n:F.g("String",m.name)||F.g("Program",m.name)}),k=a.doc.lineAt(d).to,l=w(h)?yk(h,d,1):null;f=w(h)?function(){var m=null==l?null:zf(Ud(function(n){return n.start<=k}),l);return null==m?null:Ac(m)}():null;f=Ki(h)?function(){var m=A.c(a.doc.slice(h.start,
h.end)).substring(d-h.start).indexOf("\n");return 0>m?h.end-1:d+m+1}():w(f)?w(Ji(f))?f.start:f.end:w(function(){var m=J(l);m=null==m?null:m.start;return null==m?null:m>k}())?J(l).start:null;return w(f)?new v(null,2,[Vj,d,vh,new v(null,2,[og,d,lh,f],null)],null):null}():null;return w(e)?e:w(c)?null:new v(null,2,[Vj,d,vh,oi(d,b)],null)})}
function dj(a,b,c){var d=function(){var e=Ni($i(a,b),function(h){var k=Wd(h);return w(k)?k:null==h.parent});e=null==e?null:yk(e,b,c);e=null==e?null:J(e);if(null==e)return null;a:switch(c){case -1:var f=zg;break a;case 1:f=Kh;break a;default:throw Error(["No matching clause: ",A.c(c)].join(""));}f=ki(f);if(null!=e&&f in e)return e[f]}();return w(d)?d:mi(a,b+c)}
function ej(a){return function(b){return qi(b,function(c){var d=null!=c&&(c.l&64||u===c.I)?T(X,c):c;c=null!=d&&"from"in d?d.from:void 0;var e=null!=d&&"to"in d?d.to:void 0;d=null!=d&&"empty"in d?d.empty:void 0;if(w(d))c=new v(null,1,[Vj,dj(b,c,a)],null);else{c=oi(c,e);b:switch(a){case -1:e=og;break b;case 1:e=lh;break b;default:throw Error(["No matching clause: ",A.c(a)].join(""));}e=ki(e);c=null!=c&&e in c?c[e]:void 0;c=new v(null,1,[Vj,c],null)}return c})}}
function fj(a){return function(b){return qi(b,function(c){var d=null!=c&&(c.l&64||u===c.I)?T(X,c):c;c=null!=d&&"from"in d?d.from:void 0;var e=null!=d&&"to"in d?d.to:void 0;d=null!=d&&"empty"in d?d.empty:void 0;if(w(d))c=new v(null,1,[Dg,Ak(b,c,dj(b,c,a))],null);else{a:switch(c=oi(c,e),e=null!=c&&(c.l&64||u===c.I)?T(X,c):c,c=null!=e&&"from"in e?e.from:void 0,e=null!=e&&"to"in e?e.to:void 0,a){case 1:c=Ak(b,c,dj(b,e,a));break a;case -1:c=Ak(b,dj(b,c,a),e);break a;default:throw Error(["No matching clause: ",
A.c(a)].join(""));}c=new v(null,1,[Dg,c],null)}return c})}}function Ek(a,b){var c=function(){var h=$i(a,b,-1);return null==h?null:ni(h,function(k){k=null!=k&&(k.l&64||u===k.I)?T(X,k):k;k=null!=k&&"end"in k?k.end:void 0;return F.g(b,k)})}(),d=function(){var h=$i(a,b,1);return null==h?null:ni(h,function(k){k=null!=k&&(k.l&64||u===k.I)?T(X,k):k;k=null!=k&&"start"in k?k.start:void 0;return F.g(b,k)})}(),e=$i(a,b);var f=ni(c,Vd(Qi,Pd(vk)));return w(f)?f:w(d)?d:w(c)?c:e}
function Fk(a,b,c){a=Ek(a,c);return J(ae(function(d){var e=null!=d&&(d.l&64||u===d.I)?T(X,d):d;d=null!=e&&"start"in e?e.start:void 0;e=null!=e&&"end"in e?e.end:void 0;return d<=b&&e>=c&&!(d===b&&e===c)},R(a,Vi(Yi(),wc([Mi(a)])))))}
function ok(a){return qi(a,function(b){var c=null!=b&&(b.l&64||u===b.I)?T(X,b):b;var d=null!=c&&"from"in c?c.from:void 0;var e=null!=c&&"to"in c?c.to:void 0;b=null!=c&&"empty"in c?c.empty:void 0;return w(b)?new v(null,1,[Dg,function(){var f=Ek(a,d);f=null==f?null:Ak(a,f.start,f.end);return w(f)?f:c}()],null):new v(null,1,[Dg,function(){var f=Fk(a,d,e);f=null==f?null:ci.EditorSelection.range(f.start,f.end);return w(f)?f:c}()],null)})}
function pk(a){var b=J(M(a.field(Ck)));return w(b)?a.update({selection:b}):qi(a,function(c){return new v(null,1,[Vj,c.from],null)})}
function gj(a){return function(b){return qi(b,function(c){var d=null!=c&&(c.l&64||u===c.I)?T(X,c):c;c=null!=d&&"from"in d?d.from:void 0;d=null!=d&&"empty"in d?d.empty:void 0;if(w(d)){var e=Ni($i(b,c),Vd(Wd,function(h){a:switch(a){case 1:h=null==h?null:mk(h);h=null==h?null:Gj(h);h=null==h?null:Ji(h);break a;case -1:h=null==h?null:mk(h);h=null==h?null:ak(h);h=null==h?null:Ii(h);break a;default:throw Error(["No matching clause: ",A.c(a)].join(""));}return ya(h)}));if(w(e)){a:switch(a){case 1:var f=J(Ei(Zj,
zf(ed,$d(Gj,Gj(mk(e))))));break a;case -1:f=J(Ei(Zj,zf(ed,$d(ak,ak(mk(e))))));break a;default:throw Error(["No matching clause: ",A.c(a)].join(""));}return w(f)?new v(null,2,[Cj,c,vh,function(){switch(a){case 1:var h=e.lastChild;return new U(null,2,5,W,[new v(null,2,[og,f.end,Oh,h.name],null),Fc.j(zk(h),Oh," ")],null);case -1:h=lk(e);var k=mk(e).start;return new U(null,2,5,W,[new v(null,3,[og,k,lh,k+h.length,Oh," "],null),new v(null,2,[og,f.start,Oh,h],null)],null);default:throw Error(["No matching clause: ",
A.c(a)].join(""));}}()],null):null}}return null})}}
function hj(a){return function(b){return qi(b,function(c){c=null!=c&&(c.l&64||u===c.I)?T(X,c):c;var d=null!=c&&"from"in c?c.from:void 0;c=null!=c&&"empty"in c?c.empty:void 0;if(w(c)){var e=Ni($i(b,d),Wd);if(w(e))switch(a){case 1:c=function(){var l=e.lastChild;l=null==l?null:zf(ed,$d(ak,ak(l)));l=null==l?null:Ei(Zj,l);l=null==l?null:Aj(1,l);return null==l?null:J(l)}();if(w(c)){var f=c;return new v(null,2,[Vj,function(){var l=f.end;return l<d?l:d}(),vh,new U(null,2,5,W,[new v(null,2,[og,f.end,Oh,e.lastChild.name],
null),Fc.j(zk(e.lastChild),Oh," ")],null)],null)}return null;case -1:c=function(){var l=e.firstChild;l=null==l?null:zf(ed,$d(Gj,Gj(l)));l=null==l?null:Ei(Zj,l);l=null==l?null:Aj(1,l);return null==l?null:J(l)}();if(w(c)){var h=c,k=lk(e);c=mk(e).start;return new v(null,2,[Vj,function(){var l=h.start+k.length;return d>l?d:l}(),vh,new U(null,2,5,W,[new v(null,2,[og,h.start,Oh,k],null),new v(null,3,[og,c,lh,c+k.length,Oh,b.indentString(k.length)],null)],null)],null)}return null;default:throw Error(["No matching clause: ",
A.c(a)].join(""));}else return null}else return null})}}
var ij=qf([Ph,Bg,Lg,Qg,Pg,Nh,th,yg,Ch,Sg,qg,bg,Ih,Fi,Lh,zh,jg,yh,ch,xh,Yf,Zf,fh,Xg,nh,sg,Ng,Gh,Th,dg,Wf,Mg,ah,Hh,uh,bh,Ug,Vg,Rg,Og,ng,Vh,$g,Bh,kg,Jg,Fg,pg,lg,rg,xg,kh,dh,Uh,Wg,Rh,Cg,Dh,Qh,$f,gg,Yg,ug,oh,Zg,tg,Eh,eh,yf,Jh,sh,hg,ig,wg],[Z.cursorLineStart,Z.cursorLineDown,Z.cursorSyntaxRight,Z.selectAll,Z.selectLineUp,Hi(new Yb(function(){return Xj},Ij,qf([Xf,Gg,Fh,Ig,hh,eg,vg,fg,cg,Hg],[Lj,bk,"codemirror_next/clojure/extensions/formatting.cljs",13,1,150,150,kd(new U(null,1,5,W,[qh],null)),null,w(Xj)?
Xj.Yb:null]))),Z.cursorLineBoundaryForward,Hi(ej(-1)),Z.selectLineBoundaryBackward,Z.simplifySelection,Z.deleteCharBackward,gi.redo,Z.cursorMatchingBracket,Hi(new Yb(function(){return ok},Dj,qf([Xf,Gg,Fh,Ig,hh,eg,vg,fg,cg,Hg],[Mh,Hj,"codemirror_next/clojure/commands.cljs",21,1,122,122,kd(new U(null,1,5,W,[Jc(qh,new v(null,1,[Ag,Sh],null))],null)),null,w(ok)?ok.Yb:null]))),Z.cursorSyntaxLeft,Z.insertNewlineAndIndent,Z.indentMore,Hi(new Yb(function(){return cj},Tg,qf([Xf,Gg,Fh,Ig,hh,eg,vg,fg,cg,Hg],
[Mh,wh,"codemirror_next/clojure/commands.cljs",11,1,31,31,kd(new U(null,1,5,W,[Jc(qh,new v(null,1,[Ag,Sh],null))],null)),null,w(cj)?cj.Yb:null]))),Z.selectSyntaxRight,Z.cursorLineBoundaryBackward,Hi(gj(1)),Z.selectLine,Z.selectCharRight,Hi(fj(1)),Z.selectPageUp,Z.cursorGroupLeft,Z.deleteCharForward,Z.cursorCharLeft,Z.indentLess,Z.moveLineUp,Z.cursorGroupBackward,Z.selectDocStart,Z.selectGroupBackward,Z.copyLineUp,Z.deleteLine,Hi(fj(-1)),Z.selectParentSyntax,Z.indentSelection,Z.cursorDocEnd,Z.deleteGroupBackward,
Hi(hj(1)),Z.selectLineStart,gi.undo,Z.deleteGroupForward,Hi(hj(-1)),Hi(ej(1)),Z.selectDocEnd,Z.selectPageDown,Z.cursorPageDown,Z.cursorPageUp,Z.cursorGroupRight,Z.selectLineBoundaryForward,Z.moveLineDown,Z.cursorLineEnd,Z.cursorGroupForward,gi.undoSelection,Z.selectSyntaxLeft,Z.cursorCharRight,Hi(gj(-1)),Z.selectGroupForward,Z.selectLineEnd,Hi(new Yb(function(){return bj},Eg,qf([Xf,Gg,Fh,Ig,hh,eg,vg,fg,cg,Hg],[Mh,Wh,"codemirror_next/clojure/commands.cljs",13,1,19,19,kd(new U(null,1,5,W,[qh],null)),
null,w(bj)?bj.Yb:null]))),Z.selectCharLeft,Z.splitLine,Z.selectLineDown,Z.selectGroupLeft,Z.transposeChars,Z.cursorLineUp,Hi(new Yb(function(){return pk},ui,qf([Xf,Gg,Fh,Ig,hh,eg,vg,fg,cg,Hg],[Mh,ti,"codemirror_next/clojure/commands.cljs",23,1,133,133,kd(new U(null,1,5,W,[Jc(qh,new v(null,1,[Ag,Sh],null))],null)),null,w(pk)?pk.Yb:null]))),Z.selectGroupRight,gi.redoSelection,Z.cursorDocStart,Z.deleteToLineEnd,Z.copyLineDown]);dd(function(a,b,c){return Fc.j(a,c,b)},Md,ij);function jj(a){var b=null!=a&&(a.l&64||u===a.I)?T(X,a):a;return qi(b,function(c){var d=null!=c&&(c.l&64||u===c.I)?T(X,c):c;c=null!=d&&"empty"in d?d.empty:void 0;var e=null!=d&&"head"in d?d.head:void 0;d=null!=d&&"anchor"in d?d.anchor:void 0;e=oi(e,d);e=null!=e&&(e.l&64||u===e.I)?T(X,e):e;var f=null!=e&&"from"in e?e.from:void 0;if(ya(c))return new v(null,2,[Vj,f,vh,e],null);var h=b.tree.resolve(f,-1),k=h.name,l=h.parent;c=w(w(l)?!Li(l):l)?null:w(function(){var m=Ji(h);return w(m)?f===l.end:m}())?new v(null,
1,[Vj,f-1],null):w(function(){var m=Mj.c?Mj.c(k):Mj.call(null,k);return w(m)?h.start===l.start:m}())?Pi(h.parent)?new v(null,2,[Vj,l.start,vh,new U(null,1,5,W,[oi(l.start,l.end)],null)],null):new v(null,1,[Vj,f],null):w(function(){var m=$i(b,f-1,-1);return null==m?null:ni(m,Vd(function(n){return F.g(f-1,n.end)},Zj))}())?new v(null,1,[Vj,f-1],null):null;return w(c)?c:new v(null,2,[Vj,mi(b,f-1),vh,oi(mi(b,f-1),f)],null)})}
function lj(a,b){var c=Mj.c?Mj.c(b):Mj.call(null,b);return qi(a,function(d){var e=null!=d&&(d.l&64||u===d.I)?T(X,d):d;var f=null!=e&&"from"in e?e.from:void 0;d=null!=e&&"head"in e?e.head:void 0;var h=null!=e&&"empty"in e?e.empty:void 0;ya(h)?(h=null!=e&&"to"in e?e.to:void 0,e=null!=e&&"anchor"in e?e.anchor:void 0,f=new v(null,2,[vh,new U(null,2,5,W,[new v(null,2,[Oh,b,og,f],null),new v(null,2,[Oh,c,og,h],null)],null),hk,new U(null,2,5,W,[e+b.length,d+b.length],null)],null)):f=w(F.g(b,'"')?Ni($i(a,
f),Ki):!1)?new v(null,2,[vh,new v(null,2,[Oh,'\\"',og,d],null),Vj,d+2],null):null;return w(f)?f:new v(null,2,[vh,new v(null,2,[Oh,[b,c].join(""),og,d],null),Vj,d+b.length],null)})}
function mj(a){a=null!=a&&(a.l&64||u===a.I)?T(X,a):a;var b=null!=a&&"selection"in a?a.selection:void 0;var c=null!=b&&(b.l&64||u===b.I)?T(X,b):b;b=null!=c&&"primaryIndex"in c?c.primaryIndex:void 0;var d=null!=a&&"doc"in a?a.doc:void 0;c=null!=c&&"ranges"in c?c.ranges:void 0;c=Zc(function(e,f){f=null!=f&&(f.l&64||u===f.I)?T(X,f):f;var h=null!=f&&"empty"in f?f.empty:void 0;f=null!=f&&"head"in f?f.head:void 0;w(h)&&(h=d.sliceString(f,f+2),h=h.slice(0,bi.codePointSize(bi.codePointAt(h,0))),h=jk.c?jk.c(h):
jk.call(null,h));return w(h)?(e.push(ci.EditorSelection.cursor(f+1)),e):new jc(null)},[],c);return null==c?null:a.update({selection:ci.EditorSelection.create(c,b),scrollIntoView:!0})}
var nj=ei.EditorView.domEventHandlers({keydown:function(a,b){a=null!=a&&(a.l&64||u===a.I)?T(X,a):a;var c=null!=a&&"metaKey"in a?a.metaKey:void 0;var d=null!=a&&"ctrlKey"in a?a.ctrlKey:void 0;var e=null!=a&&"keyCode"in a?a.keyCode:void 0;b=null!=b&&(b.l&64||u===b.I)?T(X,b):b;var f=null!=b&&"state"in b?b.state:void 0;if(w(w(c)?c:d))return!1;if(8===e)return pi(b,jj(f));a=di.keyName(a);return pi(b,w(Mj.c?Mj.c(a):Mj.call(null,a))?lj(f,a):w(jk.c?jk.c(a):jk.call(null,a))?mj(f):null)}});function oj(a){return dd(function(b,c,d){var e=Wb.g(b,c);return null==e?Hc.g(b,c):Fc.j(b,c,d.c?d.c(e):d.call(null,e))},a,new v(null,2,[rh,ij,Kg,ij],null))}
var pj=qf([Ph,Bg,Qg,th,qg,bg,zh,xh,Ng,Gh,Wf,Rg,Og,$g,Bh,lg,rg,Uh,Wg,Rh,Dh,oh,Eh,eh,sh,hg],[new U(null,2,5,W,[new v(null,1,[mg,"Cmd-ArrowLeft"],null),new v(null,2,[mg,"Ctrl-a",Kg,Vh],null)],null),new U(null,2,5,W,[new v(null,2,[ih,"ArrowDown",Kg,Zg],null),new v(null,2,[mg,"Ctrl-n",Kg,Zg],null)],null),new U(null,1,5,W,[new v(null,1,[ih,"Mod-a"],null)],null),new U(null,1,5,W,[new v(null,2,[ih,"End",Kg,kh],null)],null),new U(null,2,5,W,[new v(null,1,[ih,"Backspace"],null),new v(null,1,[mg,"Ctrl-h"],null)],
null),new U(null,1,5,W,[new v(null,3,[ih,"Mod-y",mg,"Mod-Shift-z",Ah,!0],null)],null),new U(null,1,5,W,[new v(null,1,[ih,"Enter"],null)],null),new U(null,1,5,W,[new v(null,2,[ih,"Home",Kg,Ch],null)],null),new U(null,2,5,W,[new v(null,1,[ih,"Delete"],null),new v(null,1,[mg,"Ctrl-d"],null)],null),new U(null,2,5,W,[new v(null,2,[ih,"ArrowLeft",Kg,ug],null),new v(null,2,[mg,"Ctrl-b",Kg,ug],null)],null),new U(null,1,5,W,[new v(null,2,[mg,"Alt-b",Kg,ah],null)],null),new U(null,3,5,W,[new v(null,2,[mg,"Cmd-ArrowDown",
Kg,Fg],null),new v(null,2,[ih,"Mod-End",Kg,Fg],null),new v(null,1,[mg,"Alt-\x3e"],null)],null),new U(null,2,5,W,[new v(null,2,[ih,"Mod-Backspace",mg,"Ctrl-Alt-Backspace"],null),new v(null,1,[mg,"Ctrl-Alt-h"],null)],null),new U(null,1,5,W,[new v(null,2,[ih,"Mod-z",Ah,!0],null)],null),new U(null,3,5,W,[new v(null,2,[ih,"Mod-Delete",mg,"Alt-Backspace"],null),new v(null,1,[mg,"Alt-Delete"],null),new v(null,1,[mg,"Alt-d"],null)],null),new U(null,3,5,W,[new v(null,2,[mg,"Ctrl-ArrowDown",Kg,pg],null),new v(null,
2,[ih,"PageDown",Kg,pg],null),new v(null,1,[mg,"Ctrl-v"],null)],null),new U(null,3,5,W,[new v(null,2,[mg,"Ctrl-ArrowUp",Kg,nh],null),new v(null,2,[ih,"PageUp",Kg,nh],null),new v(null,1,[mg,"Alt-v"],null)],null),new U(null,2,5,W,[new v(null,1,[mg,"Cmd-ArrowRight"],null),new v(null,2,[mg,"Ctrl-e",Kg,gg],null)],null),new U(null,1,5,W,[new v(null,2,[mg,"Alt-f",Kg,$f],null)],null),new U(null,1,5,W,[new v(null,2,[ih,"Mod-u",Ah,!0],null)],null),new U(null,2,5,W,[new v(null,2,[ih,"ArrowRight",Kg,fh],null),
new v(null,2,[mg,"Ctrl-f",Kg,fh],null)],null),new U(null,1,5,W,[new v(null,1,[mg,"Ctrl-o"],null)],null),new U(null,1,5,W,[new v(null,1,[mg,"Ctrl-t"],null)],null),new U(null,2,5,W,[new v(null,2,[ih,"ArrowUp",Kg,Pg],null),new v(null,2,[mg,"Ctrl-p",Kg,Pg],null)],null),new U(null,1,5,W,[new v(null,3,[ih,"Alt-u",mg,"Mod-Shift-u",Ah,!0],null)],null),new U(null,3,5,W,[new v(null,2,[mg,"Cmd-ArrowUp",Kg,Mg],null),new v(null,2,[ih,"Mod-Home",Kg,Mg],null),new v(null,1,[mg,"Alt-\x3c"],null)],null)]),qj=qf([Nh,
yg,Fi,yh,Yf,ng,kg,Jg,Qh,Yg,yf],[new U(null,1,5,W,[new v(null,2,[ih,"Alt-Tab",cg,"Indent document (or selection)"],null)],null),new U(null,1,5,W,[new v(null,4,[ih,"Alt-ArrowLeft",Kg,bh,cg,"Move cursor one unit to the left (shift: selects this region)",Ah,!0],null)],null),new U(null,2,5,W,[new v(null,2,[cg,"Grow selections",ih,"Alt-ArrowUp"],null),new v(null,1,[ih,"Mod-1"],null)],null),new U(null,1,5,W,[new v(null,3,[ih,"Ctrl-k",cg,"Remove all forms from cursor to end of line",Ah,!0],null)],null),new U(null,
2,5,W,[new v(null,3,[ih,"Ctrl-ArrowRight",cg,"Expand collection to include form to the right",Ah,!0],null),new v(null,2,[ih,"Mod-Shift-k",Ah,!0],null)],null),new U(null,2,5,W,[new v(null,3,[ih,"Ctrl-ArrowLeft",cg,"Shrink collection forwards by one form",Ah,!0],null),new v(null,2,[ih,"Mod-Shift-j",Ah,!0],null)],null),new U(null,1,5,W,[new v(null,2,[cg,"Shrink collection backwards by one form",ih,"Ctrl-Alt-ArrowRight"],null)],null),new U(null,1,5,W,[new v(null,4,[ih,"Alt-ArrowRight",Kg,Xg,cg,"Move cursor one unit to the right (shift: selects this region)",
Ah,!0],null)],null),new U(null,1,5,W,[new v(null,3,[cg,"Grow collection backwards by one form",ih,"Ctrl-Alt-ArrowLeft",Ah,!0],null)],null),new U(null,1,5,W,[new v(null,3,[ih,"Alt-s",cg,"Lift contents of collection into parent",Ah,!0],null)],null),new U(null,2,5,W,[new v(null,2,[cg,"Shrink selections",ih,"Alt-ArrowDown"],null),new v(null,1,[ih,"Mod-2"],null)],null)]),rj=function(a,b){if(w(Od(ed,b))){var c=function(d,e){var f=Xa(e),h=Ya(e);return Uc(d,f)?Fc.j(d,f,function(){var k=Wb.g(d,f);return a.g?
a.g(k,h):a.call(null,k,h)}()):Fc.j(d,f,h)};return cd(function(d,e){return Zc(c,w(d)?d:Md,G(e))},b)}return null}(Bc,wc([Hc.v(pj,xg,wc([sg])),qj]));var sj=ji.buildParser('@top[name\x3dProgram] { expression* }\n\n@skip { whitespace | LineComment | Discard }\nexpression { Boolean | Nil | Deref | Quote | SyntaxQuote | Unquote | UnquoteSplice | Symbol | Number | Meta | Keyword | List | Vector | Map | String | Character | Set | NamespacedMap | RegExp | Var | ReaderConditional | DataLiteral | SymbolicValue | AnonymousFunction | FnArg | Meta }\nDiscard { "#_" expression }\n@precedence { docString @left, operator @left, meta @right }\n\nlistContents {\n   defList  { Metadata? DefLike Metadata? VarName (DocString expression+ | expression+)? } |\n   anyList { (Metadata? Operator)? expression* }\n }\n\nDocString { !docString String }\nList { "(" listContents ")" }\nVector { "[" expression* "]" }\nMap { "{" expression* "}" }\nVarName { Symbol }\n\n@skip {} {\n  Set { "#" Map }\n  AnonymousFunction { "#" List }\n  NamespacedMap { "#" KeywordPrefix Map }\n  RegExp { "#" String }\n  Var { "#\'" Symbol }\n  ReaderConditional { "#?" (List | Deref) }\n  DataLiteral { "#" ident }\n  SymbolicValue { "##" simpleIdent }\n  Metadata { ("^" | "#^") expression }\n  String { \'"\' StringContent? \'"\' }\n}\n\nMeta { Metadata !meta expression }\n\nDeref { "@" expression }\nQuote { "\'" expression }\nSyntaxQuote { "`" expression }\nUnquote { "~" expression }\nUnquoteSplice { "~@" expression }\nSymbol { ident }\nOperator { !operator ident }\n\n@tokens {\n\n\n  "["\n  "{"\n  "("\n\n  "#"\n  "##"\n  "#\'"\n  "#?"\n  "#^"\n  "#_"\n\n  \'"\'\n  "\'"\n  "`"\n  "~"\n  "~@"\n  "^"\n  "@"\n\n\n  "]"\n  "}"\n  ")"\n\n  whitespace { (std.whitespace | ",")+ }\n\n  LineComment { ";" ![\\n]* }\n\n  identStart { std.asciiLetter | $[\x3c\x3e._\x3d?!*+\\-$\\u{a1}-\\u{10ff}] }\n  identChar { identStart (std.digit | ":" | "." | "\'" | "#")* }\n  simpleIdent { identStart identChar* }\n  qualifiedIdent { simpleIdent "/" identChar+ }\n  ident { simpleIdent | qualifiedIdent }\n\n  keyword { ":" ":"? ident }\n  Keyword { keyword }\n  KeywordPrefix { keyword }\n\n  Number {\n    ("+" | "-")? (std.digit+ ("." std.digit* "M"?)? | "." std.digit+) (("e" | "E") ("+" | "-")? std.digit+ "M"?)? |\n    ("+" | "-")? std.digit+ ("M" | "N") |\n    ("+" | "-")? std.digit+ "/" std.digit+ |\n    ("+" | "-")? "0x" (std.digit | $[a-fA-F])+ |\n    "0b" $[01]+ |\n    "0o" $[0-7]+\n  }\n  @precedence { Number, ident }\n\n  StringContent {\n    (!["] | "\\\\" _)+\n  }\n\n  Character { "\\\\" (std.asciiLetter | std.digit | "@")+ }\n\n  FnArg[name\x3dSymbol] { "%" (std.digit* | "\x26"?) }\n\n}\n\n@external specialize {ident} specializeIdent from "./tokens" { DefLike, Nil, Boolean }\n\n@detectDelim\n',
{externalSpecializer:function(a,b){return function(c){switch(c){case "nil":return b.Nil;case "true":case "false":return b.Boolean;default:return F.g("def",c.slice(0,3))?b.DefLike:-1}}}}),tj=ii.LezerSyntax.define(sj.withProps(Nj,ii.foldNodeProp.add(function(){function a(b){return{from:b.start+1,to:b.end-1}}return{Vector:a,Map:a,Set:a,List:a}}()),fi.styleTags({LineComment:"lineComment",Comment:"lineComment","VarName/Symbol":"variableName definition",Boolean:"atom",Keyword:"atom",Number:"number",DocString:"+emphasis",
RegExp:"regexp",Discard:"+comment",Symbol:"labelName",String:"string",DefLike:"keyword",Nil:"null"})),{closeBrackets:{brackets:["(","[","{","'",'"'],commentTokens:{line:";;"}}}),Xi=[gi.history(),tj,hi.bracketMatching(),fi.defaultHighlighter,ei.multipleSelections(),nj,ei.keymap(function(a){return Uf(dd(function(b,c,d){return be.g(b,Xd.g(function(e){return oj(Fc.j(e,rh,c))},d))},Cc,a))}(rj)),Dk,Bi];var aj=new Rd(Cc);function kj(){var a=Wi();Td.j(aj,Bc,new ei.EditorView({state:a,parent:document.querySelector("#editor")}))}function uj(a,b){var c=Nc(J(b))?new U(null,2,5,W,[J(b),bc(b)],null):new U(null,2,5,W,[null,b],null);b=S(c,0,null);c=S(c,1,null);return["\x3c",pd(a),A.c(dd(function(d,e,f){return[A.c(d)," ",pd(e),"\x3d'",A.c(f),"'"].join("")},"",b)),"\x3e",A.c(T(A,c)),"\x3c/",pd(a),"\x3e"].join("")}
function vj(){for(var a=G(ab(aj)),b=null,c=0,d=0;;)if(d<c){var e=b.W(null,d);e.destroy.call(e);d+=1}else if(a=G(a))b=a,Qc(b)?(a=Cb(b),d=Db(b),b=a,c=P(a),a=d):(a=J(b),a.destroy.call(a),a=M(b),b=null,c=0),d=0;else break;kj();a=document.getElementById("docs");(null!=a?a:{}).innerHTML=uj(zi,wc([uj(ag,wc([new v(null,1,[Fj,5],null),Zc(function(f,h){var k=S(h,0,null);h=S(h,1,null);h=S(h,0,null);var l=null!=h&&(h.l&64||u===h.I)?T(X,h):h;h=Wb.g(l,ih);var m=Wb.g(l,Kg);l=Wb.g(l,cg);return[A.c(f),uj(jh,wc([uj(ph,
wc([uj(mh,wc([pd(k)]))])),uj(ph,wc([h])),uj(ph,wc([w(m)?uj(gh,wc(["+Shift ",uj(mh,wc([m]))])):null])),uj(ph,wc([l]))]))].join("")},"",Di()),"\x3c/table\x3e"])),uj(Ai,wc([J(M(Ej()))]))]));Ac(ab(aj)).focus()};try{vj()}catch(a){throw console.error("An error occurred when calling (codemirror-next.clojure.demo/render)"),a;};
}).call(this);